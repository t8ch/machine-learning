webpackJsonp([1],[,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(180);t.ActivityCalendar=a.ActivityCalendar;var i=n(216);t.AddDataSourceModal=i.AddDataSourceModal;var r=n(218);t.AntiForgeryInput=r.AntiForgeryInput;var o=n(383);t.AutoFormContainer=o.AutoFormContainer;var s=n(219);t.withAntiForgeryHeader=s.withAntiForgeryHeader;var l=n(385);t.ApolloComponent=l.ApolloComponent;var c=n(46);t.Avatar=c.Avatar;var u=n(108);t.Badge=u.Badge;var p=n(122);t.Banner=p.Banner;var d=n(59);t.Breakpoints=d.Breakpoints,t.MediaQuery=d.MediaQuery;var m=n(35);t.BlockLink=m.BlockLink;var h=n(37);t.Button=h.Button;var g=n(24);t.ButtonAutoWidth=g.ButtonAutoWidth;var f=n(81);t.ButtonRoundEdged=f.ButtonRoundEdged;var v=n(82);t.Checkbox=v.Checkbox;var _=n(155);t.CityLookup=_.CityLookup;var b=n(156);t.CodeMirrorEditor=b.CodeMirrorEditor;var E=n(9);t.CollapsibleContentBox=E.CollapsibleContentBox;var y=n(225);t.CommentListContainer=y.CommentListContainer;var w=n(186);t.CompetitionCard=w.CompetitionCard;var C=n(83);t.Confirm=C.Confirm,t.ConfirmCallback=C.ConfirmCallback;var S=n(9);t.ContentBox=S.ContentBox;var N=n(8);t.Current=N.Current;var T=n(397);t.addDataSource=T.addDataSource,t.removeDataSource=T.removeDataSource,t.getDataSources=T.getDataSources;var k=n(187);t.DevOnly=k.DevOnly;var x=n(90);t.EditStateToggleButton=x.EditStateToggleButton;var M=n(91);t.FileUploader=M.FileUploader,t.SimpleFileUploader=M.SimpleFileUploader;var I=n(399);t.FileList=I.FileList;var D=n(92);t.FilePreviewList=D.FilePreviewList;var P=n(110);t.FlexTable=P.FlexTable,t.FlexRow=P.FlexRow;var O=n(403);t.Forum=O.Forum;var U=n(127);t.ForumMessageContent=U.ForumMessageContent;var A=n(158);t.historyProvider=A.historyProvider,t.historyContext=A.historyContext;var L=n(93);t.InlineTextEditor=L.InlineTextEditor;var R=n(409);t.isValidEmail=R.isValidEmail;var F=n(410);t.isValidUrl=F.isValidUrl;var B=n(411);t.JobListContainer=B.JobListContainer;var j=n(291);t.LoadingText=j.LoadingText;var H=n(60);t.MarkdownConverter=H.MarkdownConverter;var K=n(94);t.MarkdownEditor=K.MarkdownEditor;var V=n(69);t.Modal=V.Modal,t.ModalCallback=V.ModalCallback;var z=n(73);t.numberWithCommas=z.numberWithCommas;var W=n(152);t.OffCanvasContainer=W.OffCanvasContainer;var q=n(414);t.Ordinal=q.Ordinal;var G=n(415);t.OrganizationCard=G.OrganizationCard;var J=n(123);t.OverflowX=J.OverflowX;var Y=n(51);t.PageHeader=Y.PageHeader,t.PageHeaderCallToAction=Y.PageHeaderCallToAction,t.PageHeaderNav=Y.PageHeaderNav,t.PageHeaderBottomRow=Y.PageHeaderBottomRow,t.PageHeaderTopRow=Y.PageHeaderTopRow;var Q=n(21);t.PageMessages=Q.PageMessages;var X=n(189);t.Palette=X.Palette;var $=n(417);t.parseQueryString=$.parseQueryString;var Z=n(41);t.Pluralize=Z.Pluralize;var ee=n(128);t.TaskProgress=ee.TaskProgress,t.ProgressBar=ee.ProgressBar;var te=n(44);t.SelectBox=te.SelectBox;var ne=n(132);t.SmartListContainer=ne.SmartListContainer;var ae=n(133);t.Steps=ae.Steps;var ie=n(20);t.TimeAgo=ie.TimeAgo;var re=n(438);t.Timer=re.Timer;var oe=n(40);t.ToolTip=oe.ToolTip;var se=n(134);t.ToolTipMultiLine=se.ToolTipMultiLine;var le=n(107);t.VoteButton=le.VoteButton;var ce=n(163);t.slugify=ce.slugify,t.deslugify=ce.deslugify;var ue=n(193);t.uuid=ue.uuid;var pe=n(112);t.Spinner=pe.Spinner},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t,n,a){this.title=e,this.description=t,this.examples=n,this.staticMarkup=a}return e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Current=(window.Kaggle||{}).Current},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(0),r=n(6),o=function(e){function t(t){var n=e.call(this,t)||this;return n.changeTab=function(e,t,a){e.preventDefault(),n.setState({activeTabIndex:t},function(){a()})},n.state={activeTabIndex:t.activeTabIndex||0},n}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.children,r=t.panes,o=t.tabs,s=t.tabsRightSide,c=a.__rest(t,["children","panes","tabs","tabsRightSide"]),u=this.state.activeTabIndex,p=r&&r[u];return i.createElement("div",{className:"content-box__tabbed"},i.createElement("div",{className:"content-box__tabs"},o.map(function(t,n){return i.createElement("div",{className:"content-box__tab"+(n===u?"--active":""),key:"content-box-tab-"+n,onClick:function(a){return e.changeTab(a,n,t.action)}},t.label)}),i.createElement("div",{className:"content-box__tabs-right"},s)),i.createElement(l,a.__assign({},c,{children:p||n,containerClassName:"content-box__tabbed-content"})))},t}(i.Component);t.TabbedContentBox=o;var s=function(e){function t(t){var n=e.call(this,t)||this;return n.toggleCollapsed=function(){n.setState({isCollapsed:!n.state.isCollapsed})},n.state={isCollapsed:n.props.initiallyCollapsed},n.collapsedClass="fa fa-"+(n.props.collapsedIconFontAwesomeClass||"plus-square-o"),n.expandedClass="fa fa-"+(n.props.expandedIconFontAwesomeClassedIcon||"minus-square-o"),n.props.titleHref&&console.warn("titleHref not supported in CollapsibleContentBox"),n.props.title||console.warn("Untitled CollapsibleContentBox not supported"),n}return a.__extends(t,e),t.prototype.render=function(){var e="content-box__expand-toggle "+(this.state.isCollapsed?this.collapsedClass:this.expandedClass);return i.createElement("div",{className:r("content-box",this.props.containerClassName)},this.props.showLoader?i.createElement("div",{className:"content-box__loader-overlay"},i.createElement("div",{className:"content-box__loader-icon fa fa-refresh fa-spin fa-3x fa-fw margin-bottom"}),i.createElement("div",{className:"content-box__loader-message"},this.props.loaderMessage||"Please wait...")):"",i.createElement("div",{className:"content-box__title-bar--collapsible",onClick:this.toggleCollapsed},i.createElement("div",{className:e}),i.createElement("div",{className:"content-box__title"},this.props.title),this.props.titleBarRightSide?i.createElement("div",{className:"content-box__right-side"},this.props.titleBarRightSide):null),this.state.isCollapsed?null:i.createElement("div",{className:r("content-box__content-section",this.props.contentClassName)},this.props.subTitleBar?i.createElement("div",{className:"content-box__subtitle-bar"},this.props.subTitleBar):null,this.props.children))},t}(i.Component);t.CollapsibleContentBox=s;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=i.createElement("div",{className:"content-box__title-bar"},i.createElement("div",{className:"content-box__title"},this.props.title),this.props.titleBarRightSide?i.createElement("div",{className:"content-box__right-side"},this.props.titleBarRightSide):null);return this.props.title?i.createElement("div",{className:r("content-box",{"content-box--grow":this.props.growVertically},this.props.containerClassName)},this.props.showLoader?i.createElement("div",{className:"content-box__loader-overlay"},i.createElement("div",{className:"content-box__loader-icon fa fa-refresh fa-spin fa-3x fa-fw margin-bottom"}),i.createElement("div",{className:"content-box__loader-message"},this.props.loaderMessage||"Please wait...")):"",this.props.titleHref?i.createElement("a",{className:"content-box__title-bar--link",href:this.props.titleHref},e):this.props.onTitleClick?i.createElement("div",{className:"content-box__title-bar--link",onClick:this.props.onTitleClick},e):i.createElement("div",null,e),i.createElement("div",{className:r("content-box__content-section",this.props.contentClassName)},this.props.subTitleBar?i.createElement("div",{className:"content-box__subtitle-bar"},this.props.subTitleBar):null,this.props.children)):i.createElement("div",{className:r("content-box","content-box--no-title",this.props.containerClassName)},i.createElement("div",{className:r("content-box__content-section content-box__content-section--no-title",this.props.borderless?"content-box__content-section--no-border":null,this.props.contentClassName)},i.createElement("div",{className:"content-box__simple-content-box"},i.createElement("div",{className:"content-box__simple-content"},this.props.children))))},t}(i.Component);t.ContentBox=l},,,,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(27),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props.time?(new Date).getTime()-new Date(this.props.time.toString()).getTime():0,n=null;switch(this.props.maxGranularity){case"hour":n=t<36e5?"in the past hour":null;break;case"day":n=t<864e5?"in the past day":null;break;default:var a=this.props.condense?"now":"just now";n=Math.abs(t)<=1e4?a:null}var r=new Date<new Date(this.props.time);return this.props.futureDateMessage&&r&&(n=this.props.futureDateMessage),this.props.condense?i.updateLocale("en",{relativeTime:{future:"in %s",past:"%s",s:"~10s",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1mo",MM:"%dmo",y:"1y",yy:"%dy"}}):i.updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}}),e.createElement("span",{className:this.props.className,title:n||new Date(this.props.time.toString()).toString()},n||i(this.props.time).fromNow(!0)+" "+(r?this.props.hideToGo?"":this.props.toGoOverride||"to go":this.props.hideAgo?"":this.props.agoOverride||"ago"))},n}(e.Component);t.TimeAgo=r}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(){function e(){}return e.error=function(e,t){this.pushAndNotifyListeners("error",e,t)},e.info=function(e,t){this.pushAndNotifyListeners("info",e,t)},e.warning=function(e,t){this.pushAndNotifyListeners("warning",e,t)},e.success=function(e,t){this.pushAndNotifyListeners("success",e,t)},e.site=function(e,t){this.pushAndNotifyListeners("site",e,t)},e.clear=function(){this.messages=this.messages.filter(function(e){return e.isPersistent}),this.notifyListeners()},e.set=function(e){this.clear(),this.add(e),this.notifyListeners()},e.add=function(e){e&&(this.messages=this.messages.concat(e),this.notifyListeners())},e.remove=function(e){this.messages=this.messages.filter(function(t){return t.id!==e}),this.notifyListeners()},e.addListener=function(e){this.listeners.push(e),this.notifyListeners()},e.removeListener=function(e){this.listeners.splice(this.listeners.indexOf(e),1)},e.pushAndNotifyListeners=function(e,t,n){n&&n.clear&&this.clear(),t&&(this.messages.push("string"==typeof t?{type:e,message:t,faIcon:n&&n.faIcon}:a.__assign({},t,{type:e})),this.notifyListeners())},e.notifyListeners=function(){for(var e=0,t=this.listeners;e<t.length;e++){(0,t[e])(this.messages)}},e.messages=(window.Kaggle||{}).PageMessages||[],e.listeners=[],e}();t.PageMessages=i},,function(e,t,n){"use strict";(function(e){function a(e){return function(t,n,a,i){function r(e){a&&a(e)}function o(){return e(n()).then(r)}function s(){u||o().then(l)}function l(){c=window.setTimeout(s,t)}void 0===i&&(i=!0);var c,u=!1;return i?s():l(),function(){u=!0,window.clearTimeout(c)}}}function i(e){var t=this,n=null,a=function(e){return n=e,function(){n=null}},i=function(a,i){return u.__awaiter(t,void 0,void 0,function(){var t,r;return u.__generator(this,function(o){switch(o.label){case 0:t=null,o.label=1;case 1:return o.trys.push([1,3,,4]),n&&n.onNext&&n.onNext({status:h.Pending,result:t}),[4,e(a,i)];case 2:return t=o.sent(),n&&n.onNext&&n.onNext({status:h.Complete,result:t}),n&&n.onCompleted&&n.onCompleted(),[3,4];case 3:if(r=o.sent(),!n||!n.onError)throw r;return n.onError(r),[3,4];case 4:return[2,t]}})})};return Object.defineProperty(i,"subscribe",{value:a,enumerable:!0,configurable:!0})}function r(e){var t=new N(e),n=t.export(),a={with:function(e){return r(t.opts.with(e).condense())},when:function(e){return r(t.opts.when(e).condense())},transform:function(e){return r(t.opts.transform(e).condense())},clearWith:function(){return r(t.opts.clearWith().condense())},clearWhen:function(){return r(t.opts.clearWhen().condense())},clearTransform:function(){return r(t.opts.clearTransform().condense())},clear:function(){return r(t.opts.clear().condense())},useDebug:function(e){return void 0===e&&(e=!0),r(t.opts.useDebug(e).condense())},withHeaders:function(e){return r(t.opts.with(_.withHeaders(e)).condense())},withHeader:function(e,n){return r(t.opts.with(_.withHeader(e,n)).condense())}},i=Object.keys(a).reduce(function(e,t){return u.__assign({},e,(n={},n[t]={value:a[t],enumerable:!0,writable:!1,configurable:!1},n));var n},{});return Object.defineProperties(n,i)}function o(e){return r(e)}function s(e){function t(){null===r&&i.length>0?r=e.subscribe({onNext:function(e){e.status===h.Complete&&i.forEach(function(t){return t(e.result)})},onCompleted:function(){},onError:function(e){}}):null!==r&&0===i.length&&(r(),r=null)}function n(e){return i.push(e),t(),function(){i.splice(i.indexOf(e),1),t()}}function a(e){return function(t){return n(function(n){var a=e(n);a!==T.Ignore&&t(a)})}}var i=[],r=null;return Object.defineProperty(n,"slice",{value:a,enumerable:!0,writable:!1,configurable:!1})}function l(e){var t={fontSize:"1.25em",fontStyle:"italic"},n={backgroundColor:"white",fontFamily:"'Atlas Grotesk', sans-serif",border:"1px solid #DEDFE0",borderRadius:4,fontSize:"0.75rem",padding:"5px 24px",overflow:"scroll",maxHeight:"25rem",lineHeight:"1.5rem"},a=function(e){function a(){return null!==e&&e.apply(this,arguments)||this}return u.__extends(a,e),a.prototype.render=function(){var e=this.props,a=e.fetchProps,i=e.children;return p.createElement("pre",{style:n},p.createElement("h2",{style:t},"Api Preview"),p.createElement("h4",null,"route | ",JSON.stringify(a.route)),JSON.stringify(i,null,4))},a}(p.Component);return function(t){function n(n){var i=t.call(this,n)||this;return i.fetch=function(t,n){var a=i.props,r=a.poll,o=a.withHeaders;if(i.fetchMounted){var s=Object.keys(t).some(function(e){return t[e]!==i.props.route[e]}),l=s||n,c=o?e.withHeaders(o):e;if(i.props.with)for(var u=0,p=i.props.with;u<p.length;u++){var d=p[u];c=c.with(d)}if(i.props.when)for(var m=0,h=i.props.when;m<h.length;m++){var d=h[m];c=c.when(d)}if(i.props.transform)for(var g=0,f=i.props.transform;g<f.length;g++){var d=f[g];c=c.transform(d)}c(t).then(function(e){i.fetchMounted&&(i.setState({result:e},function(){i.fetchMounted&&l&&i.forceUpdate()}),r&&(i.pollId=window.setTimeout(function(){return i.fetch(t,n)},r)))})}else i.pollId&&window.clearTimeout(i.pollId)},i.createContext=function(){return{route:i.props.route,preview:function(){return p.createElement(a,{fetchProps:i.props,children:i.state.result})}}},i.fetchMounted=!1,i.state={result:null},i}return u.__extends(n,t),n.prototype.componentDidMount=function(){var e=this.props,t=(e.children,e.route);e.poll;this.fetchMounted=!0,this.fetch(t)},n.prototype.componentWillUnmount=function(){this.fetchMounted=!1,this.pollId&&window.clearTimeout(this.pollId)},n.prototype.componentWillReceiveProps=function(e){var t=this.props.route?Object.keys(this.props.route):[],n=e.route?Object.keys(e.route):[];if(t.length!==n.length)this.fetch(e.route);else for(var a=0,i=t;a<i.length;a++){var r=i[a];if(this.props.route[r]!==e[r]){this.fetch(e.route);break}}},n.prototype.render=function(){var e=this.props,t=e.children,n=e.placeholder,a=this.state.result;return a?t(a,this.createContext()):n||null},n}(p.PureComponent)}Object.defineProperty(t,"__esModule",{value:!0});var c,u=n(1),p=n(0),d=n(36);!function(e){e.None="none",e.Log="log",e.Debug="debug"}(c=t.LoggingFlag||(t.LoggingFlag={}));var m;!function(e){e.Browser="browser",e.Node="node"}(m=t.EnvironmentFlag||(t.EnvironmentFlag={}));var h;!function(e){e.Pending="pending",e.Complete="complete"}(h=t.FetchStatus||(t.FetchStatus={}));var g=function(){function e(){}return e.Redirects=[202,301,302],e}(),f=function(){function e(){}return e.parallel=function(e,t,n,a,r,o){function s(i){return u.__awaiter(this,void 0,void 0,function(){var s,l,c,p,d,m,h,g;return u.__generator(this,function(u){switch(u.label){case 0:return s=[e,t,n,a,r,o].filter(function(e){return void 0!==e}),[4,Promise.all(s.map(function(e){return e(i)}))];case 1:return l=u.sent(),c=l[0],p=l[1],d=l[2],m=l[3],h=l[4],g=l[5],[2,[c,p,d,m,h,g].filter(function(e){return void 0!==e})]}})})}return i(s)},e}();t.Async=f;var v=function(){function e(){}return e.syntheticFetch=function(e){return i(e)},e.validateLocation=function(e){var t=e.pathname,n=e.search,a=e.hash;if(t.length&&!t.startsWith("/"))throw new Error("Api.Utils.createLocation Error: pathname must begin with a '/' or be empty. Location: "+e);if(n.length&&!n.startsWith("?"))throw new Error("Api.Utils.createLocation Error: search must begin with a '?' or be empty. Location: "+e);if(a.length&&!a.startsWith("#"))throw new Error("Api.Utils.createLocation Error: hash must begin with a '#' or be empty. Location: "+e)},e.createLocation=function(t){void 0===t&&(t={});var n=t.protocol||window.location.protocol||"http:",a=t.hostname||window.location.hostname||"localhost",i=t.port||window.location.port||"80",r=t.host||a+":"+i,o=t.origin||window.location.origin||n+"//"+r,s=t.pathname||"/",l=t.search||"",c=t.hash||"",u=""+o+s+l+c,p={protocol:n,host:r,hostname:a,port:i,origin:o,pathname:s,search:l,hash:c,href:u,assign:function(){throw new Error("SyntheticLocation does not implement methods.")},reload:function(){throw new Error("SyntheticLocation does not implement methods.")},replace:function(){throw new Error("SyntheticLocation does not implement methods.")},toString:function(){return this.href}};return e.validateLocation(p),p},e.parseLocation=function(t){var n=document.createElement("a");return n.href=t,e.createLocation(n)},e.condenseInit=function(e){return[e.method,e.headers.get("Content-Type"),e.headers.get("Accept")]},e.expandInit=function(e){var t=e[0],n=e[1],a=e[2],i=new Headers;return n&&i.append("Content-Type",n),a&&i.append("Accept",a),{method:t,headers:i}},e.localhost=e.parseLocation("http://localhost"),e}();t.Utils=v;var _=function(){function e(){}return e.withHeader=function(e,t){return function(n,a,i,r){var o=new Headers(a.headers);return o.set(e,t),i(n,u.__assign({},a,{headers:o}))}},e.withHeaders=function(e){return function(t,n,a,i){for(var r=new Headers(n.headers),o=0,s=Object.entries(e);o<s.length;o++){var l=s[o],c=l[0],p=l[1];r.set(c,p)}return a(t,u.__assign({},n,{headers:r}))}},e.withJSON=e.withHeaders({"Content-Type":"application/json",Accept:"application/json"}),e.withCredentials=function(e){return function(t,n,a){return a(t,u.__assign({},n,{credentials:e}))}},e.withRedirect=function(e){return function(t,n,a){return a(t,u.__assign({},n,{redirect:e}))}},e.withOriginUrl=function(e){return function(t,n,a){if("string"!=typeof t||t.length>0&&"/"!==t.charAt(0))throw new Error("[RequestMiddlewares.withOrigin] path was not in the expected format: "+t);return a(e.protocol+"//"+e.host+t,n)}},e.withLocalhostUrl=e.withOriginUrl(v.localhost),e.browserDefaults=[e.withCredentials("same-origin"),e.withRedirect("follow")],e.nodeDefaults=[e.withLocalhostUrl,e.withCredentials("include"),e.withRedirect("follow")],e}();t.RequestMiddlewares=_;var b=function(){function e(){}return e.redirect=function(e,t,n){if(!g.Redirects.includes(e.status)||!e.headers.has("Location"))return t(e);var a=e.headers.get("Location");return n.debug&&n.debug("fetch received response status "+e.status+": redirecting to "+a),window.location.assign(a),null},e.enforceStatuses=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,n){if(!e.includes(t.status))throw new Error("[ResponseMiddlewares.enforceStatuses] response had a disallowed status | "+t.status+": "+t.statusText);return n(t)}},e.enforceOk=function(e,t,n){if(!e.ok)throw new Error("[ResponseMiddlewares.enforceOk] response was not ok | "+e.status+": "+e.statusText);return t(e)},e.defaults=[e.redirect,e.enforceOk],e}();t.ResponseMiddlewares=b;var E=function(){function e(){}return e.defaults=[],e}();t.ResultMiddlewares=E;var y=function(){function t(e){var t=e.logging,n=e.environment,a=this;this.condense=function(){return[a.logging,a.environment]},this.logging=t,this.environment=n}return t.expand=function(n){var a=c.None,i="object"!=typeof window||e.__JEST__?m.Node:m.Browser,r=n||[],o=r[0],s=void 0===o?a:o,l=r[1];return new t({logging:s,environment:void 0===l?i:l})},t}(),w=function(){function e(t){var n=this;this.withHeaders=function(e){var t=u.__assign({},n.init.headers,e),a=u.__assign({},n.init,{headers:t});return n.partialClone({init:a})},this.with=function(e){var t=n.requestMiddlewares.concat([e]);return n.partialClone({requestMiddlewares:t})},this.when=function(e){var t=[e].concat(n.responseMiddlewares);return n.partialClone({responseMiddlewares:t})},this.transform=function(e){var t=[e].concat(n.resultMiddlewares);return n.partialClone({resultMiddlewares:t})},this.clearWith=function(){return n.partialClone({requestMiddlewares:[]})},this.clearWhen=function(){return n.partialClone({responseMiddlewares:[]})},this.clearTransform=function(){return n.partialClone({resultMiddlewares:[]})},this.clear=function(){return n.partialClone({requestMiddlewares:[],responseMiddlewares:[],resultMiddlewares:[]})},this.useDebug=function(e){return void 0===e&&(e=!0),n.partialClone({flags:new y({environment:n.flags.environment,logging:e?c.Debug:c.None})})},this.condense=function(e){return void 0===e&&(e=n),[v.condenseInit(e.init),e.flags.condense(),e.routeTemplate,e.routeKeys,e.queryKeys,e.bodyKeys,e.responseType,e.requestMiddlewares,e.responseMiddlewares,e.resultMiddlewares]},this.partialClone=function(t){return void 0===t&&(t={}),t.init||(t.init=n.init),t.flags||(t.flags=n.flags),t.routeTemplate||(t.routeTemplate=n.routeTemplate),t.routeKeys||(t.routeKeys=n.routeKeys),t.queryKeys||(t.queryKeys=n.queryKeys),t.responseType||(t.responseType=n.responseType),t.requestMiddlewares||(t.requestMiddlewares=n.requestMiddlewares),t.responseMiddlewares||(t.responseMiddlewares=n.responseMiddlewares),t.resultMiddlewares||(t.resultMiddlewares=n.resultMiddlewares),new e(n.condense(t))};var a=t[0],i=t[1],r=t[2],o=t[3],s=t[4],l=t[5],p=t[6],d=t[7],h=t[8],g=t[9],f=v.expandInit(a),w=f.headers,C=u.__rest(f,["headers"]);switch(this.init=Object.freeze(u.__assign({},C,{headers:Object.freeze(w)})),this.flags=Object.freeze(y.expand(i)),this.routeTemplate=Object.freeze(r),this.routeKeys=Object.freeze(o),this.queryKeys=Object.freeze(s),this.bodyKeys=Object.freeze(l),this.responseType=Object.freeze(p),this.flags.environment===m.Node?this.requestMiddlewares=Object.freeze(d||_.nodeDefaults):this.flags.environment===m.Browser&&(this.requestMiddlewares=Object.freeze(d||_.browserDefaults)),this.responseMiddlewares=Object.freeze(h||b.defaults),this.resultMiddlewares=Object.freeze(g||E.defaults),this.flags.logging){case c.Debug:this.debug=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];console[n.flags.logging]?console[n.flags.logging].apply(console,[e].concat(t)):console.log.apply(console,[e].concat(t))};case c.Log:this.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.log.apply(console,[e].concat(t))}}}return e}();t.ApiOpts=w;var C=function(){function e(e){var t=this;this.reverse=function(e){var n=t.opts,a=n.routeTemplate,i=n.routeKeys,r=e.includes("#")?e.split("#"):[e,null],o=r[0],s=(r[1],o.includes("?")?o.split("?"):[o,null]),l=s[0],c=(s[1],t.routeStripper.exec(l)),p=(c[0],c.slice(1));if(t.opts.routeKeys.length!==p.length)throw new Error("Route does not match.\n\trouteTemplate: "+a+"\n\turl: "+e+"\n\trouteKeys: "+JSON.stringify(i)+"\n\trouteValues: "+JSON.stringify(p));return{route:i.reduce(function(t,n,r){var o=p[r];if("null"===o||"undefined"===o)throw new Error("Received url with null or undefined values.\n\trouteTemplate: "+a+"\n\turl: "+e+"\n\trouteKeys: "+JSON.stringify(i)+"\n\trouteValues: "+JSON.stringify(p)+"\n\tFailed on ["+n+"]: "+o);return u.__assign({},t,(s={},s[n]=o,s));var s},{}),query:{}}},this.opts=e;var n=this.opts.routeKeys.reduce(function(e,t,n){return e.replace("{"+n+"}","([^/$]+)")},this.opts.routeTemplate);this.routeStripper=new RegExp(n);var a=this.opts.queryKeys.map(function(e,t){return e+"=([^&$]+)"}).join("&");this.queryStripper=new RegExp(a)}return e}();t.RouteReverser=C;var S={VALID_URL:/[^{}]/},N=function(){function e(e){var t=this;this.getMembers=function(){return{routeTemplate:t.opts.routeTemplate,validateRoute:t.validateRoute,validateUrl:t.validateUrl,getLocation:t.getLocation,getUrl:t.getUrl}},this.validateRoute=function(e){var n=t.reverser.reverse(e);t.opts.debug&&t.opts.debug("reversed route\n\turl: "+e+"\n\trouteInfo:"+JSON.stringify(n))},this.validateUrl=function(e){if(!S.VALID_URL.test(e))throw new Error(t.toString()+": Route was invalid | routeTemplate: '"+t.opts.routeTemplate+"' => '"+e+"'")},this.getLocation=function(e){var n=t.getUrl(e);return v.parseLocation(n)},this.getUrl=function(e){if("string"==typeof e){var n=e;return t.opts.debug&&t.validateRoute(n),t.validateUrl(n),n}var a=Object.keys(e),i=a.filter(function(e){return t.opts.routeKeys.includes(e)}),r=a.filter(function(e){return t.opts.queryKeys.includes(e)}),o=function(t){var n=e[t];return"string"==typeof n?n:n.toString()},s=""+function(){return i.reduce(function(e,t,n){return e.replace("{"+n+"}",o(t))},t.opts.routeTemplate)}()+function(){return r.length>0?"?"+r.map(function(t){return t+"="+e[t]}).join("&"):""}();return t.validateUrl(s),s},this.applyRequestMiddleware=function(e,n,a){void 0===a&&(a=0);var i=t.opts.requestMiddlewares;return i.length==a?[e,n]:(0,i[a])(e,n,function(e,n){return t.applyRequestMiddleware(e,n,a+1)},t.opts)},this.applyResponseMiddleware=function(e,n){void 0===n&&(n=0);var a=t.opts.responseMiddlewares;return a.length==n?e:(0,a[n])(e,function(e){return void 0!==e&&null!==e?t.applyResponseMiddleware(e,n+1):(t.opts.debug&&t.opts.debug("response handling exited early"),null)},t.opts)},this.applyResultMiddleware=function(e,n){void 0===n&&(n=0);var a=t.opts.resultMiddlewares;return a.length==n?e:(0,a[n])(e,function(e){return t.applyResultMiddleware(e,n+1)},t.opts)},this.handleResponse=function(e){var n=t.applyResponseMiddleware(e);return null===n?(t.opts.debug&&t.opts.debug("response handling exited early"),Promise.resolve(null)):n[t.opts.responseType]().then(function(e){return t.applyResultMiddleware(e)})},this.createFetchArgs=function(e,n){var a=t.applyRequestMiddleware(e,t.opts.init);return[a[0],a[1]]},this.toString=function(){return"ApiOpts: "+t.opts.routeTemplate},this.fetch=function(e,n){var a=t.getUrl(e),i=t.createFetchArgs(a,e),r=i[0],o=i[1];return void 0!==n&&(o.body=t.createBody(n)),d(r,o).then(function(e){return t.handleResponse(e)})},this.pascalCase=function(e){if(null===e||void 0===e)return e;if("object"!=typeof e)return e;if(Array.isArray(e))return e;var n=Object.keys(e);return 0===n.length?e:n.reduce(function(n,a){return u.__assign({},n,(i={},i[a.charAt(0).toUpperCase()+a.substr(1)]=t.pascalCase(e[a]),i));var i},{})},this.createBody=function(e){var n=t.opts,a=n.init,i=(n.bodyKeys,a.headers.get("Content-Type"));if(null===i)return e;var r=typeof e;if("string"===r)return JSON.stringify(e);if("number"===r)return'"'+e+'"';if(i.includes("application/json"))return"object"==typeof e?JSON.stringify(e):{};if(i.includes("application/octet-stream")){if(!(e instanceof Blob))throw new Error('Expected body type of "Blob", received "'+("object"==typeof e?JSON.stringify(e):e)+'"');return e}if(i.includes("multipart/form-data")){if(!(e instanceof FormData))throw new Error('Expected body type of "FormData", received "'+("object"==typeof e?JSON.stringify(e):e)+'"');return e}throw new Error('Fetch init contains an unimplemented "Content-Type" header: "'+i+'"')},this.export=function(){var e=i(t.fetch),n=s(e),r=a(e),o=u.__assign({},t.getMembers(),{stream:n,poll:r}),l=Object.keys(o).reduce(function(e,t){return u.__assign({},e,(n={},n[t]={value:o[t],enumerable:!0,writable:!1,configurable:!1},n));var n},{});return Object.defineProperties(e,l)},this.opts=new w(e),this.opts.debug&&(this.reverser=new C(this.opts),this.opts.debug("Action: "+this.opts.routeTemplate))}return e}();t.createFetchObservable=i,t.createFetch=r,t.createRouteFetch=o;var T;if(function(e){e.Ignore="ignore"}(T=t.StreamFlag||(t.StreamFlag={})),t.createStream=s,void 0===p.PureComponent)throw new Error("React.PureComponent does not exist! Upgrade to latest react library.");t.Admin={bulkHideTeamSubmissionsJson:r([["POST",null,"application/json"],[],"/adm[]in/teams/submissions/hide.json",[],["teamIds"],null,"json",null,null,null]),bulkUnhideTeamSubmissionsJson:r([["POST",null,"application/json"],[],"/admin/teams/submissions/unhide.json",[],["teamIds"],null,"json",null,null,null]),cancelSegmentedTask:o([["GET","application/json","application/json"],[],"/admin/segmented/tasks/{0}/cancel",["id"],["source"],null,"json",null,null,null]),databaseCpuTime:o([["GET","application/json","application/json"],[],"/admin/db/cpu-time.json",[],[],null,"json",null,null,null]),databaseCpuUtilization:o([["GET","application/json","application/json"],[],"/admin/db/cpu-utilization.json",[],[],null,"json",null,null,null]),databaseQueryDetails:o([["GET","application/json","application/json"],[],"/admin/db/query-details.json",[],["batchQueryHandle"],null,"json",null,null,null]),databaseQueryWallOfShame:o([["GET","application/json","application/json"],[],"/admin/db/qwos.json",[],["startTime","endTime"],null,"json",null,null,null]),downloadDerivedSolution:o([["GET","application/json","application/json"],[],"/admin/c/{0}/solution/derived.csv",["competitionId"],[],null,"json",null,null,null]),downloadRawSolution:o([["GET","application/json","application/json"],[],"/admin/c/{0}/solution/raw.zip",["competitionId"],[],null,"json",null,null,null]),genieJson:o([["GET","application/json","application/json"],[],"/admin/genie.json",[],["email","showDangerZone"],null,"json",null,null,null]),getBackgroundTask:o([["GET","application/json","application/json"],[],"/admin/background/tasks/{0}",["id"],["source"],null,"json",null,null,null]),getBackgroundTasks:o([["GET","application/json","application/json"],[],"/admin/background/tasks",[],["type","entityName","entityId"],null,"json",null,null,null]),getEvaluation:o([["GET","application/json","application/json"],[],"/admin/c/{0}/evaluation",["id"],[],null,"json",null,null,null]),getEvaluationMetric:o([["GET","application/json","application/json"],[],"/admin/evaluation/metric/{0}",["id"],[],null,"json",null,null,null]),getProductMetricsQueries:r([["POST","application/json","application/json"],[],"/admin/metricsquery.json",[],[],null,"json",null,null,null]),getRawMetricsQueryOutput:o([["GET","application/json","application/json"],[],"/admin/metricsquery/{0}.json",["queryId"],[],null,"json",null,null,null]),getSolutionColumnMapping:o([["GET","application/json","application/json"],[],"/admin/c/{0}/evaluation/solution/mappings",["competitionId"],[],null,"json",null,null,null]),getSolutionInfo:o([["GET","application/json","application/json"],[],"/admin/c/{0}/solution",["competitionId"],[],null,"json",null,null,null]),getSubmissionColumnMapping:o([["GET","application/json","application/json"],[],"/admin/c/{0}/evaluation/submission/mappings",["competitionId"],[],null,"json",null,null,null]),getSubmissions:o([["GET","application/json","application/json"],[],"/admin/submissions.json",[],[],null,"json",null,null,null]),hardDeleteSubmission:r([["DELETE",null,"application/json"],[],"/admin/submission/{0}",["submissionId"],[],null,"json",null,null,null]),invalidateSubmissionsJson:r([["POST","application/json","application/json"],[],"/admin/c/{0}/invalidate-submissions.json",["id"],[],null,"json",null,null,null]),niko:o([["GET","application/json","application/json"],[],"/admin/niko.json",[],["showAllTeams","totalWeeks","beginDate","endDate"],null,"json",null,null,null]),obliterateEvaluationFromStep:r([["POST",null,"application/json"],[],"/admin/c/{0}/evaluation/obliterate/{1}",["competitionId","stepId"],[],null,"json",null,null,null]),queueSolutionMappingUpdate:r([["POST","application/json","application/json"],[],"/admin/c/{0}/evaluation/solution/mappings",["competitionId"],[],null,"json",null,null,null]),queueSolutionUpdate:r([["POST",null,"application/json"],[],"/admin/c/{0}/evaluation/solution",["competitionId"],["fileName"],null,"json",null,null,null]),queueSubmissionMappingUpdate:r([["POST","application/json","application/json"],[],"/admin/c/{0}/evaluation/submission/mappings",["competitionId"],[],null,"json",null,null,null]),queueSubmissionUpdate:r([["POST",null,"application/json"],[],"/admin/c/{0}/evaluation/submission",["competitionId"],["fileName"],null,"json",null,null,null]),rescoreSpecificSubmissionsJson:r([["POST","application/json","application/json"],[],"/admin/c/{0}/rescore/specific.json",["competitionId"],[],null,"json",null,null,null]),setEvaluationMetric:r([["PUT",null,"application/json"],[],"/admin/c/{0}/evaluation/metric/{1}",["competitionId","id"],[],null,"json",null,null,null]),setEvaluationMetricParameters:r([["PUT","application/json","application/json"],[],"/admin/c/{0}/evaluation/metric/parameters",["competitionId"],[],null,"json",null,null,null]),simulateBackgroundWork:r([["POST","application/json","application/json"],[],"/admin/background/tasks/simulate",[],[],null,"json",null,null,null])},t.ReactAdmin={CancelSegmentedTask:l(t.Admin.cancelSegmentedTask),DatabaseCpuTime:l(t.Admin.databaseCpuTime),DatabaseCpuUtilization:l(t.Admin.databaseCpuUtilization),DatabaseQueryDetails:l(t.Admin.databaseQueryDetails),DatabaseQueryWallOfShame:l(t.Admin.databaseQueryWallOfShame),DownloadDerivedSolution:l(t.Admin.downloadDerivedSolution),DownloadRawSolution:l(t.Admin.downloadRawSolution),GenieJson:l(t.Admin.genieJson),GetBackgroundTask:l(t.Admin.getBackgroundTask),GetBackgroundTasks:l(t.Admin.getBackgroundTasks),GetEvaluation:l(t.Admin.getEvaluation),GetEvaluationMetric:l(t.Admin.getEvaluationMetric),GetRawMetricsQueryOutput:l(t.Admin.getRawMetricsQueryOutput),GetSolutionColumnMapping:l(t.Admin.getSolutionColumnMapping),GetSolutionInfo:l(t.Admin.getSolutionInfo),GetSubmissionColumnMapping:l(t.Admin.getSubmissionColumnMapping),GetSubmissions:l(t.Admin.getSubmissions),Niko:l(t.Admin.niko)},t.BlobFiles={copyBlobToCompetitionReact:r([["POST",null,"application/json"],[],"/blobs/copy/to-competition/{0}",["competitionId"],["blobFileToken"],null,"json",null,null,null]),createInboxBlob:r([["POST",null,"application/json"],[],"/blobs/inbox/{0}",["entityName"],["fileName","contentLength","lastModifiedDateUtc","getZipFileInfo"],null,"json",null,null,null]),downloadBlobFile:o([["GET","application/json","application/json"],[],"/blobs/download/{0}/{1}/{2}",["entityName","entityId","fileName"],[],null,"json",null,null,null]),processInboxBlobChunk:r([["POST",null,"application/json"],[],"/blobs/inbox/{0}/{1}/{2}/{3}",["entityName","guid","contentLength?","userReportedLastModifiedDate?"],[],null,"json",null,null,null])},t.ReactBlobFiles={DownloadBlobFile:l(t.BlobFiles.downloadBlobFile)},t.Categories={getTopCategories:o([["GET","application/json","application/json"],[],"/categories/top/{0}",["count"],[],null,"json",null,null,null]),searchCategories:o([["GET","application/json","application/json"],[],"/categories/search/{0}",["searchQuery"],[],null,"json",null,null,null])},t.ReactCategories={GetTopCategories:l(t.Categories.getTopCategories),SearchCategories:l(t.Categories.searchCategories)},t.Competitions={acceptRulesJson:r([["POST",null,"application/json"],[],"/c/{0}/rules/accept.json",["id"],[],null,"json",null,null,null]),createCompetition:r([["POST","application/json","application/json"],[],"/competitions/new",[],[],null,"json",null,null,null]),deleteDataFileReact:r([["DELETE",null,"application/json"],[],"/c/{0}/data/{1}",["id","competitionDataFileId"],[],null,"json",null,null,null]),getBenchmarks:o([["GET","application/json","application/json"],[],"/c/{0}/data/benchmarks.json",["competitionId"],[],null,"json",null,null,null]),getCompetitionJson:o([["GET","application/json","application/json"],[],"/c/{0}.json",["id"],[],null,"json",null,null,null]),getHostChecklist:o([["GET","application/json","application/json"],[],"/c/{0}/host/checklist.json",["competitionId"],[],null,"json",null,null,null]),getSubmissionsByTeam:o([["GET","application/json","application/json"],[],"/c/{0}/team-submissions.json",["id"],["teamId"],null,"json",null,null,null]),getSubmissionStatus:o([["GET","application/json","application/json"],[],"/c/{0}/submissions/v2/status.json",["id"],["teamId","submissionId","greaterThanSubmissionId"],null,"json",null,null,null]),getTeams:o([["GET","application/json","application/json"],[],"/c/{0}/teams.json",["id"],["filter"],null,"json",null,null,null]),launchCompetitionJson:o([["GET","application/json","application/json"],[],"/c/{0}/launch.json",["id"],["futureDate"],null,"json",null,null,null]),postBenchmark:r([["POST",null,"application/json"],[],"/c/{0}/benchmarks.json",["id"],["submissionDescription"],null,"json",null,null,null]),postPlaygroundSubmission:r([["POST",null,"application/json"],[],"/c/{0}/playgroundSubmissions.json",["id"],["blobFileToken"],null,"json",null,null,null]),postSubmission:r([["POST",null,"application/json"],[],"/c/{0}/submission.json",["id"],["submissionDescription"],null,"json",null,null,null]),regenerateShareToken:o([["GET","application/json","application/json"],[],"/c/{0}/regen-token.json",["id"],[],null,"json",null,null,null]),rescorePlaygroundSubmission:r([["POST",null,"application/json"],[],"/c/{0}/playgroundSubmissions/{1}/rescore",["id","submissionId"],[],null,"json",null,null,null]),savePrivacy:r([["POST","application/json","application/json"],[],"/c/{0}/privacy.json",["id"],[],null,"json",null,null,null]),saveSettings:r([["POST","application/json","application/json"],[],"/c/{0}/settings.json",["id"],[],null,"json",null,null,null]),updateBenchmarks:r([["POST","application/json","application/json"],[],"/c/{0}/data/benchmarks/details.json",["competitionId"],[],null,"json",null,null,null]),updateSubmissionDetails:r([["POST",null,"application/json"],[],"/competitions/submissions/details.json",[],[],null,"json",null,null,null])},t.ReactCompetitions={GetBenchmarks:l(t.Competitions.getBenchmarks),GetCompetitionJson:l(t.Competitions.getCompetitionJson),GetHostChecklist:l(t.Competitions.getHostChecklist),GetSubmissionsByTeam:l(t.Competitions.getSubmissionsByTeam),GetSubmissionStatus:l(t.Competitions.getSubmissionStatus),GetTeams:l(t.Competitions.getTeams),LaunchCompetitionJson:l(t.Competitions.launchCompetitionJson),RegenerateShareToken:l(t.Competitions.regenerateShareToken)},t.Datasets={addCategory:o([["GET","application/json","application/json"],[],"/{0}/{1}/categories/add/{2}",["ownerSlug","datasetSlug","categoryId"],[],null,"json",null,null,null]),createNewDataset:r([["POST","application/json","application/json"],[],"/datasets/create",[],[],null,"json",null,null,null]),getInboxUrl:r([["POST","application/json","application/json"],[],"/datasets/inbox-url/v2",[],[],null,"json",null,null,null]),previewInboxFile:r([["POST","application/json","application/json"],[],"/datasets/inbox-preview/v2",[],[],null,"json",null,null,null]),removeCategory:o([["GET","application/json","application/json"],[],"/{0}/{1}/categories/remove/{2}",["ownerSlug","datasetSlug","categoryId"],[],null,"json",null,null,null])},t.ReactDatasets={AddCategory:l(t.Datasets.addCategory),RemoveCategory:l(t.Datasets.removeCategory)},t.Graph={index:r([["POST",null,"application/json"],[],"/graphql",[],[],null,"json",null,null,null])},t.ReactGraph={},t.Scripts={basicKernelStatus:o([["GET","application/json","application/json"],[],"/kernels/statmin.json",[],["id"],null,"json",null,null,null]),cancelScript:r([["POST",null,"application/json"],[],"/kernels/cancel",[],["scriptVersionId"],null,"json",null,null,null]),reportNotebookError:r([["POST","application/json","application/json"],[],"/kernels/nberr",[],[],null,"json",null,null,null]),scriptVersionDiff:o([["GET","application/json","application/json"],[],"/kernels/diff/{0}/{1}",["leftScriptVersionId","rightScriptVersionId"],[],null,"json",null,null,null]),updateSourceIpynb:r([["POST","application/json","application/json"],[],"/{0}/{1}/{2}/ipynb.json",["userName","kernelSlug","scriptVersionId"],["newContent"],null,"json",null,null,null])},t.ReactScripts={BasicKernelStatus:l(t.Scripts.basicKernelStatus),ScriptVersionDiff:l(t.Scripts.scriptVersionDiff)},t.Teams={acceptMerge:r([["POST",null,"application/json"],[],"/mergeRequests/{0}/accept",["id"],[],null,"json",null,null,null]),rejectMerge:r([["POST",null,"application/json"],[],"/mergeRequests/{0}/reject",["id"],[],null,"json",null,null,null]),requestMerge:r([["POST","application/json","application/json"],[],"/teams/{0}/mergeRequests",["parentTeamId"],["childTeamId"],null,"json",null,null,null]),searchTeams:r([["POST","application/json","application/json"],[],"/competitions/{0}/teams/search",["competitionId"],["teamName"],null,"json",null,null,null])},t.ReactTeams={},t.Users={followUser:r([["PUT",null,"application/json"],[],"/{0}/follow.json",["userName"],[],null,"json",null,null,null]),getActivity:o([["GET","application/json","application/json"],[],"/{0}/activity.json",["userName"],["userId"],null,"json",null,null,null]),getOrganizations:o([["GET","application/json","application/json"],[],"/user-organizations",[],["filter"],null,"json",null,null,null]),unfollowUser:r([["PUT",null,"application/json"],[],"/{0}/unfollow.json",["userName"],[],null,"json",null,null,null])},t.ReactUsers={GetActivity:l(t.Users.getActivity),GetOrganizations:l(t.Users.getOrganizations)}}).call(t,n(68))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(0),r=n(6),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.classNames,n=e.isDisabled,a=e.href,o=e.onClick,s=e.target,l=e.size,c=e.text,u=e.children,p=e.style;return i.createElement("a",{style:p,className:r("button-auto-width"+("s"==l?"--s":"xs"==l?"--xs":""),t),disabled:n,href:a,onClick:n||!o?null:function(e){return o(e)},target:s},u||c)},t}(i.Component);t.ButtonAutoWidth=o},,,,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(6),r=n(3),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.componentDidMount=function(){var e=this;window.setTimeout(function(){r(e.container).find("a:not(.block-link__anchor)").each(function(e,t){var n=r(t);"auto"===n.css("z-index")&&("static"===n.css("position")&&n.css("position","relative"),n.css("z-index","2"),n.css("pointer-events","auto"))})})},n.prototype.render=function(){var t=this;return e.createElement("div",{className:i("block-link",this.props.className,this.props.borderless?null:"block-link--bordered"),ref:function(e){return t.container=e}},e.createElement("a",{className:"block-link__anchor",href:this.props.href,onClick:this.props.onClick}),this.props.children)},n}(e.Component);t.BlockLink=o}).call(t,n(0))},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(6),r=function(t){function n(e){return t.call(this,e)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this;if(!this.props.text&&!this.props.children)throw new Error("Button requires children to be defined");return e.createElement("a",{id:this.props.id,href:this.props.href,style:this.props.style,className:i("button__anchor-wrapper",this.props.containerClassNames?this.props.containerClassNames:null,this.props.isSmall?"button__anchor-wrapper--small":null),onClick:this.props.isDisabled||!this.props.onClick?null:function(e){t.props.onClick(e)},target:this.props.target},e.createElement("div",{className:i("button",this.props.toggleable?"button--toggleable":null,this.props.isSmall?"button--small":null,this.props.toggleable&&!this.props.toggled?"button--inactive":null,this.props.isDisabled?"button--disabled":null,this.props.classNames?this.props.classNames:null)},e.createElement("span",null,this.props.children||this.props.text)))},n}(e.Component);t.Button=r}).call(t,n(0))},,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(6),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("span",{className:i("tooltip-container",{"tooltip-container--left":this.props.alignLeft},{"tooltip-container--right":this.props.alignRight},this.props.className),"data-tooltip":this.props.tipText,"data-tooltip-size":this.props.size},this.props.children)},n}(e.Component);t.ToolTip=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(57),r=n(73),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.formattedNumber=function(e){return r.numberWithCommas(e)},n.prototype.render=function(){return this.props.formatNumber?e.createElement("span",null,r.numberWithCommas(this.props.count)+" "+i(this.props.word,this.props.count)):e.createElement("span",null,i(this.props.word,this.props.count,!0))},n}(e.Component);t.Pluralize=o}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NOTEBOOK_REQUEST_WORKER="NOTEBOOK_REQUEST_WORKER",t.NOTEBOOK_RENDER_HTML="NOTEBOOK_RENDER_HTML",t.NOTEBOOK_CANCEL_SCRIPTRUN="NOTEBOOK_CANCEL_SCRIPTRUN",t.NOTEBOOK_INVESTIGATE_EARLY_STOP="NOTEBOOK_INVESTIGATE_EARLY_STOP",t.requestWorker=function(){return{type:t.NOTEBOOK_REQUEST_WORKER}},t.renderHtml=function(e,n){return{type:t.NOTEBOOK_RENDER_HTML,scriptRunId:e,notebook:n}},t.cancelScriptRun=function(e){return{type:t.NOTEBOOK_CANCEL_SCRIPTRUN,scriptRunId:e}},t.investigateEarlyStop=function(e){return{type:t.NOTEBOOK_INVESTIGATE_EARLY_STOP,scriptRunId:e}},t.NOTEBOOK_UPDATE_DATASOURCES_AND_RESTART="NOTEBOOK_UPDATE_DATASOURCES_AND_RESTART",t.updateDataSourcesAndRestart=function(e,n){return{type:t.NOTEBOOK_UPDATE_DATASOURCES_AND_RESTART,dataSources:e,currentScriptRunId:n}},t.NOTEBOOK_START_SESSION="NOTEBOOK_START_SESSION",t.NOTEBOOK_SAVE_FILE="NOTEBOOK_SAVE_FILE",t.NOTEBOOK_CANCEL_EXECUTION="NOTEBOOK_CANCEL_EXECUTION",t.startSession=function(e){return{type:t.NOTEBOOK_START_SESSION,url:e}},t.saveFile=function(e){return{type:t.NOTEBOOK_SAVE_FILE,newContent:e}},t.cancelExecution=function(){return{type:t.NOTEBOOK_CANCEL_EXECUTION}},t.NOTEBOOK_KERNEL_SESSION_STARTED="NOTEBOOK_KERNEL_SESSION_STARTED",t.NOTEBOOK_UPDATE_KERNEL_INFO="NOTEBOOK_UPDATE_KERNEL_INFO",t.NOTEBOOK_EXECUTE_CELL="NOTEBOOK_EXECUTE_CELL",t.NOTEBOOK_CELL_EXECUTION_BUSY="NOTEBOOK_CELL_EXECUTION_BUSY",t.NOTEBOOK_CELL_EXECUTION_IDLE="NOTEBOOK_CELL_EXECUTION_IDLE",t.NOTEBOOK_EXECUTE_ALL="NOTEBOOK_EXECUTE_ALL",t.NOTEBOOK_REQUEST_AUTOCOMPLETE="NOTEBOOK_REQUEST_AUTOCOMPLETE",t.NOTEBOOK_SET_JUPYTER_FRONT_END="NOTEBOOK_SET_JUPYTER_FRONT_END",t.notebookKernelSessionStarted=function(){return{type:t.NOTEBOOK_KERNEL_SESSION_STARTED}},t.updateKernelInfo=function(){return{type:t.NOTEBOOK_UPDATE_KERNEL_INFO}},t.executeCell=function(e,n){return{type:t.NOTEBOOK_EXECUTE_CELL,cellIndex:e,content:n}},t.executeAll=function(){return{type:t.NOTEBOOK_EXECUTE_ALL}},t.autocompleteRequest=function(e,n,a){return{type:t.NOTEBOOK_REQUEST_AUTOCOMPLETE,cellContents:e,cursorPosition:n,callback:a}},t.NOTEBOOK_IPYNB_DOWNLOAD="NOTEBOOK_IPYNB_DOWNLOAD",t.ipynbDownload=function(){return{type:t.NOTEBOOK_IPYNB_DOWNLOAD}},t.NOTEBOOK_TELEMETRY_EVENT="NOTEBOOK_TELEMETRY_EVENT",t.postTelemetryEvent=function(e,n,a){return{type:t.NOTEBOOK_TELEMETRY_EVENT,eventName:e,eventDimensions:n,eventMetrics:a}},t.NOTEBOOK_NEW_SCRIPT_RUN="NOTEBOOK_NEW_SCRIPT_RUN",t.NOTEBOOK_KERNEL_HAS_STOPPED="NOTEBOOK_KERNEL_HAS_STOPPED",t.NOTEBOOK_CONNECTION_FAILED="NOTEBOOK_CONNECTION_FAILED",t.NOTEBOOK_IS_SAVED="NOTEBOOK_IS_SAVED",t.NOTEBOOK_STOP_EDITING_TITLE="NOTEBOOK_STOP_EDITING_TITLE",t.NOTEBOOK_RESTART_KERNEL="NOTEBOOK_RESTART_KERNEL",t.NOTEBOOK_APPEND_CELL_OUTPUT="NOTEBOOK_APPEND_CELL_OUTPUT",t.newScriptRun=function(e,n){return{type:t.NOTEBOOK_NEW_SCRIPT_RUN,scriptId:e,scriptRunId:n}},t.kernelHasStopped=function(e){return{type:t.NOTEBOOK_KERNEL_HAS_STOPPED,scriptRunId:e}},t.notebookConnectionFailed=function(e){return{type:t.NOTEBOOK_CONNECTION_FAILED,description:e}},t.notebookIsSaved=function(e){return{type:t.NOTEBOOK_IS_SAVED,saveDate:e}},t.stopEditingTitle=function(){return{type:t.NOTEBOOK_STOP_EDITING_TITLE}},t.restartKernel=function(e){return{type:t.NOTEBOOK_RESTART_KERNEL,currentScriptRunId:e}},t.appendCellOutput=function(e,n){return{type:t.NOTEBOOK_APPEND_CELL_OUTPUT,cellIndex:e,output:n}},t.NOTEBOOK_RESTART_KERNEL_FOR_USER="NOTEBOOK_RESTART_KERNEL_FOR_USER",t.restartKernelForUser=function(e){return{type:t.NOTEBOOK_RESTART_KERNEL_FOR_USER,currentScriptRunId:e}},t.NOTEBOOK_UPDATE_KERNEL_STATUS="NOTEBOOK_UPDATE_KERNEL_STATUS",t.NOTEBOOK_CHANGE_CELL_TYPE="NOTEBOOK_CHANGE_CELL_TYPE",t.NOTEBOOK_UPDATE_CONTENTS="NOTEBOOK_UPDATE_CONTENTS",t.NOTEBOOK_ACTIVATE_CELL="NOTEBOOK_ACTIVATE_CELL",t.NOTEBOOK_DELETE_CELL="NOTEBOOK_DELETE_CELL",t.NOTEBOOK_ADD_CELL_ABOVE="NOTEBOOK_ADD_CELL_ABOVE",t.NOTEBOOK_ADD_CELL_BELOW="NOTEBOOK_ADD_CELL_BELOW",t.NOTEBOOK_SET_EXECUTION_STATUS="NOTEBOOK_SET_EXECUTION_STATUS",t.NOTEBOOK_CLEAR_CELL_OUTPUT="NOTEBOOK_CLEAR_CELL_OUTPUT",t.NOTEBOOK_SET_EXECUTION_COUNT="NOTEBOOK_SET_EXECUTION_COUNT",t.NOTEBOOK_UPDATE_DATASOURCES="NOTEBOOK_UPDATE_DATASOURCES",t.NOTEBOOK_SET_TITLE_ERROR="NOTEBOOK_SET_TITLE_ERROR",t.NOTEBOOK_START_EDITING_TITLE="NOTEBOOK_START_EDITING_TITLE",t.NOTEBOOK_CANCEL_EDITING_TITLE="NOTEBOOK_CANCEL_EDITING_TITLE",t.NOTEBOOK_UPDATE_TITLE="NOTEBOOK_UPDATE_TITLE",t.NOTEBOOK_IS_DIRTY="NOTEBOOK_IS_DIRTY",t.NOTEBOOK_CHANGE_LANGUAGE="NOTEBOOK_CHANGE_LANGUAGE",t.NOTEBOOK_REPLACE_CONTENTS="NOTEBOOK_REPLACE_CONTENTS",t.NOTEBOOK_CONTENT_CHANGED="NOTEBOOK_CONTENT_CHANGED",t.NOTEBOOK_SET_KERNEL_INFO="NOTEBOOK_SET_KERNEL_INFO",t.NOTEBOOK_SET_KEYBOARD_SHORTCUT_COMMAND_MODE="NOTEBOOK_SET_KEYBOARD_SHORTCUT_COMMAND_MODE",t.NOTEBOOK_COULD_NOT_FETCH_FROM_WORKER="NOTEBOOK_COULD_NOT_FETCH_FROM_WORKER",t.NOTEBOOK_ADD_MARKDOWN_AT_START="NOTEBOOK_ADD_MARKDOWN_AT_START",t.NOTEBOOK_SET_ALL_CELLS_TO_IDLE="NOTEBOOK_SET_ALL_CELLS_TO_IDLE",t.NOTEBOOK_NEW_CONNECTION="NOTEBOOK_NEW_CONNECTION",t.NOTEBOOK_NEW_JUPYTER_SESSION="NOTEBOOK_NEW_JUPYTER_SESSION",t.NOTEBOOK_TOGGLE_KERNEL_INFO="NOTEBOOK_TOGGLE_KERNEL_INFO",t.NOTEBOOK_ADD_SCRIPT_TIP="NOTEBOOK_ADD_SCRIPT_TIP",t.setKernelStatus=function(e){return{type:t.NOTEBOOK_UPDATE_KERNEL_STATUS,status:e}},t.changeCellType=function(e){return{type:t.NOTEBOOK_CHANGE_CELL_TYPE,newCellType:e}},t.updateContents=function(e,n){return{type:t.NOTEBOOK_UPDATE_CONTENTS,cellUuid:e,content:n}},t.activate=function(e){return{type:t.NOTEBOOK_ACTIVATE_CELL,cellIndex:e}},t.deleteCell=function(){return{type:t.NOTEBOOK_DELETE_CELL}},t.addAbove=function(){return{type:t.NOTEBOOK_ADD_CELL_ABOVE}},t.addBelow=function(){return{type:t.NOTEBOOK_ADD_CELL_BELOW}},t.setExecutionStatus=function(e,n){return{type:t.NOTEBOOK_SET_EXECUTION_STATUS,cellIndex:e,newStatus:n}},t.clearCellOutput=function(e){return{type:t.NOTEBOOK_CLEAR_CELL_OUTPUT,cellIndex:e}},t.setExecutionCount=function(e,n){return{type:t.NOTEBOOK_SET_EXECUTION_COUNT,cellIndex:e,executionCount:n}},t.updateDataSources=function(e,n,a){return{type:t.NOTEBOOK_UPDATE_DATASOURCES,dataSources:e,imageUrl:n,imageClickUrl:a}},t.setTitleError=function(e){return{type:t.NOTEBOOK_SET_TITLE_ERROR,hasError:e}},t.startEditingTitle=function(){return{type:t.NOTEBOOK_START_EDITING_TITLE}},t.cancelEditingTitle=function(){return{type:t.NOTEBOOK_CANCEL_EDITING_TITLE}},t.updateTitle=function(e){return{type:t.NOTEBOOK_UPDATE_TITLE,newTitle:e}},t.notebookIsDirty=function(){return{type:t.NOTEBOOK_IS_DIRTY}},t.changeLanguage=function(e){return{type:t.NOTEBOOK_CHANGE_LANGUAGE,newLanguageId:e}},t.replaceContents=function(e){return{type:t.NOTEBOOK_REPLACE_CONTENTS,newContent:e}},t.setKernelInfo=function(e){return{type:t.NOTEBOOK_SET_KERNEL_INFO,languageInfo:e}},t.setKeyboardShortcutCommandMode=function(e){return{type:t.NOTEBOOK_SET_KEYBOARD_SHORTCUT_COMMAND_MODE,isInCommandMode:e}},t.couldNotFetchNotebookFromWorker=function(){return{type:t.NOTEBOOK_COULD_NOT_FETCH_FROM_WORKER}},t.addMarkdownAtStart=function(){return{type:t.NOTEBOOK_ADD_MARKDOWN_AT_START}},t.setAllCellsToIdle=function(){return{type:t.NOTEBOOK_SET_ALL_CELLS_TO_IDLE}},t.newConnection=function(e){return{type:t.NOTEBOOK_NEW_CONNECTION,connection:e}},t.newJupyterSession=function(e){return{type:t.NOTEBOOK_NEW_JUPYTER_SESSION,session:e}},t.showKernelInfo=function(){return{type:t.NOTEBOOK_TOGGLE_KERNEL_INFO,showInfo:!0}},t.hideKernelInfo=function(){return{type:t.NOTEBOOK_TOGGLE_KERNEL_INFO,showInfo:!1}},t.addScriptTip=function(e,n){return{type:t.NOTEBOOK_ADD_SCRIPT_TIP,cellIndex:e,tip:n}}},,function(e,t,n){"use strict";function a(e){if(!e)return null;if(Array.isArray(e))throw new Error("<SelectBox /> may not store array items.");return e.value}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(6),s=n(151),l=function(e){return function(t){var n=a(t);e.props.onChange(n)}},c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.change=l(t),t}return i.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.clearable,a=i.__rest(e,["className","clearable"]);return r.createElement(s,i.__assign({},a,{className:o("KaggleSelect",t),onChange:this.change,clearable:n||!1}))},t}(r.Component);t.SelectBox=c;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.change=l(t),t}return i.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.clearable,a=i.__rest(e,["className","clearable"]);return r.createElement(s.Async,i.__assign({},a,{className:o("KaggleSelect",t),onChange:this.change,clearable:n||!1}))},t}(r.Component);t.SelectBoxAsync=u},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(8),r=n(40),o=37,s=function(t){function n(e){var n=t.call(this,e)||this;return n.width=e.width||o,n.borderRadius=n.width/10,n.margin=e.tierMargin?e.tierMargin:n.width/20,n}return a.__extends(n,t),n.prototype.recordClick=function(){i.Current.isSiteAdminOrTvc||(this.props.analyticsEventLabel?ga("send","event","avatar","clicked",this.props.analyticsEventLabel):ga("send","event","avatar","clicked"))},n.prototype.renderAvatar=function(){var t=this;return e.createElement("a",{className:"avatar",onClick:function(){return t.recordClick()},href:this.props.userUrl,style:{width:this.width}},e.createElement("img",{className:"avatar__thumbnail",src:this.props.thumbnailUrl,alt:this.props.displayName,width:this.width,height:this.width,style:{borderRadius:this.borderRadius}}),this.props.tier?e.createElement("img",{className:"avatar__tier",src:"/static/images/avatier/avatier-"+this.props.tier+"@2x.png",style:{marginTop:this.margin},width:this.width}):null)},n.prototype.render=function(){return this.props.hideTooltop?this.renderAvatar():e.createElement(r.ToolTip,{className:this.props.className,tipText:this.props.displayName},this.renderAvatar())},n}(e.Component);t.Avatar=s}).call(t,n(0))},,,,,function(e,t,n){"use strict";(function(e){function a(e,t){return t?e+" "+e+"--"+t:e}function i(e,t){return t?e+"--"+t:e}function r(e,t,n,a){return void 0===t&&(t=null),void 0===n&&(n=""),void 0===a&&(a=null),{count:null==a?null:s.numberWithCommas(a),title:e.toLowerCase(),href:n,text:t||e,tab:e.toLowerCase()}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(4),l=n(416),c=n(179),u=n(6);t.buildLink=r;var p=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.renderIcon=function(){return this.props.faIcon&&e.createElement("i",{key:this.props.faIcon,className:"pageheader__page-message-icon fa "+this.props.faIcon})},n.prototype.render=function(){var t=null;if(this.props.message&&""!==this.props.message)t=e.createElement("span",{key:this.props.type,className:u("pageheader__pagemessagecontent","pageheader__pagemessagecontent--"+this.props.type,{"pageheader__pagemessagecontent--custom-icon":!!this.props.faIcon})},this.renderIcon(),e.createElement("span",null,this.props.message));else{if(!this.props.htmlMessage||""===this.props.htmlMessage)return null;t=e.createElement("span",{key:this.props.type,className:u("pageheader__pagemessagecontent","pageheader__pagemessagecontent--"+this.props.type,{"pageheader__pagemessagecontent--custom-icon":!!this.props.faIcon})},this.renderIcon(),e.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.htmlMessage}}))}return e.createElement("div",{className:u("pageheader__pagemessage","pageheader__pagemessage--"+this.props.type)},t)},n}(e.Component);t.PageMessageComponent=p;var d=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"pageheader"},e.createElement("div",{className:u("pageheader__container",this.props.backgroundClass)},this.props.children))},n}(e.Component);t.PageHeader=d;var m=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"pageheader__fork-section"},e.createElement("div",{className:"pageheader__forked-symbol"},"L"),e.createElement("span",null,"forked from",e.createElement("span",{className:"pageheader__subtitle-link"}," ",e.createElement("a",{href:this.props.forkParentUrl},this.props.forkParentTitle))," by ",e.createElement("span",{className:"pageheader__subtitle-link"},e.createElement("a",{href:this.props.forkParentAuthorUrl},this.props.forkParentAuthorDisplayName)," "),e.createElement(c.DiffSummary,{inserts:this.props.forkDiffLinesInserted+this.props.forkDiffLinesChanged,deletes:this.props.forkDiffLinesDeleted+this.props.forkDiffLinesChanged,href:this.props.forkDiffUrl})))},n}(e.Component);t.PageHeaderForkInfo=m;var h=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(){var t=e.createElement("a",{href:this.props.userUrl,className:"pageheader__author-name"},this.props.userName),n=null,a=null;this.props.versionLink&&(n=e.createElement("span",null,"  ",this.props.versionLink),a=e.createElement("span",null,this.props.versionLink,"  "));var i=null;return this.props.dateUpdated&&(i=e.createElement("time",{dateTime:this.props.dateUpdated.toString(),title:this.props.dateUpdated.toString()},"last ",this.props.runTimeVerb," ",e.createElement(s.TimeAgo,{time:this.props.dateUpdated}))),this.props.showUserName&&this.props.showDateUpdated&&this.props.dateUpdated?e.createElement("span",null,"by ",t,n,"  ",i):this.props.showUserName?e.createElement("span",null,"by ",t,n):this.props.showDateUpdated&&this.props.dateUpdated?e.createElement("span",null,a,i):null},n}(e.Component);t.PageHeaderUserNameAndRunTime=h;var g=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(){var t=this.props.nodeId||null;return e.createElement("div",{className:"pageheader__top--safe",id:t},this.props.children)},n}(e.Component);t.PageHeaderTopRowSafe=g;var f=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(){var t,n;this.props.isEditingHeaderInfo?(t=this.props.title,n=this.props.subtitle):(t=this.props.titleUrl?e.createElement("a",{href:this.props.titleUrl,className:a("pageheader__title",this.props.modifier)},this.props.title):e.createElement("div",{className:a("pageheader__title",this.props.modifier),onClick:this.props.onTitleClick||null},this.props.title),n=e.createElement("a",{href:this.props.titleUrl,className:a("pageheader__subtitle",this.props.modifier)},e.createElement("p",null,this.props.subtitle),this.props.forkInfo?this.props.forkInfo:null));var i=this.props.nodeId||null;return e.createElement("div",{className:a("pageheader__top",this.props.modifier),id:i},e.createElement("a",{href:this.props.titleUrl,className:a("pageheader__top-overlay",this.props.modifier)}),this.props.coverImageUrl&&e.createElement("div",{className:a("pageheader__top-image",this.props.modifier)},e.createElement("a",{href:this.props.coverImageClickUrl,target:"_blank"},e.createElement("img",{src:this.props.coverImageUrl}))),t,this.props.editHeaderButton&&this.props.canEdit?this.props.editHeaderButton:null,n,this.props.children)},n}(e.Component);t.PageHeaderTopRow=f;var v=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:i("pageheader__"+this.props.classNameElement,this.props.classNameModifier)},e.createElement("a",{href:this.props.targetUrl},e.createElement("img",{src:this.props.imageUrl})),this.props.thumbnailOverlay?this.props.thumbnailOverlay:null)},n}(e.Component);t.PageHeaderThumbnail=v;var _=function(t){function n(e){var n=t.call(this,e)||this;return n.state={lockOverflowDropdown:!1,showOverflowDropdown:!1},n}return o.__extends(n,t),n.prototype.handleNavClick=function(e,t){e.ctrlKey||e.shiftKey||e.metaKey||e.button&&1==e.button||this.props.changeActiveTab&&(e.preventDefault(),this.props.changeActiveTab(t))},n.prototype.getLinkText=function(e){return e.text+(e.count?" ("+e.count+")":e.showZeroCountExplicitly?" (0)":"")},n.prototype.render=function(){var t=this;return e.createElement("nav",{className:a("pageheader__nav",this.props.classNameModifier)},e.createElement(s.MediaQuery,{minWidth:0,maxWidth:s.Breakpoints.tabletMax},e.createElement("div",{className:"pageheader__nav-wrapper"},this.props.menuLinks||this.props.overflowMenuLinks?(this.props.menuLinks?this.props.menuLinks:[]).concat(this.props.overflowMenuLinks).filter(function(e){return null!=e}).map(function(n,a){return e.createElement("a",{key:"pageheader__left-link--"+a,href:n.href||n.tab,title:n.title,className:u("pageheader__left-links","pageheader__left-links--with-onclick",(n.text||"").toUpperCase()===(t.props.activeTab||"").toUpperCase()?"pageheader__left-links--selected":""),onClick:function(e){return n.actionCallback?n.actionCallback(e):n.tab?t.handleNavClick(e,n.text):""},"data-link-text":t.getLinkText(n),id:"pageheader-nav-item--"+s.slugify(n.title)},t.getLinkText(n))}):null,e.createElement("div",{className:"pageheader__right-links-wrapper"},this.props.rightMenuLinks?this.props.rightMenuLinks.map(function(n,a){return e.createElement("a",{key:"pageheader__right-link--"+a,href:n.href,title:n.title,className:u("pageheader__right-links","pageheader__right-links--with-onclick",n.text.toUpperCase()==t.props.activeTab.toUpperCase()?"pageheader__right-links--selected":"",n.tab&&n.tab.toUpperCase()==t.props.activeTab.toUpperCase()?"pageheader__right-links--selected":""),onClick:n.actionCallback?function(e){return n.actionCallback(e)}:n.tab?function(e){return t.handleNavClick(e,n.tab)}:!n.href&&n.text?function(e){return t.handleNavClick(e,n.text)}:null,"data-link-text":t.getLinkText(n),id:"pageheader-nav-item--"+s.slugify(n.title)},n.text)}):null))),e.createElement(s.MediaQuery,{minWidth:s.Breakpoints.desktopMin},e.createElement("div",{className:"pageheader__nav-wrapper"},this.props.menuLinks?this.props.menuLinks.filter(function(e){return null!=e}).map(function(n,a){return e.createElement("a",{key:"pageheader__left-link--"+a,href:n.href||n.tab,title:n.title,className:u("pageheader__left-links","pageheader__left-links--with-onclick",(n.text||"").toUpperCase()===(t.props.activeTab||"").toUpperCase()?"pageheader__left-links--selected":""),onClick:function(e){return n.actionCallback?n.actionCallback(e):n.tab?t.handleNavClick(e,n.text):""},"data-link-text":t.getLinkText(n),id:"pageheader-nav-item--"+s.slugify(n.title)},t.getLinkText(n))}):null,this.props.overflowMenuLinks&&this.props.overflowMenuLinks.length?e.createElement("div",{className:"pageheader__more-links",onMouseEnter:function(){t.state.lockOverflowDropdown||t.setState({showOverflowDropdown:!0})},onMouseLeave:function(){t.state.lockOverflowDropdown||t.setState({showOverflowDropdown:!1})}},e.createElement("a",{key:"pageheader__left-link--"+(this.props.menuLinks?this.props.menuLinks.length:0),title:"More",className:u("pageheader__left-links","pageheader__left-links--with-onclick","pageheader__more-link",this.state.lockOverflowDropdown?"pageheader__left-links--selected":""),"data-link-text":"More"},e.createElement("p",{className:"pageheader__more-link-wrapper"},e.createElement("svg",{className:"pageheader__more-ellipsis",width:"18px",height:"4px",viewBox:"0 0 18 4"},e.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},e.createElement("path",{d:"M16,4 C14.8954305,4 14,3.1045695 14,2 C14,0.8954305 14.8954305,0 16,0 C17.1045695,0 18,0.8954305 18,2 C18,3.1045695 17.1045695,4 16,4 Z M9,4 C7.8954305,4 7,3.1045695 7,2 C7,0.8954305 7.8954305,0 9,0 C10.1045695,0 11,0.8954305 11,2 C11,3.1045695 10.1045695,4 9,4 Z M2,4 C0.8954305,4 0,3.1045695 0,2 C0,0.8954305 0.8954305,0 2,0 C3.1045695,0 4,0.8954305 4,2 C4,3.1045695 3.1045695,4 2,4 Z",fill:"#444"})))),this.state.showOverflowDropdown?e.createElement("div",{className:"pageheader__nav-overflow"},this.props.overflowMenuLinks.map(function(n,a){return e.createElement("span",{key:"pageheader__overflow-link--"+a,className:"pageheader__overflow-link-wrapper"},e.createElement("a",{href:n.href||n.tab,title:n.title,className:u("pageheader__left-links","pageheader__overflow-links",(n.text||"").toUpperCase()===(t.props.activeTab||"").toUpperCase()?"pageheader__left-links--selected":""),onClick:function(e){return n.actionCallback?n.actionCallback(e):n.tab?t.handleNavClick(e,n.tab):""},"data-link-text":t.getLinkText(n),id:"pageheader-nav-item--"+s.slugify(n.title)},t.getLinkText(n)))})):null)):null,e.createElement("div",{className:"pageheader__right-links-wrapper"},this.props.rightMenuLinks?this.props.rightMenuLinks.map(function(n,a){return e.createElement("a",{key:"pageheader__right-link--"+a,href:n.href,title:n.title,className:u("pageheader__right-links","pageheader__right-links--with-onclick",n.text.toUpperCase()==t.props.activeTab.toUpperCase()?"pageheader__right-links--selected":"",n.tab&&n.tab.toUpperCase()==t.props.activeTab.toUpperCase()?"pageheader__right-links--selected":""),onClick:n.actionCallback?function(e){return n.actionCallback(e)}:n.tab?function(e){return t.handleNavClick(e,n.tab)}:!n.href&&n.text?function(e){return t.handleNavClick(e,n.text)}:null,"data-link-text":t.getLinkText(n),id:"pageheader-nav-item--"+s.slugify(n.title)},n.text)}):null))))},n}(e.Component);t.PageHeaderNav=_;var b=function(t){function n(e){var n=t.call(this,e)||this;return n.onPageMessagesUpdated=function(e){n.setState({pageMessages:e})},n.state={pageMessages:[]},n}return o.__extends(n,t),n.prototype.componentWillReceiveProps=function(e){JSON.stringify(this.props.pageMessages)!==JSON.stringify(e.pageMessages)&&(s.PageMessages.clear(),s.PageMessages.add(e.pageMessages))},n.prototype.componentDidMount=function(){s.PageMessages.addListener(this.onPageMessagesUpdated),s.PageMessages.add(this.props.pageMessages)},n.prototype.componentWillUnmount=function(){s.PageMessages.removeListener(this.onPageMessagesUpdated)},n.prototype.render=function(){return e.createElement(l.StickyScroll,{stickyClassName:"pageheader__sticky--stuck",scrollingClassName:"pageheader__sticky--scrolling",className:"pageheader__sticky"},e.createElement("div",{className:"pageheader__bottom pageheader__bottom"+(this.state.pageMessages&&this.state.pageMessages.length>0?"--with-pagemessages":"")},this.props.children),e.createElement("div",null,null!=this.state.pageMessages?this.state.pageMessages.map(function(t,n){return e.createElement(p,o.__assign({key:"pageheader__pagemessage--"+n},t))}):""),e.createElement("div",{className:"pageheader__transition"}))},n}(e.Component);t.PageHeaderBottomRow=b;var E=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement("a",{className:"pageheader__calltoaction "+(this.props.isActive?"pageheader__calltoaction--active":this.props.isMuted?"pageheader__calltoaction--muted":this.props.isSelected&&"pageheader__calltoaction--selected"),href:this.props.href?this.props.href:null,onClick:function(e){return t.props.onClick(e)},title:this.props.title},this.props.text)},n}(e.Component);t.PageHeaderCallToAction=E}).call(t,n(0))},,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1);t.Breakpoints={mobileMax:480,tabletMin:481,tabletMax:768,desktopMin:769,desktopMax:1024,desktopLargeMin:1025};var i=function(e){function t(t){var n=e.call(this,t)||this;return n.onResize=function(){n.setState({windowWidth:window.innerWidth})},n.state={windowWidth:window.innerWidth},n}return a.__extends(t,e),t.prototype.componentWillMount=function(){window.addEventListener("resize",this.onResize,!1)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize,!1)},t.prototype.componentDidMount=function(){this.onResize()},t.prototype.render=function(){var e,t=this.state.windowWidth;return e=this.props.maxWidth?t>=this.props.minWidth&&t<=this.props.maxWidth:t>=this.props.minWidth,e?this.props.children:null},t}(e.Component);t.MediaQuery=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){function i(e){switch(e){case s.Html:return"text/html";case s.Markdown:default:return"text/markdown"}}function r(e){switch(e){case"":case"text/html":return s.Html;case"text/plain":case"text/markdown":case"text/x-markdown":return s.Markdown;default:return s.Html}}function o(e){return i(r(e))}Object.defineProperty(t,"__esModule",{value:!0});var s,l=n(1),c=n(6),u=n(185);!function(e){e[e.Html=0]="Html",e[e.Markdown=1]="Markdown"}(s=t.MarkdownConverterMimeTypes||(t.MarkdownConverterMimeTypes={})),t.mimeTypeToString=i,t.stringToMimeType=r,t.translateMimeType=o;var p=function(t){function n(e){var n=t.call(this,e)||this;return n.converter=new a.getSanitizingConverter,n}return l.__extends(n,t),n.prototype.createSanitizedMarkup=function(){var e=r(this.props.mimeType)==s.Html,t=this.props.content&&e?this.props.content:this.props.content?this.converter.makeHtml(this.props.content):"";return this.props.insertNofollow&&(t=t.replace(/(<a .*?href=".*?".*?)(>)/g,'$1 rel="nofollow"$2')),{__html:t}},n.prototype.componentDidMount=function(){u.Render(this.props.content,this.renderedDiv)},n.prototype.componentDidUpdate=function(){u.Render(this.props.content,this.renderedDiv)},n.prototype.render=function(){var t=this;return e.createElement("div",{className:c("markdown-converter__text--rendered",this.props.contentClassName),ref:function(e){t.renderedDiv=e},dangerouslySetInnerHTML:this.createSanitizedMarkup()})},n}(e.Component);t.MarkdownConverter=p}).call(t,n(0),n(47))},,,,,,,,,function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(28),o=function(t){function n(e){var n=t.call(this,e)||this;return n.handleOpenClick=function(){n.props.onShow(),n.openModal()},n.handleCloseClick=function(){n.props.onClose(),n.closeModal()},n.openModal=function(){a("body").css({"overflow-x":"hidden","overflow-y":"scroll"}),a("html").css("overflow","hidden"),n.modalIsShown=!0},n.closeModal=function(){a("body").css({overflow:"visible"}),a("html").css("overflow","visible"),n.modalIsShown=!1},n.handleKeyDown=function(e){27==e.keyCode&&n.modalIsShown&&n.handleCloseClick()},n.handleStopPropagation=function(e){e.stopPropagation()},n.modalIsShown=e.modalIsShown,n}return i.__extends(n,t),n.prototype.componentDidMount=function(){a(document.body).on("keydown",this.handleKeyDown)},n.prototype.componentWillUnmount=function(){a(document.body).off("keydown",this.handleKeyDown)},n.prototype.componentWillReceiveProps=function(e){e.modalIsShown!=this.modalIsShown&&(e.modalIsShown?this.openModal():this.closeModal())},n.prototype.render=function(){return this.props.modalIsShown?e.createElement("div",{className:"modal"},e.createElement("div",{className:this.props.buttonClassName,onClick:this.handleOpenClick}),e.createElement("div",{className:"modal__background "+this.props.modalClassName,onMouseDown:this.handleCloseClick},e.createElement("div",{className:"modal__content",style:{display:"inline-block",margin:"auto"},onMouseDown:this.handleStopPropagation},this.props.modalContent||this.props.children))):null},n}(e.Component);t.Modal=o;var s=(u=["\n    background-color: rgba(230,230,230,0.45);\n    display: flex;\n    height: 100%;\n    left: 0;\n    overflow-y: scroll;\n    position: fixed;\n    top: 0;\n    width: 100%;\n    z-index: 1000;\n"],u.raw=["\n    background-color: rgba(230,230,230,0.45);\n    display: flex;\n    height: 100%;\n    left: 0;\n    overflow-y: scroll;\n    position: fixed;\n    top: 0;\n    width: 100%;\n    z-index: 1000;\n"],r.default.div(u)),l=(p=["\n    background-color: #fff;\n    border-radius: @border-radius;\n    box-shadow: 0px 0px 35px 0px rgba(0,0,0,0.25);\n    display: inline-block;\n    margin: auto;\n\n    /*\n    .responsive-mobile({\n        border-radius: 0;\n    });\n    */\n"],p.raw=["\n    background-color: #fff;\n    border-radius: @border-radius;\n    box-shadow: 0px 0px 35px 0px rgba(0,0,0,0.25);\n    display: inline-block;\n    margin: auto;\n\n    /*\n    .responsive-mobile({\n        border-radius: 0;\n    });\n    */\n"],r.default.div(p)),c=function(t){function n(e){var n=t.call(this,e)||this;return n.handleKeyDown=function(e){27==e.keyCode&&null!==n.state.modalContent&&n.resolveModal(null)},n.handleShow=function(e){n.setState({modalContent:e}),document.body.style.overflowX="hidden",document.body.style.overflowY="scroll",document.querySelector("html").style.overflow="hidden"},n.handleHide=function(){n.setState({modalContent:null}),document.body.style.overflow="visible",document.querySelector("html").style.overflow="visible"},n.handleStopPropagation=function(e){return e.stopPropagation()},n.resolve=null,n.reject=null,n.setResolvers=function(e,t){n.resolve=e,n.reject=t},n.resolveModal=function(e){var t=n.reject,a=n.resolve;if(n.setResolvers(null,null),null===a){var i=new Error("Modal must not resolve during its render");if(null===t)throw i;t(i)}else n.handleHide(),a(e)},n.renderModal=function(e){var t=e(function(e){return n.resolveModal(e)});return n.handleShow(t),new Promise(n.setResolvers)},n.state={modalContent:null},n}return i.__extends(n,t),n.prototype.componentDidMount=function(){document.body.addEventListener("keydown",this.handleKeyDown)},n.prototype.componentWillUnmount=function(){document.body.removeEventListener("keydown",this.handleKeyDown)},n.prototype.render=function(){var t=this,n=this.props,a=n.children,r=i.__rest(n,["children"]),o=this.state.modalContent,c=a(this.renderModal);return e.createElement("div",i.__assign({},r),c,o&&e.createElement(s,{onMouseDown:function(){return t.resolveModal(null)}},e.createElement(l,{onMouseDown:this.handleStopPropagation},o)))},n}(e.Component);t.ModalCallback=c;var u,p}).call(t,n(0),n(3))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Unknown=0]="Unknown",e[e.Initializing=1]="Initializing",e[e.Requested=2]="Requested",e[e.Queued=3]="Queued",e[e.Starting=4]="Starting",e[e.Running=5]="Running",e[e.Error=6]="Error",e[e.Stopped=7]="Stopped",e[e.DownloadingData=8]="DownloadingData",e[e.LostHeartbeat=9]="LostHeartbeat",e[e.Reconnecting=10]="Reconnecting",e[e.RenderingHtml=11]="RenderingHtml",e[e.RestartingKernel=12]="RestartingKernel"}(t.KernelStatus||(t.KernelStatus={}))},,,function(e,t,n){"use strict";(function(e){function a(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);t.numberWithCommas=a;var r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.render=function(){return e.createElement("span",null,a(this.props.number))},n}(e.Component);t.FormatNumber=r}).call(t,n(0))},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(0),r=n(11);t.ButtonRoundEdged=function(e){var t=e.text||e.children;r(t,"Must specify children (or deprecated text)");var n=e.disabled,o=e.onClick,s=e.href,l=e.className,c=e.primary,u=e.icon,p=a.__assign({},e.style||{},{opacity:n?.3:1});return i.createElement("a",{style:p,onClick:n?null:o,href:s,className:l||(c?"button-round-edged button-round-edged--primary":"button-round-edged")},u&&i.createElement("i",{className:"button-round-edged__icon "+u}),t)}},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(6),o=function(t){function n(e){var n=t.call(this,e)||this;return n.handleClick=function(e){n.props.isGreedy&&e.stopPropagation();var t=!n.state.isChecked;n.setState({isChecked:t}),n.props.onChange(t)},n.state={isChecked:!!n.props.isChecked},n}return i.__extends(n,t),n.prototype.componentWillReceiveProps=function(e){this.setState(a.extend({},{isChecked:e.isChecked}))},n.prototype.render=function(){var t=this;return e.createElement("div",{className:r("checkbox",this.props.isEditable&&this.props.textIsClickable?"checkbox--clickable":"")},e.createElement("span",{className:r("checkbox__box",this.props.isEditable&&!this.props.textIsClickable?"checkbox__box--clickable":"",this.props.isEditable?"":"checkbox__box--static",this.state.isChecked?"checkbox__box--checked":"checkbox__box--unchecked"),onClick:this.props.isEditable?this.handleClick:null}),e.createElement("span",{className:"checkbox__label",onClick:this.props.isEditable&&this.props.textIsClickable?this.handleClick:null},this.props.text),this.props.formInputName?e.createElement("input",{ref:function(e){return t.formInput=e},type:"hidden",name:this.props.formInputName,value:this.state.isChecked.toString()}):null)},n}(e.Component);t.Checkbox=o}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){function a(e){return void 0!==e.title?e:{title:e}}var i=this;Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(4),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.render=function(){return e.createElement("div",null,e.createElement(o.Modal,{onClose:this.props.onCancel,onShow:function(){},modalIsShown:this.props.isShown},e.createElement("div",{className:"confirm__modal"},e.createElement("div",{className:"confirm__title"},this.props.title),this.props.subtitle&&e.createElement("div",{className:"confirm__subtitle"},this.props.subtitle),e.createElement("div",{className:"confirm__content"},this.props.children),e.createElement("div",{className:"confirm__buttons"},e.createElement("div",{className:"confirm__cancel-button",onClick:this.props.onCancel},this.props.cancelText),e.createElement("div",{className:"confirm__confirm-button",onClick:this.props.onConfirm},this.props.confirmText)))))},n}(e.Component);t.Confirm=s,t.ConfirmCallback=function(t){var n=t.children,s=r.__rest(t,["children"]);return e.createElement(o.ModalCallback,r.__assign({},s),function(t){return n(function(n){return r.__awaiter(i,void 0,void 0,function(){var i,o,s,l;return r.__generator(this,function(r){switch(r.label){case 0:return i=a(n),o=i.confirmText||"Confirm",s=i.cancelText||"Cancel",[4,t(function(t){return e.createElement("div",{className:"confirm__modal"},e.createElement("div",{className:"confirm__title"},i.title),i.subtitle&&e.createElement("div",{className:"confirm__subtitle"},i.subtitle),i.content&&e.createElement("div",{className:"confirm__content"},i.content),e.createElement("div",{className:"confirm__buttons"},e.createElement("div",{className:"confirm__cancel-button",onClick:function(){return t(!1)}},s),e.createElement("div",{className:"confirm__confirm-button",onClick:function(){return t(!0)}},o)))})];case 1:return l=r.sent(),[2,l||!1]}})})})})}}).call(t,n(0))},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(0),r=n(81),o=function(e){function t(t){var n=e.call(this,t)||this;return n.onCancel=function(){n.props.cancelCallback(n.props.sectionName,n.props.cancelPropName)},n.onToggle=function(){n.props.toggleCallback(n.props.sectionName)},n.state={isEditing:t.isEditing},n}return a.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState({isEditing:e.isEditing})},t.prototype.render=function(){var e=this.props,t=e.isHidden,n=e.disabled,a=e.style;if(t)return null;var o=i.createElement(r.ButtonRoundEdged,{style:a,disabled:n,onClick:this.onToggle,className:this.props.className||"edit-state-toggle-button",text:this.state.isEditing?this.props.saveButtonText||"Save":this.props.editButtonText||"Edit"});return this.state.isEditing&&this.props.cancelCallback&&this.props.cancelPropName?i.createElement("div",{className:"edit-state-toggle-button__multiple-button-container"},i.createElement(r.ButtonRoundEdged,{style:a,disabled:n,onClick:this.onCancel,className:"edit-state-toggle-button--cancel"},"cancel"),o):o},t}(i.Component);t.EditStateToggleButton=o;var s=function(e){function t(t){var n=e.call(this,t)||this;return n.onButtonClick=function(){n.setState({isEditing:!n.state.isEditing})},n.state={isEditing:t.isEditing||!1},n}return a.__extends(t,e),t.prototype.render=function(){return i.createElement(o,{isEditing:!1,sectionName:"isEditing",toggleCallback:this.onButtonClick})},t}(i.Component);t.EditStateToggleButtonExample=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(1),r=n(0),o=n(3),s=n(50),l=n(6),c=n(398),u=n(11);!function(e){e[e.Compressing=0]="Compressing",e[e.Waiting=1]="Waiting",e[e.Uploading=2]="Uploading",e[e.Paused=3]="Paused",e[e.Canceled=4]="Canceled",e[e.Failed=5]="Failed",e[e.Complete=6]="Complete"}(a||(a={}));var p=["application/zip","application/x-zip","application/x-zip-compressed","application/x-compressed","application/x-compress","application/x-7z-compressed","application/x-rar-compressed","application/gzip","application/gzipped","application/gzip-compressed","application/gunzip","application/x-gzip","gzip/document"],d=function(e){return p.filter(function(t){return t===e.type}).length>0},m=function(e){function t(t){var n=e.call(this,t)||this;return n.dragCount=0,n.dragEnter=function(){n.dragCount++,n.setState({isDraggingOverWindow:!0})},n.dragLeave=function(){0==--n.dragCount&&n.setState({isDraggingOverWindow:!1})},n.dropFiles=function(e,t){var a=n.props,i=a.mode,r=a.confirm,o=n.state.files;if(!r)return function(){"single"==i&&o.length?n.removeFile(n.state.files[0],function(){n.uploadFiles(e)}):n.uploadFiles(e)}();n.setState({confirm:r("single"===i?e[0]:e),acceptedFiles:e})},n.uploadFiles=function(e){var t=e.filter(function(e){return 0==n.state.files.filter(function(t){return t.name==e.name&&t.status!=a.Canceled&&t.status!=a.Failed}).length});n.addFilesToState(t)},n.addFilesToState=function(e){var t=n.state.files.filter(function(t){return 0==e.filter(function(e){return e.name==t.name}).length});n.setState({files:t.concat(e.map(function(e,i){var r=d(e),o=null;return n.props.maxCompressedBytesAllowed&&r&&e.size>n.props.maxCompressedBytesAllowed&&(o="File exceeds the maximum allowed bytes for compressed files ("+s(n.props.maxCompressedBytesAllowed)+")"),n.props.maxUncompressedBytesAllowed&&!r&&e.size>n.props.maxUncompressedBytesAllowed&&(o="File exceeds the maximum allowed bytes ("+s(n.props.maxUncompressedBytesAllowed)+")"),{index:i+t.length,name:e.name,totalBytes:e.size,html5File:e,status:o?a.Failed:a.Waiting,lastModifiedDateUtc:e.lastModifiedDate?new Date(e.lastModifiedDate.toUTCString()).getTime():null,isCompressed:r,failureMessage:o}}))},function(){e.forEach(function(e){return n.startUploadingFile(e.name)})})},n.startUploadingFile=function(e){var t=n.props,a=t.createBlobUrl,i=t.entityName,r=t.onFileUploadStarted,s=t.overrideUpload;r&&r(e);var l=n.getFileState(e);if(s)return s(l).then(function(){return n.markFileAsComplete(l.name,null)});u(a||i,"FileUploader requires either a createBlobUrl or entityName property OR must have uploadCustom logic.");var c={fileName:l.compressedName||l.name,contentLength:l.totalBytes,lastModifiedDateUtc:l.lastModifiedDateUtc},p=a||"/blobs/inbox/"+i;o.ajax({context:n,url:p,type:"POST",dataType:"json",data:c,success:function(e){n.setFileState(l.name,{uploadUrl:e.resumeUrl||e.createUrl,totalBytesUploadedInPreviousChunks:e.uploadedBytes,totalBytesUploadedInCurrentChunk:0,maxChunkSize:e.maxChunkSize,status:l.status},function(){e.isComplete?n.markFileAsComplete(l.name,e.token):n.uploadNextChunk(l.name)})}})},n.uploadNextChunk=function(e){var t=n.getFileState(e);switch(t.status){case a.Canceled:case a.Complete:case a.Failed:return}var i=t.totalBytesUploadedInPreviousChunks,r=Math.min(t.totalBytesUploadedInPreviousChunks+t.maxChunkSize-1,t.totalBytes),s=t.html5File.slice(i,r,t.html5File.type),l=new FormData;l.append("file",s,t.compressedName||t.name);var c=n.getFileState(t.name).uploadUrl;o.ajax({context:n,url:c,type:"POST",dataType:"json",headers:{"Content-Range":"bytes "+i+"-"+r+"/"+t.totalBytes},contentType:!1,processData:!1,data:l,xhr:function(){var e=o.ajaxSettings.xhr();return n.setFileState(t.name,{abortCallback:function(){e.abort()}}),e.upload.onprogress=function(e){return n.setFileState(t.name,{status:a.Uploading,totalBytesUploadedInCurrentChunk:e.loaded})},e.upload.onload=function(e){return n.setFileState(t.name,{status:a.Uploading,totalBytesUploadedInCurrentChunk:e.loaded})},e},success:function(e){e.isComplete?n.markFileAsComplete(t.name,e.token):n.setFileState(t.name,{totalBytesUploadedInPreviousChunks:e.uploadedBytes,totalBytesUploadedInCurrentChunk:0},function(){return n.uploadNextChunk(t.name)})}})},n.cancelFile=function(e){n.multipleFileInput&&(n.multipleFileInput.value=""),n.singleFileInput&&(n.singleFileInput.value=""),n.removeFile(e)},n.removeFile=function(e,t){e.abortCallback&&e.abortCallback();var a=n.state.files.filter(function(t){return t.name!=e.name});n.setState({files:a},function(){t&&t()})},n.pauseFile=function(e){e.abortCallback(),n.setFileState(e.name,{status:a.Paused})},n.markFileAsComplete=function(e,t){n.props.overrideUpload||u(t,"token is required when not using custom overrideUpload logic.");var i=n.getFileState(e),r=function(){return n.props.onFileUploadFinished(i.compressedName||i.name,t,i.totalBytes)};n.setFileState(e,{status:a.Complete,totalBytesUploadedInPreviousChunks:i.totalBytes,token:t},r)},n.getFileState=function(e){var t=n.state.files.filter(function(t){return t.name==e});return 0==t.length?null:t[0]},n.setFileState=function(e,t,a){var i=n.state.files.filter(function(t){return t.name!=e}),r=n.getFileState(e);n.setState(o.extend({},n.state,{files:i.concat(o.extend({},r,t))}),a)},n.state={files:[],isDraggingOverWindow:!1,isDraggingOverFileDrop:!1},n}return i.__extends(t,e),t.prototype.componentDidMount=function(){document.addEventListener("dragenter",this.dragEnter),document.addEventListener("dragleave",this.dragLeave)},t.prototype.componentWillUnmount=function(){document.removeEventListener("dragleave",this.dragLeave),document.removeEventListener("dragenter",this.dragEnter)},t.prototype.componentDidUpdate=function(e,t){if(this.props.onFilesPendingUpdated){var n=function(e){return e.filter(function(e){return e.status==a.Paused||e.status==a.Uploading||e.status==a.Waiting}).length},i=function(e){return e.filter(function(e){return e.status==a.Complete}).length},r=n(t.files),o=i(t.files),s=n(this.state.files),l=i(this.state.files);r==s&&o==l||this.props.onFilesPendingUpdated(s,l)}},t.prototype.render=function(){var e=this,t=this.props,n=t.mode,i=t.singleFileButtonLabel,o=t.multipleFileButtonLabel,u=t.onConfirmAccept,p=t.onConfirmCancel,d=t.overrideUpload,m=t.children,h=this.state.confirm,g="multiple"===n?o:i,f="multiple"===n?"Files":"File",v=this.state.isDraggingOverWindow?"Drop "+f+" Here":g||"Upload "+f;return r.createElement("div",{className:"file-uploader"},h?r.createElement("section",{className:"file-uploader__confirm"},r.createElement("div",null,h),r.createElement("button",{onClick:function(){u&&u("multiple"===n?e.state.files:e.state.files[0]),e.setState({confirm:null}),e.uploadFiles(e.state.acceptedFiles)}},"Confirm"),r.createElement("button",{onClick:function(){p&&p("multiple"===n?e.state.files:e.state.files[0]),e.setState({confirm:null})}},"Cancel")):r.createElement(c,{name:"files"+this.props.suffix,id:"files"+this.props.suffix,className:this.props.className+" file-uploader__file-drop file-uploader__file-drop--"+(this.props.compact?"compact":"full")+" "+(this.state.isDraggingOverWindow?"file-uploader__file-drop--window-active":"")+" "+(this.state.isDraggingOverFileDrop?"file-uploader__file-drop--file-drop-active":""),onDrop:this.dropFiles,multiple:"multiple"==n,onDragLeave:function(){return e.setState({isDraggingOverFileDrop:!1})},onDragEnter:function(){return e.setState({isDraggingOverFileDrop:!0})}},r.createElement("div",{className:"fa "+(!this.props.compact&&this.state.isDraggingOverWindow?"fa-hand-grab-o":"fa-upload")+" file-uploader__upload-icon "+(this.props.compact?"file-uploader__upload-icon--compact":"")}),r.createElement("div",null,v)),r.createElement("div",{className:"file-uploader__files-container "+(this.props.filesClassName?this.props.filesClassName:""),style:this.state.files.length>0?{}:{display:"none"}},null==this.state?"":this.state.files.sort(function(e,t){return e.index>t.index?1:-1}).map(function(t){if(e.props.autoRemoveOnComplete&&t.status==a.Complete)return null;var n=Math.min((t.totalBytesUploadedInPreviousChunks||0)+(t.totalBytesUploadedInCurrentChunk||0),t.totalBytes),i=n/t.totalBytes*100,o=t.status==a.Waiting||t.status==a.Uploading||t.status==a.Paused,c=t.status==a.Waiting||t.status==a.Uploading,u=t.status==a.Paused,p=u?{display:"none"}:null,h=u?null:{display:"none"},g={width:i+"%"},f=s(t.totalBytes-n,{output:"object"}),v=s(t.totalBytes);return r.createElement("div",{className:"file-uploader__file-row",key:t.name},r.createElement("div",{className:"file-uploader__file-name"},t.compressedName||t.name," (",v,") "),d||m?m||null:r.createElement("div",{className:"file-uploader__progress-container"},r.createElement("div",{className:l("file-uploader__progress-bar","file-uploader__progress-bar--"+a[t.status].toLowerCase()),style:g}),t.status==a.Failed?r.createElement("div",{className:"file-uploader__status-container file-uploader__status-container--failed"},"Failed: "+t.failureMessage):r.createElement("div",{className:l("file-uploader__status-container","file-uploader__status-container--"+a[t.status].toLowerCase())},r.createElement("div",{title:"Cancel upload",className:l("file-uploader__status-button","file-uploader__status-button--cancel",o?null:"file-uploader__status-button--disabled"),onClick:o?function(){return e.cancelFile(t)}:null}),r.createElement("div",{title:"Pause upload",className:l("file-uploader__status-button","file-uploader__status-button--pause",c?null:"file-uploader__status-button--disabled"),onClick:c?function(){return e.pauseFile(t)}:null,style:p}),r.createElement("div",{title:"Resume upload",className:l("file-uploader__status-button","file-uploader__status-button--resume",u?null:"file-uploader__status-button--disabled"),onClick:u?function(){return e.startUploadingFile(t.name)}:null,style:h}),r.createElement("div",{className:"file-uploader__status"},a[t.status]),r.createElement("div",{className:"file-uploader__percent"},Math.floor(i),"%"),t.status==a.Complete?r.createElement("div",{className:"file-uploader__bytes"},v):r.createElement("div",{className:"file-uploader__bytes"},f.value.toFixed(2)+" "+f.suffix," left"))))})))},t}(r.Component);t.FileUploader=m;var h;!function(e){e[e.None=0]="None",e[e.OverWindow=1]="OverWindow",e[e.OverFileDrop=2]="OverFileDrop"}(h||(h={}));var g=function(e){function t(t){var n=e.call(this,t)||this;return n.dragCount=0,n.dragEnter=function(){n.dragCount++,n.setState({draggingFlags:h.OverWindow})},n.dragLeave=function(){0==--n.dragCount&&n.setState({draggingFlags:h.None})},n.dropFiles=function(e,t){u(e.length<=1,"Maximum of 1 file supported in BackgroundFileUploader.");var a=n.state.files,i=a[0];i?n.removeFile(i,function(){return n.uploadFiles(e)}):n.uploadFiles(e)},n.uploadFiles=function(e){var t=e.filter(function(e){return 0==n.state.files.filter(function(t){return t.name==e.name&&t.status!=a.Canceled&&t.status!=a.Failed}).length});n.addFilesToState(t)},n.addFilesToState=function(e){var t=n.state.files.filter(function(t){return 0==e.filter(function(e){return e.name==t.name}).length});n.setState({files:t.concat(e.map(function(e,i){var r=d(e),o=null;return n.props.maxCompressedBytesAllowed&&r&&e.size>n.props.maxCompressedBytesAllowed&&(o="File exceeds the maximum allowed bytes for compressed files ("+s(n.props.maxCompressedBytesAllowed)+")"),n.props.maxUncompressedBytesAllowed&&!r&&e.size>n.props.maxUncompressedBytesAllowed&&(o="File exceeds the maximum allowed bytes ("+s(n.props.maxUncompressedBytesAllowed)+")"),{index:i+t.length,name:e.name,totalBytes:e.size,html5File:e,status:o?a.Failed:a.Waiting,lastModifiedDateUtc:e.lastModifiedDate?new Date(e.lastModifiedDate.toUTCString()).getTime():null,isCompressed:r,failureMessage:o}}))},function(){e.forEach(function(e){return n.startUploadingFile(e.name)})})},n.startUploadingFile=function(e){var t=n.props,a=t.onUploadStarted,i=t.upload;a&&a(e);var r=n.getFileState(e);return i(r).then(function(){n.markFileAsComplete(r.name)})},n.cancelFile=function(e){n.singleFileInput&&(n.singleFileInput.value=""),n.removeFile(e)},n.removeFile=function(e,t){e.abortCallback&&e.abortCallback();var a=n.state.files.filter(function(t){return t.name!=e.name});n.setState({files:a},t)},n.pauseFile=function(e){e.abortCallback(),n.setFileState(e.name,{status:a.Paused})},n.markFileAsComplete=function(e){var t=n.props,i=(t.upload,t.onUploadFinished),r=n.getFileState(e);n.setFileState(e,{status:a.Complete,totalBytesUploadedInPreviousChunks:r.totalBytes},function(){i&&i(r.compressedName||r.name,r.totalBytes)})},n.getFileState=function(e){var t=n.state.files.filter(function(t){return t.name==e});return 0==t.length?null:t[0]},n.setFileState=function(e,t,a){var r=n.state.files.filter(function(t){return t.name!=e}),o=r.concat(i.__assign({},n.getFileState(e),t));n.setState({files:o},a)},n.state={files:[],draggingFlags:h.None},n}return i.__extends(t,e),t.prototype.componentDidMount=function(){document.addEventListener("dragenter",this.dragEnter),document.addEventListener("dragleave",this.dragLeave)},t.prototype.componentWillUnmount=function(){document.removeEventListener("dragleave",this.dragLeave),document.removeEventListener("dragenter",this.dragEnter)},t.prototype.render=function(){var e=this,t=this.props,n=t.type,a=(t.upload,t.hide),i=t.children,o=this.state.draggingFlags,s=!!(o&h.OverWindow),u=!!(o&h.OverFileDrop),p=l("file-uploader__file-drop file-uploader__file-drop--compact",{"file-uploader__file-drop--window-active":s,"file-uploader__file-drop--file-drop-active":u}),d={};return a&&(d.display="none"),r.createElement(c,{style:d,disableClick:this.props.disabled,name:"files"+n,id:"files"+n,className:p,onDrop:this.dropFiles,multiple:!1,onDragLeave:function(){return e.setState({draggingFlags:h.OverWindow})},onDragEnter:function(){return e.setState({draggingFlags:h.OverWindow|h.OverFileDrop})}},i)},t}(r.Component);t.SimpleFileUploader=g},function(e,t,n){"use strict";(function(e,a){function i(e){switch("."==e.substring(0,1)?e.substring(1):e){case"csv":return"fa fa-table";case"sqlite":return"fa fa-database";case"sqlitetable":return"fa fa-table";case"png":case"jpg":case"gif":return"fa fa-picture-o";case"txt":case"json":return"fa fa-file-text-o";case"zip":case"7z":case"gz":case"tar":return"fa fa-file-zip-o";default:return"fa fa-file-o"}}function r(e){switch("."==e.substring(0,1)?e.substring(1):e){case"csv":return 0;case"json":return 1;case"sqlite":return 2;case"sqlitetable":return 3;case"txt":return 4;case"png":case"jpg":case"gif":return 5;case"zip":case"7z":case"gz":case"tar":return 10;default:return 6}}Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(1),l=n(4),c=n(32),u=n(50),p=n(188),d=n(401);!function(e){e[e.Image=0]="Image",e[e.Csv=1]="Csv",e[e.File=2]="File",e[e.Text=3]="Text",e[e.Archive=4]="Archive",e[e.Json=5]="Json",e[e.Sqlite=6]="Sqlite"}(o=t.FilePreviewDisplayType||(t.FilePreviewDisplayType={}));var m=function(t){function n(n){var a=t.call(this,n)||this;return a.getDefaultExpandedDataSources=function(){return a.props.initialExpandedDataSourcesState?a.props.initialExpandedDataSourcesState.expandedDataSources:a.hasAtLeastOneDataSource()?a.props.dataSources.map(function(e){return!0}):[!0]},a.getDefaultActiveDataSource=function(){return a.props.initialExpandedDataSourcesState?a.props.initialExpandedDataSourcesState.activeDataSource:a.hasAtLeastOneDataSource()?a.props.dataSources[0]:null},a.getDefaultIsShowingDatasource=function(){return a.props.initialExpandedDataSourcesState?a.props.initialExpandedDataSourcesState.isShowingDataSourcePreview:null!=a.props.dataSources},a.setActiveFile=function(e){var t=a.props.dataSources&&c.find(a.props.dataSources,function(t){return c.includes(t.files,e)});a.setState({activeFile:e,activeDataSource:t,isShowingDataSourcePreview:!1}),a.updatePassedUpState({activeFile:e,activeDataSource:t,isShowingDataSourcePreview:!1})},a.hasAtLeastOneDataSource=function(){var e=a.props.dataSources;return e&&e.length>=1},a.handleFileContentUpdated=function(e){var t=null==a.state.fileContentCache?[]:a.state.fileContentCache.filter(function(t){return t.fileName!=e.fileName});t.push(e),a.setState({fileContentCache:t})},a.truncateText=function(e){return e.length>20?e.substring(0,20)+"":e},a.setDataSourceVisibility=function(e,t){var n=a.props.dataSources.findIndex(function(t){return t.sourceId===e.sourceId&&t.sourceType===e.sourceType});e=a.props.dataSources[n];var i=a.state.expandedDataSources,r=void 0!==t?t:!i[n];i[n]=r;var o=r&&!(e.files&&e.files.some(function(e){return e.fileName===a.state.activeFile})),s=(o?a.getDefaultFile(n):a.state.activeFile,r?e:a.state.activeDataSource);a.setState({expandedDataSources:i,activeFile:null,activeDataSource:s,isShowingDataSourcePreview:!0}),a.updatePassedUpState({expandedDataSources:i,activeFile:null,activeDataSource:s,isShowingDataSourcePreview:!0})},a.toggleDataSourceVisibility=function(e){var t=a.props.dataSources.findIndex(function(t){return t.sourceId===e.sourceId&&t.sourceType===e.sourceType}),n=a.state.expandedDataSources;n[t]=!n[t],a.setState({expandedDataSources:n}),a.updatePassedUpState({expandedDataSources:n})},a.setDataSourcePreview=function(e){var t=a.props.dataSources.findIndex(function(t){return t.sourceId===e.sourceId&&t.sourceType===e.sourceType}),n=e,i=a.state.expandedDataSources;i[t]=!0,a.setState({activeFile:null,activeDataSource:n,expandedDataSources:i,isShowingDataSourcePreview:!0}),a.updatePassedUpState({activeFile:null,activeDataSource:n,expandedDataSources:i,isShowingDataSourcePreview:!0})},a.checkPathChange=function(e){if(a.mounted){var t=a.props.dataSources.length;2===t&&1===e&&l.PageMessages.info('Data file paths changed to "../input/dataset-slug/"',{clear:!0}),1===t&&-1===e&&l.PageMessages.info('Data file paths changed to "../input/"',{clear:!0})}},a.onAddDataSourceClicked=function(){a.setState({showAddDataSource:!0})},a.onAddDataSourceClosed=function(){a.setState({showAddDataSource:!1})},a.onDataSourceAdded=function(e){var t=a.props,n=t.onDataSourceAdded;t.dataSources;return n&&n(e).then(function(){a.setDataSourceVisibility(e,!0),a.checkPathChange(1),a.setState({showAddDataSource:!1})})},a.onDataSourceRemoved=function(e,t){a.props.onDataSourceRemoved&&a.props.onDataSourceRemoved(t).then(function(){var e=a.props.dataSources;e.length>0&&a.setDataSourceVisibility(e[0],!0),a.checkPathChange(-1)}),e.stopPropagation()},a.renderDataSource=function(t,n){var i=(t.files.map(function(e){return e.contentLengthInBytes}).reduce(function(e,t){return e+t},0),a.state.expandedDataSources[n]),r=a.state.isShowingDataSourcePreview&&a.state.activeDataSource.slug===t.slug;return e.createElement("div",{key:n},e.createElement("div",{className:"file-preview-list__list-data-source-header "+(r?"file-preview-list__list-data-source-header--selected":"")},e.createElement("i",{className:"file-preview-list__list-data-source-caret fa fa-caret-"+(i?"down":"right"),onClick:function(){return a.toggleDataSourceVisibility(t)}}),e.createElement("div",{className:"file-preview-list__list-data-source-data",onClick:function(){a.setDataSourcePreview(t)}},e.createElement("div",{className:"file-preview-list__list-data-source-name",title:t.name},a.truncateText(t.name)))),i&&e.createElement("div",{className:"file-preview-list__list-data-source-files"},t.files.map(a.renderDataSourceFile)))},a.renderDataSourceFile=function(t,n){return e.createElement("div",{key:n,className:"file-preview-list__list-item"+(t.fileName===(a.state.activeFile&&a.state.activeFile.fileName)?" file-preview-list__list-item--active":"")+(".sqlitetable"==t.fileType?" file-preview-list__list-item--indented":""),onClick:function(){return a.setActiveFile(t)}},e.createElement("div",{className:"file-preview-list__icon"},e.createElement("span",{className:i(t.fileType)})),e.createElement("div",{className:"file-preview-list__filename",title:t.fileName},a.truncateText(t.fileName),t.validationError?e.createElement("span",{className:"file-preview-list__validation-error"},e.createElement("span",{title:t.validationError,className:"fa fa-warning"})):null))},a.getFiles=function(){return c.flatten(c.pluck(a.props.dataSources,"files"))},a.handleMetadataChange=function(e,t,n){var i=(a.state.fileContentCache||[]).filter(function(t){return t.fileName===e})[0];if(!i)return void l.Current.warn("Ignoring metadata update; cache invalid");i.columns[t]=n;var r=(a.state.fileContentCache||[]).filter(function(t){return t.fileName!==e});r.push(i),a.setState({fileContentCache:r}),a.props.onMetadataChange(e,t,n)},a.handleSaveFileDescription=function(){a.setState({activeFile:a.props.files.filter(function(e){return e.fileName==a.state.activeFile.fileName})[0]})},a.state={activeFile:a.getDefaultFile(),expandedDataSources:a.getDefaultExpandedDataSources(),activeDataSource:a.getDefaultActiveDataSource(),isShowingDataSourcePreview:a.getDefaultIsShowingDatasource(),showAddDataSource:!1},a}return s.__extends(n,t),n.prototype.componentDidReceiveProps=function(e){!this.state.activeFile&&this.props.files&&this.props.files.length>0&&this.setState({activeFile:this.props.files[0]})},n.prototype.updatePassedUpState=function(e){if(this.props.passUpExpandedDataSourcesState){var t=Object.assign(this.state,e);this.props.passUpExpandedDataSourcesState(t)}},n.prototype.componentDidMount=function(){this.mounted=!0},n.prototype.componentWillUnmount=function(){this.mounted=!1},n.prototype.getDefaultFile=function(e){if(void 0===e&&(e=0),this.props.initialExpandedDataSourcesState)return this.props.initialExpandedDataSourcesState.activeFile;if(this.props.dataSources)return null;var t=this.props,n=t.dataSources,a=t.files;return n&&n.length>0&&n[e].files.length>0?n[e].files[0]:a&&a.length>0&&a[0]},n.prototype.render=function(){var t=this,n=this.props,a=n.files,o=n.scriptVersionId,c=n.dataSources;if(!(a||c&&0!==c.length))return null;var u=a?a.slice():[];u.sort(function(e,t){var n=e.fileName.split("."),a=t.fileName.split("."),i=n[n.length-1],o=a[a.length-1],s=r(e.fileType||i),l=r(t.fileType||o);return s<l?-1:l<s?1:e.fileName.toLowerCase()<t.fileName.toLowerCase()?-1:e.fileName.toLowerCase()>t.fileName.toLowerCase()?1:0});var p=c?e.createElement("div",{className:"file-preview-list__list file-preview-list__list--data-sources"},c.map(this.renderDataSource),!this.props.disableEditing&&e.createElement(l.ButtonAutoWidth,{text:"Add a Data Source",classNames:"file-preview-list__list-add-button",onClick:this.onAddDataSourceClicked})):e.createElement("div",{className:"file-preview-list__list"},u.map(function(n){return e.createElement("div",{className:"file-preview-list__list-item"+(n.fileName===(t.state.activeFile&&t.state.activeFile.fileName)?" file-preview-list__list-item--active":"")+(".sqlitetable"==n.fileType?" file-preview-list__list-item--indented":""),onClick:function(){t.setActiveFile(n)},key:"file-list-"+n.fileName+(".sqlitetable"==n.fileType?"-table":"")},e.createElement("div",{className:"file-preview-list__icon"},e.createElement("span",{className:i(n.fileType)})),e.createElement("div",{className:"file-preview-list__filename",title:n.fileName},n.fileName.length>20?n.fileName.substring(0,20)+"":n.fileName,n.validationError?e.createElement("span",{className:"file-preview-list__validation-error"},e.createElement("span",{title:n.validationError,className:"fa fa-warning"})):null))}),this.props.onAddNewDatasetVersion&&this.props.canEdit?e.createElement("button",{className:"button-auto-width file-preview-list__list-add-button",onClick:function(){return t.props.onAddNewDatasetVersion("NewVersion")}},"New Dataset Version"):null),d=null!=this.state.fileContentCache&&this.state.activeFile?this.state.fileContentCache.filter(function(e){return e.fileName==t.state.activeFile.fileName})[0]:null;return e.createElement("div",{className:"file-preview-list__section"},p,this.state.isShowingDataSourcePreview?e.createElement(g,{activeDataSource:this.state.activeDataSource,disableEditing:this.props.disableEditing,onDataSourceRemoved:this.onDataSourceRemoved}):e.createElement(h,s.__assign({key:"file-"+(this.state.activeFile&&this.state.activeFile.fileName),submitToCompUrl:this.props.submitToCompUrl,showSubmitToCompButton:this.props.showSubmitToCompButtons,scriptVersionId:o,competitionName:this.props.competitionName,onFileContentUpdated:this.handleFileContentUpdated,csvPreviewContents:null==d?null:d.csvPreviewContents,textPreviewContents:null==d?null:d.textPreviewContents,exceededMaxSize:null==d?null:d.exceededMaxSize,userCanEditMetadata:this.props.userCanEditMetadata,onMetadataChange:function(e,n){return t.state.activeFile&&t.handleMetadataChange(t.state.activeFile.fileName,e,n)},columnMetadata:null==d?null:d.columns,onStartEditingMetadata:this.props.onStartEditingMetadata,dataSource:this.state.activeDataSource,onInnerSaveFileDescription:this.handleSaveFileDescription},this.state.activeFile)),e.createElement(l.AddDataSourceModal,{isShown:this.state.showAddDataSource,onClose:this.onAddDataSourceClosed,onDataSourceAdded:this.onDataSourceAdded,referrer:"FilePreviewList"}))},n}(e.Component);t.FilePreviewList=m;var h=function(t){function n(e){var n=t.call(this,e)||this;return n.shouldFetchPreview=function(){return n.displayType!==o.Archive&&n.displayType!==o.Image},n.parsePreviewData=function(e){return e.error?void n.setState({previewRequestInFlight:!1,previewFetchErrorText:e.error||"Invalid CSV data"}):e.noPreviewAvailable?void n.setState({previewRequestInFlight:!1,noPreviewAvailable:!0}):(n.props.onFileContentUpdated&&n.props.onFileContentUpdated({fileName:n.props.fileName,csvPreviewContents:e.csvData,textPreviewContents:e.textData,exceededMaxSize:e.exceededMaxSize,columns:e.columns}),void n.setState({previewRequestInFlight:!1,csvPreviewContents:e.csvData,textPreviewContents:e.textData,previewFetchErrorText:null,dataIsTruncated:!!e.exceededMaxSize,isShowingMore:n.props.alwaysShowMore,columnMetadata:e.columns,isShowingColumnDescriptionList:!1,editingColumnIndex:null}))},n.fetchLastVersionMetadata=function(){a.ajax({url:n.props.lastVersionMetadataUrl,dataType:"json",success:function(e){n.populateNewFileColumnDataFromLastVersion(e.columns)},error:function(e,t,n){l.Current.warn("Could not populate new file column descriptions"),l.Current.log(t+": "+n)}})},n.populateNewFileColumnDataFromLastVersion=function(e){for(var t=0;t<Math.min(n.state.csvPreviewContents[0].length,(e||[]).length)&&n.state.csvPreviewContents[0][t]===e[t].name;t++)n.props.onMetadataChange(t,e[t])},n.handleToggleShowColumnDescriptions=function(e){e.preventDefault(),n.setState({isShowingColumnDescriptionList:!n.state.isShowingColumnDescriptionList})},n.handleEditFileDescription=function(){if(n.props.onStartEditingMetadata)return void n.props.onStartEditingMetadata();n.setState({isEditingDescription:!0})},n.handleSaveFileDescription=function(){n.props.onInnerSaveFileDescription(),n.setState({isEditingDescription:!1})},[".png",".jpg",".jpeg",".gif"].indexOf(n.props.fileType)>-1?n.displayType=o.Image:".csv"===n.props.fileType?n.displayType=o.Csv:".json"===n.props.fileType?n.displayType=o.Json:[".zip",".gz",".7z",".tar"].indexOf(n.props.fileType)>-1?n.displayType=o.Archive:".sqlite"===n.props.fileType?n.displayType=o.Sqlite:n.displayType=o.File,n.state={previewRequestInFlight:n.shouldFetchPreview(),csvPreviewContents:n.props.csvPreviewContents||[[]],textPreviewContents:n.props.textPreviewContents||"",previewFetchErrorText:"",dataIsTruncated:null,isShowingMore:!1,noPreviewAvailable:!1,columnMetadata:n.props.columnMetadata||[]},n}return s.__extends(n,t),n.prototype.componentDidMount=function(){var e=this;if(this.shouldFetchPreview())return this.props.csvPreviewContents||this.props.textPreviewContents?void this.parsePreviewData({csvData:this.props.csvPreviewContents,textData:this.props.textPreviewContents,exceededMaxSize:this.props.exceededMaxSize,columns:this.props.columnMetadata}):void a.ajax({url:this.props.filePreviewUrl,success:function(t){e.parsePreviewData(t),e.props.lastVersionMetadataUrl&&e.fetchLastVersionMetadata()},error:function(t,n,a){e.setState({previewRequestInFlight:!1,previewFetchErrorText:n+" "+a})}})},n.prototype.render=function(){return e.createElement(v,s.__assign({imagePreviewUrl:this.displayType===o.Image?this.props.fileUrl:null,onToggleShowColumnDescriptionList:this.handleToggleShowColumnDescriptions,onEditFileDescription:this.handleEditFileDescription,displayType:this.displayType},this.props,this.state,{onInnerSaveFileDescription:this.handleSaveFileDescription}))},n}(e.Component);t.FilePreviewContainer=h;var g=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(n,t),n.prototype.render=function(){return e.createElement(f,s.__assign({},this.props))},n}(e.Component);t.DatasourcePreviewContainer=g;var f=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props.activeDataSource;return e.createElement("div",{className:"datasource-preview"},e.createElement("div",{className:"datasource-preview__head"},e.createElement("div",{className:"datasource-preview__head-image"},e.createElement("a",{href:n.sourceUrl,target:"_blank"},e.createElement("img",{src:n.imageUrl}))),e.createElement("div",{className:"datasource-preview__head-meta"},e.createElement("div",{className:"datasource-preview__head-title"},e.createElement("a",{href:n.sourceUrl,target:"_blank"},n.name)),e.createElement("div",{className:"datasource-preview__head-tagline"},n.overview),e.createElement("div",{className:"datasource-preview__head-updated"},"Last updated ",e.createElement(l.TimeAgo,{time:n.lastUpdated}))),e.createElement("div",{className:"datasource-preview__head-actions"},n.sourceId&&!this.props.disableEditing&&e.createElement("button",{className:"datasource-preview__remove-button",onClick:function(e){return t.props.onDataSourceRemoved(e,n)}},e.createElement("i",{className:"fa fa-trash-o"}),"Remove ",e.createElement("span",{style:{textTransform:"capitalize"}},n.sourceType)))),e.createElement("div",{className:"datasource-preview__about"},e.createElement("div",{className:"datasource-preview__subhead"},"About this ",e.createElement("span",{style:{textTransform:"capitalize"}},n.sourceType)),e.createElement("div",{className:"datasource-preview__about-content"},e.createElement(l.MarkdownConverter,{content:n.description,mimeType:n.descriptionMimeType,insertNofollow:!0}))))},n}(e.Component),v=function(t){function n(n){var a=t.call(this,n)||this;return a.renderFetchMessage=function(){return a.props.previewRequestInFlight?e.createElement("div",{className:"file-preview__contents-loading-message"},"Loading..."):a.props.previewFetchErrorText?e.createElement("div",{className:"file-preview__error-message"},a.props.previewFetchErrorText):a.props.noPreviewAvailable?e.createElement("div",{className:"file-preview__no-preview-message"},"No preview available for this format"):null},a.renderOptionalImagePreview=function(){return a.props.imagePreviewUrl?e.createElement("img",{src:a.props.imagePreviewUrl}):null},a.renderOptionalTextPreview=function(){return a.props.textPreviewContents&&a.props.displayType!=o.Json?e.createElement("div",{className:"file-preview__text-preview-container"},a.props.textPreviewContents):null},a.isCsvFile=function(){return!(!a.props.csvPreviewContents||0===a.props.csvPreviewContents.length||0===a.props.csvPreviewContents[0].length)},a.canShowColumnDescriptionList=function(){return!!(a.props.columnMetadata&&a.props.columnMetadata.some(function(e){return!!e.description})||a.props.userCanEditMetadata)},a.renderOptionalColumnDescriptionList=function(){if(!a.isCsvFile())return null;var t=a.props.columnMetadata&&a.props.columnMetadata.some(function(e){return!!e.description});if(!a.canShowColumnDescriptionList())return null;a.props.isShowingColumnDescriptionList||t||!a.props.userCanEditMetadata?a.props.isShowingColumnDescriptionList?"Hide":"Show":"Edit";var n=a.getColumnMetadata();return a.props.isShowingColumnDescriptionList?e.createElement("div",{className:"file-preview__descriptions"},n.map(function(t,n){return e.createElement(_,{key:a.props.reactKey+"col-metadata-"+n,initialMetadata:t,canEdit:a.props.userCanEditMetadata,onStartEditing:a.props.onStartEditingMetadata,onMetadataChange:function(e){return a.props.onMetadataChange(n,e)}})})):null},a.getColumnMetadata=function(){var e=a.props.columnMetadata||[];return a.props.csvPreviewContents[0].map(function(e,t){return{name:e,description:"",harmonizedDataType:a.guessCsvDataType(t)}}).map(function(t,n){return e[n]?e[n]:t})},a.guessCsvDataType=function(e){var t=Math.min(10,a.props.csvPreviewContents.length),n=a.props.csvPreviewContents.slice(1,t).map(function(t){return t[e]});return n.some(function(e){return"true"===e||"false"===e})?"Boolean":n.some(function(e){return!isNaN(new Date(e).getTime())})?"DateTime":n.some(function(e){return!isNaN(+e)})?"Numeric":"String"},a.handleCsvPreviewScroll=function(e){var t=e.nativeEvent.target.scrollTop;a.csvHeader.style.transform="translateY("+t+"px)",a.csvHeader.style.boxShadow=t>0?"0 1px 3px rgba(0,0,0,0.15)":"none"},a.renderCsvHeaderCell=function(t,n,i){var r=!1,o=null,s="none";if(i&&i.length>n){var c=i[n];s=c.harmonizedDataType?c.harmonizedDataType.toLowerCase():"none";var u=null;c.description?(u=e.createElement("div",{className:"file-preview__csv-preview-info-tooltip"},e.createElement("div",{className:"file-preview__csv-preview-info-tooltip-header"},c.harmonizedDataType),e.createElement(l.MarkdownConverter,{contentClassName:"file-preview__csv-preview-info-tooltip-description",content:c.description,mimeType:"text/markdown",insertNofollow:!0})),e.createElement("span",{className:"file-preview__csv-preview-info-icon fa fa-info-circle"}),r=!0):(u=e.createElement("div",{className:"file-preview__csv-preview-info-tooltip"},e.createElement("div",{className:"file-preview__csv-preview-info-tooltip-header"},e.createElement("div",null,c.harmonizedDataType)),a.props.userCanEditMetadata&&e.createElement("div",{className:"file-preview__csv-preview-info-tooltip-instruction"},"Click to add a description of this column.")),e.createElement("span",{className:"file-preview__csv-preview-info-icon file-preview__csv-preview-info-icon--notooltip"+(a.props.userCanEditMetadata?" fa fa-pencil":"")})),o=e.createElement(l.ToolTipMultiLine,{tipContent:u,alignLeft:!0},c.name||t)}else o=e.createElement("span",null,t);return e.createElement("div",{key:a.props.reactKey+"-header-"+n,className:"file-preview__csv-preview-header-cell file-preview__csv-preview-header-cell--"+s+" "+(r?"file-preview__csv-preview-header-cell--info ":"")+" "+(a.canShowColumnDescriptionList()&&!a.props.isShowingColumnDescriptionList?"file-preview__csv-preview-header-cell--editable ":""),onClick:a.canShowColumnDescriptionList()&&!a.props.isShowingColumnDescriptionList?a.props.onToggleShowColumnDescriptionList:null},o)},a.renderOptionalCsvPreviewTable=function(){if(!a.isCsvFile())return null;if(a.props.isShowingColumnDescriptionList)return null;var t=a.props.csvPreviewContents[0],n=a.props.csvPreviewContents.slice(1,a.numLinesWhenShowingMore+1),i=a.getColumnMetadata();return e.createElement("div",{className:"file-preview__csv-preview-container",onScroll:function(e){return a.handleCsvPreviewScroll(e)}},e.createElement("div",{className:"file-preview__csv-preview-inner"},e.createElement("div",{className:"file-preview__csv-preview-inner-inner"},e.createElement("div",{className:"file-preview__csv-preview"},e.createElement("div",{className:"file-preview__csv-preview-header-row",ref:function(e){a.csvHeader=e}},t.map(function(e,t){return a.renderCsvHeaderCell(e,t,i)})),n.map(function(t,n){return e.createElement("div",{key:a.props.reactKey+"-row-"+n,className:"file-preview__csv-preview-row"},t.map(function(t,r){if(r<i.length){var o=i[r].harmonizedDataType?i[r].harmonizedDataType.toLowerCase():"none";return e.createElement("div",{key:a.props.reactKey+"-row-"+n+"-col-"+r,className:"file-preview__csv-preview-cell file-preview__csv-preview-cell--"+o},t)}return null}))})))))},a.renderOptionalJsonPreview=function(){return a.props.textPreviewContents&&a.props.displayType==o.Json?e.createElement(d,{data:JSON.parse(a.props.textPreviewContents)}):null},a.handleSaveFileDescription=function(){a.props.onInnerSaveFileDescription(),a.props.onSaveFileDescription()},a.handleToggleModal=function(){document.documentElement.style.overflowY=a.state.modalPreviewOpen?"scroll":"hidden",a.setState({modalPreviewOpen:!a.state.modalPreviewOpen})},a.props.maxLinesToShow?(a.numLinesWhenShowingLess=Math.min(10,a.props.maxLinesToShow),a.numLinesWhenShowingMore=Math.min(100,a.props.maxLinesToShow)):(a.numLinesWhenShowingLess=10,a.numLinesWhenShowingMore=100),a.state={modalPreviewOpen:!1},a}return s.__extends(n,t),n.prototype.render=function(){var t=this,n=this.renderFetchMessage(),a=null;if(this.props.showSubmitToCompButton&&!this.props.csvHeaderValidationErrors){a=e.createElement("div",{className:"file-preview__submit-csv-button-container"},e.createElement("form",{action:this.props.submitToCompUrl,method:"POST"},e.createElement("input",{type:"hidden",name:"scriptVersionId",value:this.props.scriptVersionId.toString()}),e.createElement("input",{type:"hidden",name:"fileName",value:this.props.fileName}),e.createElement("button",{type:"submit",className:"file-preview__submit-csv-button"},e.createElement("i",{className:"fa fa-cloud-upload"})," ","Submit to Competition")))}else this.props.showSubmitToCompButton&&this.props.csvHeaderValidationErrors&&(a=e.createElement(l.ToolTip,{tipText:this.props.csvHeaderValidationErrors,size:"medium"},e.createElement("span",{className:"fa fa-exclamation-triangle file-preview-list__validation-error"})));var i=null;this.props.fileUrl&&(i=e.createElement(l.ButtonRoundEdged,{icon:"fa fa-download",primary:!0,href:this.props.fileUrl,onClick:this.props.downloadCallback||null,text:"Download"}));var r=null;this.props.canDelete&&(r=e.createElement(l.ButtonRoundEdged,{onClick:this.props.onDelete,text:"Delete"}));this.props.fullPath&&e.createElement("div",{className:"file-preview__full-path-row"},e.createElement("span",{className:"file-preview__full-path"},this.props.fullPath));var o=null;return this.props.isEditingDescription?o=e.createElement("div",null,e.createElement("div",{className:"file-preview__sub-header"},"About this file"),e.createElement(l.MarkdownEditor,{key:"file-preview-"+this.props.fileName,shouldSanitizeHtml:!0,alwaysShowToolbar:!0,defaultValue:this.props.description,placeholder:this.props.descriptionPlaceholder,suffix:"-file-preview-description",maxRows:10,onChangeCallback:this.props.onDescriptionChange}),this.props.onInnerSaveFileDescription||this.props.onSaveFileDescription?e.createElement("div",{className:"file-preview__description-save",onClick:this.handleSaveFileDescription},e.createElement("i",{className:"fa fa-check"})," Save"):null):this.props.description?o=e.createElement("div",null,e.createElement("div",{className:"file-preview__sub-header"},"About this file",this.props.userCanEditMetadata&&e.createElement("span",{className:"file-preview__description-edit-icon",onClick:this.props.onEditFileDescription},e.createElement("span",{className:"fa fa-pencil"}))),e.createElement(l.MarkdownConverter,{contentClassName:"file-preview__description",mimeType:"text/markdown",content:this.props.description})):this.props.userCanEditMetadata&&(o=e.createElement("div",null,e.createElement("div",{className:"file-preview__sub-header"},"About this file",e.createElement("span",{className:"file-preview__description-edit-icon",onClick:this.props.onEditFileDescription},e.createElement("span",{className:"fa fa-pencil"}))),e.createElement("div",{className:"file-preview__missing-description-notice"},"Help us describe this table"))),e.createElement("div",{className:"file-preview__item"},e.createElement("div",{className:"file-preview__item-information-section"},e.createElement("div",{className:"file-preview__name-row "+(this.props.fullPath?"file-preview__name-row--has-fullpath":"")},e.createElement("span",{className:"file-preview__item-filename"},this.props.fileName,this.props.size&&e.createElement("span",{className:"file-preview__item-filesize"},u(this.props.size))),e.createElement("div",{className:"file-preview__buttons"},i,r,a),this.props.fullPath&&e.createElement("div",{className:"file-preview__full-path"},this.props.fullPath)),this.props.dataSource&&e.createElement("div",{className:"file-preview__data-source-meta-container"},e.createElement("div",{className:"file-preview__data-source-meta-label"},"Data source"),e.createElement("div",{className:"file-preview__data-source-meta"},this.props.dataSource.imageUrl&&e.createElement("div",{className:"file-preview__data-source-meta-image"},e.createElement("a",{href:this.props.dataSource.sourceUrl,target:"_blank"},e.createElement("img",{src:this.props.dataSource.imageUrl}))),e.createElement("div",{className:"file-preview__data-source-meta-text"},e.createElement("div",{className:"file-preview__data-source-meta-name"},e.createElement("a",{href:this.props.dataSource.sourceUrl,target:"_blank"},this.props.dataSource.name)),e.createElement("div",{className:"file-preview-data-source--desc-updated"},e.createElement("div",{className:"file-preview__data-source-meta-desc"},this.props.dataSource.overview),e.createElement("div",{className:"file-preview__data-source-meta-updated"},"Last updated ",e.createElement(l.TimeAgo,{time:this.props.dataSource.lastUpdated})))))),o),this.props.hideFilePreview?null:e.createElement("div",{className:"file-preview__item-preview-section "+(this.state.modalPreviewOpen?"file-preview__item-preview-section--modal-open":"")+" "},e.createElement("div",{className:"file-preview__item-preview-head"},e.createElement("div",{className:"file-preview__sub-header file-preview__sub-header--preview"},"Preview ",this.isCsvFile()?"(first 100 rows)":""),this.isCsvFile()&&this.canShowColumnDescriptionList()&&e.createElement("div",{className:"file-preview__item-preview-buttons"},e.createElement("button",{className:"file-preview__item-edit-columns",onClick:this.props.onToggleShowColumnDescriptionList},this.props.isShowingColumnDescriptionList?"Close descriptions":"Edit descriptions"),e.createElement("button",{className:"file-preview__item-expand-button",onClick:function(){return t.handleToggleModal()}},this.state.modalPreviewOpen?e.createElement("i",{className:"fa fa-close"}):e.createElement("i",{className:"fa fa-arrows-alt"})))),e.createElement("div",{className:"file-preview__preview-row"},n,this.props.previewRequestInFlight?null:e.createElement("div",null,this.renderOptionalImagePreview(),this.renderOptionalColumnDescriptionList(),this.renderOptionalCsvPreviewTable(),this.renderOptionalJsonPreview(),this.renderOptionalTextPreview()))),this.state.modalPreviewOpen&&e.createElement("div",{onClick:function(){return t.handleToggleModal()},className:"file-preview__item-preview-section-modal-background"}))},n}(e.Component),_=function(t){function n(n){var i=t.call(this,n)||this;return i.descriptionBeingEdited="",i.previousDataType="",i.textarea=null,i.handleStartEditing=function(e){if(e.preventDefault(),i.props.onStartEditing)return void i.props.onStartEditing();i.descriptionBeingEdited=i.state.metadata.description,i.previousDataType=i.state.metadata.harmonizedDataType,i.setState({isEditing:!0})},i.handleDoneEditing=function(e){e.preventDefault();var t=a.extend({},i.state.metadata);t.description=i.descriptionBeingEdited,i.sendMetadataChangeIfNeeded(t),i.setState({metadata:t,isEditing:!1})},i.sendMetadataChangeIfNeeded=function(e){e.description===i.state.metadata.description&&i.previousDataType===i.state.metadata.harmonizedDataType||i.props.onMetadataChange(e)},i.handleMouseEnter=function(){i.setState({showEditIcon:!0})},i.handleMouseLeave=function(){i.setState({showEditIcon:!1})},i.handleDataTypeChange=function(e){var t=a.extend({},i.state.metadata);t.harmonizedDataType=e,i.setState({metadata:t})},i.renderEditing=function(){var t=[{value:"String",label:"String"},{value:"Numeric",label:"Numeric"},{value:"DateTime",label:"DateTime"},{value:"Boolean",label:"Boolean"}];return e.createElement("div",{className:"file-preview__description-row"},e.createElement("div",{className:"file-preview__description-row-field-name"},i.state.metadata.name),e.createElement("div",{className:"file-preview__description-row-description"},e.createElement(p.default,{autoFocus:!0,defaultValue:i.state.metadata.description,onChange:function(e){i.descriptionBeingEdited=e.currentTarget.value},className:"file-preview__description-row-description-editor",minRows:1,maxRows:10,placeholder:"Column description",ref:function(e){i.textarea=e}})),e.createElement("div",{className:"file-preview__description-row-field-type file-preview__description-row-field-type--edit"},e.createElement(l.SelectBox,{className:"file-preview__description-row-field-typeselect-box",options:t,value:i.state.metadata.harmonizedDataType,onChange:i.handleDataTypeChange})),e.createElement("div",{className:"file-preview__description-row-save-icon",onClick:i.handleDoneEditing},e.createElement("span",{className:"fa fa-check"})))},i.renderNonEditing=function(){var t=i.props.canEdit&&(i.props.onMetadataChange||i.props.onStartEditing),n=t?e.createElement("span",{onClick:i.handleStartEditing,className:"file-preview__description-row-cta"},"Help us describe this column..."):e.createElement("span",null,"No description provided");return e.createElement("div",{className:"file-preview__description-row",onMouseEnter:t?i.handleMouseEnter:null,onMouseLeave:t?i.handleMouseLeave:null},e.createElement("div",{className:"file-preview__description-row-field-name"},i.state.metadata.name),i.state.metadata.description?e.createElement("div",{className:"file-preview__description-row-description",onClick:t?i.handleStartEditing:null,style:t?{cursor:"pointer"}:null},e.createElement("div",{className:"file-preview__description-row-description-inner"},e.createElement(l.MarkdownConverter,{content:i.state.metadata.description,mimeType:"text/markdown"}))):e.createElement("div",{className:"file-preview__description-row-description file-preview__description-row-description--empty",onClick:t?i.handleStartEditing:null,style:t?{cursor:"pointer"}:null},e.createElement("div",{className:"file-preview__description-row-description-inner"},n)),e.createElement("div",{className:"file-preview__description-row-field-type",onClick:t?i.handleStartEditing:null,style:t?{cursor:"pointer"}:null},i.state.metadata.harmonizedDataType),e.createElement("div",{className:"file-preview__description-row-field-save-icon"},""))},i.state={metadata:i.props.initialMetadata,isEditing:!1,showEditIcon:!1},i}return s.__extends(n,t),n.prototype.render=function(){return this.state.isEditing?this.renderEditing():this.renderNonEditing()},n.prototype.componentDidUpdate=function(e,t){!t.isEditing&&this.state.isEditing&&this.textarea&&this.textarea.focus()},n}(e.Component)}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(e){var n=t.call(this,e)||this;return n.handleKeyPress=function(e){if(n.props.rejectedCharacterRegExp){String.fromCharCode(e.which).match(n.props.rejectedCharacterRegExp)&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())}},n.handleKeyDown=function(e){return"Enter"==e.key&&n.props.isToggleable?void n.handleSave():"Escape"==e.key&&n.props.isToggleable?void n.handleCancel():void 0},n.handleSave=function(){n.setState({isEditing:!1}),n.props.onSaveCallback&&n.props.onSaveCallback(n.state.content)},n.handleCancel=function(){n.setState({isEditing:!1})},n.handleEdit=function(){n.setState({isEditing:!0},function(){n.inputBox.focus()})},n.state={content:n.props.value||"",isEditing:!n.props.isToggleable},n}return a.__extends(n,t),n.prototype.componentWillReceiveProps=function(e){this.setState({content:e.value||""})},n.prototype.handleChange=function(e){var t=this;this.setState({content:e.target.value},function(){t.props.onChangeCallback&&t.props.onChangeCallback(t.state.content)})},n.prototype.renderInput=function(){var t=this;return e.createElement("input",{ref:function(e){t.inputBox=e},className:"inline-text-editor__input "+this.props.className,value:this.state.content,placeholder:this.props.placeholder,onChange:function(e){return t.handleChange(e)},onFocus:this.props.onGainFocusCallback,onBlur:this.props.onLoseFocusCallback,onKeyPress:this.handleKeyPress,onKeyDown:this.handleKeyDown,id:this.props.id})},n.prototype.renderReadOnly=function(){return e.createElement("div",{className:(this.state.content?"":"inline-text-editor__placeholder")+" "+(this.props.readOnlyClassName||"")+" inline-text-editor__readonly",onClick:this.handleEdit},this.state.content||this.props.placeholder)},n.prototype.render=function(){return this.props.isToggleable?e.createElement("div",{className:"inline-text-editor__toggle-container"},this.state.isEditing?this.renderInput():this.renderReadOnly(),this.state.isEditing?e.createElement("span",{className:"fa fa-floppy-o inline-text-editor__button",onClick:this.handleSave}):e.createElement("span",{className:"fa fa-pencil inline-text-editor__button",onClick:this.handleEdit})):this.renderInput()},n}(e.Component);t.InlineTextEditor=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(6),o=n(188),s=n(47);n(413);var l=function(t){function n(e){var n=t.call(this,e)||this;return n.handleButtonClick=function(){var e=n;setTimeout(function(){var t=a(".wmd-prompt-dialog input:button[value='OK']");t.length?t.on("click",function(){return e.handleChange(e.textArea.value)}):e.handleChange(e.textArea.value)},10)},n.handleKeyDown=function(e){38===e.keyCode&&n.props.onMoveUp?n.handleUpArrow(e):40===e.keyCode&&n.props.onMoveDown?n.handleDownArrow(e):n.props.onKeyPress&&n.props.onKeyPress(e)},n.state={content:n.props.defaultValue?n.props.defaultValue:"",hasFocus:n.props.hasFocus},n.textAreaId="wmd-input"+(n.props.suffix||""),n}return i.__extends(n,t),n.prototype.componentDidMount=function(){this.props.shouldSanitizeHtml?this.converter=new s.Converter:this.converter=s.getSanitizingConverter(),this.editor=new s.Editor(this.converter,this.props.suffix?this.props.suffix:void 0,{strings:{imagedialog:'<p><b>Insert Image</b></p><p>http://example.com/images/diagram.jpg "optional title"'}}),this.editor.run(),this.props.hasFocus&&a(this.textArea).focus()},n.prototype.componentWillUnmount=function(){},n.prototype.componentWillReceiveProps=function(e){var t=this;void 0!==e.defaultValue&&e.defaultValue!=this.props.defaultValue&&(this.textArea.value=e.defaultValue,this.editor.refreshPreview()),e.hasFocus&&!this.props.hasFocus&&window.setTimeout(function(){a(t.textArea).focus()})},n.prototype.createHtml=function(){return{__html:this.converter.makeHtml(this.state.content)}},n.prototype.updateTextState=function(e){this.state.content!==e&&this.props.onChangeCallback(e)},n.prototype.handleChange=function(e){var t=this;this.props.onChangeImmediate&&this.props.onChangeImmediate(e),this.setState(a.extend({},this.state,{content:e}),function(){t.props.onChangeCallback(t.state.content)})},n.prototype.setFocus=function(e){this.setState(a.extend({},this.state,{hasFocus:e}))},n.prototype.renderPreview=function(){return this.props.showPreview?this.props.renderPreview?this.props.renderPreview(this.state.content,this.converter.makeHtml(this.state.content)):e.createElement("div",{id:"wmd-preview"+(this.props.suffix||""),className:"wmd-panel wmd-preview post-text-styling"}):null},n.prototype.clearContents=function(){this.textArea&&(this.textArea.value="")},n.prototype.handleUpArrow=function(e){1===this.textArea.value.substr(0,this.textArea.selectionStart).split("\n").length&&(e.preventDefault(),this.props.onMoveUp())},n.prototype.handleDownArrow=function(e){this.textArea.value.substr(0,this.textArea.selectionStart).split("\n").length===this.textArea.value.split("\n").length&&(e.preventDefault(),this.props.onMoveDown())},n.prototype.render=function(){var t=this;return e.createElement("div",{className:r("markdown-editor",this.props.collapsedMode&&"markdown-editor__collapsed",this.props.compact?"markdown-editor__compact":null)},e.createElement("div",{tabIndex:0,className:"wmd-panel",onFocus:function(){t.setFocus(!0)},onBlur:function(){t.setFocus(!1)}},e.createElement("div",{id:"wmd-button-bar"+(this.props.suffix||""),className:!this.state.hasFocus&&!this.props.alwaysShowToolbar||this.props.hideToolbar||this.props.collapsedMode||this.props.showPreview?"wmd-button-bar--disabled":null,onClick:this.handleButtonClick}),this.props.collapsedMode||e.createElement("a",{href:"http://commonmark.org/help/",target:"__blank",className:r("markdown-editor__help",!this.state.hasFocus&&!this.props.alwaysShowToolbar||this.props.showPreview?"markdown-editor__help--disabled":null,{"markdown-editor__help--left":this.props.hideToolbar})},!this.props.compact&&e.createElement("img",{src:"/static/images/markdown.png"}),!this.props.compact&&" Styling with Markdown supported"),e.createElement(o.default,{ref:function(e){t.textArea=e},defaultValue:this.state.content,onChange:function(e){return t.handleChange(e.currentTarget.value)},name:"rawMarkdown",className:r("wmd-input",this.props.editorClassName,this.props.showPreview?"wmd-input--disabled":null),id:this.textAreaId,minRows:this.props.collapsedMode?1:this.props.minRows,maxRows:this.props.collapsedMode?1:this.props.maxRows,rows:this.props.rows,placeholder:this.props.placeholder,onFocus:this.props.onInputFocus&&this.props.onInputFocus,onKeyDown:this.props.onMoveDown||this.props.onMoveUp?this.handleKeyDown:null,onBlur:this.props.onBlur})),this.renderPreview())},n}(e.Component);t.MarkdownEditor=l}).call(t,n(0),n(3))},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.AboutHeader=function(t){var n=t.heading,a=t.subheading,i=t.background;return e.createElement("div",{className:"about-page__header"},e.createElement("div",{className:"about-page__header-inside",style:{backgroundImage:"url("+i+")"}},e.createElement("h1",{className:"about-page__heading",style:{maxWidth:"24rem"},dangerouslySetInnerHTML:{__html:n}}),e.createElement("h2",{className:"about-page__subheading",style:{maxWidth:"26rem"}},a)))}}).call(t,n(0))},,,,,,,,,,,function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(32),o=n(6),s=n(8),l=n(380),c=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleKeyDown=function(t){27==t.keyCode&&e.props.handleModalClose()},e.handleStopPropagation=function(e){e.stopPropagation()},e}return i.__extends(n,t),n.prototype.componentDidMount=function(){a(document.body).on("keydown",this.handleKeyDown)},n.prototype.componentWillUnmount=function(){a(document.body).off("keydown",this.handleKeyDown)},n.prototype.sortVotersByTier=function(e){return e.sort(function(e,t){var n=5===e.tierInt?-1:e.tierInt,a=5===t.tierInt?-1:t.tierInt;return n===a?e.displayName.toUpperCase()[0]<t.displayName.toUpperCase()[0]?-1:1:a-n}),e},n.prototype.render=function(){return e.createElement("div",{className:"vote-button__voters-outer"},e.createElement("div",{className:"vote-button__voters-modal-background",onClick:this.props.handleModalClose}),e.createElement("div",{className:"vote-button__voters-modal"},e.createElement("div",{className:"vote-button__voters-modal-title-bar"},e.createElement("div",{className:"vote-button__voters-modal-title"},"Voters"),e.createElement("div",{className:"vote-button__voters-modal-close"},e.createElement("span",{className:"fa fa-close",onClick:this.props.handleModalClose}))),e.createElement("div",{className:"vote-button__voters-modal-inner"},this.sortVotersByTier(this.props.voters).map(function(t,n){return e.createElement(l.VoteButtonListItem,i.__assign({key:t.userId},t))}))))},n}(e.Component);t.VoteButtonModal=c;var u=function(t){function n(e){var n=t.call(this,e)||this;return n.processVote=function(e,t,i,r){n.setState(e,function(){a.ajax({context:n,url:i,type:r,success:function(){n.setState({justVoted:!0,voteRequestInFlight:!1})},error:function(e,a,i){n.setState(t)}})})},n.processTwoPartVote=function(e,t,i,r,o,s,l){n.setState(e,function(){a.ajax({context:n,url:r,type:o,success:function(){a.ajax({context:n,url:s,type:l,success:function(){n.setState({voteRequestInFlight:!1})},error:function(){n.setState(i)}})},error:function(e,a,i){n.setState(t)}})})},n.onVoteUp=function(e){if(e.stopPropagation(),n.readyToVote()&&n.props.canUpvote){n.props.upVoteIntercomEventName&&window.Intercom("trackEvent",n.props.upVoteIntercomEventName),n.recordVote("up");var t,a=n.state;if(n.state.hasAlreadyVotedDown){t={hasAlreadyVotedDown:!1,hasAlreadyVotedUp:!0,totalVotes:n.state.totalVotes+2,voteRequestInFlight:!0};var i={hasAlreadyVotedDown:!1,hasAlreadyVotedUp:!1,totalVotes:n.state.totalVotes+1,voteRequestInFlight:!1};return void n.processTwoPartVote(t,a,i,n.props.voteDownUrl,"DELETE",n.props.voteUpUrl,"POST")}var o=null;n.state.voters&&(o=n.state.voters.slice(),n.state.hasAlreadyVotedUp?o.splice(r.findIndex(o,n.props.currentUserInfo),1):o=[n.props.currentUserInfo].concat(o)),t=n.state.hasAlreadyVotedUp?{hasAlreadyVotedUp:!1,totalVotes:n.state.totalVotes-1,voteRequestInFlight:!0,voters:o}:{hasAlreadyVotedUp:!0,totalVotes:n.state.totalVotes+1,voteRequestInFlight:!0,voters:o},n.processVote(t,a,n.props.voteUpUrl,n.state.hasAlreadyVotedUp?"DELETE":"POST")}},n.onVoteDown=function(e){if(e.stopPropagation(),n.readyToVote()&&n.props.canDownvote){n.props.downVoteIntercomEventName&&window.Intercom("trackEvent",n.props.downVoteIntercomEventName),n.recordVote("down");var t,a=n.state;if(n.state.hasAlreadyVotedUp){t={hasAlreadyVotedUp:!1,hasAlreadyVotedDown:!0,totalVotes:n.state.totalVotes-2,voteRequestInFlight:!0};var i={hasAlreadyVotedDown:!1,hasAlreadyVotedUp:!1,totalVotes:n.state.totalVotes-1,voteRequestInFlight:!1};return void n.processTwoPartVote(t,a,i,n.props.voteUpUrl,"DELETE",n.props.voteDownUrl,"POST")}t=n.state.hasAlreadyVotedDown?{hasAlreadyVotedDown:!1,totalVotes:n.state.totalVotes+1,voteRequestInFlight:!0}:{hasAlreadyVotedDown:!0,totalVotes:n.state.totalVotes-1,voteRequestInFlight:!0},n.processVote(t,a,n.props.voteDownUrl,n.state.hasAlreadyVotedDown?"DELETE":"POST")}},n.recordVote=function(e){s.Current.isSiteAdminOrTvc||(n.props.analyticsEventLabel?ga("send","event","vote",e+"-voted",n.props.analyticsEventLabel):ga("send","event","vote",e+"-voted"))},n.handleVotersClick=function(e){e.preventDefault(),n.setState({showingVotersModal:!0}),a("body").css({"overflow-x":"hidden","overflow-y":"scroll"}),a("html").css("overflow","hidden")},n.handleVotersClose=function(){n.setState({showingVotersModal:!1}),a("body").css({overflow:"visible","margin-right":"0px"}),a("html").css("overflow","visible")},n.state={totalVotes:e.totalVotes,hasAlreadyVotedUp:e.hasAlreadyVotedUp,hasAlreadyVotedDown:e.hasAlreadyVotedDown,voteRequestInFlight:!1,showingVotersModal:!1,voters:n.props.voters},n}return i.__extends(n,t),n.prototype.readyToVote=function(){if(this.state.voteRequestInFlight)return!1;if(!s.Current.userId){var e="/account/login?returnUrl="+encodeURIComponent(document.location.pathname);return document.location.href=e,!1}return!0},n.prototype.render=function(){var t=this,n=null,a=null,i=null,r=this.props.alwaysShowVoters||this.props.showVoters&&this.state.voters&&this.state.voters.length>0;a=this.props.voteUpUrl?e.createElement("div",{className:o("vote-button__button vote-button__button--up",this.props.canUpvote?null:"vote-button__button--disabled"),onClick:this.props.canUpvote?this.onVoteUp:null,onMouseEnter:function(){return t.setState({isHoveringOnVoteUp:!0})},onMouseLeave:function(){return t.setState({isHoveringOnVoteUp:!1,justVoted:!1})}},this.props.compact?e.createElement("span",{className:"fa fa-angle-up"}):e.createElement("span",{className:"fa fa-caret-up"})):e.createElement("div",{className:"vote-button__button-placeholder"}),n=this.props.voteDownUrl?e.createElement("div",{className:o("vote-button__button--down vote-button__button",this.props.canDownvote?null:"vote-button__button--disabled"),onClick:this.props.canDownvote?this.onVoteDown:null,onMouseEnter:function(){return t.setState({isHoveringOnVoteDown:!0})},onMouseLeave:function(){return t.setState({isHoveringOnVoteDown:!1,justVoted:!1})}},this.props.compact?e.createElement("span",{className:"fa fa-angle-down"}):e.createElement("span",{className:"fa fa-caret-down"})):e.createElement("div",{className:"vote-button__button-placeholder"}),r&&(i=this.props.totalVotes>0?e.createElement("div",{className:"vote-button__show-voters"},e.createElement("a",{href:"",onClick:this.handleVotersClick},"voters")):e.createElement("div",{className:"vote-button__zero-voters"},"voters"));var s=null;return this.state.showingVotersModal&&(s=e.createElement(c,{voters:this.state.voters,handleModalClose:this.handleVotersClose})),e.createElement("div",{className:"vote-button__container "+(this.props.className||"")},e.createElement("div",{className:o("vote-button",{"vote-button--compact":this.props.compact,"vote-button--voted-up":this.state.hasAlreadyVotedUp,"vote-button--voted-down":this.state.hasAlreadyVotedDown,"vote-button--disabled":!this.props.canDownvote&&!this.props.canUpvote,"vote-button--enabled":this.props.canDownvote||this.props.canUpvote,"vote-button--has-downvote":!!this.props.voteDownUrl,"vote-button--is-hovering-on-vote-up":this.state.isHoveringOnVoteUp,"vote-button--is-hovering-on-vote-down":this.state.isHoveringOnVoteDown,"vote-button--just-voted":this.state.justVoted})},a,e.createElement("div",{className:"vote-button__button vote-button__button--up"},e.createElement("span",{className:"vote-button__vote-count",onClick:this.state.hasAlreadyVotedDown?this.onVoteDown:this.onVoteUp,onMouseEnter:function(){return t.setState({isHoveringOnVoteUp:!0})},onMouseLeave:function(){return t.setState({isHoveringOnVoteUp:!1,justVoted:!1})}},this.state.totalVotes)),n),i,s)},n}(e.Component);t.VoteButton=u}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("span",{className:"badge badge--"+(this.props.option||"default")},this.props.icon&&e.createElement("i",{className:"badge__icon fa "+this.props.icon}),this.props.text)},n}(e.Component);t.Badge=i}).call(t,n(0))},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(28);t.FlexTable=(o=['\n    align-items: center;\n    color: rgba(0,0,0,0.7);\n    display: flex;\n    flex-flow: column nowrap;\n    flex: 1 1 auto;\n    font-size: 14px;\n    font-variant-numeric: tabular-nums;\n    justify-content: space-between;\n    line-height: 22px;\n    margin-bottom: 12px;\n\n    & > div:first-child {\n        background: #f8f9f9;\n        color: rgba(0,0,0,0.5);\n    }\n\n    & > div {\n        align-items: center;\n        border: 1px solid #DEDFE0;\n        border-width: 1px 0 0 1px;\n        display: flex;\n        flex-flow: row nowrap;\n        justify-content: space-between;\n        width: 100%;\n        &:last-child {\n            border-bottom-width: 1px;\n        }\n    }\n    & button {\n        align-self: flex-end;\n    }\n\n    & input, & select {\n        padding: 4px 6px;\n        display: inline-flex;\n        flex: 1 1 auto;\n        border: 1px solid rgb(169, 169, 169);\n        width: 95%;\n        border: 0;\n    }\n\n    & select {\n\n        border: 0;\n        color: #008abc;\n        cursor: pointer;\n        font-family: "Atlas Grotesk", sans-serif, sans;\n        font-size: 14px;\n\n        > option {\n            color: rgba(0,0,0,0.7);\n            line-height:20px;\n            font-size: 14px;\n        }\n        &:focus {\n            outline: 0;\n        }\n    }\n\n    & input {\n        font-size: 1em;\n        line-height: 1em;\n        border-top: 0;\n    }\n'],o.raw=['\n    align-items: center;\n    color: rgba(0,0,0,0.7);\n    display: flex;\n    flex-flow: column nowrap;\n    flex: 1 1 auto;\n    font-size: 14px;\n    font-variant-numeric: tabular-nums;\n    justify-content: space-between;\n    line-height: 22px;\n    margin-bottom: 12px;\n\n    & > div:first-child {\n        background: #f8f9f9;\n        color: rgba(0,0,0,0.5);\n    }\n\n    & > div {\n        align-items: center;\n        border: 1px solid #DEDFE0;\n        border-width: 1px 0 0 1px;\n        display: flex;\n        flex-flow: row nowrap;\n        justify-content: space-between;\n        width: 100%;\n        &:last-child {\n            border-bottom-width: 1px;\n        }\n    }\n    & button {\n        align-self: flex-end;\n    }\n\n    & input, & select {\n        padding: 4px 6px;\n        display: inline-flex;\n        flex: 1 1 auto;\n        border: 1px solid rgb(169, 169, 169);\n        width: 95%;\n        border: 0;\n    }\n\n    & select {\n\n        border: 0;\n        color: #008abc;\n        cursor: pointer;\n        font-family: "Atlas Grotesk", sans-serif, sans;\n        font-size: 14px;\n\n        > option {\n            color: rgba(0,0,0,0.7);\n            line-height:20px;\n            font-size: 14px;\n        }\n        &:focus {\n            outline: 0;\n        }\n    }\n\n    & input {\n        font-size: 1em;\n        line-height: 1em;\n        border-top: 0;\n    }\n'],a.default.div(o));var i=(s=["\n    display: flex;\n    flex-flow: row nowrap;\n    flex: 1 1 auto;\n"],s.raw=["\n    display: flex;\n    flex-flow: row nowrap;\n    flex: 1 1 auto;\n"],a.default.div(s)),r=(l=["\n    align-items: center;\n    border-right: 1px solid #DEDFE0;\n    box-sizing: border-box;\n    display: inline-flex;\n    flex-flow: row nowrap;\n    flex: 1 1 auto;\n    min-height:33px;\n    min-width: 0px;\n\n    padding: 0;\n\n    & > * {\n        overflow: hidden;\n        padding: 6px 10px;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n\n    & > select {\n        min-height: 33px;\n    }\n\n    & > input {\n        min-height: 23px;\n    }\n"],l.raw=["\n    align-items: center;\n    border-right: 1px solid #DEDFE0;\n    box-sizing: border-box;\n    display: inline-flex;\n    flex-flow: row nowrap;\n    flex: 1 1 auto;\n    min-height:33px;\n    min-width: 0px;\n\n    padding: 0;\n\n    & > * {\n        overflow: hidden;\n        padding: 6px 10px;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n\n    & > select {\n        min-height: 33px;\n    }\n\n    & > input {\n        min-height: 23px;\n    }\n"],a.default.div(l));t.FlexRow=function(t){var n=e.Children.count(t.children),a=Math.floor(1e3/n)/10+"%",o={width:a};return e.createElement(i,null,e.Children.map(t.children,function(t,n){var a=!e.isValidElement(t);return e.createElement(r,{key:n,style:o},a?e.createElement("div",null,t):t)}))};var o,s,l}).call(t,n(0))},function(e,t,n){"use strict";/**!
 * AUTOGENERATED - Do not edit this file. (Webpack generates on startup from less definitions)
 */
Object.defineProperty(t,"__esModule",{value:!0}),t.lessKeyMap={PureWhite:["@color--pure-white"],PureBlack:["@color--pure-black"],GrayDarkest:["@color--gray-darkest"],GrayDark:["@color--gray--dark"],GrayLight:["@color--gray--light"],GrayLighter:["@color--gray--lighter"],GrayLightest:["@color--gray--lightest"],GreenStandard:["@color--green-standard"],GreenStandardInteract:["@color--green-standard--interact"],RedStandard:["@color--red-standard"],Transparent:["@color--transparent"],DatacardOverlay:["@color--datacard-overlay"],BlackOverlay:["@color--black-overlay"],BoxShadow:["@color--box-shadow"],WhiteSolidOverlay:["@color--white-solid-overlay"],BlackSolidOverlay:["@color--black-solid-overlay"],KaggleBlack:["@color--kaggle-black"],KaggleBlackLight:["@color--kaggle-black-light"],KaggleBlackDark:["@color--kaggle-black-dark"],KaggleBlue:["@color--kaggle-blue"],KaggleBlueInteract:["@color--kaggle-blue-interact"],KaggleBlueLight:["@color--kaggle-blue-light"],KaggleBlueLightest:["@color--kaggle-blue-lightest"],KaggleBlueSuperLight:["@color--kaggle-blue-super-light"],KaggleBlueDark:["@color--kaggle-blue-dark"],KaggleBlueDarkest:["@color--kaggle-blue-darkest"],KagglePurple:["@color--kaggle-purple"],KaggleRed:["@color--kaggle-red"],KaggleRedDark:["@color--kaggle-red-dark"],KaggleRedDarkest:["@color--kaggle-red-darkest"],KaggleRedLightest:["@color--kaggle-red-lightest"],KaggleGreen:["@color--kaggle-green"],KaggleOrange:["@color--kaggle-orange"],KaggleGray:["@color--kaggle-gray"],KaggleTeal:["@color--kaggle-teal"],KaggleYellow:["@color--kaggle-yellow"],TextDark:["@color--text-dark"],TextMedium:["@color--text-medium"],TextSublink:["@color--text-sublink"],TextLight:["@color--text-light"],TextLink:["@color--text-link"],TextLinkHover:["@color--text-link-hover"],HoverLight:["@color--hover-light"],HoverBlue:["@color--hover-blue"],UserNovice:["@color--user-novice"],UserKaggler:["@color--user-kaggler"],UserExpert:["@color--user-expert"],UserMaster:["@color--user-master"],UserGrandmaster:["@color--user-grandmaster"],UserStaff:["@color--user-staff"],UserNoviceFaded:["@color--user-novice--faded"],UserKagglerFaded:["@color--user-kaggler--faded"],UserExpertFaded:["@color--user-expert--faded"],UserExpertLight:["@color--user-expert--light"],UserMasterFaded:["@color--user-master--faded"],UserGrandmasterFaded:["@color--user-grandmaster--faded"],UserStaffFaded:["@color--user-staff--faded"],OrganizationFaded:["@color--organization--faded"],Organization:["@color--organization"],Bronze:["@color--bronze"],Silver:["@color--silver"],Gold:["@color--gold"],InTheMoney:["@color--in-the-money"],SiteBackground:["@color--site-background"],ContentBackground:["@color--content-background"],SubcontentBackground:["@color--subcontent-background"],ContentBorder:["@color--content-border"],ContentBorderLight:["@color--content-border--light"],SubheaderBackground:["@color--subheader-background"],ContentTitle:["@color--content-title"],ContentHeaderBackground:["@color--content-header-background"],CodeBackground:["@color--code-background"],CodeWhite:["@color--code-white"],QuoteBackground:["@color--quote-background"],QuoteBorder:["@color--quote-border"],HeaderMenuGrayDark:["@color--header-menu-gray-dark"],HeaderMenuGrayMedium:["@color--header-menu-gray-medium"],HeaderMenuGrayLight:["@color--header-menu-gray-light"],HeaderMenuDropdownBorder:["@color--header-menu-dropdown-border"],HeaderMenuGreyText:["@color--header-menu-grey-text"],FooterBlack:["@color--footer-black"],FooterGrayLight:["@color--footer-gray-light"],FooterGrayDark:["@color--footer-gray-dark"],FooterBorder:["@color--footer-border"],CompFeatured:["@color--comp-featured"],CompRecruitment:["@color--comp-recruitment"],CompResearch:["@color--comp-research"],CompPlayground:["@color--comp-playground"],CompGettingstarted:["@color--comp-gettingstarted"],CompInclass:["@color--comp-inclass"],CompMasters:["@color--comp-masters"],InputBackgroundEdit:["@color--input-background--edit"],CodeHighlightDeleteDark:["@color--code-highlight--delete-dark"],CodeHighlightDeleteMedium:["@color--code-highlight--delete-medium"],CodeHighlightDeleteLight:["@color--code-highlight--delete-light"],CodeHighlightInsertDark:["@color--code-highlight--insert-dark"],CodeHighlightInsertMedium:["@color--code-highlight--insert-medium"],CodeHighlightInsertLight:["@color--code-highlight--insert-light"],EasternBlue:["@color--eastern-blue"],Sundown:["@color--sundown"],Shakespeare:["@color--shakespeare"],MountainMeadow:["@color--mountain-meadow"],BridalHeath:["@color--bridal-heath"],Alabaster:["@color--alabaster"],Iron:["@color--iron"],MineShaft:["@color--mine-shaft"],Concrete:["@color--concrete"],MilanoRed:["@color--milano-red"],Gothic:["@color--gothic"],Boulder:["@color--boulder"],BlackSqueeze:["@color--black-squeeze"],BondiBlue:["@color--bondi-blue"],Botticelli:["@color--botticelli"],DustyGray:["@color--dusty-gray"],Alto:["@color--alto"],Spindle:["@color--spindle"],DoveGray:["@color--dove-gray"],Nobel:["@color--nobel"],Gallery:["@color--gallery"],PacificBlue:["@color--pacific-blue"],SilverChalice:["@color--silver-chalice"],Abbey:["@color--abbey"],CrownOfThorns:["@color--crown-of-thorns"],GrayChateau:["@color--gray-chateau"],EasternBlueDarker:["@color--eastern-blue-darker"],PolarDark:["@color--polar-dark"],AquaIsland:["@color--aqua-island"],PattensBlue:["@color--pattens-blue"]};!function(e){e.PureWhite="#FFFFFF",e.PureBlack="#000000",e.GrayDarkest="#2A2C30",e.GrayDark="#333333",e.GrayLight="#B3B3B3",e.GrayLighter="#C4C9CD",e.GrayLightest="#F0F0F0",e.GreenStandard="#2F9C0A",e.GreenStandardInteract="#257A08",e.RedStandard="#C92C2C",e.Transparent="rgba(0,0,0,0)",e.DatacardOverlay="rgba(255, 255, 255, 0.8)",e.BlackOverlay="rgba(0,0,0,0.3)",e.BoxShadow="rgba(0,0,0,0.3)",e.WhiteSolidOverlay="rgba(255, 255, 255, 0.8)",e.BlackSolidOverlay="rgba(0, 0, 0, 0.8)",e.KaggleBlack="#47494D",e.KaggleBlackLight="#6F7175",e.KaggleBlackDark="#323232",e.KaggleBlue="#20BEFF",e.KaggleBlueInteract="#00A7EC",e.KaggleBlueLight="#86DCFF",e.KaggleBlueLightest="#E1F0F6",e.KaggleBlueSuperLight="#EBF9FF",e.KaggleBlueDark="#008ABC",e.KaggleBlueDarkest="#006184",e.KagglePurple="#856CCC",e.KaggleRed="#CC615C",e.KaggleRedDark="#B34834",e.KaggleRedDarkest="#D0021B",e.KaggleRedLightest="#FFEDEF",e.KaggleGreen="#69AC35",e.KaggleOrange="#F69732",e.KaggleGray="#A9A9A9",e.KaggleTeal="#2AC090",e.KaggleYellow="#FAEB4A",e.TextDark="rgba(0,0,0,1.0)",e.TextMedium="rgba(0,0,0,0.7)",e.TextSublink="rgba(0,0,0,0.55)",e.TextLight="rgba(0,0,0,0.4)",e.TextLink="#008ABC",e.TextLinkHover="#20BEFF",e.HoverLight="rgba(0,0,0,0.03)",e.HoverBlue="fade(@color--kaggle-blue,6)",e.UserNovice="#5AC995",e.UserKaggler="#00BBFF",e.UserExpert="#95628F",e.UserMaster="#F96517",e.UserGrandmaster="#DCA917",e.UserStaff="#008ABC",e.UserNoviceFaded="#8CD6B4",e.UserKagglerFaded="#5FCEFC",e.UserExpertFaded="#95628F",e.UserExpertLight="#AA81A5",e.UserMasterFaded="#F78353",e.UserGrandmasterFaded="#E3C06B",e.UserStaffFaded="#008ABC",e.OrganizationFaded="#D9E1E4",e.Organization="#2E576C",e.Bronze="#8E5B3D",e.Silver="#838280",e.Gold="#B88121",e.InTheMoney="#00D27A",e.SiteBackground="#F6F9FA",e.ContentBackground="#FFFFFF",e.SubcontentBackground="#F8F8F8",e.ContentBorder="#DEDFE0",e.ContentBorderLight="#EBECEC",e.SubheaderBackground="#F2F2F2",e.ContentTitle="rgba(0,0,0,0.4)",e.ContentHeaderBackground="#FBFBFB",e.CodeBackground="#272822",e.CodeWhite="#f8f8f2",e.QuoteBackground="#f4f4f4",e.QuoteBorder="#cccccc",e.HeaderMenuGrayDark="#383A3D",e.HeaderMenuGrayMedium="#595B5E",e.HeaderMenuGrayLight="#6B6D70",e.HeaderMenuDropdownBorder="#E5E5E5",e.HeaderMenuGreyText="#777777",e.FooterBlack="#111111",e.FooterGrayLight="#C4C9CD",e.FooterGrayDark="#808080",e.FooterBorder="#DDDDDD",e.CompFeatured="#FF625C",e.CompRecruitment="#F8A650",e.CompResearch="#F4CE4A",e.CompPlayground="#00BBFF",e.CompGettingstarted="#5AC996",e.CompInclass="#86DCFF",e.CompMasters="#C0C0C0",e.InputBackgroundEdit="rgb(254,236,222)",e.CodeHighlightDeleteDark="rgb(243,182,182)",e.CodeHighlightDeleteMedium="rgb(249,220,220)",e.CodeHighlightDeleteLight="rgb(252,237,237)",e.CodeHighlightInsertDark="rgb(182,243,229)",e.CodeHighlightInsertMedium="rgb(220,249,241)",e.CodeHighlightInsertLight="rgb(237,252,248)",e.EasternBlue="#1E9AB0",e.Sundown="#FFB1B3",e.Shakespeare="#4EABD1",e.MountainMeadow="#1AB385",e.BridalHeath="#FFF8ED",e.Alabaster="#FAFAFA",e.Iron="#D4D7D9",e.MineShaft="#373737",e.Concrete="#f2f2f2",e.MilanoRed="#b81104",e.Gothic="#6D92A1",e.Boulder="#7A7A7A",e.BlackSqueeze="#F2FAFA",e.BondiBlue="#0095b6",e.Botticelli="#c7dde5",e.DustyGray="#959595",e.Alto="#dbdbdb",e.Spindle="#b6d1ea",e.DoveGray="#6d6c6c",e.Nobel="#b7b1b1",e.Gallery="#efefef",e.PacificBlue="#009dc4",e.SilverChalice="#ACACAC",e.Abbey="#4C4F56",e.CrownOfThorns="#771f1f",e.GrayChateau="#A2AAB3",e.EasternBlueDarker="#158BBA",e.PolarDark="#E7F4F9",e.AquaIsland="#A1DAD7",e.PattensBlue="#DEF5FF"}(t.Color||(t.Color={}))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(28),i=(r=["\n    color: rgba(0,0,0,0.2);\n    display: flex;\n    width: 100%;\n    justify-content: center;\n    align-items: center;\n    min-height: 42px;\n"],r.raw=["\n    color: rgba(0,0,0,0.2);\n    display: flex;\n    width: 100%;\n    justify-content: center;\n    align-items: center;\n    min-height: 42px;\n"],a.default.div(r));t.Spinner=function(t){return e.createElement(i,{style:t.style||null},e.createElement("i",{className:"fa fa-circle-o-notch fa-spin fa-2x"}))};var r}).call(t,n(0))},,,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(37),r=n(6),o=n(3),s=function(t){function n(e){var n=t.call(this,e)||this;return n.state={infoBannerIsVisible:!!n.props.infoBanner&&n.props.infoBanner.isVisible},n}return a.__extends(n,t),n.prototype.onDismiss=function(){o.ajax({type:"POST",url:this.props.infoBanner.dismissBannerUrl}),this.setState({infoBannerIsVisible:!1})},n.prototype.renderCallToAction=function(){return this.props.callToActionText?e.createElement("div",{className:r("title-banner__call-to-action",this.props.hideCallToActionOnSmallDisplays?"title-banner__call-to-action--hide-on-small-displays":null)},e.createElement(i.Button,{text:this.props.callToActionText,href:this.props.callToActionUrl,onClick:this.props.onCallToActionClick}),this.props.callToActionText2?e.createElement("span",{style:{marginRight:"15px"}}):null,this.props.callToActionText2?e.createElement(i.Button,{text:this.props.callToActionText2,href:this.props.callToActionUrl2,onClick:this.props.onCallToActionClick2}):null):null},n.prototype.render=function(){var t=this;return e.createElement("div",null,e.createElement("div",{className:r("title-banner",this.props.bannerImageClassName,this.state.infoBannerIsVisible?"title-banner--show-only-on-mobile":null)},e.createElement("div",{className:"title-banner__inside"},e.createElement("div",{className:"title-banner__title-container"},e.createElement("div",{className:"title-banner__title"},this.props.title)),this.renderCallToAction())),this.state.infoBannerIsVisible?e.createElement("div",{className:"info-banner info-banner--hide-on-mobile"},e.createElement("div",{className:"info-banner__container"},e.createElement("div",{className:"info-banner__main-content"},e.createElement("h1",{className:"info-banner__title"},this.props.infoTitle),e.createElement("h2",{className:"info-banner__subtitle"},this.props.infoSubtitle),e.createElement("hr",{className:"info-banner__divider"}),e.createElement("ul",{className:"info-banner__details"},this.props.panels.map(function(t,n){return e.createElement("li",{className:"info-banner__detail",key:n},e.createElement("img",{alt:t.title,className:"info-banner__detail-image",src:t.imageSrc}),e.createElement("h3",{className:"info-banner__detail-title"},t.title),e.createElement("p",{className:"info-banner__detail-text"},t.description))})),this.renderCallToAction())),this.props.infoBanner.dismissBannerUrl?e.createElement("div",{className:"info-banner__dismiss-container"},e.createElement("span",{className:"info-banner__dismiss",onClick:function(){return t.onDismiss()}},e.createElement("span",{className:"fa fa-times"})," Dismiss")):null):null)},n}(e.Component);t.Banner=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=function(t){function n(e){var n=t.call(this,e)||this;return n.onResize=function(){var e=a.findDOMNode(n.refs.overflowX);if(e){var t=e.clientWidth-1,i=e.clientWidth+1;n.setState({canScrollX:t>e.scrollWidth||i<e.scrollWidth})}},n.state={hasScrolledToBeginning:!0,hasScrolledToEnd:!1},n}return i.__extends(n,t),n.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize,!1)},n.prototype.componentDidMount=function(){window.addEventListener("resize",this.onResize,!1),window.setTimeout(this.onResize)},n.prototype.onScroll=function(){var e=a.findDOMNode(this.refs.overflowX),t=e.getBoundingClientRect().width;this.setState({hasScrolledToBeginning:0==e.scrollLeft,hasScrolledToEnd:t+e.scrollLeft==e.scrollWidth})},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"overflow-x__wrapper"},e.createElement("div",{className:"overflow-x",ref:"overflowX",onScroll:function(){return t.onScroll()}},this.props.children,this.state.canScrollX&&!this.state.hasScrolledToBeginning?e.createElement("div",{className:"overflow-x__scroll-indicator--left"}):null,this.state.canScrollX&&!this.state.hasScrolledToEnd?e.createElement("div",{className:"overflow-x__scroll-indicator--right"}):null))},n}(e.Component);t.OverflowX=r}).call(t,n(0),n(72))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(623),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.disabled,r=a.__rest(t,["disabled"]);return n?e.createElement("div",{className:"rdt"},e.createElement("input",{type:"text",className:"form-control",disabled:n,value:r.value.toString()})):e.createElement(i,a.__assign({},r))},n}(e.Component);t.DateTimePicker=r}).call(t,n(0))},,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(185),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.componentDidUpdate=function(){this.updateMathJax()},n.prototype.componentDidMount=function(){this.updateMathJax()},n.prototype.updateMathJax=function(){var e=(this.props.rawHtml||"")+" "+(this.props.rawMarkdown||"");i.Render(e,this.renderedDiv)},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"forum-message-content",dangerouslySetInnerHTML:{__html:this.props.rawHtml||""},ref:function(e){t.renderedDiv=e}})},n}(e.Component);t.ForumMessageContent=r}).call(t,n(0))},function(e,t,n){"use strict";function a(e){c(e.base>=0,"<Trickle /> base must be greater than or equal to 0."),c(e.base<=1,"<Trickle /> base must be less than or equal to 1.")}Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(1),o=n(0),s=n(129),l=n(657),c=n(11),u=n(28),p=n(295),d=n(231),m=n(110);!function(e){e[e.None=0]="None",e[e.Pending=1]="Pending",e[e.Processing=2]="Processing",e[e.Complete=4]="Complete",e[e.Success=8]="Success",e[e.Error=16]="Error"}(i=t.TaskStatusFlag||(t.TaskStatusFlag={}));var h=(M=["\n    display: flex;\n    flex-flow: column nowrap;\n    flex: 1 1 auto;\n"],M.raw=["\n    display: flex;\n    flex-flow: column nowrap;\n    flex: 1 1 auto;\n"],u.default.div(M)),g=(I=["\n    display: ","\n    flex: 1 1 auto;\n"],I.raw=["\n    display: ","\n    flex: 1 1 auto;\n"],u.default.div(I,function(e){return e.hidden?"none":"flex"})),f=function(e){function n(n){var a=e.call(this,n)||this;return a.handlePending=function(){var e=i.Pending,t=s.pendingTaskProgress;a.setState({taskStatusFlags:e,taskProgress:t})},a.handleProgress=function(e){var t=i.Processing;a.setState({taskStatusFlags:t,taskProgress:e})},a.handleCompletion=function(e){var t=i.Complete|(e.error?i.Error:i.Success);a.setState({taskProgress:e}),window.setTimeout(function(){return a.setState({taskStatusFlags:t})},1e3)},a.handleErrors=function(e){if(e.length){var t=a.state.taskStatusFlags&~i.Success|i.Error;a.setState({taskStatusFlags:t,errors:e})}else{var t=i.None;a.setState({taskStatusFlags:t,errors:null})}},a.renderProgress=function(e){var n=a.state.taskProgress.progressProps,i=e?e.combineProgressEvent(n.progressEvent):s.syntheticProgressEvent(n.progressEvent);return o.createElement(t.ProgressBar,r.__assign({},n,{progressEvent:i}))},a.state={taskProgress:null,errors:null,taskStatusFlags:i.None},a}return r.__extends(n,e),n.prototype.componentDidMount=function(){this.unsubscribe=this.props.taskTrigger.subscribe(this.handlePending,this.handleProgress,this.handleCompletion,this.handleErrors,function(){})},n.prototype.componentWillUnmount=function(){this.unsubscribe()},n.prototype.render=function(){var e=this,n=this.props,a=n.isProgressEnabledForTaskStatusFlags,r=n.children,s=(n.simple,this.state),l=s.taskStatusFlags,c=(s.taskProgress,s.errors),u=a(l);i.Error;return o.createElement(h,null,u&&this.renderProgress(),r&&o.createElement(g,{hidden:u},r),c&&c.map(function(n,a){return o.createElement(t.ProgressError,{key:a,error:n,onDismiss:function(){e.handleErrors(c.slice(0,a).concat(c.slice(a+1)))}})}))},n.defaultProps={isProgressEnabledForTaskStatusFlags:function(e){return!!(e&i.Pending||e&i.Processing||e&i.Error)}},n}(o.Component);t.TaskProgress=f,t.ProgressMaterial=function(e){return o.createElement(p.Rectangle,null,o.createElement("h5",null,e.name),o.createElement(p.Shrink,null,o.createElement(p.List,null,o.createElement("li",null,"source: ",e.source),o.createElement("li",null,o.createElement(p.Shrink,null,"id: ",e.id)),e.errors&&e.errors.map(function(e,n){return o.createElement("li",{key:n},o.createElement(t.ProgressError,{error:new d.ServerError(e)}))}))),o.createElement(t.ProgressBar,r.__assign({},e.progressProps)))};var v=(D=["\n    display: flex;\n    flex-flow: column nowrap;\n    flex: 1 1 auto;\n"],D.raw=["\n    display: flex;\n    flex-flow: column nowrap;\n    flex: 1 1 auto;\n"],u.default.div(D));t.Progress=function(e){return o.createElement(v,null,o.createElement("h5",null,e.name),o.createElement("ul",null,o.createElement("li",null,"source: ",e.source),o.createElement("li",null,"id: ",e.id),e.errors&&e.errors.map(function(e,n){return o.createElement("li",{key:n},o.createElement(t.ProgressError,{error:new d.ServerError(e)}))})),o.createElement(t.ProgressBar,r.__assign({},e.progressProps)))};var _=(P=["\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: center;\n    justify-content: space-between;\n    flex: 1 1 auto;\n    & svg {\n        width: 100%;\n    }\n"],P.raw=["\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: center;\n    justify-content: space-between;\n    flex: 1 1 auto;\n    & svg {\n        width: 100%;\n    }\n"],u.default.div(P)),b=function(e){return function(t){return s.syntheticProgressEvent({loaded:t.loaded+e.total*e.percent,total:t.total+e.total})}},E=function(e){return function(t){var n=t/e.divisor;return{percent:-1*Math.pow(e.base,n)+1,total:n}}},y=function(e){function t(t){var n=e.call(this,t)||this;return n.tick=function(e){n.forceUpdate(),n.request=window.requestAnimationFrame(n.tick)},n.seek=function(e){return void 0===e&&(e=Date.now()),n.timestamp=e},n.start=function(){return n.request=window.requestAnimationFrame(n.tick)},n.stop=function(){return window.cancelAnimationFrame(n.request)},a(t),n.calculate=E(t),n}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.props.autostart&&(this.seek(),this.start())},t.prototype.componentWillUnmount=function(){this.stop()},t.prototype.render=function(){var e=this.props.children,t=this.calculate(Date.now()-this.timestamp),n=b(t);return e(r.__assign({},t,{seek:this.seek,start:this.start,stop:this.stop,combineProgressEvent:n}))},t}(o.Component);t.Trickle=y,t.ProgressBar=function(e){var t=e.progressEvent,n=(t.lengthComputable,t.loaded),a=t.total,i=a?Math.floor(n/a*100):0;return o.createElement(_,null,o.createElement(l.Line,{strokeLinecap:"butt",percent:i,strokeWidth:"4",strokeColor:"#20BEFF"}))},t.ProgressRate=function(e){var t=e.progressEvent,n=(t.lengthComputable,t.loaded),a=t.total,i=t.timeStamp,r=e.initiatedTimeStamp-i,s=a?n/r:0;return o.createElement("span",null,Math.round(10*s)/10," KB/s")},t.ProgressRemaining=function(e){var t=e.progressEvent,n=(t.lengthComputable,t.loaded),a=t.total,i=t.timeStamp,r=e.initiatedTimeStamp-i,s=a?n/r:0,l=a-n,c=l/s,u=Math.round(c/1e3);return u===1/0?null:o.createElement("span",null,u,"s remaining")};var w=(O=["\n    display: flex;\n    flex-flow: column nowrap;\n    width: 100%;\n"],O.raw=["\n    display: flex;\n    flex-flow: column nowrap;\n    width: 100%;\n"],u.default.div(O)),C=(U=["\n    display: flex;\n    flex-flow row wrap;\n"],U.raw=["\n    display: flex;\n    flex-flow row wrap;\n"],u.default.header(U),A=["\n    display: flex;\n    flex-flow column wrap;\n"],A.raw=["\n    display: flex;\n    flex-flow column wrap;\n"],u.default.div(A)),S=(L=["\n    display: flex;\n    flex-flow row nowrap;\n    justify-content: space-between;\n    align-items: center;\n"],L.raw=["\n    display: flex;\n    flex-flow row nowrap;\n    justify-content: space-between;\n    align-items: center;\n"],u.default.footer(L)),N=(R=["\n    color: red;\n    font-size: 0.9em;\n    font-family: Roboto,Arial,sans-serif;\n    font-weight: 700;\n"],R.raw=["\n    color: red;\n    font-size: 0.9em;\n    font-family: Roboto,Arial,sans-serif;\n    font-weight: 700;\n"],u.default.h3(R)),T=(F=["\n    font-size: 0.7em;\n    font-family: Consolas;\n    font-weight: 700;\n"],F.raw=["\n    font-size: 0.7em;\n    font-family: Consolas;\n    font-weight: 700;\n"],u.default.span(F)),k=(B=["\n    font-size: 0.6em;\n    font-family: Consolas;\n    border: 1px solid #ddd;\n    border-radius: 3px;\n    background-color: #eee;\n    overflow: auto;\n    max-height: 10em;\n    max-width: 65em;\n"],B.raw=["\n    font-size: 0.6em;\n    font-family: Consolas;\n    border: 1px solid #ddd;\n    border-radius: 3px;\n    background-color: #eee;\n    overflow: auto;\n    max-height: 10em;\n    max-width: 65em;\n"],u.default.pre(B),j=["\n    font-size: 0.7em;\n    font-weight: 700px;\n"],j.raw=["\n    font-size: 0.7em;\n    font-weight: 700px;\n"],u.default.span(j),H=["\n    background: #fbeeee;\n    color: #da5957;\n    font-weight: 700;\n    border: 0;\n    border-radius: 4px;\n    flex: 0 0 auto;\n    font-family: 'Atlas Grotesk', sans-serif;\n    font-size: 12px;\n    text-decoration: none;\n    padding: 8px 16px;\n    cursor: pointer;\n    margin-top: 6px;\n    margin-bottom: 6px;\n    margin-left: auto;\n    max-width: 200px;\n    min-width: 100px;\n"],H.raw=["\n    background: #fbeeee;\n    color: #da5957;\n    font-weight: 700;\n    border: 0;\n    border-radius: 4px;\n    flex: 0 0 auto;\n    font-family: 'Atlas Grotesk', sans-serif;\n    font-size: 12px;\n    text-decoration: none;\n    padding: 8px 16px;\n    cursor: pointer;\n    margin-top: 6px;\n    margin-bottom: 6px;\n    margin-left: auto;\n    max-width: 200px;\n    min-width: 100px;\n"],u.default.button(H)),x=(K=["\n    display: flex;\n    flex: 1 1 auto;\n"],K.raw=["\n    display: flex;\n    flex: 1 1 auto;\n"],u.default.div(K));t.MessagingBody=function(e){switch(e.mimeType){case"text/plain":return o.createElement(x,null,e.body);case"application/json":var t=JSON.parse(e.body),n=Object.keys(t).reduce(function(e,n){return r.__assign({},e,(a={},a[""+n.charAt(0).toLowerCase()+n.substring(1)]=t[n],a));var a},{});switch(e.serializedType){case"Kaggle.Dto.DataFrameSchemaParserMessage":var a=n;return o.createElement(x,null,o.createElement(m.FlexTable,null,o.createElement(m.FlexRow,null,[a.parseErrors.length+" Parse Errors Occurred:"]),a.parseErrors.map(function(e,t){return o.createElement(m.FlexRow,{key:t},[e])})));default:throw new Error("Unmapped ClientErrorMessaging serializedType: "+JSON.stringify(e))}default:throw new Error("Unknown mime type: "+e.mimeType)}},t.ProgressError=function(e){var n=e.error,a=e.onDismiss;return o.createElement(w,null,n.messaging?o.createElement(t.MessagingBody,r.__assign({},n.messaging)):o.createElement(C,null,o.createElement(N,null,n.name),o.createElement(T,null,n.message)),o.createElement(S,null,o.createElement("div",null,!1),o.createElement("div",null,a&&o.createElement(k,{onClick:a},"Dismiss"))))};var M,I,D,P,O,U,A,L,R,F,B,j,H,K},function(e,t,n){"use strict";(function(e){function a(e){function t(e,t,n,a,i,r){}var n=e.loaded,a=void 0===n?0:n,i=e.total,r=void 0===i?0:i,o=r>0,s=Date.now(),l=function(){},c=function(){},u=function(){},p=function(){return[]},d={},m={},h={addEventListener:function(){},removeEventListener:function(){},dispatchEvent:function(e){return!0}};return{loaded:a,total:r,lengthComputable:o,timeStamp:s,type:"SyntheticProgressEvent",preventDefault:l,stopPropagation:c,stopImmediatePropagation:u,bubbles:!1,cancelable:!1,cancelBubble:!1,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!0,scoped:!1,srcElement:d,deepPath:p,initEvent:m,currentTarget:h,target:h,initProgressEvent:t,AT_TARGET:1,BUBBLING_PHASE:1,CAPTURING_PHASE:1}}function i(e,n,a){var i=this;void 0===n&&(n=t.fetchTaskProgressById);var r,o=null,s=null,l=null,c=null,p=function(e){return h.__awaiter(i,void 0,void 0,function(){var t;return h.__generator(this,function(i){switch(i.label){case 0:return g(e,"taskProgress must exist to poll progress"),[4,n(e.id)];case 1:return t=i.sent(),t||!e.context?[3,3]:[4,a(e.context)];case 2:t=i.sent(),i.label=3;case 3:return[2,t]}})})},m=function(e){g(e,"taskProgress must exist to report notifications on");var t=d(e);if(e.errors&&e.errors.length){var n=e.errors.map(function(e){return new f.ServerError(e)});c&&c(n)}else if(t)s&&s(e);else{if(!u(e))throw new Error("unknown state of taskProgress: "+e);l&&l(e)}return t},v=function(e,t,n){void 0===n&&(n=2e3),window.clearTimeout(r),r=window.setTimeout(function(){p(e).then(function(e){m(e)?v(e,t):t(e)}).catch(function(e){return c([e])})},n)},_=function(e){return function(){o=null,s=null,l=null,c=null,e()}},b=function(e,t,n,a,i){return o=e,s=t,l=n,c=a,_(i)},E=function(t,n,a){return h.__awaiter(i,void 0,void 0,function(){var i,r,s;return h.__generator(this,function(l){switch(l.label){case 0:a||"function"!=typeof n||(a=n,n=void 0),a||(a=function(e){}),l.label=1;case 1:return l.trys.push([1,3,,4]),o&&o(),[4,e(t,n)];case 2:return i=l.sent(),r=i,g(r.id,"taskProgress should have an id"),m(r)?v(r,a):a(r),[2,r];case 3:throw s=l.sent(),c&&c([s]),s;case 4:return[2]}})})};return Object.defineProperty(function(e,t){return new Promise(function(n,a){E(e,t,n).catch(a)})},"subscribe",{value:b,enumerable:!0,configurable:!0})}function r(e){return function(t){var n=t.context;return!!n&&(n.entityName===e.entityName&&n.entityId===e.entityId)}}function o(e,t){g(t,"must define a context");var n={entityName:t.entityName,entityId:t.entityId},a=e.filter(r(n)),i=a.filter(function(e){return e.context.type===t.type})[0];return void 0===i?null:i}function s(e,t){var n=function(e){return h.__assign({},t,{type:e})};return{solution:o(e,n("solution")),solutionMapping:o(e,n("solutionMapping")),submission:o(e,n("submission")),submissionMapping:o(e,n("submissionMapping"))}}function l(e){if(!e||!e.progressProps)return!1;var t=e.progressProps.progressEvent;return!!t&&(!1===t.isLengthComputable||0===t.loaded&&0===t.total)}function c(e){return!!(e&&e.errors&&e.errors.length)}function u(e){var t=e&&e.progressProps?e.progressProps.progressEvent:null;return 0!==t.total&&t.total===t.loaded}function p(e){return!e||!l(e)&&(c(e)||u(e))}function d(e){return!p(e)}var m=this;Object.defineProperty(t,"__esModule",{value:!0});var h=n(1),g=n(11),f=n(231);t.EMPTY_GUID="00000000-0000-0000-0000-000000000000",t.pendingTaskContext={entityId:-1,entityName:null,type:"generic"},t.pendingTaskStatus={isPending:!0,startTime:null,queueTime:null,resolveTime:null,rejectTime:null,cancelTime:null,endTime:null,hasCancelled:!1,hasEnded:!1,hasQueued:!1,hasResolved:!1,hasRejected:!1,hasStarted:!1,errors:null},t.syntheticProgressEvent=a,t.pendingTaskProgress={id:t.EMPTY_GUID,name:"Pending",source:"UNKNOWN",context:t.pendingTaskContext,progressProps:{description:"Pending",initiatedTimeStamp:Date.now(),progressEvent:a({loaded:0,total:0})},errors:null},t.emptyTasksProgress={solution:null,solutionMapping:null,submission:null,submissionMapping:null},t.fetchTaskProgressByIdFactory=function(t){return function(n){return h.__awaiter(m,void 0,void 0,function(){var a;return h.__generator(this,function(i){switch(i.label){case 0:return a=e.Admin.getBackgroundTask,t&&(a=a.with(t)),[4,a({id:n})];case 1:return[2,i.sent()]}})})}},t.fetchTaskProgressById=t.fetchTaskProgressByIdFactory(),t.fetchTaskProgressByContextFactory=function(t){return function(n){return h.__awaiter(m,void 0,void 0,function(){var a;return h.__generator(this,function(i){switch(i.label){case 0:return a=e.Admin.getBackgroundTasks,t&&(a=a.with(t)),[4,a(n)[0]];case 1:return[2,i.sent()||null]}})})}},t.fetchTaskProgressByContext=t.fetchTaskProgressByContextFactory(),t.createTaskTrigger=i,t.createTaskProgressEntityFilter=r,t.getSingleTaskProgressByContext=o,t.groupTaskProgressForEntity=s,t.isPending=l,t.isRejected=c,t.isResolved=u,t.isComplete=p,t.isIncomplete=d}).call(t,n(23))},,,function(e,t,n){"use strict";(function(e,a){function i(e){l(e.data||e.dataUrl,"<SmartListContainer /> requires data OR dataUrl property and neither were supplied.\n\treferrer: "+e.referrer)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(437),s=n(32),l=n(11);t.DEFAULT_PAGE_SIZE=20;var c=function(n){function l(e){var r=n.call(this,e)||this;return r.getDefaultState=function(){var e=a.extend(!0,{sortBy:r.props.sortOptions?r.props.sortOptions[0].value:null,group:r.props.groups?r.props.groups[0].value:null,search:"",page:1},r.props.values);return{isLoadingMoreData:!0,hasMoreData:!0,list:[],onScroll:r.onScroll,onSortByChanged:r.onSortByChanged,boundSelectionGroups:r.getBoundSelectionGroups,pageSize:r.props.pageSize||t.DEFAULT_PAGE_SIZE,values:e,userLastSelectedSortBy:null}},r.getBoundSelectionGroups=function(){return r.props.groups?r.props.groups.map(function(e){return e.separator?{separator:!0}:{key:e.value,name:e.label,href:"?sortBy="+r.state.values.sortBy+"&group="+e.value,action:function(){return r.onSelectionGroupChanged(e.value)}}}):null},r.getQueryStringParameters=function(e){var t={};for(var n in r.state.values){var i=r.state.values[n];("search"!=n||!r.props.searchableGroups||r.props.searchableGroups.filter(function(e){return e==r.state.values.group}).length>0)&&i&&(t[n]=i)}return t.page=e||t.page,a.param(t)},r.refetchData=function(){r.currentDataRequest&&4!==r.currentDataRequest.readyState&&r.currentDataRequest.abort();for(var e=Array(r.state.values.page),t=[],n=0;n<r.state.values.page;n++)!function(n){r.currentDataRequest=a.ajax({context:r,url:r.props.dataUrl+"?"+r.getQueryStringParameters(n+1),method:"GET",success:function(a){if(e[n]=a,e.filter(Array).length==r.state.values.page){for(var i=0;i<e.length;i++)if(r.props.dataPathToList)for(var o=0,s=r.props.dataPathToList.split(".");o<s.length;o++){var l=s[o];t=t.concat(e[i][l])}else t=t.concat(e[i]);r.setState({isLoadingMoreData:!1,isPagingMoreData:!1,hasMoreData:t.length>0,hasLoadedSomeData:t.length>0,list:t,data:a,children:t.map(function(e,t){return r.props.itemRenderer(e,t,r.logSearchAction)})},function(){return r.props.onDataLoaded?r.props.onDataLoaded(a):null})}}})}(n)},r.getData=function(e){return r.setState({isLoadingMoreData:e,isPagingMoreData:!e}),r.currentDataRequest&&4!==r.currentDataRequest.readyState&&r.currentDataRequest.abort(),r.currentDataRequest=a.ajax({context:r,url:r.props.dataUrl+"?"+r.getQueryStringParameters(),method:"GET",success:function(t){return r.setData(t,e)}}),r.currentDataRequest},r.setData=function(e,t){var n=e;if(r.props.dataPathToList)for(var a=0,i=r.props.dataPathToList.split(".");a<i.length;a++){var o=i[a];n=n[o]}var s=n,l=t?n:r.state.list.concat(n);s&&r.setState({isLoadingMoreData:!1,isPagingMoreData:!1,hasMoreData:s.length>0,hasLoadedSomeData:l.length>0,list:l,data:e,children:l.map(function(e,t){return r.props.itemRenderer(e,t,r.logSearchAction)})},function(){return r.props.onDataLoaded?r.props.onDataLoaded(e):null})},r.setValueState=function(e,t){r.setState({values:r.mergeValues(e)},function(){return r.onSelectionsChanged(t)})},r.mergeValues=function(e){return a.extend(!0,r.state.values,e)},r.onSearchChange=function(e){null==r.qTextBox||r.qTextBox;r.qTextBox=e.target.value,r.timer&&clearInterval(r.timer);var t=r.props.groupDefaultSortBys?r.props.groupDefaultSortBys.filter(function(e){return e.group===r.state.values.group}):null,n=t&&t.length>0?t[0].sortBy:r.props.sortOptions&&r.props.sortOptions[0].value,a=null!=r.qTextBox&&""!=r.qTextBox||"relevance"!=r.state.values.sortBy?r.qTextBox?"relevance":r.state.values.sortBy:r.state.userLastSelectedSortBy||n,i=r.props.groupSearchRedirects&&r.props.groupSearchRedirects.filter(function(e){return e.searchedGroup==r.state.values.group}),o=i&&i.length>0?i[0].redirectToGroup:r.state.values.group;r.setState({values:r.mergeValues({search:r.qTextBox,sortBy:a,group:o})}),r.timer=window.setInterval(function(){return r.updateSearch(r.qTextBox)},300)},r.handleBeforeUnload=function(e){var t=a(".smart-list");t.is(document.activeElement)||0!==t.has(document.activeElement).length||r.logSearchAction()},r.updateSearch=function(e){r.timer&&clearInterval(r.timer),r.onSelectionsChanged(!0)},r.logSearchAction=function(e,t,n){r.state.values.search&&a.ajax({url:"/search/log",type:"POST",data:{index:r.props.searchIndex,isQuick:!1,q:r.state.values.search,isSuccess:null!=e&&null!=t,rank:n,id:e,url:t}})},r.onFilterChanged=function(e,t){var n={};n[e]=t,r.setValueState(n,!0)},r.onSelectionGroupChanged=function(e){var t=r.props.groupDefaultSortBys?r.props.groupDefaultSortBys.filter(function(t){return t.group===e}):null,n=r.state.userLastSelectedSortBy||(t&&t.length>0?t[0].sortBy:r.state.values.sortBy),a=r.props.groupSearchRedirects&&r.props.groupSearchRedirects.filter(function(t){return t.searchedGroup==e}).length>0||!r.props.searchableGroups||0==r.props.searchableGroups.filter(function(t){return t==e}).length;r.setValueState({group:e,sortBy:n,search:a?"":r.state.values.search},!0)},r.onWindowPopState=function(e){if(e.state)r.setValueState(e.state,!1);else{var t=r.getDefaultState();r.setValueState(t.values,!1)}},r.onSortByChanged=function(e){r.setState({values:r.mergeValues({sortBy:e}),userLastSelectedSortBy:"relevance"==e?r.state.userLastSelectedSortBy:e},function(){return r.onSelectionsChanged(!0)})},r.onSelectionsChanged=function(e){r.props.onSelectionsChanged&&r.props.onSelectionsChanged(r.state.values.sortBy,r.state.values.group);var t=r.refs.container;t&&(t.style.minHeight=a(t).height()+"px"),r.setState({hasMoreData:!0,hasLoadedSomeData:!1,list:r.props.disableClearResultsOnUpdate?r.state.list:[],children:r.props.disableClearResultsOnUpdate?r.state.children:[],values:r.mergeValues({page:1})},function(){var n=window.location.pathname+"?"+r.getQueryStringParameters();r.getData(!0).then(function(){e&&window.history.pushState(r.state.values,null,n),t&&(t.style.minHeight="initial")})})},r.onScroll=function(){r.state.isLoadingMoreData||r.state.isPagingMoreData||!r.state.hasMoreData||0!=r.state.list.length&&r.state.list.length<r.state.pageSize||r.setState({values:r.mergeValues({page:r.state.values.page+1})},function(){r.getData(!1)})},r.updateOpenMobileSort=function(e){r.setState({openMobileSort:e})},i(e),r.state=r.getDefaultState(),r}return r.__extends(l,n),l.prototype.componentDidUpdate=function(){this.props.onDidUpdate&&this.props.onDidUpdate()},l.prototype.componentDidMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1),window.addEventListener("beforeunload",this.handleBeforeUnload,!1),!this.props.data||window.history.state?this.getData(!0):this.setData(this.props.data,!0)},l.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1),window.removeEventListener("beforeunload",this.handleBeforeUnload,!1)},l.prototype.componentWillReceiveProps=function(e){e.data&&!s.isEqual(e.data,this.state.data)&&this.setData(e.data,!0)},l.prototype.render=function(){var t={updateOpenMobileSort:this.updateOpenMobileSort,onFilterChanged:this.onFilterChanged,onSearchChange:this.onSearchChange};return this.props.isHidden?null:e.createElement("div",{ref:"container"},e.createElement(o.SmartList,r.__assign({},this.props,this.state,t)))},l}(e.Component);t.SmartListContainer=c}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(28),i=(o=["\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: center;\n    align-items: center;\n    span:first-child {\n        border-radius: 4px 0 0 4px;\n    }\n    span + span {\n        border-left: 1px solid #fff;\n    }\n    span:last-child {\n        border-radius: 0 4px 4px 0;\n    }\n"],o.raw=["\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: center;\n    align-items: center;\n    span:first-child {\n        border-radius: 4px 0 0 4px;\n    }\n    span + span {\n        border-left: 1px solid #fff;\n    }\n    span:last-child {\n        border-radius: 0 4px 4px 0;\n    }\n"],a.default.div(o)),r=(s=["\n    font-weight: 400;\n    display: inline-flex;\n    flex: 1 1 auto;\n    flex-flow: row nowrap;\n    justify-content:center;\n    align-items: center;\n    margin: 0;\n    min-height: 40px;\n    color: #fff;\n    cursor: default;\n    background-color: ",";\n    color: #fff;\n"],s.raw=["\n    font-weight: 400;\n    display: inline-flex;\n    flex: 1 1 auto;\n    flex-flow: row nowrap;\n    justify-content:center;\n    align-items: center;\n    margin: 0;\n    min-height: 40px;\n    color: #fff;\n    cursor: default;\n    background-color: ",";\n    color: #fff;\n"],a.default.span(s,function(e){return e.color}));t.Steps=function(t){for(var n=t.stepsStatus,a=[],o=0,s=0,l=Object.entries(n);s<l.length;s++){var c=l[s],u=c[0],p=c[1];a.push(e.createElement(r,{key:o,color:p},u)),o++}return e.createElement(i,null,a)};var o,s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(6),r=function(t){function n(e){var n=t.call(this,e)||this;return n.showToolTip=function(){n.setState({isShown:!0})},n.hideToolTip=function(){n.setState({isShown:!1})},n.state={isShown:!1},n}return a.__extends(n,t),n.prototype.makeClassName=function(e){var t="tooltip-multiline"+(e||"")+"--left";return i("tooltip-multiline"+(e||""),(n={},n[t]=this.props.alignLeft,n),this.props.className);var n},n.prototype.render=function(){return e.createElement("span",{className:this.makeClassName(),onMouseEnter:this.showToolTip,onMouseLeave:this.hideToolTip},e.createElement("span",{className:this.makeClassName("__before"),style:{opacity:this.state.isShown?1:0}}),this.props.children,e.createElement("span",{className:this.makeClassName("__after"),style:{opacity:this.state.isShown?1:0}},this.props.tipContent))},n}(e.Component);t.ToolTipMultiLine=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(6),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.callToAction=function(){var t=this;return this.props.emptyListCreateNewUrl||this.props.emptyListCreateNewAction?e.createElement("a",{className:"teaser-list__empty-cta",href:this.props.emptyListCreateNewUrl||"javascript:void(0)",onClick:function(){return t.props.emptyListCreateNewAction()}},this.props.emptyListCreateNewText):null},n.prototype.render=function(){var t=this;return this.props.listItems&&this.props.listItems.length?e.createElement("div",{className:i("teaser-list","teaser-list--"+(this.props.minItemHeight||3)+"-item-height")},this.props.listItems.map(function(e,n){return t.props.listItemRenderer(e,n)})):e.createElement("div",{className:i("teaser-list","teaser-list--"+(this.props.minItemHeight||1)+"-item-height")},e.createElement("div",{className:"teaser-list__empty-list"},e.createElement("span",{className:"teaser-list__empty-list-message"},this.props.emptyListMessage),this.callToAction()))},n}(e.Component);t.TeaserList=r}).call(t,n(0))},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(3),r=n(381),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.componentDidMount=function(){},n.prototype.componentWillUnmount=function(){},n.prototype.render=function(){var t={children:this.props.children,closeButtonCallback:this.props.closeButtonCallback,shouldShowOffCanvas:this.props.shouldShowOffCanvas,shouldUseCloseButton:this.props.shouldUseCloseButton,shouldUseRightSide:this.props.shouldUseRightSide};return e.createElement(r.OffCanvas,i.extend({},this.state,t))},n}(e.Component);t.OffCanvasContainer=o}).call(t,n(0))},,,function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(32),o=n(151),s=function(t){function n(e){var n=t.call(this,e)||this;return n.getOptions=function(e,t){!e&&t(null,{options:null,complete:!1}),n.searchMapsApi(e,t)},n.searchMapsApi=function(e,t){var i=["locality","neighborhood","administrative_area_level_2","administrative_area_level_1","country"],o=encodeURIComponent(e.trim());a.get("https://maps.googleapis.com/maps/api/geocode/json?address="+o+"&sensor=false").then(function(e){var a=r.chain(e.results).map(function(e){var t=function(t){return n.getAddressLongName(e.address_components,t)},a=i.map(t),r=a[0],o=a[1],s=a[2],l=a[3],c=a[4];return[o||r||s,l,c]}).map(function(e){var t=e.filter(Boolean).join(", ");return{value:t,label:t}}).value();t(null,{options:a,complete:!1})})},n.onChange=function(e){if(e&&e.value){var t=e.value.split(", ");2===t.length?n.props.onChange(t[0],null,t[1]):n.props.onChange(t[0],t[1],t[2])}else n.props.onChange(null,null,null)},n.searchMapsApi=r.debounce(n.searchMapsApi,250),n}return i.__extends(n,t),n.prototype.getAddressLongName=function(e,t){var n=e.filter(function(e){return e.types.some(function(e){return e===t})});return n.length>0?n[0].long_name:null},n.prototype.render=function(){var t=[this.props.city,this.props.region,this.props.country].filter(Boolean).join(", ");return e.createElement(o.Async,{placeholder:this.props.city?t:"City",name:"city",value:t,minimumInput:3,loadOptions:this.getOptions,onChange:this.onChange,filterOption:function(e,t){return e}})},n}(e.Component);t.CityLookup=s}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(8),r=n(6),o=n(157);n(641),n(642),n(643),n(644),n(645);var s=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.getAutocompleteHints=function(t,n){i.Current.log("Beginning autocomplete.");var a=e.codeMirror.getDoc(),r=a.getCursor();o.Pos(r.line,r.ch);e.props.getAutocomplete(a.getValue(),a.indexFromPos(r),function(e,t,i){var r=a.posFromIndex(t),o=a.posFromIndex(i);n({list:e,from:r,to:o})})},e.shouldFireAutocomplete=function(){var t=e.codeMirror.getDoc(),n=t.getCursor();if(!n.ch)return!1;var a=t.getValue(),i=t.indexFromPos(n),r=t.indexFromPos({line:n.line,ch:0});return!!/\S/.test(a.slice(r,i))},e.handleAutocomplete=function(){var t=e.codeMirror.getDoc();if(!e.props.getAutocomplete||!e.shouldFireAutocomplete()){if(t.somethingSelected())e.codeMirror.execCommand("indentMore");else{var n=Array(e.codeMirror.getOption("indentUnit")+1).join(" ");t.replaceRange(n,t.getCursor(),null)}return void(e.props.onChange&&e.props.onChange(t.getValue()))}var a=e.getAutocompleteHints;a.async=!0,e.codeMirror.showHint({hint:a})},e.focusChanged=function(t){e.setState({isFocused:t}),e.props.onFocusChange&&e.props.onFocusChange(t)},e.codeMirrorValueChanged=function(t,n){var a=t.getValue();e.currentCodeMirrorValue=a,n.origin&&"setValue"!==n.origin&&e.props.onChange&&e.props.onChange(a)},e}return a.__extends(n,t),n.prototype.componentDidMount=function(){var e=this;this.codeMirror=o.fromTextArea(this.textarea,this.props.options),this.codeMirror.on("change",this.codeMirrorValueChanged),this.props.onFocusChange&&(this.codeMirror.on("focus",function(){e.props.onFocusChange(!0)}),this.codeMirror.on("blur",function(){e.props.onFocusChange(!1)})),this.codeMirror.on("blur",function(){window.setTimeout(function(){e.codeMirror.getDoc().setSelection({line:0,ch:0},{line:0,ch:0})})}),this.props.onMouseUp&&this.codeMirror.on("mosueup",this.props.onMouseUp),this.currentCodeMirrorValue=this.props.defaultValue||this.props.value||"",this.codeMirror.setValue(this.currentCodeMirrorValue),this.codeMirror.setOption("extraKeys",{Tab:this.handleAutocomplete,"Ctrl-Space":this.handleAutocomplete,"Shift-Tab":"indentLess",Up:function(){if(0!==e.codeMirror.getDoc().getCursor().line||!e.props.canMoveUp())return o.Pass;e.props.onMoveUp()},Down:function(){var t=e.codeMirror.getDoc();if(t.getCursor().line!==t.lineCount()-1||!e.props.canMoveDown())return o.Pass;e.props.onMoveDown()},"Shift-Enter":this.props.onShiftEnter,"Alt-Enter":this.props.onShiftEnter,"Ctrl-Enter":this.props.onCtrlEnter,"Cmd-Enter":this.props.onCtrlEnter}),this.props.hasFocus&&window.setTimeout(function(){return e.codeMirror.focus()})},n.prototype.componentWillUnmount=function(){this.codeMirror&&this.codeMirror.toTextArea()},n.prototype.componentWillReceiveProps=function(e){var t=this;if(this.codeMirror&&e.hasFocus&&!this.codeMirror.hasFocus()&&window.setTimeout(function(){t.codeMirror.hasFocus()||(t.codeMirror.refresh(),t.codeMirror.focus())},0),this.codeMirror&&void 0!==e.value&&null!==e.value&&this.currentCodeMirrorValue!==e.value&&this.codeMirror.setValue(e.value),"object"==typeof e.options)for(var n in e.options)e.options.hasOwnProperty(n)&&this.codeMirror.setOption(n,e.options[n])},n.prototype.focus=function(){this.codeMirror&&this.codeMirror.focus()},n.prototype.render=function(){var t=this,n=r("code-mirror-editor",this.props.className);return e.createElement("div",{className:n},e.createElement("textarea",{ref:function(e){t.textarea=e},defaultValue:this.props.value,autoComplete:"off"}))},n}(e.Component);t.CodeMirrorEditor=s}).call(t,n(0))},,function(e,t,n){"use strict";function a(e,t,n){l.push(e,t)}function i(e,t,n){l.replace(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(407),o=n(653),s=n(5),l=o.createBrowserHistory();t.historyContextTypes={history:s.shape({push:s.func.isRequired,replace:s.func.isRequired,listen:s.func.isRequired,location:s.object.isRequired}).isRequired},t.HistoryProvider=r.createProvider(t.historyContextTypes,function(){return{history:{push:a,replace:i,listen:l.listen,location:l.location}}}),t.historyProvider=r.createProviderDecorator(t.HistoryProvider),t.historyContext=r.createContextDecorator(t.historyContextTypes)},,,,,function(e,t,n){"use strict";function a(e){return e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-")}function i(e){return e.replace(/-+/g," ")}Object.defineProperty(t,"__esModule",{value:!0}),t.slugify=a,t.deslugify=i},,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(57),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=function(e){return i("line",e,!0)},n=this.props.spaced?" ":"";return e.createElement("span",{title:t(this.props.inserts)+" inserted / "+t(this.props.deletes)+" deleted"},"(",e.createElement("a",{className:"diff-summary__link",href:this.props.href,onClick:this.props.onClick},e.createElement("span",{className:"diff-summary__inserted"},"+",this.props.inserts),n,"/",n,e.createElement("span",{className:"diff-summary__deleted"},"",this.props.deletes)),")")},n}(e.Component);t.DiffSummary=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(0),r=n(621),o=n(57),s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=function(t){function n(e){var n=t.call(this,e)||this,a=new Date;return a.setFullYear((new Date).getFullYear()-1),a.setDate(a.getDate()+1),n.start=a,n.labels=s.map(function(e,t){return s[(t+a.getMonth()+1)%12]}),n}return a.__extends(n,t),n.prototype.componentDidMount=function(){return a.__awaiter(this,void 0,void 0,function(){var t,i=this;return a.__generator(this,function(o){return t=this.props.username,window.setTimeout(function(){return a.__awaiter(i,void 0,void 0,function(){var i,o,s;return a.__generator(this,function(a){switch(a.label){case 0:return i=n.cache[t]||e.Users.getActivity({userName:t}),n.cache[t]=i,[4,i];case 1:return o=a.sent(),s=new r,s.init({itemSelector:this.container,domain:"week",subDomain:"day",weekStartOnMonday:!1,tooltip:!0,animationDuration:0,range:53,domainGutter:0,domainMargin:1,itemName:["",""],cellSize:13,legendCellSize:13,legendCellPadding:4,start:this.start,data:o,afterLoadData:this.parseData.bind(this),subDomainDateFormat:this.formatTooltip.bind(this),domainLabelFormat:"",legend:[5,10,15,20]}),[2]}})})}),[2]})})},n.prototype.formatTooltip=function(e){var t=this.formatDate(e);if(!this.activityLookup)return t;var n=this.activityLookup[this.formatDate(e)];return n&&(n.totalSubmissions&&(t+="<br />"+n.totalSubmissions+" "+o("submission",n.totalSubmissions)),n.totalScripts&&(t+="<br />"+n.totalScripts+" script "+o("run",n.totalScripts)),n.totalDatasets&&(t+="<br />"+n.totalDatasets+" dataset "+o("version",n.totalDatasets)),n.totalDiscussions&&(t+="<br />"+n.totalDiscussions+"  "+o("comment",n.totalDiscussions))),t},n.prototype.parseData=function(e){var t={};this.activityLookup={};for(var n=0,a=e;n<a.length;n++){var i=a[n],r=i.totalDatasets+i.totalDiscussions+i.totalScripts+i.totalSubmissions,o=new Date(i.date.toString()),s=o.getTime()/1e3;this.activityLookup[this.formatDate(o)]=i,t[s.toString().split(".")[0]]=r}return t},n.prototype.formatDate=function(e){return s[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()},n.prototype.renderLabels=function(){return this.labels.map(function(e,t){return i.createElement("li",{key:t},e)})},n.prototype.render=function(){var e=this;return i.createElement("div",{className:"activity-calendar activity-calendar--"+this.props.tier},i.createElement("ul",{className:"activity-calendar__labels"},this.renderLabels()),i.createElement("div",{className:"activity-calendar__container",ref:function(t){return e.container=t}}))},n.cache={},n}(i.Component);t.ActivityCalendar=l}).call(t,n(23))},,,,,function(e,t,n){"use strict";function a(e,t){if(e&&(e.indexOf("$$")>-1||e.indexOf("\\[")>-1||e.indexOf("\\(")>-1))return"undefined"!=typeof MathJax&&MathJax?void MathJax.Hub.Queue(["Typeset",MathJax.Hub,t]):void i.Current.warn("LaTeX content was detected inside markdown, but MathJax is not loaded. Use @Components.MathJax()")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(8);t.Render=a},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(41),r=n(20),o=n(35),s=function(t){function n(e){var n=t.call(this,e)||this;return n.hostSegmentModifier=n.props.competition.isInClass?"inclass":n.props.competition.hostSegment.replace(" ",""),n}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement(o.BlockLink,{key:this.props.index,href:this.props.competition.competitionUrl,onClick:function(){return t.props.onClick("competition-"+t.props.competition.competitionId,t.props.competition.competitionUrl,t.props.index)}},e.createElement("div",{className:"competition-card competition-card--"+this.hostSegmentModifier+" "+(this.props.competition.userHasEntered?"competition-card--user-entered":"")},e.createElement("div",null,e.createElement("img",{src:this.props.competition.thumbnailImageUrl,alt:this.props.competition.competitionTitle,className:"competition-card__thumbnail"})),e.createElement("div",{className:"competition-card__title"},e.createElement("div",null,e.createElement("a",{href:this.props.competition.competitionUrl,className:"competition-card__competition-link",onClick:function(){return t.props.onClick("competition-"+t.props.competition.competitionId,t.props.competition.competitionUrl,t.props.index)}},this.props.competition.competitionTitle),this.props.competition.isPrivate?e.createElement("span",{className:"competition-card__tag"},"Private"):null,this.props.competition.isLimited?e.createElement("span",{className:"competition-card__tag"},"Limited"):null),e.createElement("div",{className:"competition-card__description"},this.props.competition.competitionDescription),e.createElement("div",{className:"competition-card__meta"},e.createElement("span",{className:"competition-card__host-segment competition-card__host-segment--"+this.hostSegmentModifier},this.props.competition.isInClass?"In-Class":this.props.competition.hostSegment),"Knowledge"!=this.props.competition.rewardDisplay&&e.createElement("span",{className:"competition-card__reward--mobile"},e.createElement("span",{className:"competition-card__spacer"}),e.createElement("strong",null,this.props.competition.rewardDisplay)),e.createElement("span",{className:"competition-card__deadline"},e.createElement("span",{className:"competition-card__spacer"}),e.createElement(r.TimeAgo,{time:this.props.competition.deadline})),this.props.competition.userHasEntered?e.createElement("span",null,e.createElement("span",{className:"competition-card__spacer"}),"Entered"):null,this.props.competition.totalKernels?e.createElement("span",null,e.createElement("span",{className:"competition-card__spacer"}),e.createElement("a",{className:"competition-card__kernel-link",href:this.props.competition.competitionUrl+"/kernels"},e.createElement(i.Pluralize,{count:this.props.competition.totalKernels,formatNumber:!0,word:"kernel"}))):null)),e.createElement("div",{className:"competition-card__stats"},"Knowledge"!=this.props.competition.rewardDisplay&&e.createElement("div",{className:"competition-card__reward"},this.props.competition.rewardDisplay),this.props.competition.totalTeams>0&&e.createElement("div",{className:"competition-card__teams"},e.createElement(i.Pluralize,{count:this.props.competition.totalTeams,formatNumber:!0,word:"team"})))))},n}(e.Component);t.CompetitionCard=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(28),r=n(648),o=(m=["\n"],m.raw=["\n"],i.default.div(m)),s=function(t){return e.createElement(l,null,e.createElement(c,{height:t.height},t.children))},l=(h=["\n    position: relative;\n    margin: 0 auto;\n"],h.raw=["\n    position: relative;\n    margin: 0 auto;\n"],i.default.div(h)),c=(g=["\n    position: absolute;\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: center;\n    right: 0;\n    height: ","px;\n"],g.raw=["\n    position: absolute;\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: center;\n    right: 0;\n    height: ","px;\n"],i.default.div(g,function(e){return e.height})),u=(f=["\n    opacity: 0.5;\n    margin-right: 5px;\n    font-size:0.75em;\n"],f.raw=["\n    opacity: 0.5;\n    margin-right: 5px;\n    font-size:0.75em;\n"],i.default.span(f)),p=function(t){return e.createElement(s,a.__assign({},t),e.createElement(u,null,e.createElement("span",{className:"fa-stack"},e.createElement("i",{className:"fa fa-circle fa-stack-2x fa-inverse"}),e.createElement("i",{className:"fa fa-user-secret fa-stack-1x"}))))},d=function(t){function n(e){var n=t.call(this,e)||this;return n.state={height:null},n}return a.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props.isDevTest;if(!n||!n())return null;var a=this.props.children();return e.createElement(o,null,this.state.height&&e.createElement(p,{height:this.state.height}),e.createElement(r,{onHeightReady:function(e){return t.setState({height:e})}},a))},n}(e.Component);t.DevOnly=d;var m,h,g,f}).call(t,n(0))},,function(e,t,n){"use strict";(function(e){function a(e){var t=k.exec(e);return t?i(parseInt(t[1]),parseInt(t[2]),parseInt(t[3])):null}function i(e,t,n){return"#"+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)}function r(e){e=e.replace(x,function(e,t,n,a){return t+t+n+n+a+a});var t=M.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function o(e){var t=r(e);return"rgb("+t.r+", "+t.g+", "+t.b+")"}function s(e){if(0===e.indexOf("#")&&(e=e.slice(1)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6!==e.length)throw new Error("Invalid HEX color.");var t=(255-parseInt(e.slice(0,2),16)).toString(16),n=(255-parseInt(e.slice(2,4),16)).toString(16),a=(255-parseInt(e.slice(4,6),16)).toString(16);return"#"+l(t)+l(n)+l(a)}function l(e,t){return t=t||2,(new Array(t).join("0")+e).slice(-t)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(1),u=n(28),p=n(111),d=(E=["\n    position: relative;\n    display: flex;\n    flex-flow: row wrap;\n    overflow-y: auto;\n    overflow-x: hidden;\n    border: 1px solid ",";\n    border-top: 0;\n    margin-top: 0;\n    border-radius: 0 0 3px 3px;\n"],E.raw=["\n    position: relative;\n    display: flex;\n    flex-flow: row wrap;\n    overflow-y: auto;\n    overflow-x: hidden;\n    border: 1px solid ",";\n    border-top: 0;\n    margin-top: 0;\n    border-radius: 0 0 3px 3px;\n"],u.default.div(E,p.Color.ContentBorder)),m=(y=["\n    pointer-events: none;\n    position: relative;\n    width: 100%;\n    height: 100%;\n    border: 0;\n    margin: 0;\n    padding: 0;\n    color: ",";\n    background-color: ",";\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n    align-items: center;\n    text-shadow: 1px 1px 1px #888888;\n"],y.raw=["\n    pointer-events: none;\n    position: relative;\n    width: 100%;\n    height: 100%;\n    border: 0;\n    margin: 0;\n    padding: 0;\n    color: ",";\n    background-color: ",";\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n    align-items: center;\n    text-shadow: 1px 1px 1px #888888;\n"],u.default.div(y,function(e){return e.color.startsWith("#")?s(e.color):"#000"},function(e){return e.color})),h=(w=["\n    position: relative;\n    border: 1px solid #fff;\n    font-size: 0.8rem;\n    background-color: #fff;\n    display: inline-flex;\n    flex: 1 0 auto; /*calc(50% - 4px);*/\n    width: calc(50% - 4px);\n    flex-flow: row wrap;\n    justify-content: space-between;\n    align-items: center;\n    font-weight: 500;\n    height: 40px;\n    transition: height 0.8s;\n    will-change: height;\n    z-index: 1;\n    margin: 0;\n    cursor: pointer;\n\n    & section:first-of-type {\n        transition: transform 0.8s;\n        will-change: transform;\n        transform-origin: top left;\n    }\n\n    &:hover {\n        z-index: 3;\n        font-size:1rem;\n        font-weight: 700;\n        height: 60px;\n        width: calc(51% - 2px);\n        box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.2);\n\n        & div {\n            opacity: 1;\n            display: flex;\n        }\n\n        & section:first-of-type {\n            background-color: ",";\n            color: ",";\n            transform: scale(1.1);\n            box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.2);\n            text-shadow: none;\n        }\n    }\n"],w.raw=["\n    position: relative;\n    border: 1px solid #fff;\n    font-size: 0.8rem;\n    background-color: #fff;\n    display: inline-flex;\n    flex: 1 0 auto; /*calc(50% - 4px);*/\n    width: calc(50% - 4px);\n    flex-flow: row wrap;\n    justify-content: space-between;\n    align-items: center;\n    font-weight: 500;\n    height: 40px;\n    transition: height 0.8s;\n    will-change: height;\n    z-index: 1;\n    margin: 0;\n    cursor: pointer;\n\n    & section:first-of-type {\n        transition: transform 0.8s;\n        will-change: transform;\n        transform-origin: top left;\n    }\n\n    &:hover {\n        z-index: 3;\n        font-size:1rem;\n        font-weight: 700;\n        height: 60px;\n        width: calc(51% - 2px);\n        box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.2);\n\n        & div {\n            opacity: 1;\n            display: flex;\n        }\n\n        & section:first-of-type {\n            background-color: ",";\n            color: ",";\n            transform: scale(1.1);\n            box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.2);\n            text-shadow: none;\n        }\n    }\n"],u.default.div(w,p.Color.KaggleBlackDark,p.Color.CodeWhite)),g=(C=["\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content:space-around;\n    height: calc(100% - 16px);\n    margin-left: 0;\n    margin-right: auto;\n    padding: 8px;\n    border-radius:0 0 8px 0;\n    & > p {\n        font-size: 0.8em;\n        padding: 3px 0;\n        text-shadow: 1px 1px 1px #888888;\n    }\n"],C.raw=["\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content:space-around;\n    height: calc(100% - 16px);\n    margin-left: 0;\n    margin-right: auto;\n    padding: 8px;\n    border-radius:0 0 8px 0;\n    & > p {\n        font-size: 0.8em;\n        padding: 3px 0;\n        text-shadow: 1px 1px 1px #888888;\n    }\n"],u.default.section(C)),f=(S=["\n    align-items:flex-end;\n    margin-right: 0;\n    margin-left: auto;\n"],S.raw=["\n    align-items:flex-end;\n    margin-right: 0;\n    margin-left: auto;\n"],u.default(g)(S)),v=(N=["\n    font-size: 0.65em;\n    display: none;\n    opacity: 0;\n    transition: opacity 0.8s;\n"],N.raw=["\n    font-size: 0.65em;\n    display: none;\n    opacity: 0;\n    transition: opacity 0.8s;\n"],u.default.div(N)),_=(T=["\n    & > textarea {\n        font-size: 1.5em;\n        width: 100%;\n        color: ",";\n        background-color: ",";\n        border: 1px solid ",";\n        border-bottom: 0;\n        margin-bottom: 0;\n        display: inline-flex;\n        flex-flow: row nowrap;\n        justify-content: center;\n        align-items: center;\n        text-align: center;\n        font-weight: 700;\n        white-space: normal;\n        padding: 10px 0;\n        height: 45px;\n        border-radius: 3px 3px 0 0;\n        box-sizing: border-box;\n    }\n    & textarea:focus, & textarea:active, & textarea:hover, & textarea:visitor {\n        border: 1px solid ",";\n    }\n"],T.raw=["\n    & > textarea {\n        font-size: 1.5em;\n        width: 100%;\n        color: ",";\n        background-color: ",";\n        border: 1px solid ",";\n        border-bottom: 0;\n        margin-bottom: 0;\n        display: inline-flex;\n        flex-flow: row nowrap;\n        justify-content: center;\n        align-items: center;\n        text-align: center;\n        font-weight: 700;\n        white-space: normal;\n        padding: 10px 0;\n        height: 45px;\n        border-radius: 3px 3px 0 0;\n        box-sizing: border-box;\n    }\n    & textarea:focus, & textarea:active, & textarea:hover, & textarea:visitor {\n        border: 1px solid ",";\n    }\n"],u.default.div(T,p.Color.KaggleBlueDark,p.Color.FooterBlack,p.Color.FooterBorder,p.Color.FooterBorder)),b=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props,i=n.style,r=n.className,s=n.paletteStyle,l=n.paletteClassName,c=n.swatchStyle,u=n.swatchClassName,b=Object.keys(p.Color);return e.createElement("div",{style:i,className:r},e.createElement(_,null,e.createElement("textarea",{ref:function(e){return t.textarea=e}})),e.createElement(d,{style:s,className:l},b.map(function(n,i){var r=p.Color[n],s=r.startsWith("#")?r:a(r),l=r.startsWith("#")?o(r):r;return e.createElement(h,{key:i,style:c,className:u,onMouseOver:function(e){t.textarea.value=r},onClick:function(e){t.textarea.select();try{document.execCommand("copy");t.textarea.value+=" - Copied!",t.textarea.style.backgroundColor=p.Color.UserGrandmaster}catch(e){t.textarea.value+=" - Error copying!",t.textarea.style.backgroundColor=p.Color.KaggleRed}finally{window.setTimeout(function(){t.textarea.style.backgroundColor=p.Color.FooterBlack},800)}}},e.createElement(m,{color:s||r,style:c,className:u},e.createElement(g,null,n,e.createElement(v,null,p.lessKeyMap[n].join(" | "))),e.createElement(f,null,e.createElement("p",null,s),e.createElement("p",null,l))))})))},n}(e.Component);t.Palette=b;var E,y,w,C,S,N,T,k=/rgba?\(([0-9]+), *([0-9]+), *([0-9]+)/i,x=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,M=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i}).call(t,n(0))},,,,function(e,t,n){"use strict";function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}Object.defineProperty(t,"__esModule",{value:!0}),t.uuid=a},function(e,t,n){"use strict";function a(e,t){var n=S.keys(t),a=S.keys(e);return n.length===a.length&&!a.some(function(n){return!S.has(t,n)||"function"!=typeof t[n]&&"object"!=typeof t[n]&&e[n]&&t[n]!==e[n]||"function"==typeof t[n]&&e[n]&&t[n].toString()!==e[n].toString()})}function i(e,t){return(Array(t+1).join("0")+e).slice(-t)}function r(e){if(S.has(e,"_type")&&e._type===t.KernelInfoResponseType)return!1;if(!S.has(e,"_guid"))return!1;var n=e._guid.substr(e._guid.length-x-k.length-1,k.length);return k===n}function o(e){return!r(e)}function s(){var e=i((T++).toString(16),x);return M+"-"+k+"-"+e}function l(e,n,a,i,r,o){return void 0===a&&(a=!1),void 0===i&&(i=N.Code),void 0===r&&(r=""),void 0===o&&(o=null),{_type:t.InsertCellEditEventType,_guid:s(),_cell_guid:e,_below_cell_guid:n,_above_cell_guid:o,collapsed:a,cell_type:i===N.Code?"code":"markdown",source:r}}function c(e,n){return{_type:t.AppendCellEditEventType,_guid:s(),_cell_guid:e,source:n}}function u(e){return{_type:t.DeleteCellEditEventType,_guid:s(),_cell_guid:e}}function p(e){return{_type:t.ActivateCellEditEventType,_guid:s(),_cell_guid:e}}function d(e){return{_type:t.DeactivateCellEditEventType,_guid:s(),_cell_guid:e}}function m(e,n,a,i){var r={_type:t.UpdateCellEditEventType,_guid:s(),_cell_guid:e};return null!=a&&(r.cell_type=a===N.Code?"code":"markdown"),null!=n&&(n instanceof Array?r.source=n.join("\n"):r.source=n),null!=i&&(r.collapsed=i),r}function h(e){return{_type:t.UpdateCellEditEventType,_guid:s(),_cell_guid:e,execution_state:"idle"}}function g(e,t){return{_type:"complete_request",_guid:s(),code:e,cursor_pos:t}}function f(e){return{_type:"execute_cell",_guid:s(),_cell_guid:e}}function v(){return{_guid:s(),_type:"interrupt_kernel"}}function _(){return{_guid:s(),_type:"close_notebook",nbconvert:"full"}}function b(){return{_guid:s(),_type:"close_notebook",nbconvert:null}}function E(){return{_guid:s(),_type:"snapshot_notebook_request"}}function y(){return w(8)+"-"+w(4)+"-"+w(4)+"-"+w(4)+"-"+w(12)}function w(e){void 0===e&&(e=40);for(var t="",n=0;n<e;n++)t+=(16*Math.random()|0).toString(16);return t}Object.defineProperty(t,"__esModule",{value:!0});var C=n(8),S=n(32);t.propsAreShallowEqual=a;var N;!function(e){e[e.Code=0]="Code",e[e.Markdown=1]="Markdown"}(N=t.NotebookCellType||(t.NotebookCellType={}));!function(e){e[e.Idle=0]="Idle",e[e.Busy=1]="Busy"}(t.CellExecutionStatus||(t.CellExecutionStatus={}));!function(e){e[e.Unknown=0]="Unknown",e[e.Initializing=1]="Initializing",e[e.Requested=2]="Requested",e[e.Queued=3]="Queued",e[e.Starting=4]="Starting",e[e.Running=5]="Running",e[e.Error=6]="Error",e[e.Stopped=7]="Stopped",e[e.DownloadingData=8]="DownloadingData",e[e.LostHeartbeat=9]="LostHeartbeat",e[e.Reconnecting=10]="Reconnecting",e[e.RenderingHtml=11]="RenderingHtml",e[e.RestartingKernel=12]="RestartingKernel"}(t.KernelStatus||(t.KernelStatus={}));var T=0,k=w(4)+"-"+w(4)+"-"+w(4),x=12,M=i((C.Current.userId||0).toString(16),8);t.ThisClientSent=r,t.NotFromThisClient=o,t.messageUuid=s,t.LoadNotebookEditEventType="load_notebook",t.InsertCellEditEventType="insert_cell",t.InsertCellEditEvent=l,t.AppendCellEditEventType="append_cell",t.AppendCellEditEvent=c,t.DeleteCellEditEventType="delete_cell",t.DeleteCellEditEvent=u,t.ActivateCellEditEventType="activate_cell",t.ActivateCellEditEvent=p,t.DeactivateCellEditEventType="deactivate_cell",t.DeactivateCellEditEvent=d,t.UpdateCellEditEventType="update_cell",t.UpdateCellEditEvent=m,t.MakeCellIdleEditEvent=h,t.AutocompleteRequest=g,t.CellExecutionRequestType="execute_cell",t.CellExecutionRequest=f,t.KernelInfoResponseType="kernel_info",t.InterruptKernelType="interrupt_kernel",t.InterruptKernelRequest=v,t.CloseNotebookType="close_notebook",t.CloseNotebookRequest=_,t.CloseNotebookForLanguageChangeRequest=b,t.SerializeNotebookType="snapshot_notebook_request",t.SerializeNotebookRequest=E,t.strictlyFormattedUuid=y,t.uuid=w},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(3),r=n(57),o=n(6),s=n(9),l=n(8),c=n(179),u=n(20),p=n(122),d=n(44),m=n(107),h=n(214),g=n(215),f=n(59),v=n(152),_=n(35),b=n(40),E=n(46),y=n(108),w=n(4),C=n(439),S={notebook:"fa-globe",data:"fa-table",visualization:"fa-bar-chart",other:"fa-file-text-o"},N=function(){function e(e,t){var n=this;this.removeDefaultFilters=function(e){for(var t={},a=0,i=Object.keys(e);a<i.length;a++){var r=i[a];e[r]!=n.defaultFilters[r]&&(t[r]=e[r])}return t},this.pushNewFilteredUrl=function(e){var t=window.location.pathname+window.location.search,a=window.history.state||{},r=window.location.pathname;a.scriptListFilterState=n.removeDefaultFilters(e),Object.keys(a.scriptListFilterState).length&&(r+="?"+i.param(a.scriptListFilterState)),t!=r&&window.history.pushState(a,"",r)},this.onWindowPopState=function(e){e.state&&e.state.scriptListFilterState&&n.filtersChangedCallback(e.state.scriptListFilterState)},this.updateFilters=function(e,t){i.extend(e,t),n.pushNewFilteredUrl(e),n.filtersChangedCallback(e)},this.baseUrl=window.location.href.split("?")[0],this.defaultFilters=t,this.filters=window.location.search.length?w.parseQueryString(window.location.search):this.defaultFilters,this.filtersChangedCallback=e,this.pushNewFilteredUrl(this.filters)}return e.prototype.scriptListWillMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1)},e.prototype.scriptListWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1)},e}(),T=function(t){function n(n){var r=t.call(this,n)||this;return r.initForUserProfile=function(){r.availableSelectionGroups=[{key:"my",name:r.props.userId===l.Current.userId?"Mine":"Published",action:function(){return r.onSelectionGroupChange("my")}},r.props.showHiddenSelectionGroup?{key:"hidden",name:"Hidden",action:function(){return r.onSelectionGroupChange("hidden")}}:null,{separator:!0},{key:"upvoted",name:"Upvoted",action:function(){return r.onSelectionGroupChange("upvoted")}}],r.initialFilters={userId:r.props.userId,sortBy:"votes"},r.availableSortingOrders=[{value:"votes",label:"Most Votes"},{value:"hotness",label:"Hotness"},{value:"date",label:"Most Recent"}]},r.initForScriptsTab=function(){r.availableSelectionGroups=[{key:"everyone",name:"All",action:function(){return r.myScriptsToggle("everyone")}},{key:"my",name:"Mine",action:function(){return r.myScriptsToggle("my")}}],r.initialFilters={},r.availableSortingOrders=[{value:"hotness",label:"Hotness"},{value:"votes",label:"Most Votes"},{value:"date",label:"Most Recent"}]},r.onSelectionGroupChange=function(e){r.setState({filters:a.__assign({},r.state.filters,{group:e}),scriptData:[],hasMoreData:!0,selectionGroup:e},function(){r.loadMoreData(r.state.filters)})},r.loadLanguagesMetadata=function(){i.getJSON(r.props.languagesMetadataUrl,function(e){r.setState({availableLanguages:[{label:"All Languages",value:"all"}].concat(e.map(function(e){return{label:e,value:e}}))})})},r.loadOutputTypesMetadata=function(){i.getJSON(r.props.outputTypesMetadataUrl,function(e){r.setState({availableOutputs:[{label:"All Output Types",value:"all"}].concat(e.map(function(e){return{label:e,value:e}}))})})},r.loadMoreData=function(e){e=e||{};var t=r.state.scriptData,n=r.props.sourceBaseUrl+t.length.toString();e.after=t.length>0&&t[t.length-1].id;var a=!1;if(e){e.userId&&e.userId.toString().length&&(a=!0);var o=i.param(r.filterManager.removeDefaultFilters(e));o&&(n+="?"+o)}r.currentDataRequest&&4!==r.currentDataRequest.readyState&&r.currentDataRequest.abort(),r.setState({onlyMyScripts:a,isLoadingMoreData:!0},function(){r.currentDataRequest=i.getJSON(n,function(e){r.setState({scriptData:t.concat(e),isLoadingMoreData:!1,hasMoreData:e.length>0,hasLoadedSomeData:!0})})})},r.getListTitle=function(){return r.state.scriptData&&!r.state.isLoadingMoreData&&r.state.scriptData[0]&&r.state.scriptData[0].totalScripts?r.state.scriptData[0].totalScripts.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" kernels":" "},r.onFiltersChanged=function(e){r.setState({filters:e,scriptData:[],hasMoreData:!0,hasLoadedSomeData:!1},function(){return r.loadMoreData(e)})},r.onNewSort=function(e){r.showMobileSortMenu(!1),r.filterManager.updateFilters(r.state.filters,{sortBy:e})},r.onNewLanguage=function(e){r.showMobileSortMenu(!1),r.filterManager.updateFilters(r.state.filters,{language:e})},r.onNewOutputType=function(e){r.showMobileSortMenu(!1),r.filterManager.updateFilters(r.state.filters,{outputType:e})},r.onNewOutputTypeClickEvent=function(e,t){t.preventDefault(),r.onNewOutputType(e)},r.onNewLanguageClickEvent=function(e,t){t.preventDefault(),r.onNewLanguage(e)},r.onScroll=function(){r.state.hasMoreData&&!r.state.isLoadingMoreData&&r.loadMoreData(r.state.filters)},r.onNewKernelClick=function(){l.Current.isSiteAdminOrTvc||ga("send","event","kernel","new-kernel-clicked"),r.newKernelModal.show()},r.myScriptsToggle=function(e){var t="my"===e;if(!l.Current.userId)return void(document.location.href=r.props.loginAndReturnUrl);r.setState({onlyMyScripts:t,selectionGroup:e},function(){var e=r.state.onlyMyScripts?l.Current.userId.toString():"";r.filterManager.updateFilters(r.state.filters,{userId:e})})},r.renderOutputTypeOption=function(t){if("string"!=typeof t.value)throw new Error('Invalid option type: "'+typeof t.value+'", Expected "string".');return e.createElement("span",null,e.createElement("span",{className:o("fa",S[t.value.toLowerCase()])})," ",t.label)},r.searchOptionsList=function(e,t){for(var n=0,a=e;n<a.length;n++){var i=a[n];if(i.value==t)return i}return e[0]},r.showMobileSortMenu=function(e){r.setState({shouldShowMobileSortMenu:e})},r.defaultFilters={sortBy:"hotness",language:"all",outputType:"all",userId:""},r.filterManager=new N(r.onFiltersChanged,r.defaultFilters),r.props.userId?r.initForUserProfile():r.initForScriptsTab(),r.state={filters:a.__assign({},r.defaultFilters,r.initialFilters),scriptData:r.props.initialScriptsToShow||[],isLoadingMoreData:!1,hasMoreData:!0,onlyMyScripts:!1,selectionGroup:r.props.selectionGroup,availableLanguages:[{label:"All Languages",value:"all"}],availableOutputs:[{label:"All Output Types",value:"all"}],hasLoadedSomeData:!1,shouldShowMobileSortMenu:!1},r}return a.__extends(n,t),n.prototype.componentDidMount=function(){this.filterManager.scriptListWillMount(),this.props.showFilters&&(this.loadLanguagesMetadata(),this.loadOutputTypesMetadata()),!(this.props.initialScriptsToShow&&this.props.initialScriptsToShow.length>0)&&this.loadMoreData(a.__assign({},this.state.filters,window.history.state)),window.location.search.indexOf("modal=true")>0&&this.newKernelModal.show()},n.prototype.componentWillUnmount=function(){this.filterManager.scriptListWillUnmount(),this.currentDataRequest&&this.currentDataRequest.abort()},n.prototype.render=function(){var t=this,n=this.state.isLoadingMoreData?e.createElement("div",{className:"script-list-react__message"},"Loading ",this.state.hasLoadedSomeData?"more ":"","kernels..."):null,a=this.state.hasMoreData?null:e.createElement("div",{className:"script-list-react__message"},e.createElement("span",null,"No ",this.state.hasLoadedSomeData?"more ":"","kernels to show"),e.createElement("br",null)),i=e.createElement("div",null,e.createElement(f.MediaQuery,{minWidth:f.Breakpoints.desktopMin},e.createElement("div",{className:"script-list-react__sort"},e.createElement("div",{className:"script-list-react__sort-label"},"Sort by"),e.createElement(d.SelectBox,{options:this.availableSortingOrders,onChange:this.onNewSort,searchable:!1,value:this.state.filters.sortBy||this.defaultFilters.sortBy}))),e.createElement(f.MediaQuery,{minWidth:0,maxWidth:f.Breakpoints.tabletMax},e.createElement("a",{className:"script-list-react__sort-link--mobile",onClick:function(e){return t.showMobileSortMenu(!0)}},"Filter/Sort ",e.createElement("span",{className:"fa fa-angle-right"})))),r=e.createElement(f.MediaQuery,{minWidth:f.Breakpoints.desktopMin},e.createElement("div",{className:"script-list-react__filters"},e.createElement(d.SelectBox,{options:this.state.availableLanguages,onChange:this.onNewLanguage,searchable:!1,value:this.state.filters.language||this.defaultFilters.language,className:"KaggleBoxlessSelectSafe script-list-react__filters__language"}),e.createElement(d.SelectBox,{options:this.state.availableOutputs,onChange:this.onNewOutputType,value:this.state.filters.outputType||this.defaultFilters.outputType,searchable:!1,optionRenderer:this.renderOutputTypeOption,valueRenderer:this.renderOutputTypeOption,className:"KaggleBoxlessSelectSafe script-list-react__filters__output-type"}))),o=e.createElement("div",{className:"script-list-react__selection-groups"},e.createElement(g.SelectionGroup,{children:this.availableSelectionGroups,filters:r,selected:this.state.selectionGroup})),l=window.location.pathname&&"/kernels"==window.location.pathname;return this.props.isHidden?null:e.createElement("div",null,this.props.banner&&e.createElement(p.Banner,{title:"Kernels",callToActionText:"New Kernel",onCallToActionClick:this.onNewKernelClick,infoTitle:"Welcome to Kaggle Kernels",infoSubtitle:"The best place to explore data science results and share your own work",bannerImageClassName:"script-list-react__banner-image",infoBanner:this.props.banner,hideCallToActionOnSmallDisplays:!1,panels:[{imageSrc:"/static/images/scripts-code.svg",title:"Code",description:"Skip the download. Kernels is preloaded with the most common data science languages and libraries."},{imageSrc:"/static/images/scripts-learn.svg",title:"Learn",description:"Gain exposure to new tools and techniques. The hottest kernels showcase the best work on Kaggle."},{imageSrc:"/static/images/scripts-mentor.svg",title:"Mentor",description:"Give back by sharing what you know. You can answer questions and leave feedback on others code and results."}]}),e.createElement("div",{className:"script-list-react__wrapper"},l&&e.createElement("a",{className:"script-list-react__awards-container",href:"/about/datasets-awards/kernels"},e.createElement("div",{className:"script-list-react__awards"},e.createElement("div",{className:"script-list-react__awards-text"},e.createElement("strong",null,"The Kaggle team is awarding $500 to authors of high quality kernels each week."),e.createElement("br",null),"Learn how to win by clicking here."),e.createElement("img",{className:"script-list-react__awards-image",src:"/static/images/awards/Awards-Kernels@2x.png",width:"64",height:"61"}))),e.createElement(s.ContentBox,{title:this.getListTitle(),titleBarRightSide:this.props.showFilters?i:null,subTitleBar:this.props.showFilters?o:null},e.createElement("div",{className:"script-list-react"},e.createElement(h.WindowInfiniteScroll,{onScroll:function(){return t.onScroll()}},e.createElement("div",null,this.state.scriptData.map(function(n,a){return e.createElement(_.BlockLink,{href:n.scriptUrl,key:a},e.createElement(k,{scriptData:n,handleLanguageChange:t.onNewLanguageClickEvent,handleOutputTypeChange:t.onNewOutputTypeClickEvent,showScriptProjectColumn:t.props.showScriptProjectName,showProjectThumbnails:!!t.props.userId}))})),n,a)))),e.createElement(f.MediaQuery,{minWidth:0,maxWidth:f.Breakpoints.tabletMax},e.createElement(v.OffCanvasContainer,{closeButtonCallback:function(){return t.showMobileSortMenu(!1)},shouldShowOffCanvas:this.state.shouldShowMobileSortMenu,shouldUseCloseButton:!0,shouldUseRightSide:!0},e.createElement("div",{className:"script-list-react__sort-menu--mobile"},e.createElement("p",{className:"script-list-react__sort-label--mobile"},"Sort by"),e.createElement(d.SelectBox,{className:"script-list-react__sort-box--mobile",options:this.availableSortingOrders,onChange:this.onNewSort,searchable:!1,value:this.state.filters.sortBy||this.defaultFilters.sortBy}),e.createElement("p",{className:"script-list-react__sort-label--mobile"},"Languages"),e.createElement(d.SelectBox,{className:"script-list-react__sort-box--mobile",options:this.state.availableLanguages,onChange:this.onNewLanguage,searchable:!1,value:this.state.filters.language||this.defaultFilters.language}),e.createElement("p",{className:"script-list-react__sort-label--mobile"},"Output Types"),e.createElement(d.SelectBox,{className:"script-list-react__sort-box--mobile",options:this.state.availableOutputs,onChange:this.onNewOutputType,value:this.state.filters.outputType||this.defaultFilters.outputType,searchable:!1,optionRenderer:this.renderOutputTypeOption,valueRenderer:this.renderOutputTypeOption})))),e.createElement(C.NewKernelModal,{ref:function(e){return t.newKernelModal=e}}))},n}(e.Component);t.ScriptList=T;var k=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderOutputType=function(t){var n=this,a=function(){switch(t.extension){case"Notebook":return["fa-globe","This script outputs a notebook"];case"Visualization":return["fa-bar-chart","This script outputs "+r("visualization",t.count,!0)];case"Data":return["fa-table","This script outputs "+t.count+" data "+r("file",t.count)];case"Other":return["fa-file-text-o","This script outputs "+t.count+" other types of "+r("file",t.count)];default:return["","Unknown"]}}();return e.createElement(b.ToolTip,{tipText:a[1].toString(),key:t.extension},e.createElement("a",{className:"scripts__item-info-block--link",onClick:function(e){return n.props.handleOutputTypeChange(t.extension,e)}},e.createElement("span",{className:"fa "+a[0]})))},n.prototype.abbrLanguage=function(e){switch(e){case"Python":return"Py";case"R":return"R";case"Julia":return"Ju";case"SQLite":return"SQL";default:return null}},n.prototype.renderOptionalForkSection=function(){return this.props.scriptData.isFork?e.createElement(c.DiffSummary,{inserts:this.props.scriptData.forkDiffLinesInserted+this.props.scriptData.forkDiffLinesChanged,deletes:this.props.scriptData.forkDiffLinesDeleted+this.props.scriptData.forkDiffLinesChanged,href:this.props.scriptData.forkDiffUrl,spaced:!0}):null},n.prototype.renderOptionalScriptProjectName=function(){return this.props.showScriptProjectColumn?e.createElement("span",null,this.props.scriptData.dataSources.length>1?e.createElement("span",null,"with ",e.createElement("a",{href:this.props.scriptData.scriptInputUrl},"multiple data sources")):0===this.props.scriptData.dataSources.length?e.createElement("span",null,"with ",e.createElement("a",{href:"/kaggle/no-data-sources"},"no data sources")):1===this.props.scriptData.dataSources.length?e.createElement("span",null,"in ",e.createElement("a",{href:this.props.scriptData.dataSources[0].url},this.props.scriptData.dataSources[0].name)):e.createElement("span",null,"in ",e.createElement("a",{href:this.props.scriptData.projectScriptsUrl},this.props.scriptData.projectName))):null},n.prototype.render=function(){var t=this,n=this.props.scriptData,a=this.props.scriptData,i=a.dataSources,o=a.projectName,s=a.projectScriptsUrl,l=(a.scriptInputUrl,o||0===i.length&&"No Data Sources"||1===i.length&&i[0].name||"Multiple Data Sources"),c=s||0===i.length&&"/kaggle/no-data-sources"||1===i.length&&i[0].url||n.scriptInputUrl;return this.props.isHidden?null:e.createElement("div",{className:"scripts"},e.createElement("div",{className:"scripts__item-meta"},e.createElement("div",{className:"scripts__item-votes"},e.createElement(m.VoteButton,{totalVotes:n.totalVotes,hasAlreadyVotedUp:n.currentUserHasVotedForThisScript,voteUpUrl:"/kernels/vote?id="+n.id,canDownvote:!1,canUpvote:!0,voteDownUrl:null,hasAlreadyVotedDown:null,upVoteIntercomEventName:"upvote_script",analyticsEventLabel:"script-list"})),e.createElement(f.MediaQuery,{minWidth:f.Breakpoints.tabletMin},e.createElement("div",{className:"scripts__item-image-wrapper"},this.props.showProjectThumbnails?e.createElement(b.ToolTip,{tipText:l},e.createElement("a",{href:c},e.createElement("img",{src:n.projectThumbnailUrl,className:"scripts__item-image scripts__item-image--left"}))):e.createElement(E.Avatar,{thumbnailUrl:n.author.avatarThumbnailUrl,userUrl:n.author.profileUrl,displayName:n.author.displayName,tier:n.author.tier,width:40}))),e.createElement("div",{className:"scripts__item-medals"},null!=this.props.scriptData.medal?e.createElement("img",{src:"/static/images/medals/kernels/"+this.props.scriptData.medal+"L@2x.png",title:"${this.props.scriptData.medal}"}):null))," ",e.createElement("div",{className:"scripts__item-synopsis"},e.createElement("div",{className:"scripts__item-info"},e.createElement("a",{className:"scripts__item-name",href:n.scriptUrl},n.title,n.isPrivate&&e.createElement(y.Badge,{text:"Private",icon:"fa-eye-slash",option:"info"})),e.createElement("p",{className:"scripts__item-details"},e.createElement("span",null,"run "),e.createElement(u.TimeAgo,{time:n.lastRunTime})," by ",e.createElement("a",{href:n.author.profileUrl},n.author.displayName),"",this.renderOptionalForkSection()," ",this.renderOptionalScriptProjectName())),e.createElement("div",{className:"scripts__item-info-blocks"},n.outputTypes.map(function(e){return t.renderOutputType(e)}),e.createElement(b.ToolTip,{tipText:"This kernel is written in "+n.languageName},e.createElement("a",{className:"scripts__item-info-block--link",onClick:function(e){return t.props.handleLanguageChange(n.languageName,e)}},this.abbrLanguage(n.languageName))),n.totalComments>0?e.createElement(b.ToolTip,{tipText:"This kernel has "+n.totalComments+" "+r("comment",n.totalComments)},e.createElement("a",{className:"scripts__item-info-block--comment",href:n.scriptCommentsUrl},e.createElement("span",null,n.totalComments,"",e.createElement("span",{className:"fa fa-comments"})))):e.createElement(f.MediaQuery,{minWidth:f.Breakpoints.tabletMin},e.createElement("div",{className:"scripts__item-info-block--no-comment"}))))," ")},n}(e.Component)}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(32),o=function(t){function n(e){var n=t.call(this,e)||this;return n.scrollListener=function(){var e=n.props.height?a(n.scrollElement)[0].scrollHeight:a(document).height();a(n.scrollElement).scrollTop()+a(n.scrollElement).height()>=.8*e&&n.props.onScroll()},n.scrollListener=r.throttle(n.scrollListener,250),n}return i.__extends(n,t),n.prototype.componentDidMount=function(){this.scrollElement=this.props.height?this.refs.container:window,this.scrollElement.addEventListener("scroll",this.scrollListener)},n.prototype.componentWillUnmount=function(){this.scrollElement.removeEventListener("scroll",this.scrollListener)},n.prototype.render=function(){var t=this.props.height&&{overflowY:"scroll",overflowX:"hidden",height:this.props.height};return e.createElement("div",{ref:"container",style:t},this.props.children)},n}(e.Component);t.WindowInfiniteScroll=o}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(123),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.onClick=function(e,t){e.preventDefault(),t.action()},n.prototype.render=function(){var t=this,n=this.props.children;return e.createElement("div",{className:"selection-group__wrapper"},e.createElement(i.OverflowX,null,e.createElement("ul",{className:"selection-group__items"},n?n.map(function(a,i){return a?e.createElement("li",{onClick:function(e){return t.onClick(e,a)},key:i,className:"selection-group__child selection-group__child--"+(a.key===(t.props.selected||(n?n[0].key:null))?"selected":"unselected")},a.separator?e.createElement("span",{className:"selection-group__separator"},"|"):e.createElement("a",{href:a.href,title:a.name},a.name)):null}):null)),this.props.filters?e.createElement("div",{className:"selection-group__filters"},this.props.filters):null)},n}(e.Component);t.SelectionGroup=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(4),o=n(217),s=[{label:"Datasets",value:"dataset"},{label:"Competitions",value:"competition"}],l=function(t){function n(n){var o=t.call(this,n)||this;return o.onDataSourceListItemClicked=function(e){return i.__awaiter(o,void 0,void 0,function(){var t,n;return i.__generator(this,function(i){switch(i.label){case 0:return"competition"!==e.sourceType?[3,3]:[4,a("/kernels/rules-acceptance.json?competitionId="+e.sourceId,{credentials:"include"})];case 1:return t=i.sent(),[4,t.json()];case 2:if(n=i.sent().competitionsRequiringAcceptance,n.length>0)return this.props.onClose(),this.setState({competitionsRequiringAcceptance:n,isRulesModalShown:!0}),[2,Promise.resolve()];i.label=3;case 3:return[2,this.props.onDataSourceAdded(e)]}})})},o.onAcceptCompetitionsRules=function(){return i.__awaiter(o,void 0,void 0,function(){var e,t=this;return i.__generator(this,function(n){switch(n.label){case 0:return e=this.state.competitionsRequiringAcceptance[0].competitionId,[4,a("/kernels/rules-acceptance.json?competitionId="+e,{method:"POST",credentials:"include"})];case 1:return n.sent(),this.setState({isRulesModalShown:!1},function(){return i.__awaiter(t,void 0,void 0,function(){return i.__generator(this,function(t){switch(t.label){case 0:return[4,this.props.onDataSourceAdded({sourceType:"competition",sourceId:e})];case 1:return t.sent(),[2]}})})}),[2]}})})},o.onCloseRulesModal=function(){o.setState({isRulesModalShown:!1})},o.renderListItem=function(t){return e.createElement(r.BlockLink,{onClick:function(){return o.onDataSourceListItemClicked(t)}},e.createElement("div",{className:"add-data-source-modal__list-item"},e.createElement("div",{className:"add-data-source-modal__list-item-thumbnail"},e.createElement("img",{src:t.thumbnailUrl})),e.createElement("div",{className:"add-data-source-modal__list-item-info"},e.createElement("div",{className:"add-data-source-modal__list-item-title"},t.isPrivate&&e.createElement(r.Badge,{text:"Private",option:"info"}),t.title),e.createElement("div",{className:"add-data-source-modal__list-item-description",title:t.description},t.description))))},o.renderCancelButton=function(){return e.createElement("span",{className:"add-data-source-modal__cancel-button",onClick:o.props.onClose},"cancel")},o.state={selectedGroup:s[0].value,isShown:o.props.isShown,isRulesModalShown:!1,competitionsRequiringAcceptance:[]},o}return i.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props,a=n.onClose,i=n.isShown,l=this.state.isRulesModalShown,c=null;return i?c=e.createElement(r.Modal,{modalIsShown:i,onClose:a,modalClassName:"add-data-source-modal"},e.createElement(r.SmartListContainer,{title:"Add Data Source",dataUrl:"/kernels/sources.json",pluralItemDescription:"Data Sources",titleBarRightSide:this.renderCancelButton(),itemRenderer:this.renderListItem,groups:s,onSelectionsChanged:function(e,n){return t.setState({selectedGroup:n})},searchIndex:this.state.selectedGroup,containerClassName:"add-data-source-modal__container",contentClassName:"add-data-source-modal__content",mobileSortUpperBound:600,contentHeight:400,searchableGroups:["dataset","competition"],referrer:"AddDataSourceModal"})):l&&(c=r.Current.userIsPhoneVerified?e.createElement(o.CompetitionRulesModal,{competitions:this.state.competitionsRequiringAcceptance,show:this.state.isRulesModalShown,onAcceptCompetitionRules:this.onAcceptCompetitionsRules,onClose:this.onCloseRulesModal,showLinkToRules:!0}):e.createElement(r.Confirm,{isShown:!0,title:"Account SMS verification is required to use competition data sources. Continue to the SMS verification page?",cancelText:"No",confirmText:"Yes",onCancel:this.onCloseRulesModal,onConfirm:function(){return window.location.href="/account/phone/number"}})),c},n}(e.Component);t.AddDataSourceModal=l}).call(t,n(0),n(36))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(24),r=n(69),o=function(t){function n(n){var a=t.call(this,n)||this;return a.onAcceptCompetitionRules=function(){a.setState({isProcessingRulesAcceptance:!0}),a.props.onAcceptCompetitionRules().then(function(){return a.setState({isProcessingRulesAcceptance:!1})})},a.renderSingleCompetitionText=function(){return e.createElement("div",null,'By clicking on the "I understand and accept" button below, you are indicating that you agree to be bound to the ',e.createElement("a",{href:a.props.competitions[0].rulesUrl,target:"_blank"},"competition rules"),".")},a.renderMultipleCompetitionsText=function(){return e.createElement("div",null,'By clicking on the "I understand and accept" button below, you are indicating that you agree to be bound to the rules of the following competitions.',e.createElement("div",{className:"competition-rules__competition-list"},a.props.competitions.map(a.renderCompetition)))},a.renderCompetition=function(t){return e.createElement("div",null,e.createElement("a",{href:t.rulesUrl,target:"_blank"},t.title))},a.state={isProcessingRulesAcceptance:!1},a}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(r.Modal,{onClose:this.props.onClose,modalIsShown:this.props.show},e.createElement("div",{className:"competition-rules__acceptance"},e.createElement("div",{className:"competition-rules__acceptance-text"},1!==this.props.competitions.length||this.props.showLinkToRules?this.renderMultipleCompetitionsText():this.renderSingleCompetitionText()),e.createElement("div",{className:"competition-rules__acceptance-actions"},e.createElement("a",{className:"competition-rules__decline",onClick:this.props.onClose},"I Do Not Accept"),e.createElement(i.ButtonAutoWidth,{classNames:"competition-rules__accept",onClick:this.onAcceptCompetitionRules,text:"I Understand and Accept"}),this.state.isProcessingRulesAcceptance&&e.createElement("div",{className:"competition-rules__is-processing"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})))))},n}(e.Component);t.CompetitionRulesModal=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(4),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("input",{name:"__RequestVerificationToken",value:i.Current.antiForgeryToken,type:"hidden"})},n}(e.Component);t.AntiForgeryInput=r}).call(t,n(0))},function(e,t,n){"use strict";function a(e){return void 0===e&&(e={}),e instanceof Headers?e.append("__RequestVerificationToken",i.Current.antiForgeryToken):e.__RequestVerificationToken=i.Current.antiForgeryToken,e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4);t.withAntiForgeryHeader=a},,,,,,function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(396),o=n(4),s=function(t){function n(e){var n=t.call(this,e)||this;return n.changeKernelFilter=function(e){n.setState({kernelFilter:e},function(){return n.loadData(n.props.topicId)})},n.changeSort=function(e){history.replaceState(history.state,document.title,window.location.pathname+window.location.search),n.setState({sort:e},function(){return n.loadData(n.props.topicId)})},n.loadData=function(e,t){if(void 0===t&&(t=null),null==e)return void n.setState({dataLoaded:!0});a.ajax("/topics/"+e+"/comments.json",{data:{filter:n.state.kernelFilter,sort:n.state.sort}}).done(function(e){n.setState(i.__assign({},n.state,e),t)})},n.state=i.__assign({},n.props.initialState,{commentReplySubmitted:function(e){return n.loadData(n.props.topicId,e)},dataLoaded:!!n.props.initialState,kernelFilterChanged:function(e){return n.changeKernelFilter(e)},replySubmitted:function(){return n.props.replySubmitted(function(e){return n.loadData(n.props.topicId,function(){n.setState({showMiniEditor:!0});var t="#"+e,i=a(t).position();a(document).scrollTop();a("html, body").animate({scrollTop:i.top-250},300)})})},showMiniEditor:!0,showReplyPreview:!1,showSortPane:!1,sortChanged:function(e){return n.changeSort(e)},openMiniEditor:function(){return n.setState({showMiniEditor:!1})},toggleReplyPreview:function(){return n.setState({showReplyPreview:!n.state.showReplyPreview})},toggleSortPane:function(){return n.setState({showSortPane:!n.state.showSortPane})}}),n}return i.__extends(n,t),n.prototype.componentWillMount=function(){var e=this;this.state.dataLoaded||this.loadData(this.props.topicId,function(){return e.setState({dataLoaded:!0},function(){window.setTimeout(function(){var e=a(window.location.hash).position();if(e){a(document).scrollTop();a("html, body").animate({scrollTop:e.top-100},300)}})})})},n.prototype.render=function(){var t=this.props,n=(t.children,i.__rest(t,["children"]));return this.state.dataLoaded?e.createElement(r.CommentList,i.__assign({},n,this.state)):e.createElement(o.LoadingText,{isLoading:!this.state.dataLoaded,text:"Loading Comments"})},n}(e.Component);t.CommentListContainer=s}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e,a,i){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(289),s=n(4),l=n(227),c=function(t){function n(n){var r=t.call(this,n)||this;r.markdownConverter=new a.getSanitizingConverter,r.addAttachment=function(e,t,n){var a=r.state.newAttachments;a.push({name:e,totalBytes:n,blobToken:t}),r.setState({newAttachments:a})},r.addReplyAttachment=function(e,t,n){var a=r.state.replyAttachments;a.push({name:e,totalBytes:n,blobToken:t}),r.setState({replyAttachments:a})},r.changeEditDraft=function(e){r.setState({editDraft:e})},r.changeReplyDraft=function(e){r.setState({replyDraft:e})},r.deleteAttachment=function(e){var t=r.state.newAttachments.filter(function(t){return t.name==e})[0],n=r.state.newAttachments.indexOf(t);if(-1!==n)return r.state.newAttachments.splice(n,1),void r.setState({newAttachments:r.state.newAttachments});t=r.state.attachments.filter(function(t){return t.name==e})[0],n=r.state.attachments.indexOf(t),r.state.attachments.splice(n,1),r.setState({attachments:r.state.attachments}),i.ajax("/forums/attachments/delete/"+t.id,{contentType:"application/json",type:"POST"})},r.deleteReplyAttachment=function(e){var t=r.state.replyAttachments.filter(function(t){return t.name==e})[0],n=r.state.replyAttachments.indexOf(t);if(-1!==n)return r.state.replyAttachments.splice(n,1),void r.setState({replyAttachments:r.state.replyAttachments})},r.leftOptions=function(){var t=[{onClick:function(e){r.state.quoted(r.props.author.displayName,r.state.rawMarkdown||o(r.state.content))},text:"Quote"},{href:"#"+r.props.id,onClick:function(e){if(!(e.shiftKey||e.ctrlKey||e.metaKey)){e.preventDefault();var t="#"+r.props.id;i("html, body").animate({scrollTop:i(t).position().top-100},200,"swing",function(){return window.location.hash=r.props.id+""})}},text:"Permalink"}];s.Current.isAnonymous||(r.state.isFlagged?t.push({className:"discussion-comment__option--disabled",text:"Flagged"}):t.push({onClick:function(){return r.setState({showFlagForm:!0})},text:"Flag"}));var n=r.props.upvoters.length;return n>0&&t.push({className:r.state.showUpvoters?"discussion-comment__option--selected":null,onClick:function(){return r.setState({showUpvoters:!r.state.showUpvoters})},text:e.createElement(s.Pluralize,{count:n,word:"Upvoter"})}),t},r.onReply=function(e){r.setState({showReplyForm:!r.state.showReplyForm,showReplyPreview:!1},e)},r.rightOptions=function(){var e=[];return s.Current.isAdmin&&(r.state.hasFlags&&e.push({onClick:function(){return i.ajax("/forums/messages/unflag?forumMessageId="+r.props.id,{contentType:"application/json",type:"POST"}).done(function(){return r.setState({hasFlags:!1,isFlagged:!1})})},text:"Unflag"}),e.push({onClick:function(){return i.ajax("/forums/messages/spam?forumMessageId="+r.props.id,{contentType:"application/json",type:"POST"}).done(function(){return r.setState({isDeleted:!!r.state.isSpammed&&r.state.isDeleted,isSpammed:!r.state.isSpammed})})},text:r.state.isSpammed?"Unspam":"Spam"},{onClick:function(){return i.ajax("/forums/messages/delete?forumMessageId="+r.props.id,{contentType:"application/json",type:"POST"}).done(function(){return r.setState({isDeleted:!r.state.isDeleted,isSpammed:!!r.state.isDeleted&&r.state.isSpammed})})},text:r.state.isDeleted?"Restore":"Delete"})),e},r.submitEdit=function(){i.ajax({contentType:"application/json",data:JSON.stringify({blobFileTokens:r.state.newAttachments.map(function(e){return e.blobToken}),message:r.markdownConverter.makeHtml(r.state.editDraft),rawMarkdown:r.state.editDraft}),headers:s.withAntiForgeryHeader(),type:"PUT",url:"/messages/"+r.props.id}).done(function(){r.setState({content:r.markdownConverter.makeHtml(r.state.editDraft),rawMarkdown:r.state.editDraft,showEditForm:!1,showEditPreview:!1,markdownKey:r.state.markdownKey+1})}).fail(function(){s.PageMessages.clear(),s.PageMessages.error({htmlMessage:'We had trouble saving your edit. Please try again or <a href="mailto: support@kaggle.com">contact support</a> if you continue experiencing issues.',type:"error"})})},r.submitReply=function(){r.setState({isSubmittingReply:!0},function(){return i.ajax({contentType:"application/json",data:JSON.stringify({blobFileTokens:r.state.replyAttachments.map(function(e){return e.blobToken}),message:r.markdownConverter.makeHtml(r.state.replyDraft),rawMarkdown:r.state.replyDraft}),type:"POST",url:"/messages/"+r.props.id+"/replies"}).done(function(e){r.setState({isSubmittingReply:!1,replyDraft:"",showReplyForm:!1,showReplyPreview:!1,markdownKey:r.state.markdownKey+1},function(){window.Intercom("trackEvent","forum_post"),r.props.replySubmitted(function(){var t="#"+e;i("html, body").animate({scrollTop:i(t).position().top-100},200)})})}).fail(function(){r.setState({isSubmittingReply:!1}),s.PageMessages.clear(),s.PageMessages.error({htmlMessage:'We had trouble submitting your reply. Please try again or <a href="mailto: support@kaggle.com">contact support</a> if you continue experiencing issues.',type:"error"})})})},r.titleOptions=function(){var e=[{className:r.state.showOptions?"discussion-comment__title-element--selected":null,onClick:function(){return r.setState({showOptions:!r.state.showOptions})},text:"Options"}];return(s.Current.isAdmin||r.props.isUserAuthor)&&e.push({className:r.state.showEditForm?"discussion-comment__title-element--selected":null,onClick:function(){return r.setState({showEditForm:!r.state.showEditForm,showEditPreview:!1})},text:"Edit"}),r.props.allowReplies&&e.push({className:r.props.parentReplyShown||r.state.showReplyForm?"discussion-comment__title-element--selected":null,onClick:function(){(r.props.onReply||r.onReply.bind(r))(function(){var e="#comment-reply-"+(r.props.parentId||r.props.id);i("html, body").animate({scrollTop:i(e).position().top-100},200)})},text:"Reply"}),e};var l=function(e,t){for(var n=r.state.replyDraft||"",a="\n> **"+e+" wrote**\n> \n> ",o=t.split("\n"),s=/\s*\[.*?\]:/,l=0;l<o.length;l++){var c=o[l];s.test(c)||(o[l]="> "+c)}r.setState({replyDraft:n+a+o.join("\n"),showReplyForm:!0,showReplyPreview:!1},function(){var e="#comment-reply-"+r.props.id;i("html, body").animate({scrollTop:i(e).position().top-100},200)})};return r.state={attachmentAdded:function(e,t,n){return r.addAttachment(e,t,n)},attachmentDeleted:function(e){return r.deleteAttachment(e)},attachments:r.props.attachments,content:r.props.content,editDraft:r.props.rawMarkdown||o(r.props.content),editDraftChanged:function(e){return r.changeEditDraft(e)},editSubmitted:function(){return r.submitEdit()},flagFormClosed:function(){return r.setState({showFlagForm:!1})},flagged:function(){return i.post("/forums/messages/flag?forumMessageId="+r.props.id).done(function(){return r.setState({hasFlags:!0,isFlagged:!0,showFlagForm:!1})})},hasFlags:r.props.hasFlags,isFlagged:r.props.isFlagged,isSpammed:r.props.isSpammed,isSubmittingReply:!1,isDeleted:r.props.isDeleted,newAttachments:[],quoted:function(e,t){return r.props.quoted?r.props.quoted(e,t):l(e,t)},rawMarkdown:r.props.rawMarkdown||o(r.props.content),replyAttachments:[],replyAttachmentAdded:function(e,t,n){return r.addReplyAttachment(e,t,n)},replyAttachmentDeleted:function(e){return r.deleteReplyAttachment(e)},replyDraft:"",replyDraftChanged:function(e){return r.changeReplyDraft(e)},replySubmitted:function(){return r.submitReply()},showEditForm:!1,showEditPreview:!1,showFlagForm:!1,showOptions:!1,showReplyForm:!1,showReplyPreview:!1,showUpvoters:!1,toggleEditPreview:function(){return r.setState({showEditPreview:!r.state.showEditPreview})},toggleReplyPreview:function(){return r.setState({showReplyPreview:!r.state.showReplyPreview})},markdownKey:1},r}return r.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props,a=(n.children,r.__rest(n,["children"]));return e.createElement(l.Comment,r.__assign({},a,this.state,{allowAttachments:this.props.allowAttachments,isNew:!1,leftOptions:this.leftOptions(),onReply:function(e){return t.onReply(e)},rightOptions:this.rightOptions(),titleOptions:this.titleOptions()}))},n}(e.Component);t.CommentContainer=c}).call(t,n(0),n(47),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(6),r=n(4),o=n(127),s=n(226),l=n(228),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props.author;return e.createElement("div",{id:this.props.id.toString()},e.createElement(r.Modal,{buttonClassName:"discussion-comment__hidden",modalClassName:"flag-form__wrapper",modalIsShown:this.props.showFlagForm,onClose:this.props.flagFormClosed},e.createElement("div",{className:"flag-form"},e.createElement("div",{className:"flag-form__title"},"Flag this post?"),e.createElement("div",{className:"flag-form__body"},"Flagging notifies Kaggle that this message is spam, inappropriate, abusive, or violates rules. Do not use flagging to indicate you disagree with an opinion or to hide a post."),e.createElement("div",{className:"flag-form__actions"},e.createElement(r.Button,{classNames:"flag-form__action flag-form__action--secondary",onClick:this.props.flagFormClosed,text:"Cancel"}),e.createElement("span",{className:"flag-form__action-spacer"}),e.createElement(r.Button,{classNames:"flag-form__action",onClick:this.props.flagged,text:"Flag as Inappropriate"})))),this.props.parentUrl&&this.props.parentName?e.createElement("div",{className:"discussion-comment__parent"},e.createElement("span",{className:"fa fa-share"})," in response to ",e.createElement("a",{className:"discussion-comment__parent-link",href:this.props.parentUrl},this.props.parentName)):null,e.createElement(r.MediaQuery,{minWidth:r.Breakpoints.desktopMin},e.createElement("div",{className:"comment-wrapper "+(this.props.showEditForm&&this.props.showMiniEditor&&"comment-wrapper--mini-form")},e.createElement("div",{className:"discussion-comment__author"},e.createElement(r.Avatar,a.__assign({},this.props.author,{hideTooltop:!0,width:40})),this.props.medal?e.createElement("img",{className:"discussion-comment__medal",src:"/static/images/medals/discussion/"+this.props.medal+"L@1x.png",title:this.props.medal}):null),e.createElement("div",{className:i("discussion-comment",this.props.showReplyForm||this.props.replies&&this.props.replies.length>0?"discussion-comment--parent":null)},!this.props.showMiniEditor&&e.createElement("span",{className:"discussion-comment__title"},e.createElement("span",{className:"discussion-comment__title-author-link-wrapper"},e.createElement("a",{className:"discussion-comment__title-author-link"+("parent"==this.props.authorType?" discussion-comment__title-author-link--parent-author":"topic"==this.props.authorType?" discussion-comment__title-author-link--topic-author":""),href:n.userUrl,title:n.displayName},n.displayName.slice(0,50))),this.props.competitionRanking?[e.createElement("span",{className:"discussion-comment__title-element"},""),e.createElement("span",{className:"discussion-comment__title-element"},"(",e.createElement(r.Ordinal,null,this.props.competitionRanking)," in this Competition)")]:null,this.props.kernelVersion?[e.createElement("span",{className:"discussion-comment__title-element"},""),e.createElement("span",{className:"discussion-comment__title-element"},this.props.kernelVersion==this.props.currentKernelVersion?"Posted on Latest Version":"Posted on Version "+this.props.kernelVersion)]:null,this.props.postDate?[e.createElement("span",{className:"discussion-comment__title-element"},""),e.createElement("span",{className:"discussion-comment__title-element"},e.createElement(r.TimeAgo,{time:this.props.postDate}))]:null,this.props.titleOptions.map(function(t){return[e.createElement("span",{className:"discussion-comment__title-element"},""),e.createElement("a",{className:i("discussion-comment__title-element","discussion-comment__title-element--link",t.className),href:t.href,onClick:t.onClick},t.text)]}),e.createElement("span",{className:"discussion-comment__title-element--spacer"}),this.props.showEditForm?e.createElement("div",{className:"discussion-comment__preview-button",onClick:function(){return t.props.toggleEditPreview()}},this.props.showEditPreview?"Edit":"Preview"):this.props.isNew?null:e.createElement(r.VoteButton,{canDownvote:this.props.canDownvote&&r.Current.userId!=this.props.author.id,canUpvote:r.Current.userId!=this.props.author.id,compact:!0,hasAlreadyVotedDown:-1===this.props.currentUserVote,hasAlreadyVotedUp:1===this.props.currentUserVote,totalVotes:this.props.votes,voteDownUrl:"/forums/messages/downvote?forumMessageId="+this.props.id,voteUpUrl:"/forums/messages/upvote?forumMessageId="+this.props.id,upVoteIntercomEventName:"forum_vote",downVoteIntercomEventName:"forum_vote",analyticsEventLabel:"comment"})),e.createElement("div",{className:i("discussion-comment__body",this.props.showMiniEditor&&"discussion-comment__body--mini",this.props.showEditForm&&!this.props.showEditPreview?"discussion-comment__body--editing":null)},this.props.showEditForm?[e.createElement(r.MarkdownEditor,{key:this.props.markdownKey,alwaysShowToolbar:!0,compact:window.innerWidth<r.Breakpoints.desktopMin,collapsedMode:this.props.showMiniEditor,defaultValue:this.props.editDraft,onChangeCallback:function(e){return t.props.editDraftChanged(e)},onInputFocus:this.props.openMiniEditor,placeholder:this.props.showMiniEditor?"Click here to enter a comment":"Enter your comment here",renderPreview:function(t,n){return e.createElement(o.ForumMessageContent,{rawHtml:n,rawMarkdown:t})},rows:3,shouldSanitizeHtml:!0,showPreview:this.props.showEditPreview,suffix:"-comment-"+this.props.id+"-edit"}),!this.props.showMiniEditor&&[e.createElement("span",{className:i((this.props.attachments||[]).length>0||this.props.newAttachments.length>0?"discussion-comment__attachment-spacer":null)}),e.createElement(r.FileList,{compact:!0,fileListItems:this.props.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!0,canDelete:!0,deleteCallback:this.props.attachmentDeleted}),e.createElement(r.FileList,{compact:!0,fileListItems:this.props.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!0,canDelete:!0,deleteCallback:this.props.attachmentDeleted}),e.createElement("div",{className:"discussion-comment__action-buttons"},this.props.allowAttachments?e.createElement("div",{className:"discussion-comment__action-button"},e.createElement(r.FileUploader,{compact:!0,createBlobUrl:"/blobs/inbox/forum-message-attachment-files",mode:"multiple",onFileUploadFinished:this.props.attachmentAdded,autoRemoveOnComplete:!0,maxUncompressedBytesAllowed:5e8,maxCompressedBytesAllowed:5e8,suffix:"-comment-"+this.props.id,multipleFileButtonLabel:" "})):null,e.createElement("span",{className:"discussion-comment__flex-spacer"}),e.createElement("span",{className:"discussion-comment__editor-submit-wrapper"},e.createElement(r.Button,{isDisabled:this.props.isSubmittingReply,isSmall:!0,onClick:this.props.editSubmitted,text:this.props.isNew?"Post Comment":"Save Changes"})))]]:[e.createElement(o.ForumMessageContent,{rawHtml:this.props.content,rawMarkdown:this.props.rawMarkdown||""}),e.createElement("span",{className:i((this.props.attachments||[]).length>0||this.props.newAttachments.length>0?"discussion-comment__attachment-spacer":null)}),e.createElement(r.FileList,{compact:!0,fileListItems:this.props.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!1,deleteCallback:this.props.attachmentDeleted}),e.createElement(r.FileList,{compact:!0,fileListItems:this.props.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!1,deleteCallback:this.props.attachmentDeleted})]),this.props.showOptions?e.createElement("span",{className:"discussion-comment__options"},e.createElement("span",{className:"discussion-comment__options-group"},this.props.leftOptions.map(function(t){return[e.createElement("a",{className:i("discussion-comment__option",t.className),href:t.href,onClick:t.onClick},t.text),e.createElement("span",{className:"discussion-comment__option-spacer"},"|")]})),e.createElement("span",{className:"discussion-comment__spacer"}),e.createElement("span",{className:"discussion-comment__options-group"},this.props.rightOptions.map(function(t){return[e.createElement("a",{className:i("discussion-comment__option",t.className),href:t.href,onClick:t.onClick},t.text),e.createElement("span",{className:"discussion-comment__option-spacer"},"|")]}))):null,this.props.showReplyForm||this.props.replies&&this.props.replies.length>0?e.createElement("div",{className:"discussion-comment__replies"},this.props.replies.map(function(n){return[e.createElement(s.CommentContainer,a.__assign({},n,{allowReplies:t.props.allowReplies,canDownvote:t.props.canDownvote,key:n.id,onReply:t.props.onReply,parentId:t.props.id,parentReplyShown:t.props.showReplyForm,quoted:t.props.quoted})),e.createElement("div",{className:"discussion-comment__linking-line"})]}),this.props.showReplyForm?e.createElement("div",{id:"comment-reply-"+this.props.id},e.createElement(l.NewCommentContainer,{currentUserTier:this.props.currentUserTier,editAttachments:this.props.replyAttachments,editAttachmentAdded:this.props.replyAttachmentAdded,editAttachmentDeleted:this.props.replyAttachmentDeleted,editDraft:this.props.replyDraft,editDraftChanged:this.props.replyDraftChanged,editSubmitted:this.props.replySubmitted,isSubmitting:this.props.isSubmittingReply,showEditPreview:this.props.showReplyPreview,toggleEditPreview:this.props.toggleReplyPreview,openMiniEditor:function(){},markdownKey:this.props.markdownKey})):null):null,this.props.showUpvoters?e.createElement("div",{className:"discussion-comment__upvoters"},this.props.upvoters.map(function(t){return e.createElement(r.Avatar,a.__assign({key:t.id},t,{className:"discussion-comment__upvoter"}))})):null))),e.createElement(r.MediaQuery,{minWidth:0,maxWidth:r.Breakpoints.tabletMax},e.createElement("div",{className:i("discussion-comment",this.props.showReplyForm||this.props.replies&&this.props.replies.length>0?"discussion-comment--parent":null)},!this.props.showMiniEditor&&e.createElement("span",{className:"discussion-comment__title"},e.createElement("a",{className:"discussion-comment__title-author-link"+("parent"==this.props.authorType?" discussion-comment__title-author-link--parent-author":"topic"==this.props.authorType?" discussion-comment__title-author-link--topic-author":""),href:n.userUrl,title:n.displayName},n.displayName.slice(0,50)),this.props.postDate?[e.createElement("span",{className:"discussion-comment__title-element"},""),e.createElement("span",{className:"discussion-comment__title-element"},e.createElement(r.TimeAgo,{time:this.props.postDate}))]:null,e.createElement("span",{className:"discussion-comment__title-element--spacer"}),this.props.showEditForm?e.createElement("div",{className:"discussion-comment__preview-button",onClick:function(){return t.props.toggleEditPreview()}},this.props.showEditPreview?"Edit":"Preview"):this.props.isNew?null:e.createElement(r.VoteButton,{canDownvote:this.props.canDownvote&&r.Current.userId!=this.props.author.id,canUpvote:r.Current.userId!=this.props.author.id,compact:!0,hasAlreadyVotedDown:-1===this.props.currentUserVote,hasAlreadyVotedUp:1===this.props.currentUserVote,totalVotes:this.props.votes,voteDownUrl:"/forums/messages/downvote?forumMessageId="+this.props.id,voteUpUrl:"/forums/messages/upvote?forumMessageId="+this.props.id,analyticsEventLabel:"comment"})),e.createElement("div",{className:i("discussion-comment__body",this.props.showMiniEditor&&"discussion-comment__body--mini",this.props.showEditForm&&!this.props.showEditPreview?"discussion-comment__body--editing":null)},e.createElement("div",{className:"discussion-comment__content"},this.props.showEditForm?[e.createElement(r.MarkdownEditor,{key:this.props.markdownKey,alwaysShowToolbar:!0,compact:window.innerWidth<r.Breakpoints.desktopMin,collapsedMode:this.props.showMiniEditor,defaultValue:this.props.editDraft,onChangeCallback:function(e){return t.props.editDraftChanged(e)},onInputFocus:this.props.openMiniEditor,placeholder:this.props.showMiniEditor?"Click here to enter a comment":"Enter your comment here",renderPreview:function(t,n){return e.createElement(o.ForumMessageContent,{rawHtml:n,rawMarkdown:t})},rows:3,shouldSanitizeHtml:!0,showPreview:this.props.showEditPreview,suffix:"-comment-"+this.props.id+"-edit"}),!this.props.showMiniEditor&&[e.createElement("span",{className:i((this.props.attachments||[]).length>0||this.props.newAttachments.length>0?"discussion-comment__attachment-spacer":null)}),e.createElement(r.FileList,{compact:!0,fileListItems:this.props.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!0,canDelete:!0,deleteCallback:this.props.attachmentDeleted}),e.createElement(r.FileList,{compact:!0,fileListItems:this.props.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!0,canDelete:!0,deleteCallback:this.props.attachmentDeleted}),e.createElement("div",{className:"discussion-comment__action-buttons"},this.props.allowAttachments?e.createElement("div",{className:"discussion-comment__action-button"},e.createElement(r.FileUploader,{compact:!0,createBlobUrl:"/blobs/inbox/forum-message-attachment-files",mode:"multiple",onFileUploadFinished:this.props.attachmentAdded,autoRemoveOnComplete:!0,maxUncompressedBytesAllowed:5e8,maxCompressedBytesAllowed:5e8,suffix:"-comment-"+this.props.id,multipleFileButtonLabel:" "})):null,e.createElement("span",{className:"discussion-comment__flex-spacer"}),e.createElement("span",{className:"discussion-comment__editor-submit-wrapper"},e.createElement(r.Button,{isDisabled:this.props.isSubmittingReply,isSmall:!0,onClick:this.props.editSubmitted,text:this.props.isNew?"Post Comment":"Save Changes"})))]]:[e.createElement(o.ForumMessageContent,{rawHtml:this.props.content,rawMarkdown:this.props.rawMarkdown||""}),e.createElement("span",{className:i((this.props.attachments||[]).length>0||this.props.newAttachments.length>0?"discussion-comment__attachment-spacer":null)}),e.createElement(r.FileList,{compact:!0,fileListItems:this.props.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!1,deleteCallback:this.props.attachmentDeleted}),e.createElement(r.FileList,{compact:!0,fileListItems:this.props.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!1,deleteCallback:this.props.attachmentDeleted})]),!this.props.showMiniEditor&&e.createElement("div",{className:"discussion-comment__title-elements"},this.props.titleOptions.map(function(t){return e.createElement("a",{key:t.href,className:i("discussion-comment__title-element","discussion-comment__title-element--link",t.className),href:t.href,onClick:t.onClick},t.text)})),this.props.showOptions?e.createElement("span",{className:"discussion-comment__options"},this.props.leftOptions.map(function(t){return e.createElement("a",{className:i("discussion-comment__option",t.className),href:t.href,key:t.href,onClick:t.onClick},t.text)}),this.props.rightOptions.map(function(t){return e.createElement("a",{className:i("discussion-comment__option",t.className),href:t.href,key:t.href,onClick:t.onClick},t.text)})):null,this.props.showUpvoters?e.createElement("div",{className:"discussion-comment__upvoters"},this.props.upvoters.map(function(t){return e.createElement(r.Avatar,a.__assign({},t,{className:"discussion-comment__upvoter",key:t.id}))})):null,this.props.showReplyForm||this.props.replies&&this.props.replies.length>0?e.createElement("div",{className:"discussion-comment__replies"},e.createElement("div",{className:"discussion-comment__linking-line"},this.props.replies.map(function(n){return[e.createElement(s.CommentContainer,a.__assign({},n,{allowReplies:t.props.allowReplies,canDownvote:t.props.canDownvote,key:n.id,onReply:t.props.onReply,parentId:t.props.id,parentReplyShown:t.props.showReplyForm,quoted:t.props.quoted}))]}),this.props.showReplyForm?e.createElement("div",{id:"comment-reply-"+this.props.id},e.createElement(l.NewCommentContainer,{currentUserTier:this.props.currentUserTier,editAttachments:this.props.replyAttachments,editAttachmentAdded:this.props.replyAttachmentAdded,editAttachmentDeleted:this.props.replyAttachmentDeleted,editDraft:this.props.replyDraft,editDraftChanged:this.props.replyDraftChanged,editSubmitted:this.props.replySubmitted,isSubmitting:this.props.isSubmittingReply,showEditPreview:this.props.showReplyPreview,toggleEditPreview:this.props.toggleReplyPreview,openMiniEditor:this.props.openMiniEditor,markdownKey:this.props.markdownKey})):null)):null))))},n}(e.Component);t.Comment=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a,i){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(4),s=n(227),l=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.markdownConverter=new a.getSanitizingConverter,e}return r.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement(s.Comment,{allowAttachments:this.props.allowAttachments,attachmentAdded:this.props.editAttachmentAdded,attachmentDeleted:this.props.editAttachmentDeleted,author:{displayName:i("<textarea/>").html(o.Current.userDisplayName).text(),id:o.Current.userId,thumbnailUrl:o.Current.userThumbnailUrl,tier:this.props.currentUserTier,userUrl:o.Current.userProfileUrl},editDraft:this.props.editDraft,editDraftChanged:function(e){return t.props.editDraftChanged(e)},editSubmitted:function(){return t.props.editSubmitted()},id:9e7*Math.random()+1e7,isNew:!0,isSubmittingReply:this.props.isSubmitting,leftOptions:[],newAttachments:this.props.editAttachments,rawMarkdown:this.props.editDraft,rightOptions:[],showEditForm:!0,showEditPreview:this.props.showEditPreview,showMiniEditor:this.props.showMiniEditor,titleOptions:[],toggleEditPreview:function(){return t.props.toggleEditPreview()},openMiniEditor:function(){return t.props.openMiniEditor()},markdownKey:this.props.markdownKey})},n}(e.Component);t.NewCommentContainer=l}).call(t,n(0),n(47),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(6),r=n(4),o=n(225),s=n(127),l=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props,l=n.comment;return e.createElement("div",null,e.createElement(r.Modal,{buttonClassName:"discussion-comment__hidden",modalClassName:"flag-form__wrapper",modalIsShown:this.props.showFlagForm,onClose:this.props.flagFormClosed},e.createElement("div",{className:"flag-form"},e.createElement("div",{className:"flag-form__title"},"Flag this post?"),e.createElement("div",{className:"flag-form__body"},"Flagging notifies Kaggle that this message is spam, inappropriate, abusive, or violates rules. Do not use flagging to indicate you disagree with an opinion or to hide a post."),e.createElement("div",{className:"flag-form__actions"},e.createElement(r.Button,{classNames:"flag-form__action flag-form__action--secondary",onClick:this.props.flagFormClosed,text:"Cancel"}),e.createElement("span",{className:"flag-form__action-spacer"}),e.createElement(r.Button,{classNames:"flag-form__action",onClick:this.props.flagged,text:"Flag as Inappropriate"})))),e.createElement(r.MediaQuery,{minWidth:r.Breakpoints.desktopMin},e.createElement("div",{className:"topic"},e.createElement("div",{className:"topic__author"},e.createElement(r.Avatar,a.__assign({},l.author,{hideTooltop:!0,width:75})),e.createElement("a",{className:i("topic__author-link","parent"==l.authorType?"topic__author-link--parent-author":null),href:l.author.userUrl,title:l.author.displayName},l.author.displayName),e.createElement("span",{className:"topic__author-ranking"},l.competitionRanking?e.createElement("span",null,e.createElement(r.Ordinal,null,l.competitionRanking)," place"):null),e.createElement("span",{className:"topic__author-options"},l.titleOptions?l.titleOptions.map(function(t){return[e.createElement("a",{className:i("topic__author-option",t.className),href:t.href,onClick:t.onClick},t.text),e.createElement("span",{className:"topic__author-option-spacer"},"|")]}):null)),e.createElement("div",{className:"topic__body-wrapper"},e.createElement("div",{className:"topic__body"},e.createElement("div",{className:"topic__body-header"},e.createElement("div",{className:"topic__title"},this.props.showEditForm?e.createElement(r.InlineTextEditor,{className:"topic__title-editor",onChangeCallback:this.props.editTitleDraftChanged,placeholder:"Topic Title...",value:this.props.editTitleDraft}):n.title,e.createElement("div",{className:"topic__subtitle"},"posted in",e.createElement("a",{className:"topic__parent-link",href:n.parentUrl,title:n.parentName},n.parentName),"",l.postDate&&e.createElement(r.TimeAgo,{time:l.postDate}))),l.medal?e.createElement("img",{className:"topic__medal",src:"/static/images/medals/discussion/"+l.medal+"L@1x.png",title:l.medal}):e.createElement("div",{className:"topic__medal"}),n.isNew?null:e.createElement(r.VoteButton,{canDownvote:n.canDownvote&&r.Current.userId!=l.author.id,canUpvote:r.Current.userId!=l.author.id,hasAlreadyVotedDown:-1===l.currentUserVote,hasAlreadyVotedUp:1===l.currentUserVote,totalVotes:l.votes,voteDownUrl:"/forums/messages/downvote?forumMessageId="+l.id,voteUpUrl:"/forums/messages/upvote?forumMessageId="+l.id,upVoteIntercomEventName:"forum_vote",downVoteIntercomEventName:"forum_vote",analyticsEventLabel:"topic"})),e.createElement("div",{className:"topic__content"},this.props.showEditForm?[e.createElement(r.MarkdownEditor,{alwaysShowToolbar:!0,compact:window.innerWidth<r.Breakpoints.desktopMin,defaultValue:this.props.editDraft,onChangeCallback:function(e){return t.props.editDraftChanged(e)},placeholder:"Topic Content...",renderPreview:function(t,n){return e.createElement(s.ForumMessageContent,{rawHtml:n,rawMarkdown:t})},rows:3,shouldSanitizeHtml:!0,showPreview:this.props.showEditPreview,suffix:"-topic"}),e.createElement("span",{className:i((l.attachments||[]).length>0||n.newAttachments.length>0?"topic__attachment-spacer":null)}),e.createElement(r.FileList,{compact:!0,fileListItems:l.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!0,canDelete:!0,deleteCallback:n.attachmentDeleted}),e.createElement(r.FileList,{compact:!0,fileListItems:n.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!0,canDelete:!0,deleteCallback:n.attachmentDeleted}),e.createElement("div",{className:"topic__action-buttons"},this.props.allowAttachments?e.createElement(r.FileUploader,{autoRemoveOnComplete:!0,compact:!0,createBlobUrl:"/blobs/inbox/forum-message-attachment-files",maxCompressedBytesAllowed:5e8,maxUncompressedBytesAllowed:5e8,mode:"multiple",onFileUploadFinished:n.attachmentAdded,multipleFileButtonLabel:" ",suffix:"-topic"}):null,e.createElement("span",{className:"topic__flex-spacer"}),e.createElement("span",{className:"topic__edit-submit-wrapper"},e.createElement(r.Button,{classNames:i("topic__editor-preview"),onClick:n.toggleEditPreview,text:n.showEditPreview?"Edit":"Preview"}),e.createElement("div",{className:"topic__editor-submit-spacer"}),e.createElement(r.Button,{classNames:i("topic__editor-submit",n.isNew?"topic__editor-submit--new":null),isDisabled:this.props.isSubmittingEdit,onClick:n.editSubmitted,text:n.isNew?"Publish Topic":"Save Changes"})))]:[e.createElement(s.ForumMessageContent,{rawHtml:l.content,rawMarkdown:l.rawMarkdown||""}),e.createElement("span",{className:i((l.attachments||[]).length>0||n.newAttachments.length>0?"topic__attachment-spacer":null)}),e.createElement(r.FileList,{compact:!0,fileListItems:l.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!1,deleteCallback:n.attachmentDeleted}),e.createElement(r.FileList,{compact:!0,fileListItems:n.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!1,deleteCallback:n.attachmentDeleted})]),this.props.showOptions?e.createElement("span",{className:"topic__options"},e.createElement("div",{className:"topic__left-options"},l.leftOptions.map(function(t){return[e.createElement("a",{className:i("topic__option",t.className),href:t.href,onClick:t.onClick},t.text),e.createElement("span",{className:"topic__option-spacer"},"|")]})),l.rightOptions.map(function(t){return[e.createElement("a",{className:i("topic__option",t.className),href:t.href,onClick:t.onClick},t.text),e.createElement("span",{className:"topic__option-spacer"},"|")]})):null),this.props.showUpvoters?e.createElement("div",{className:"topic__upvoters"},this.props.comment.upvoters.map(function(t){return e.createElement(r.Avatar,a.__assign({className:"topic__upvoter"},t))})):null))),e.createElement(r.MediaQuery,{minWidth:0,maxWidth:r.Breakpoints.tabletMax},e.createElement("div",{className:"topic"},e.createElement("div",{className:"topic__body"},e.createElement("div",{className:"topic__body-header"},e.createElement("div",{className:"topic__title"},n.isNew?null:e.createElement("span",{className:"topic__vote-button"},e.createElement(r.VoteButton,{canDownvote:n.canDownvote&&r.Current.userId!=l.author.id,canUpvote:r.Current.userId!=l.author.id,hasAlreadyVotedDown:-1===l.currentUserVote,hasAlreadyVotedUp:1===l.currentUserVote,totalVotes:l.votes,voteDownUrl:"/forums/messages/downvote?forumMessageId="+l.id,voteUpUrl:"/forums/messages/upvote?forumMessageId="+l.id,analyticsEventLabel:"topic"})),this.props.showEditForm?e.createElement(r.InlineTextEditor,{className:"topic__title-editor",onChangeCallback:this.props.editTitleDraftChanged,placeholder:"Topic Title...",value:this.props.editTitleDraft}):e.createElement("span",{className:"topic__title-text"},n.title)),e.createElement("div",{className:"topic__subtitle"},"by",e.createElement("a",{className:"topic__author-link",href:l.author.userUrl,title:l.author.displayName},this.props.comment.author.displayName),"in",e.createElement("a",{className:"topic__parent-link",href:n.parentUrl,title:n.parentName},n.parentName),"",l.postDate?e.createElement("span",{className:"topic__timeago"},e.createElement(r.TimeAgo,{time:l.postDate})):null)),e.createElement("div",{className:"topic__content"},this.props.showEditForm?[e.createElement(r.MarkdownEditor,{alwaysShowToolbar:!0,compact:window.innerWidth<r.Breakpoints.desktopMin,defaultValue:this.props.editDraft,onChangeCallback:function(e){return t.props.editDraftChanged(e)},placeholder:"Topic Content...",renderPreview:function(t,n){return e.createElement(s.ForumMessageContent,{rawHtml:n,rawMarkdown:t})},rows:3,shouldSanitizeHtml:!0,showPreview:this.props.showEditPreview,suffix:"-topic"}),e.createElement("span",{className:i((l.attachments||[]).length>0||n.newAttachments.length>0?"topic__attachment-spacer":null)}),e.createElement(r.FileList,{compact:!0,fileListItems:l.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!0,canDelete:!0,deleteCallback:n.attachmentDeleted}),e.createElement(r.FileList,{compact:!0,fileListItems:n.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!0,canDelete:!0,deleteCallback:n.attachmentDeleted}),e.createElement("div",{className:"topic__action-buttons"},this.props.allowAttachments?e.createElement(r.FileUploader,{autoRemoveOnComplete:!0,compact:!0,createBlobUrl:"/blobs/inbox/forum-message-attachment-files",mode:"multiple",maxCompressedBytesAllowed:5e8,maxUncompressedBytesAllowed:5e8,onFileUploadFinished:n.attachmentAdded,multipleFileButtonLabel:" ",suffix:"-topic"}):null,e.createElement("span",{className:"topic__flex-spacer"}),e.createElement("span",{className:"topic__edit-submit-wrapper"},e.createElement(r.Button,{classNames:i("topic__editor-preview"),onClick:n.toggleEditPreview,text:n.showEditPreview?"Edit":"Preview"}),e.createElement("div",{className:"topic__editor-submit-spacer"}),e.createElement(r.Button,{classNames:i("topic__editor-submit",n.isNew?"topic__editor-submit--new":null),isDisabled:this.props.isSubmittingEdit,onClick:n.editSubmitted,text:n.isNew?"Publish Topic":"Save Changes"})))]:[e.createElement(s.ForumMessageContent,{rawHtml:l.content,rawMarkdown:l.rawMarkdown||""}),e.createElement("span",{className:i((l.attachments||[]).length>0||n.newAttachments.length>0?"topic__attachment-spacer":null)}),e.createElement(r.FileList,{compact:!0,fileListItems:l.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!1,deleteCallback:n.attachmentDeleted}),e.createElement(r.FileList,{compact:!0,fileListItems:n.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!1,deleteCallback:n.attachmentDeleted})])),e.createElement("div",{className:"topic__author-options"},l.titleOptions?l.titleOptions.map(function(t){return e.createElement("a",{className:i("topic__author-option",t.className),href:t.href,onClick:t.onClick},t.text)}):null),this.props.showOptions?e.createElement("span",{className:"topic__options"},l.leftOptions.map(function(t){return e.createElement("a",{className:i("topic__option",t.className),href:t.href,onClick:t.onClick},t.text)}),l.rightOptions.map(function(t){return e.createElement("a",{className:i("topic__option",t.className),href:t.href,onClick:t.onClick},t.text)})):null,this.props.showUpvoters?e.createElement("div",{className:"topic__upvoters"},this.props.comment.upvoters.map(function(t){return e.createElement(r.Avatar,a.__assign({className:"topic__upvoter"},t))})):null)),this.props.isNew?null:e.createElement(o.CommentListContainer,{allowAttachments:this.props.allowAttachments,canDownvote:this.props.canDownvote,initialState:this.props.commentList,isSubmittingReply:this.props.isSubmittingReply,replyAttachmentAdded:this.props.replyAttachmentAdded,replyAttachmentDeleted:this.props.replyAttachmentDeleted,replyAttachments:this.props.replyAttachments,replyDraft:this.props.replyDraft,replyDraftChanged:this.props.replyDraftChanged,replySubmitted:this.props.replySubmitted,allowReplies:!this.props.isLocked,topicId:this.props.id,markdownKey:this.props.markdownKey}))},n}(e.Component);t.Topic=l}).call(t,n(0))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(11),r=function(e){function t(t){var n=e.call(this,t.message)||this;return i(t,"error object required in SourceError ctor"),i(t.message,"error message required in SourceError ctor"),n.name=t.name||"ServerError",n.stack=t.stack,n.source=t.source,n.messaging=t.messaging,n}return a.__extends(t,e),t}(Error);t.ServerError=r},,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement("ul",{className:"horizontal-list"},this.props.list.filter(function(e){return e}).map(function(n,a){return e.createElement("li",{key:a,className:"horizontal-list-item horizontal-list-item--"+(t.props.separator||"bullet")+" "+(!t.props.overrideStyling&&"horizontal-list-item--default")},n)}))},n}(e.Component);t.HorizontalList=i}).call(t,n(0))},function(e,t,n){"use strict";function a(e){void 0===e&&(e=40);for(var t="",n=0;n<e;n++)t+=(16*Math.random()|0).toString(16);return t}function i(e){history.replaceState&&history.replaceState({},"",e)}function r(e){return e.restProtocol+"://"+e.urlBase+"/api/sessions?kernelToken="+e.kernelToken}function o(e,t,n){return("channels"===e?"https:"===location.protocol?"wss":"ws":t.restProtocol)+"://"+t.urlBase+"/api/kernels/"+n.kernelId+"/"+e+"?session_id="+n.sessionId+"&kernelToken="+t.kernelToken}function s(e){return e.restProtocol+"://"+e.urlBase+"/api/contents/"+e.fileName+"?kernelToken="+e.kernelToken}function l(e){var t=JSON.parse(JSON.stringify(e));return t.cells.forEach(function(e){e.outputs=[]}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.uuid=a,t.updateUrl=i,t.jupyterSessionsApiUrl=r,t.jupyterKernelApiUrl=o,t.jupyterContentsApiUrl=s,t.stripCellOutputs=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(193),r=function(){function e(){}return e.initContainer=function(e){this.jupyterIFrameId=e,window.addEventListener("message",function(e){var t=e.data.jupyterEvent;if(t){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.data=e.data.data,window.dispatchEvent(n)}})},e.initJupyter=function(e){var t=this;window.addEventListener("message",function(n){var i=n.data,r=i.jupyterCall,o=i.customCall,s=i.args;r?(console.log("Jupyter IFrame received function call "+r,s),t.jupyterApiCall(n,r,s)):o&&(console.log("Jupyter IFrame received custom function call "+o,s),e.trigger(o,a.__assign({messageId:n.data.messageId},s)))})},e.jupyterApiCall=function(e,t,n){return a.__awaiter(this,void 0,void 0,function(){var i,r,o,s,l,c,u;return a.__generator(this,function(p){switch(p.label){case 0:return i=null,r=t.split(".").reduce(function(e,t){return i=e,e[t]},Jupyter),o=r.bind(i).apply(void 0,n),console.log("Jupyter IFrame replying to function call "+t,o),l=(s=parent).postMessage,c={},o instanceof Promise?[4,o]:[3,2];case 1:return u=p.sent(),[3,3];case 2:u=o,p.label=3;case 3:return l.apply(s,[a.__assign.apply(void 0,[(c.result=u,c),e.data]),"*"]),[2]}})})},e.isConnected=function(){return!!this.iFrame},e.on=function(e,t){window.addEventListener(e,t)},e.off=function(e,t){window.removeEventListener(e,t)},e.disconnect=function(){e.call("custom.disconnect")},e.call=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return a.__awaiter(this,void 0,void 0,function(){var n=this;return a.__generator(this,function(a){return this.isConnected()?[2,new Promise(function(a,r){var o=i.uuid(),s=function(t){var n=t.data,i=n.messageId,r=n.result;o===i&&(console.log("Notebook container received function call response for "+e+":"+o,r),a(r),window.removeEventListener("message",s))};window.addEventListener("message",s);var l=e.startsWith("custom.");n.iFrame.contentWindow.postMessage((c={messageId:o},c[l?"customCall":"jupyterCall"]=e,c.args=t,c),"*");var c})]:[2,null]})})},Object.defineProperty(e,"iFrame",{get:function(){return document.getElementById(this.jupyterIFrameId)},enumerable:!0,configurable:!0}),e}();t.JupyterEditorBridge=r},,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(124),r=n(40),o=n(27),s=function(t){function n(n){var a=t.call(this,n)||this;return a.handleChangedDate=function(e){e&&a.setState({date:e})},a.submitButton=e.createElement("button",{className:a.props.buttonClassName?a.props.buttonClassName:"input-group-inline__button",disabled:a.props.buttonIsDisabled,type:"submit"},a.props.buttonChildren),a.state={date:"date"===n.type&&n.initialDate?o.utc(n.initialDate):null},a}return a.__extends(n,t),n.prototype.handleSubmit=function(e){e.preventDefault(),"date"===this.props.type?(this.props.onSubmit(this.state.date),this.props.clearAfterSubmit&&this.setState({date:null})):(this.props.onSubmit(this._input.value),this.props.copyToClipboardOnSubmit&&(this._input.select(),document.execCommand("copy"),this._input.blur()),this.props.clearAfterSubmit&&(this._input.value=""))},n.prototype.render=function(){var t=this,n=this.props,a=n.dateValidator,s=n.defaultValue,l=n.inputClassName,c=n.inputId,u=n.label,p=n.onInputChange,d=n.placeholder,m=n.readOnly,h=n.type,g=n.wrapperClassName,f=(n.value,this.state.date);return e.createElement("form",{className:"input-group-inline"+(g?" "+g:""),onSubmit:function(e){return t.handleSubmit(e)}},u?e.createElement("label",{className:"input-group-inline__label",htmlFor:c||null},u):null,"date"===h?e.createElement(i.DateTimePicker,{closeOnSelect:!0,isValidDate:a||null,onBlur:function(e){return t.handleChangedDate(o.utc(e))},onChange:this.handleChangedDate,utc:!0,value:f}):e.createElement("input",{id:c||null,className:l||"input-group-inline__input",type:"text",onChange:p?function(e){return p(e)}:function(){},defaultValue:s||null,placeholder:d||null,ref:function(e){return t._input=e},readOnly:m||!1}),this.props.buttonToolTip?e.createElement(r.ToolTip,{tipText:this.props.buttonToolTip},this.submitButton):this.submitButton,this.props.isSubmitting?e.createElement("div",{className:"input-group-inline__submitting-icon"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null)},n}(e.Component);t.InputGroupInline=s}).call(t,n(0))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return this.props.isLoading?e.createElement("div",{className:"loading-text"},e.createElement("span",{className:"fa fa-refresh fa-spin fa-fw"}),this.props.text,"..."):null},n}(e.Component);t.LoadingText=i}).call(t,n(0))},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(28);t.List=(r=["\n    list-style: none;\n    margin: 0 0.5em;\n    padding: 0;\n"],r.raw=["\n    list-style: none;\n    margin: 0 0.5em;\n    padding: 0;\n"],a.default.div(r)),t.Grow=(o=["\n    font-size: 1.2em;\n"],o.raw=["\n    font-size: 1.2em;\n"],a.default.div(o)),t.Shrink=(s=["\n    font-size: 0.8em;\n"],s.raw=["\n    font-size: 0.8em;\n"],a.default.div(s)),t.Margin=(l=["\n    margin: 0.5em;\n"],l.raw=["\n    margin: 0.5em;\n"],a.default.div(l));var i="\n    padding: 0.5em;\n    margin: 0;\n    display: flex;\n    flex-flow: column nowrap;\n    color: #9CA4B4;\n    background-color: #4F5A66;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.2);\n    > h5 {\n        font-weight: 700;\n        font-family: Roboto,Arial,sans-serif;\n    }\n";t.Rectangle=(c=["","\n    font-size: ",";\n"],c.raw=["","\n    font-size: ",";\n"],a.default.div(c,i,function(e){return e.size||"1em"})),t.Square=(u=["","\n    justify-content: center;\n    align-items: center;\n    font-size: ",";\n"],u.raw=["","\n    justify-content: center;\n    align-items: center;\n    font-size: ",";\n"],a.default.div(u,i,function(e){return e.size||"1em"})),t.Button=(p=["\n    display: inline-flex;\n    margin: 0 0 0.4rem;\n    padding: 0.4rem;\n    border-radius: 1px;\n    font-weight: 700;\n    color: #9CA4B4;\n    background-color: #005d8c;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.2);\n    cursor: pointer;\n"],p.raw=["\n    display: inline-flex;\n    margin: 0 0 0.4rem;\n    padding: 0.4rem;\n    border-radius: 1px;\n    font-weight: 700;\n    color: #9CA4B4;\n    background-color: #005d8c;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.2);\n    cursor: pointer;\n"],a.default.button(p)),t.SquareButton=(d=["\n    display: inline-flex;\n    flex-flow: column nowrap;\n    justify-content: space-around;\n    align-items: center;\n    margin: 0;\n    border-radius: 1px;\n    font-size: 0.8rem;\n    font-weight: 700;\n    background-color: #005d8c;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.2);\n    cursor: pointer;\n    width: 8em;\n    height: 8em;\n    color: #C7C8C9;\n    > * {\n        color: #20BEFF;\n        color: #9CA4B4;\n        font-weight: 400;\n    }\n"],d.raw=["\n    display: inline-flex;\n    flex-flow: column nowrap;\n    justify-content: space-around;\n    align-items: center;\n    margin: 0;\n    border-radius: 1px;\n    font-size: 0.8rem;\n    font-weight: 700;\n    background-color: #005d8c;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.2);\n    cursor: pointer;\n    width: 8em;\n    height: 8em;\n    color: #C7C8C9;\n    > * {\n        color: #20BEFF;\n        color: #9CA4B4;\n        font-weight: 400;\n    }\n"],a.default.button(d));var r,o,s,l,c,u,p,d},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(4),r=n(1481),o=[{label:"Private",value:"private"},{label:"Public",value:"public"}],s=function(t){function n(n){var a=t.call(this,n)||this;return a.showModal=function(){a.setState({isConfirmShown:!0})},a.onPrivacyChange=function(e){"public"===e&&a.showModal()},a.onLinkClick=function(){a.showModal()},a.onConfirm=function(){a.setState({isConfirmShown:!1,isPrivate:!1}),a.props.onChangeToPublic()},a.onCancel=function(){a.setState({isConfirmShown:!1})},a.renderOption=function(t){return"private"===t.value?e.createElement("span",null,e.createElement("i",{className:"fa fa-eye-slash"})," Private"):e.createElement("span",null,e.createElement("i",{className:"fa fa-eye"})," Public")},a.renderToggle=function(){return"SelectBox"===a.props.displayMode?e.createElement(i.SelectBox,{className:"privacy-toggle__privacy-select--select-box",options:o,onChange:a.onPrivacyChange,optionRenderer:a.renderOption,valueRenderer:a.renderOption,searchable:!1,value:"private",disabled:a.props.disabled}):e.createElement("span",{className:"privacy-toggle__privacy-select--link"},e.createElement("i",{className:"fa fa-eye-slash"})," Private",!a.props.disabled&&e.createElement("span",{className:"privacy-toggle__make-public-link",onClick:a.onLinkClick},"Make Public"))},a.state={isConfirmShown:!1,isPrivate:a.props.isPrivate},a}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"privacy-toggle"},e.createElement("div",null,this.state.isPrivate?this.renderToggle():e.createElement("span",{className:"privacy-toggle__public-indicator"},this.renderOption(o[1]))),e.createElement(r.PrivacyModal,{onConfirm:this.onConfirm,onCancel:this.onCancel,isShown:this.state.isConfirmShown,kernelType:this.props.kernelType,scriptId:this.props.scriptId}))},n}(e.Component);t.PrivacyToggle=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a,i){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(37),s=n(6),l=function(){function e(e,t){this.size=t,this.point=e,this.left=e.left,this.top=e.top,this.width=t.width,this.height=t.height}return e}();t.Rectangle=l;var c=function(){function e(e,t){this.left=e,this.top=t}return e}();t.Point=c;var u=function(){function e(e,t,n,a){this.title=e,this.information=t,this.size=n,this.rect=a}return e}();t.ImageSetting=u;var p=function(){function e(e,t){var n=this;this.getAspect=function(){return n.width/n.height},this.width=e,this.height=t}return e}();t.Size=p;var d=2,m=function(t){function n(e){var n=t.call(this,e)||this;return n.validExtensions=["png","jpg"],n.getHiResScale=function(){return 2},n.onMouseDown=function(e,t){if(0===e.button){a.findDOMNode(n).getBoundingClientRect();n.setState(i.extend({},n.state,{isDragging:!0,dragMode:t,dragStartMousePosition:new c(e.pageX,e.pageY),dragStartSelectorRect:n.state.selectorRect})),e.stopPropagation(),e.preventDefault()}},n.onMouseUp=function(e){n.setState(i.extend({},n.state,{isDragging:!1})),e.stopPropagation(),e.preventDefault()},n.onMouseMove=function(e){if(n.state.isDragging){var t=e.pageX-n.state.dragStartMousePosition.left,a=e.pageY-n.state.dragStartMousePosition.top,r="move"==n.state.dragMode,o="ul"==n.state.dragMode||"ll"==n.state.dragMode,s="ul"==n.state.dragMode||"ur"==n.state.dragMode,u="ur"==n.state.dragMode||"lr"==n.state.dragMode,d="lr"==n.state.dragMode||"ll"==n.state.dragMode;o&&(t=Math.max(-n.state.dragStartSelectorRect.left,t)),s&&(a=Math.max(-n.state.dragStartSelectorRect.top,a));var m=n.state.dragStartSelectorRect.width+(r?0:t)*(o?-1:1),h=n.state.dragStartSelectorRect.height+(r?0:a)*(s?-1:1);u&&(m=Math.min(m,n.state.imageRect.width-n.state.selectorRect.left)),d&&(h=Math.min(h,n.state.imageRect.height-n.state.selectorRect.top));var g=n.state.imageRect.width/n.state.originalSize.width;m=Math.max(Math.round(n.state.selectedImageSize.width*g*n.getHiResScale()),m),h=Math.max(Math.round(n.state.selectedImageSize.height*g*n.getHiResScale()),h);var f=m/h,v=n.state.selectedImageSetting.size,_=v.width/v.height,b=n.state.dragStartSelectorRect.left+(r||o?t:0),E=n.state.imageRect.width-m,y=n.state.dragStartSelectorRect.top+(r||s?a:0),w=n.state.imageRect.height-h,C=Math.max(Math.min(b,E),0),S=Math.max(Math.min(y,w),0);o&&C+m>n.state.selectorRect.left+n.state.selectorRect.width&&(C=n.state.selectorRect.left+n.state.selectorRect.width-m),s&&S+h>n.state.selectorRect.top+n.state.selectorRect.height&&(S=n.state.selectorRect.top+n.state.selectorRect.height-h),f>_&&(m=Math.round(h*_),o&&(C=n.state.dragStartSelectorRect.left+n.state.dragStartSelectorRect.width-m)),f<_&&(h=Math.round(m/_),s&&(S=n.state.dragStartSelectorRect.top+n.state.dragStartSelectorRect.height-h));var N=new l(new c(C,S),new p(m,h));n.getScaledRect(n.state.originalSize.width/n.state.imageRect.width,N);n.setState(i.extend({},n.state,{selectorRect:N,selectedImageSetting:i.extend(n.state.selectedImageSetting,{rect:N})})),e.stopPropagation(),e.preventDefault()}},n.onFileChange=function(e){if(e.target.files&&e.target.files[0]){var t=e.target.files[0].name.split(".").pop();if(0==n.validExtensions.filter(function(e){return e===t.toLowerCase()}).length)return void n.setState(i.extend({},n.state,{invalidExtension:t}));n.setState(i.extend({},n.state,{imageLoaded:!1,isLoadingImage:!0,tooSmallImageSize:null,invalidExtension:null}));var a=new FileReader;a.onload=function(e){var t=new Image,a=e.target.result;t.src=a,t.onload=function(){if(t.width<n.state.minimumImageSize.width||t.height<n.state.minimumImageSize.height)return void n.setState(i.extend({},{tooSmallImageSize:new p(t.width,t.height),imageLoaded:!0,isLoadingImage:!1}));n.setState(i.extend({},n.state,{imageUrl:a}))}},a.readAsDataURL(e.target.files[0])}},n.onImageLoad=function(e){n.updateImage(e.target.src,e.target.naturalWidth,e.target.naturalHeight)},n.onUpdateImages=function(){n.setState(i.extend({},n.state,{uploadInProgress:!0}));var e=i("#uploadForm"+(n.props.uploaderKey||""))[0],t=new FormData(n.state.tooSmallImageSize?null:e),a=Math.min(n.state.originalSize.width/n.state.imageRect.width,n.state.originalSize.height/n.state.imageRect.height),r=n.state.imageSettings.map(function(e){return new l(new c(e.rect.left*a,e.rect.top*a),new p(e.rect.width*a,e.rect.height*a))});n.props.onUpdateImages(t,r,n.handleImageUploadFailed).then(function(){n.setState(i.extend({},n.state,{uploadInProgress:!1}))})},n.handleImageUploadFailed=function(){n.setState(i.extend({},n.state,{showImageUploadFailed:!0}))},n.setStep=function(e){var t=n.state.imageSettings[e-d]||n.state.imageSettings[0];n.setState(i.extend({},{currentStep:e,selectedImageSetting:t,selectorRect:t.rect,selectedImageSize:t.size}))},n.state={imageUrl:n.props.originalImageUrl,imageLoaded:!1,imageRect:new l(new c(0,0),new p(0,0)),selectorRect:new l(new c(0,0),new p(0,0)),imageSettings:n.props.imageSettings,minimumImageSize:n.getMinimumImageSize(),selectedImageSetting:n.props.imageSettings[0],isDragging:!1,selectedImageSize:n.props.imageSettings[0].size,uploadInProgress:!1,isLoadingImage:!1,currentStep:1},n}return r.__extends(n,t),n.prototype.getMinimumImageSize=function(){return new p(Math.max.apply(Math,this.props.imageSettings.map(function(e){return e.size.width}))*this.getHiResScale(),Math.max.apply(Math,this.props.imageSettings.map(function(e){return e.size.height}))*this.getHiResScale())},n.prototype.isLastStep=function(){return this.state.currentStep===this.props.imageSettings.length+d},n.prototype.getScaledSize=function(e,t){var n=t.width/t.height;return new p(n>e?Math.round(t.height*e):t.width,n<e?Math.round(t.width/e):t.height)},n.prototype.getScaledRect=function(e,t){return new l(new c(Math.round(t.point.left*e),Math.round(t.point.top*e)),new p(Math.round(t.size.width*e),Math.round(t.size.height*e)))},n.prototype.componentDidUpdate=function(e,t){this.state.isDragging&&!t.isDragging?(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)):!this.state.isDragging&&t.dragging&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp))},n.prototype.componentWillUnmount=function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)},n.prototype.updateImage=function(e,t,n){if(!this.state.imageLoaded){for(var a=t/n,r=this.getScaledSize(a,this.props.containerSize),o=new l(new c(Math.round((this.props.containerSize.width-r.width)/2),Math.round((this.props.containerSize.height-r.height)/2)),new p(Math.round(r.width),Math.round(r.height))),s=(o.width,0),u=this.state.imageSettings;s<u.length;s++){var d=u[s],m=d.size.width/d.size.height,h=this.getScaledSize(m,o.size);d.rect=new l(new c(Math.round((o.width-h.width)/2),Math.round((o.height-h.height)/2)),this.getScaledSize(m,o.size))}this.setState(i.extend({},this.state,{imageUrl:e,originalSize:{width:t,height:n},imageRect:o,isLoadingImage:!1,imageLoaded:!0,selectorRect:this.state.imageSettings[0].rect,currentStep:e.indexOf("default-backgrounds")||e.indexOf("noimage")?1:2}))}},n.prototype.render=function(){var t=this,n={width:this.props.containerSize.width,height:this.props.containerSize.height,display:this.state.isLoadingImage||1!=this.state.currentStep?"none":""},a={width:this.props.containerSize.width,height:this.props.containerSize.height},r=(this.state.imageLoaded,{left:this.state.imageRect.left,top:this.state.imageRect.top,width:this.state.imageRect.width,height:this.state.imageRect.height,display:this.state.imageLoaded&&!this.isLastStep()?"":"none"}),l={left:this.state.imageRect.left+this.state.selectorRect.left,top:this.state.imageRect.top+this.state.selectorRect.top,width:this.state.selectorRect.width-2*this.props.selectorBorderWidth,height:this.state.selectorRect.height-2*this.props.selectorBorderWidth,borderWidth:this.props.selectorBorderWidth,cursor:this.state.isDragging?"":"move"},c={width:8,height:8},u=i.extend({},c,{left:l.left,top:l.top,marginLeft:-5,marginTop:-5,cursor:this.state.isDragging?"":"nwse-resize"}),m=i.extend({},c,{left:l.left+l.width-8,top:l.top,marginLeft:5,marginTop:-5,cursor:this.state.isDragging?"":"nesw-resize"}),h=i.extend({},c,{left:l.left,top:l.top+l.height-8,marginLeft:-5,marginTop:5,cursor:this.state.isDragging?"":"nesw-resize"}),g=i.extend({},c,{left:l.left+l.width-8,top:l.top+l.height-8,marginLeft:5,marginTop:5,cursor:this.state.isDragging?"":"nwse-resize"}),f=new p(.8*this.props.containerSize.width,.4*this.props.containerSize.height),v=this.state.imageSettings.map(function(e){var n=t.getScaledSize(e.size.getAspect(),f),a=0==e.rect.width?0:n.width/e.rect.width,r=i.extend({},n,{overflow:"hidden"});return{imageStyle:{width:Math.round(t.state.imageRect.width*a),height:Math.round(t.state.imageRect.height*a),left:Math.round(e.rect.left*-a),top:Math.round(e.rect.top*-a)},imageContainerStyle:r}}),_={left:this.state.imageRect.left,top:this.state.imageRect.top,width:this.state.selectorRect.left,height:this.state.imageRect.height},b={left:this.state.imageRect.left+this.state.selectorRect.width+this.state.selectorRect.left,top:this.state.imageRect.top,width:this.state.imageRect.width-this.state.selectorRect.width-this.state.selectorRect.left,height:this.state.imageRect.height},E={left:this.state.imageRect.left+this.state.selectorRect.left,top:this.state.imageRect.top,width:this.state.selectorRect.width,height:this.state.selectorRect.top},y={left:this.state.imageRect.left+this.state.selectorRect.left,top:this.state.imageRect.top+this.state.selectorRect.top+this.state.selectorRect.height,width:this.state.selectorRect.width,height:this.state.imageRect.height-this.state.selectorRect.height-this.state.selectorRect.top},w=function(e){return s("image-uploader__step",t.state.currentStep==e?"image-uploader__step--current":t.state.currentStep>e?"image-uploader__step--complete":"image-uploader__step--pending",1==e||t.state.imageLoaded?"image-uploader__step--clickable":"")};return e.createElement("div",{className:s("image-uploader",this.state.uploadInProgress?"image-uploader--inprogress":null),style:{cursor:this.state.isDragging?"move"==this.state.dragMode?"move":"ul"==this.state.dragMode?"nwse-resize":"ur"==this.state.dragMode?"nesw-resize":"ll"==this.state.dragMode?"nesw-resize":"lr"==this.state.dragMode?"nwse-resize":"":""}},e.createElement("div",{className:"image-uploader__inprogressoverlay",style:this.state.uploadInProgress?null:{display:"none"}},e.createElement("div",{className:"image-uploader__inprogressmessage"},"Sending your images up. Hold tight...")),e.createElement("div",{className:"image-uploader__title-container"},e.createElement("div",{className:"image-uploader__title"},this.props.title),e.createElement("div",{className:"image-uploader__cancel",onClick:this.props.onCancel},"Cancel")),e.createElement("ul",{className:"image-uploader__steps"},e.createElement("li",{className:w(1),onClick:function(){return t.setStep(1)}},"Upload image"),this.props.imageSettings.map(function(n,a){return e.createElement("li",{key:a,className:w(a+d),onClick:t.state.imageLoaded?function(){return t.setStep(a+d)}:null},"Crop ",n.title)}),e.createElement("li",{className:w(this.props.imageSettings.length+d),onClick:this.state.imageLoaded?function(){return t.setStep(t.props.imageSettings.length+d)}:null},"Preview images")),this.state.showImageUploadFailed?e.createElement("div",{className:"image-uploader__message-container image-uploader__message-container--error"},"We ran into a problem. Try again or try a different image. ",e.createElement("a",{href:"/contact"},"Contact us")," if you need any help."):1==this.state.currentStep?this.state.tooSmallImageSize?e.createElement("div",{className:"image-uploader__message-container image-uploader__message-container--error"},"The resolution of your image (",this.state.tooSmallImageSize.width,"x",this.state.tooSmallImageSize.height,") is lower than the minimum resolution (",this.state.minimumImageSize.width,"x",this.state.minimumImageSize.height,")."):this.state.invalidExtension?e.createElement("div",{className:"image-uploader__message-container image-uploader__message-container--error"},"That file type (",this.state.invalidExtension,") is a not a supported image type (i.e. ",this.validExtensions.join(", "),")."):e.createElement("div",{className:"image-uploader__message-container"},e.createElement("span",{className:"image-uploader__message-container-label"},"Step 1"),": ",e.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.step1Html||"Upload an image by clicking the button below."}})):this.state.currentStep<this.props.imageSettings.length+d?e.createElement("div",{className:"image-uploader__message-container"},e.createElement("span",{className:"image-uploader__message-container-label"},"Step ",this.state.currentStep),": ",this.props.imageSettings[this.state.currentStep-d].information):this.state.currentStep==this.props.imageSettings.length+d?e.createElement("div",{className:"image-uploader__message-container"},e.createElement("span",{className:"image-uploader__message-container-label"},"Step ",this.state.currentStep),": Make sure everything looks good, then click the button below."):"",e.createElement("div",{className:"image-uploader__outer-container"},e.createElement("div",{className:s("fa","fa-chevron-circle-left","image-uploader__navigator",1==this.state.currentStep?"image-uploader__navigator--hidden":"image-uploader__navigator--enabled"),onClick:this.state.currentStep>1?function(){return t.setStep(t.state.currentStep-1)}:null}),e.createElement("div",{className:"image-uploader__container",style:a},this.state.isLoadingImage?e.createElement("div",{className:"image-uploader__loadercontainer"},e.createElement("div",{className:"image-uploader__loadermessage"},"Loading image...")):"",e.createElement("div",{className:"image-uploader__upload",style:n},e.createElement("form",{id:"uploadForm"+(this.props.uploaderKey||""),name:"uploadForm"+(this.props.uploaderKey||"")},e.createElement("input",{id:"imageUpload"+(this.props.uploaderKey||""),name:"imageUpload"+(this.props.uploaderKey||""),type:"file",onChange:this.onFileChange}),e.createElement("label",{className:"image-uploader__upload-button",htmlFor:"imageUpload"+(this.props.uploaderKey||"")},e.createElement("div",{className:"fa fa-upload image-uploader__upload-icon"}),e.createElement("div",null,"upload image"),e.createElement("div",{className:"image-uploader__upload-resolution"},"(min. ",this.state.minimumImageSize.width,"x",this.state.minimumImageSize.height,")")))),this.state.currentStep>1&&this.state.currentStep<this.props.imageSettings.length+d?e.createElement("div",null,e.createElement("div",{className:"image-uploader__selector",style:l,onMouseDown:function(e){return t.onMouseDown(e,"move")}}),e.createElement("div",{className:"image-uploader__selector-corner-resizer",style:u,onMouseDown:function(e){return t.onMouseDown(e,"ul")}}),e.createElement("div",{className:"image-uploader__selector-corner-resizer",style:m,onMouseDown:function(e){return t.onMouseDown(e,"ur")}}),e.createElement("div",{className:"image-uploader__selector-corner-resizer",style:h,onMouseDown:function(e){return t.onMouseDown(e,"ll")}}),e.createElement("div",{className:"image-uploader__selector-corner-resizer",style:g,onMouseDown:function(e){return t.onMouseDown(e,"lr")}}),e.createElement("div",{className:"image-uploader__overlay",style:_}),e.createElement("div",{className:"image-uploader__overlay",style:E}),e.createElement("div",{className:"image-uploader__overlay",style:b}),e.createElement("div",{className:"image-uploader__overlay",style:y})):"",v.map(function(n,a){return e.createElement("div",{key:a,style:t.state.currentStep<d+t.props.imageSettings.length?{display:"none"}:{},className:"image-uploader__preview"},e.createElement("div",{className:"image-uploader__previewimagecontainer",style:n.imageContainerStyle},e.createElement("img",{className:"image-uploader__previewimage",style:n.imageStyle,src:t.state.imageUrl})))}),e.createElement("img",{className:"image-uploader__image",src:this.state.imageUrl,style:r,onLoad:function(e){return t.onImageLoad(e)}}),this.state.currentStep==this.props.imageSettings.length+d?e.createElement("div",{className:"image-uploader__submitcontainer"},e.createElement(o.Button,{onClick:this.onUpdateImages,text:"Update Images"})):""),e.createElement("div",{className:s("fa","fa-chevron-circle-right","image-uploader__navigator",this.isLastStep()?"image-uploader__navigator--hidden":this.state.imageLoaded?"image-uploader__navigator--enabled":"image-uploader__navigator--disabled"),onClick:!this.isLastStep()&&this.state.imageLoaded?function(){return t.setStep(t.state.currentStep+1)}:null})))},n}(e.Component);t.ImageUploader=m}).call(t,n(0),n(72),n(3))},function(e,t,n){"use strict";(function(e,a,i){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(440),s=n(21),l=e.Datasets,c=e.Categories,u=3,p=10,d=!0,m=function(e){function t(t){var n=e.call(this,t)||this;n.handleKeyDown=function(e){if(27==e.keyCode&&n.handleClose(),38==e.keyCode&&n.handleSelectionMove(-1),40==e.keyCode&&n.handleSelectionMove(1),13==e.keyCode){var t=document.getElementById("category-search-result-"+n.state.selectedResultIndex);t&&t.click()}},n.handleSelectionMove=function(e){if(n.state.searchResults.categories&&0!=n.state.searchResults.categories.length){var t=(null!=n.state.selectedResultIndex?n.state.selectedResultIndex:e<0?n.state.searchResults.categories.length:-1)+e;t<0&&(t=n.state.searchResults.categories.length-1),t>n.state.searchResults.categories.length-1&&(t=0),n.setState({selectedResultIndex:t})}},n.handleIndexSelection=function(e){n.setState({selectedResultIndex:e})},n.handleMouseUp=function(e){var t=i(".category__search-box-container");t.is(e.target)||0!==t.has(e.target).length||n.handleClose()},n.onAddingNewCategoryChanged=function(e){n.setState({isAddingNewCategory:e}),n.executeTopQueries()},n.onDeleteCategory=function(e,t){if("dataset"==n.props.type){if(!n.props.ownerSlug||!n.props.datasetSlug)return void n.error("Slugs not set");l.removeCategory({ownerSlug:n.props.ownerSlug,datasetSlug:n.props.datasetSlug,categoryId:e.id}).then(function(e){if("error"===e.status)return void n.error(e.message);n.removeCategoryFromList(t),n.success("The tag has been removed successfully.")})}else n.error("Unsupported type: "+n.props.type)},n.onAddCategory=function(e){if(n.handleClose(),"dataset"==n.props.type){if(!n.props.ownerSlug||!n.props.datasetSlug)return void n.error("Slugs not set");l.addCategory({ownerSlug:n.props.ownerSlug,datasetSlug:n.props.datasetSlug,categoryId:e.id}).then(function(t){if("error"===t.status)return void n.error(t.message);n.addCategoryToList(e),n.success("The tag has been added successfully.")})}else n.error("Unsupported type: "+n.props.type)},n.onSearchQueryChanged=function(e){n.searchQuery=e,n.searchTimer&&clearInterval(n.searchTimer),n.searchTimer=window.setTimeout(function(){return n.executeSearch(n.searchQuery)},200)},n.handleClose=function(){n.setState({isAddingNewCategory:!1,isSearchingNewCategory:!1,searchResults:null})},n.handleSearch=function(){n.executeSearch(n.searchQuery)},n.handleSearchResults=function(e){var t=e.categories.filter(function(e){return!n.state.categories.some(function(t){return t.id==e.id})});n.setState({searchResults:{categories:t,type:e.type},isSearchingNewCategory:!1,selectedResultIndex:0})},n.executeSearch=function(e){if(n.setState({isSearchingNewCategory:!0}),n.searchTimer&&clearInterval(n.searchTimer),!n.searchQuery||!n.searchQuery.trim()||e.length<u)return void n.setState({isSearchingNewCategory:!1,selectedResultIndex:0});c.searchCategories({searchQuery:e}).then(function(e){if("error"===e.status)return void n.error(e.message);n.handleSearchResults(e.list)})},n.executeTopQueries=function(){n.setState({isSearchingNewCategory:!0}),n.searchTimer&&clearInterval(n.searchTimer),c.getTopCategories({count:p}).then(function(e){if("error"===e.status)return void n.error(e.message);n.handleSearchResults(e.list)})};var a=(t.children,r.__rest(t,["children"]));return n.state=r.__assign({},a,{isAddingNewCategory:!1,isSearchingNewCategory:!1,showCounts:d,selectedResultIndex:0,onDeleteCategory:n.onDeleteCategory,onAddCategory:n.onAddCategory,onAddingNewCategoryChanged:n.onAddingNewCategoryChanged,onSearchNewCategory:n.handleSearch,onSearchQueryChanged:n.onSearchQueryChanged,onIndexSelection:n.handleIndexSelection}),n}return r.__extends(t,e),t.prototype.componentDidMount=function(){i(document.body).on("keydown",this.handleKeyDown),i(document.body).on("mouseup",this.handleMouseUp)},t.prototype.componentWillUnmount=function(){i(document.body).off("keydown",this.handleKeyDown),i(document.body).off("mouseup",this.handleMouseUp)},t.prototype.removeCategoryFromList=function(e){var t=r.__assign({},this.state);t.categories.splice(e,1),this.setState(t)},t.prototype.addCategoryToList=function(e){for(var t=r.__assign({},this.state),n=0,a=0;a<t.categories.length&&!t.categories[a].isInherited;a++)n=a+1;t.categories.splice(n,0,e),this.setState(t)},t.prototype.error=function(e){s.PageMessages.clear(),s.PageMessages.error({htmlMessage:e})},t.prototype.success=function(e){s.PageMessages.clear(),s.PageMessages.success({htmlMessage:e})},t.prototype.render=function(){return a.createElement(o.CategoryList,this.state)},t}(a.Component);t.CategoryListContainer=m}).call(t,n(23),n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(57),r=n(9),o=n(135),s=n(20),l=n(35),c=n(73),u=n(300),p=function(t){function n(e){var n=t.call(this,e)||this;return n.mode=e.children?"stats":"highlights",n}return a.__extends(n,t),n.prototype.formatNumber=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},n.prototype.getRank=function(){return"Top "+Math.min(Math.ceil(100*this.props.rankPercentage),100)+"%"},n.prototype.getTitle=function(){var t=this;return e.createElement("span",{className:"achievement-summary__title achievement-summary__title--"+(this.props.onProfileTabChanged?"link":"no-link"),onClick:this.props.onProfileTabChanged?function(){return t.props.onProfileTabChanged(t.props.summaryType)}:null},this.props.summaryType," ","stats"===this.mode?"Summary":this.props.tier)},n.prototype.getNoResultsMessage=function(){return"No "+this.props.summaryType.replace(/s$/,"")+" results"},n.prototype.shouldRenderComponent=function(){var e=!!this.props.children,t=!!this.props.highlights.length;return!e||t},n.prototype.renderScoreDescription=function(t){switch(this.props.summaryType){case"competitions":return e.createElement("div",null,e.createElement("p",null,e.createElement(u.FormatPlace,{number:t.score,superscript:!0})));default:return e.createElement("div",null,e.createElement("p",null,t.score),e.createElement("p",null,i("vote",t.score)))}},n.prototype.renderCompetitorCount=function(t){switch(this.props.summaryType){case"competitions":return e.createElement("div",{className:"achievement-summary__highlight__score-subtitle"},"of ",t.scoreOutOf);default:return e.createElement("div",null)}},n.prototype.renderRank=function(t){switch(this.props.summaryType){case"competitions":return e.createElement("span",null,"","Top "+Math.min(Math.ceil(t.score/t.scoreOutOf*100),100)+"%");default:return e.createElement("span",null)}},n.prototype.renderMedal=function(t,n){return e.createElement("div",{className:"achievement-summary__medal achievement-summary__medal--"+n+" achievement-summary__medal--"+this.mode},e.createElement("p",null,e.createElement("img",{src:"/static/images/medals/"+this.props.summaryType+"/"+n+"L@1x.png",title:n})),e.createElement("p",null,t))},n.prototype.renderSmallMedal=function(t){return t?e.createElement("span",null,e.createElement("img",{src:"/static/images/medals/"+this.props.summaryType+"/"+t+"L@1x.png",title:t,height:"12px",width:"12 px",className:"achievement-summary__medal-small"}),""):null},n.prototype.renderTeaserItem=function(t,n){return e.createElement(l.BlockLink,{href:t.url,key:n},e.createElement("div",{className:"achievement-summary__highlight"},e.createElement("div",{className:"achievement-summary__highlight__title"},e.createElement("p",null,e.createElement("a",{href:t.url,title:t.title},t.title)),e.createElement("p",{className:"achievement-summary__highlight__subtitle"},this.renderSmallMedal(t.medal),e.createElement(s.TimeAgo,{time:t.date}),this.renderRank(t))),e.createElement("div",{className:"achievement-summary__highlight__score"},this.renderScoreDescription(t)," ",this.renderCompetitorCount(t))))},n.prototype.renderTierIcon=function(){return e.createElement("img",{src:"/static/images/tiers/"+this.props.tier+"@48.png",title:this.props.tier,height:"30",width:"30"})},n.prototype.renderLargeTierIcon=function(){return e.createElement("img",{src:"/static/images/tiers/"+this.props.tier+"@192.png",title:this.props.tier,height:"70",width:"70"})},n.prototype.renderSummary=function(){return null!=this.props.rankCurrent&&this.props.highlights.length>0?this.props.rankCurrent>this.props.rankHighest?e.createElement("div",{className:"achievement-summary__rank-box-wrapper"},e.createElement("a",{href:"/rankings?group="+this.props.summaryType,className:"achievement-summary__rank-link"},e.createElement("div",{className:"achievement-summary__rank-box achievement-summary__rank-box--current"},e.createElement("div",{className:"achievement-summary__rank-label achievement-summary__rank-label--"+this.props.tier},"Current Rank"),e.createElement("div",{className:"achievement-summary__rank-text achievement-summary__rank-text--"+this.props.tier},this.props.rankCurrent),e.createElement("div",{className:"achievement-summary__rank-label--bottom"}," of ",e.createElement(c.FormatNumber,{number:this.props.rankOutOf})))),e.createElement("a",{href:"/rankings?group="+this.props.summaryType,className:"achievement-summary__rank-link"},e.createElement("div",{className:"achievement-summary__rank-box achievement-summary__rank-box--highest"},e.createElement("div",{className:"achievement-summary__rank-label achievement-summary__rank-label--"+this.props.tier},"Highest Rank"),e.createElement("div",{className:"achievement-summary__rank-text achievement-summary__rank-text--"+this.props.tier},this.props.rankHighest),e.createElement("div",{className:"achievement-summary__rank-label--bottom--empty"})))):e.createElement("a",{href:"/rankings?group="+this.props.summaryType,className:"achievement-summary__rank-link"},e.createElement("div",{className:"achievement-summary__rank-box"},e.createElement("div",{className:"achievement-summary__rank-label achievement-summary__rank-label--"+this.props.tier},"Rank"),e.createElement("div",{className:"achievement-summary__rank-text achievement-summary__rank-text--"+this.props.tier},this.props.rankCurrent),e.createElement("div",{className:"achievement-summary__rank-label--bottom"}," of ",e.createElement(c.FormatNumber,{number:this.props.rankOutOf})))):e.createElement("div",{className:"achievement-summary__rank-box"},e.createElement("a",{href:"/progression/",className:"achievement-summary__rank-link"},e.createElement("div",{className:"achievement-summary__rank-text achievement-summary__rank-text--smaller achievement-summary__rank-text--"+this.props.tier},"Unranked")))},n.prototype.render=function(){return this.shouldRenderComponent()?e.createElement(r.ContentBox,{title:this.getTitle(),titleBarRightSide:"highlights"===this.mode?this.renderTierIcon():null,contentClassName:"achievement-summary__content-box"},e.createElement("div",{className:"achievement-summary achievement-summary--"+this.mode},"stats"===this.mode?e.createElement("div",{className:"achievement-summary__tier"},e.createElement("div",null,this.renderLargeTierIcon()),e.createElement("div",null,this.props.summaryType,e.createElement("br",null),this.props.tier)):null,e.createElement("div",{className:"achievement-summary__wrapper achievement-summary__wrapper--"+this.props.summaryType},e.createElement("div",{className:"achievement-summary__rank"},this.renderSummary()),e.createElement("div",{className:"achievement-summary__medals"},this.renderMedal(this.props.totalGoldMedals,"gold"),this.renderMedal(this.props.totalSilverMedals,"silver"),this.renderMedal(this.props.totalBronzeMedals,"bronze")),"highlights"===this.mode?e.createElement("div",{className:"achievement-summary__items"},e.createElement(o.TeaserList,{listItems:this.props.highlights,listItemRenderer:this.renderTeaserItem.bind(this),emptyListMessage:this.getNoResultsMessage()})):null),"stats"===this.mode?e.createElement("div",{className:"achievement-summary__stats"},this.props.children):null)):null},n}(e.Component);t.AchievementSummary=p}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(73),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.getSuffix=function(){var e=this.props.number%100;if(e>10&&e<20)return"th";switch(this.props.number%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},n.prototype.render=function(){var t=this.props.superscript?{verticalAlign:"super",fontSize:"0.5em"}:{},n=e.createElement("span",{style:t},this.getSuffix());return e.createElement("span",null,e.createElement(i.FormatNumber,{number:this.props.number}),n)},n}(e.Component);t.FormatPlace=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(158),r=i.historyContext(function(t,n){var a=t.url,i=t.action;return a&&i?e.createElement("a",{className:"checklist__item-action",onClick:function(e){n.history.push(a,{action:i}),e.preventDefault()},href:a},i," "):i?e.createElement("span",null,i):null}),o=function(t){var n=t.ok,i=t.message,o=t.tips,s=a.__rest(t,["ok","message","tips"]);return e.createElement("div",{className:"checklist__item checklist__item--"+(n?"ok":"not-ok")},e.createElement("i",{className:"checklist__item-icon fa fa-"+(n?"check-square":"times"),"aria-hidden":"true"}),e.createElement("div",{className:"checklist__item-content"},e.createElement("div",{className:"checklist__item-title"},i),o&&e.createElement("ul",{className:"content-box__checklist-item-tips checklist__item-tips"},o.map(function(t,n){return e.createElement("li",{key:n},t)}))),e.createElement(r,a.__assign({},s)))};t.Checklist=function(t){var n=t.okHeader,i=t.notOkHeader,r=t.children;if(!r)return null;var s=r.every(function(e){return e.ok});return e.createElement("div",{className:"checklist"},e.createElement("div",{className:"checklist__items"},r.map(function(t,n){return e.createElement(o,a.__assign({key:n},t))})),(n||i)&&e.createElement("div",{className:"checklist__header checklist__header--"+(s?"ok":"not-ok")},s?n:i))}}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(0),r=n(24),o=n(8),s=void 0!==e.env.KUDU_SYNC_CMD||!0,l=function(e){function t(t){var n=e.call(this,t)||this;return n.showItAnyway=function(){return n.setState({shouldShow:!0})},n.state={shouldShow:!!t.shouldShow||!t.disableDevMode&&!s},n}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.state.shouldShow,n=this.props,a=n.canViewItAnyway,s=n.children,l=n.title,c=n.subtitle;return t?i.Children.only(s):i.createElement("div",{className:"confused-travolta"},i.createElement("div",{className:"confused-travolta__image"},i.createElement("img",{src:"https://i.imgur.com/e1IneGq.jpg",alt:"Confused Travolta"})),l&&i.createElement("p",{className:"confused-travolta__title"},l),c&&i.createElement("p",{className:"confused-travolta__subtitle"},c),(a||(o.Current||{isAdmin:!0}).isAdmin)&&i.createElement(r.ButtonAutoWidth,{onClick:function(){return e.showItAnyway()},text:i.createElement("span",null,i.createElement("span",{className:"fa fa-lock"})," See it anyway")}))},t}(i.Component);t.ConfusedTravolta=l}).call(t,n(121))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(46),r=n(8),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props;return e.createElement("div",{className:"voter-list-item voter-list-item--tier-"+t.tier.toLowerCase()+" "+(r.Current.userId===t.userId?"voter-list-item--current-user":"")},e.createElement("a",{target:"_blank",className:"voter-list-item__link",href:t.profileUrl},e.createElement("div",{className:"voter-list-item__avatar"},e.createElement(i.Avatar,{displayName:t.displayName,hideTooltop:!0,tier:t.tier,thumbnailUrl:t.avatarThumbnailUrl,userUrl:t.profileUrl})),e.createElement("div",{className:"voter-list-item__name"},t.displayName)))},n}(e.Component);t.VoteButtonListItem=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement("div",null,e.createElement("div",{className:"off-canvas__wrapper"},this.props.shouldShowOffCanvas?e.createElement("div",{className:this.props.shouldUseRightSide?"off-canvas--right":"off-canvas--left"},this.props.children,this.props.shouldUseCloseButton?e.createElement("div",{className:"off-canvas__close-wrapper"},e.createElement("span",{className:"off-canvas__close",onClick:function(){return t.props.closeButtonCallback()}},e.createElement("span",{className:"fa fa-times"}),e.createElement("span",{className:"off-canvas__close-text"},"Close"))):null):null),this.props.shouldShowOffCanvas&&e.createElement("div",{className:"off-canvas__underlay",onClick:function(){return t.props.closeButtonCallback()}}))},n}(e.Component);t.OffCanvas=i}).call(t,n(0))},,function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(27),o=n(4),s=n(384),l=function(t){function n(e){var r=t.call(this,e)||this;return r.canSave=function(){return r.state.model&&r.state.model.properties.every(function(e){return null===n.validate(e,e.value)})},r.loadModel=function(e,t){e=e||r.props.typeName,t=t||r.props.id,a.ajax({context:r,error:function(){return r.setState({error:"Sorry, we couldn't find the requested entity",model:null})},success:function(e){e.properties.forEach(function(t){t.onChange=function(a){t.error=n.validate(t,a),t.value=a,r.setState({model:e})},t.value=JSON.parse(t.value)}),r.setState({error:null,model:e})},url:"/admin/autoform/"+e+"/"+t})},r.saveModel=function(){if(r.canSave()){var e=i.__assign({},r.state.model);e.properties.forEach(function(e){return e.value=JSON.stringify(e.value)}),a.ajax({context:r,contentType:"application/json",data:JSON.stringify(e),error:function(){return r.setState({error:"Sorry, we couldn't save your changes"})},headers:o.withAntiForgeryHeader(),method:"PUT",success:function(){r.setState({error:null},function(){r.loadModel(),r.props.onSuccessCallback&&r.props.onSuccessCallback()})},url:"/admin/autoform/"+r.props.typeName+"/"+r.props.id})}},r.state={canSave:function(){return r.canSave()},saveModel:function(){return r.saveModel()}},r}return i.__extends(n,t),n.validate=function(e,t){var a=e.type;return e.isNullable&&null===t?null:"bool"===a?n.validateRegex(a,/^\btrue\b|\bfalse\b$/,t):"dateTime"===a?n.validateDateTime(t):"float"===a?n.validateRegex(a,/^\d*.?\d+$/,t):"int"===a?n.validateRegex(a,/^\d+$/,t):null},n.validateRegex=function(e,t,n){return t.test(n)?null:'Unable to parse "'+n+'" as '+e},n.validateDateTime=function(e){return r(e,r.ISO_8601,!0).isValid()?null:'Unable to parse "'+e+'" as an ISO 8601 date.'},n.prototype.componentDidMount=function(){this.loadModel()},n.prototype.componentWillReceiveProps=function(e){e.typeName==this.props.typeName&&e.id==this.props.id||this.loadModel(e.typeName,e.id)},n.prototype.render=function(){return e.createElement(s.AutoForm,this.state)},n}(e.Component);t.AutoFormContainer=l}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(4),r=n(124),o=n(6),s=n(27),l=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.renderProperty=function(t){var a=t.type,r="bool"===a?n.renderBool(t):"code"===a?n.renderCode(t):"dateTime"===a?n.renderDateTime(t):"float"===a?n.renderFloat(t):"int"===a?n.renderInt(t):"text"===a?n.renderText(t):n.renderString(t);return[n.renderError(t.error),e.createElement("div",{className:"autoform__property"},t.description?e.createElement(i.ToolTip,{alignRight:!0,className:"autoform__label autoform__label--tooltip",tipText:t.description},t.name.replace(/([A-Z])/g," $1").trim()):e.createElement("label",{className:"autoform__label"},t.name.replace(/([A-Z])/g," $1").trim()),e.createElement("div",{className:"autoform__property-body"},r,t.isNullable?e.createElement("div",{className:"autoform__null-checkbox"},e.createElement(i.Checkbox,{isChecked:null===t.value,isEditable:!0,onChange:function(e){return e?t.onChange(null):t.onChange("")},text:"Is Null"})):null))]},n.renderBool=function(t){return e.createElement("div",{className:"autoform__checkbox"},e.createElement(i.Checkbox,{isChecked:t.value,isEditable:!t.isReadonly,onChange:function(e){return t.onChange(!!e)},text:""}))},n.renderCode=function(t){return e.createElement(i.CodeMirrorEditor,{canMoveDown:function(){return!0},canMoveUp:function(){return!0},hasFocus:!0,onCtrlEnter:function(){},onShiftEnter:function(){},onMoveDown:function(){},onMoveUp:function(){},options:null,className:"autoform__input",onChange:function(e){return t.isReadonly?null:t.onChange(e)},value:t.value})},n.renderDateTime=function(t){return e.createElement(r.DateTimePicker,{closeOnSelect:!0,disabled:t.isReadonly,onBlur:function(e){return t.onChange(s.utc(e))},onChange:function(e){return t.onChange(e)},utc:!0,value:t.value&&s(t.value,s.ISO_8601,!0).isValid()?s.utc(t.value).toDate():t.value?t.value:null})},n.renderEnum=function(t){var n=t.value;return e.createElement(i.SelectBox,{disabled:t.isReadonly,options:n.options.map(function(e){return{label:e,value:e}}),onChange:function(e){},value:n.value})},n.renderFloat=function(t){return e.createElement("input",{className:"autoform__input",disabled:t.isReadonly,onChange:function(e){return t.onChange(e.target.value)},value:t.value||""})},n.renderInt=function(t){return e.createElement("input",{className:"autoform__input",disabled:t.isReadonly,onChange:function(e){t.onChange(e.target.value)},value:t.value||""})},n.renderString=function(t){return e.createElement("input",{className:"autoform__input",disabled:t.isReadonly,onChange:function(e){return t.onChange(e.target.value)},value:t.value||""})},n.renderText=function(t){return e.createElement("textarea",{className:"autoform__textarea",disabled:t.isReadonly,onChange:function(e){return t.onChange(e.target.value)},rows:5,value:t.value})},n.renderError=function(t){return t?e.createElement("div",{className:"autoform__error"},t):null},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"autoform"},this.props.error?n.renderError(this.props.error):null,this.props.model?this.props.model.properties.map(function(e){return n.renderProperty(e)}):null,e.createElement("button",{className:o("autoform__save-button",this.props.canSave()?null:"autoform__save-button--disabled"),disabled:!this.props.canSave(),onClick:function(){return t.props.saveModel()}},"Save"))},n}(e.Component);t.AutoForm=l}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(220),r=n(220),o=n(638),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(o.ApolloProvider,{client:n.client},this.props.children)},n.client=new i.default({connectToDevTools:!0,networkInterface:r.createNetworkInterface({uri:"/graphql",opts:{credentials:"same-origin"}})}),n}(e.Component);t.ApolloComponent=s}).call(t,n(0))},,,,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(4),r=n(226),o=n(228),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this,s=this.props.comments?this.props.comments.reduce(function(e,t){return e+t.replies.length+1},0):0;return e.createElement("div",{className:"comment-list"},e.createElement(i.MediaQuery,{minWidth:0,maxWidth:i.Breakpoints.tabletMax},e.createElement(i.OffCanvasContainer,{closeButtonCallback:function(){return t.props.toggleSortPane()},shouldShowOffCanvas:this.props.showSortPane,shouldUseCloseButton:!0,shouldUseRightSide:!0},e.createElement("div",{className:"comment-list__sort-pane"},this.props.showKernelFilter?e.createElement(i.SelectBox,{className:"comment-list__kernel-filter",onChange:this.props.kernelFilterChanged,options:n.kernelCommentFilters,searchable:!1,value:this.props.kernelFilter}):null,e.createElement("span",{className:"comment-list__sortby-label"},"Sort by"),e.createElement(i.SelectBox,{onChange:this.props.sortChanged,options:n.commentSorts,searchable:!1,value:this.props.sort})))),e.createElement("div",{className:"comment-list__header"},e.createElement("span",{className:"comment-list__title"},"Comments ",e.createElement("span",{className:"comment-list__title-count"},"(",s,")")),e.createElement("span",{className:"comment-list__spacer"}),e.createElement(i.MediaQuery,{minWidth:i.Breakpoints.desktopMin},e.createElement("div",{className:"comment-list__sort-pane-button"},this.props.showKernelFilter?e.createElement(i.SelectBox,{onChange:this.props.kernelFilterChanged,options:n.kernelCommentFilters,searchable:!1,value:this.props.kernelFilter}):null,e.createElement("span",{className:"comment-list__sortby-label"},"Sort by"),e.createElement(i.SelectBox,{onChange:this.props.sortChanged,options:n.commentSorts,searchable:!1,value:this.props.sort}))),e.createElement(i.MediaQuery,{minWidth:0,maxWidth:i.Breakpoints.tabletMax},e.createElement("span",{className:"comment-list__sort-pane-button",onClick:function(){return t.props.toggleSortPane()}},"Filter/sort",e.createElement("i",{className:"fa fa-angle-right"})))),this.props.allowReplies?i.Current.isAnonymous?[e.createElement("div",{className:"comment-list__login-warning"},"Please ",e.createElement("a",{className:"comment-list__link",href:"/account/login?ReturnUrl=${this.props.returnUrl}"},"sign in")," to leave a comment."),e.createElement("div",{className:"comment-list__comment-linking-spacer"})]:[e.createElement("div",{id:"topic-reply"},e.createElement(o.NewCommentContainer,{allowAttachments:this.props.allowAttachments,currentUserTier:this.props.currentUserTier,editAttachments:this.props.replyAttachments,editAttachmentAdded:this.props.replyAttachmentAdded,editAttachmentDeleted:this.props.replyAttachmentDeleted,editDraft:this.props.replyDraft,editDraftChanged:this.props.replyDraftChanged,editSubmitted:this.props.replySubmitted,isSubmitting:this.props.isSubmittingReply,showEditPreview:this.props.showReplyPreview,showMiniEditor:this.props.showMiniEditor,toggleEditPreview:this.props.toggleReplyPreview,openMiniEditor:this.props.openMiniEditor,markdownKey:this.props.markdownKey})),e.createElement("div",{className:"comment-list__comment-linking-spacer"})]:null,this.props.comments?this.props.comments.map(function(n){return[e.createElement(r.CommentContainer,a.__assign({},n,{allowAttachments:t.props.allowAttachments,allowReplies:t.props.allowReplies&&!i.Current.isAnonymous,canDownvote:t.props.canDownvote,currentUserTier:t.props.currentUserTier,key:n.id,replySubmitted:t.props.commentReplySubmitted})),e.createElement("div",{className:"comment-list__comment-linking-spacer"})]}):null)},n.commentSorts=[{label:"Hotness",value:"hot"},{label:"Most Votes",value:"top"},{label:"Newest",value:"new"},{label:"Oldest",value:"old"},{label:"Chronological",value:"chronological"}],n.kernelCommentFilters=[{label:"All Comments",value:"all"},{label:"Latest Version Comments",value:"version"}],n}(e.Component);t.CommentList=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function a(t,n){return s.__awaiter(this,void 0,void 0,function(){var a,i;return s.__generator(this,function(r){switch(r.label){case 0:return[4,e(o(n,t.sourceType,t.sourceId),{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({sourceId:t.Id}),credentials:"include"})];case 1:return a=r.sent(),403!==a.status?[3,3]:[4,a.json()];case 2:return i=r.sent(),l.PageMessages.error(i[0].error,{clear:!0}),[3,4];case 3:return[2,a.json()];case 4:return[2]}})})}function i(t,n){return s.__awaiter(this,void 0,void 0,function(){var a;return s.__generator(this,function(i){switch(i.label){case 0:return[4,e(o(n,t.sourceType||"dataset",t.sourceId),{method:"DELETE",headers:new Headers({"Content-Type":"application/json"}),credentials:"include"})];case 1:return a=i.sent(),[2,a.json()]}})})}function r(t){return s.__awaiter(this,void 0,void 0,function(){var n,a;return s.__generator(this,function(i){switch(i.label){case 0:return n=function(e){return t.filter(function(t){return t.sourceType.toLowerCase()===e}).map(function(e){return e.sourceId}).join(", ")},[4,e("/kernels/source-previews.json?datasetVersionIds="+n("dataset")+"&scriptVersionIds="+n("script")+"&competitionIds="+n("competition"),{method:"GET",headers:new Headers({"Content-Type":"application/json"}),credentials:"include"})];case 1:return a=i.sent(),[2,a.json()]}})})}function o(e,t,n){return"/kernels/"+e+"/sources/"+t+"/"+n}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(4);t.addDataSource=a,t.removeDataSource=i,t.getDataSources=r}).call(t,n(36))},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(6),r=n(400),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=(t.fileListItems,t.fileListKeyBaseName,t.placeholderText,a.__rest(t,["fileListItems","fileListKeyBaseName","placeholderText"]));return e.createElement("div",{className:i("file-list",this.props.compact?"file-list--compact":null)},0==this.props.fileListItems.length&&this.props.placeholderText?e.createElement("div",{className:"file-list__placeholder-text"},this.props.placeholderText):this.props.fileListItems.map(function(t,i){return e.createElement(r.FileListItem,a.__assign({},t,n,{index:i,key:t.name}))}))},n}(e.Component);t.FileList=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(50),r=n(6),o=n(92),s=function(t){function n(e){var n=t.call(this,e)||this;return n.state={previewIsShown:!1},n}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement("div",null,e.createElement("div",{className:r("file-list-item",this.props.compact?"file-list-item--compact":this.props.isEditing?"file-list-item--editing":"file-list-item--read-only")},e.createElement("div",{className:r("file-list-item__name-container",this.props.isEditing?"file-list-item__name--editing":"",this.props.compact?"file-list-item__name-container--compact":null)},e.createElement("div",{className:"file-list-item__name"},null==this.props.url?e.createElement("span",null,this.props.compact?e.createElement("span",{className:"fa fa-paperclip"}):null," ",this.props.name," (",i(this.props.totalBytes),") "):e.createElement("a",{className:"file-list-item__link",href:this.props.url,onClick:this.props.downloadCallback||null},this.props.compact?e.createElement("span",{className:"fa fa-paperclip"}):null,"",this.props.name," (",i(this.props.totalBytes),")")),e.createElement("div",null,this.props.canDelete?e.createElement("span",{className:r("file-list-item__delete-link",this.props.compact?"file-list-item__delete-link--compact":null),title:"Delete file from list",onClick:function(){return t.props.deleteCallback(t.props.name)}},"delete"):"",this.props.previewUrl?e.createElement("span",{className:"file-list-item__preview-link",onClick:function(){return t.setState({previewIsShown:!t.state.previewIsShown})}},this.state.previewIsShown?e.createElement("span",null,e.createElement("span",{className:"fa fa-minus-square-o"})," hide preview"):e.createElement("span",null,e.createElement("span",{className:"fa fa-plus-square-o"})," preview")):"")),this.props.fileDescriptionRenderer&&e.createElement("div",{className:"file-list-item__description"},this.props.fileDescriptionRenderer(this.props.description,this.props.index,this.props.isEditing,this.props.textareaPlaceholder,this.props.fileListIndex))),this.state.previewIsShown&&this.props.previewUrl?e.createElement("div",{className:"file-list-item__preview-container"},e.createElement(o.FilePreviewContainer,{showSubmitToCompButton:!1,csvHeaderValidationErrors:"",filePreviewUrl:this.props.previewUrl,fileName:this.props.name,fileType:".csv",fileUrl:this.props.url,size:this.props.totalBytes,submitToCompUrl:"",hideFileName:!0,maxLinesToShow:10,downloadCallback:this.props.downloadCallback})):null)},n}(e.Component);t.FileListItem=s}).call(t,n(0))},,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(404),r=n(405),o=n(406),s=function(e){e.isNew,e.topicSubmitted,e.allowAttachments,e.authorRanking,e.authorTier,e.authorType,e.forumId,e.parentName,e.parentUrl,e.topicId;return a.__rest(e,["isNew","topicSubmitted","allowAttachments","authorRanking","authorTier","authorType","forumId","parentName","parentUrl","topicId"])},l=function(e){e.isNew,e.isSitewide,e.onTopicClicked,e.canDownvote,e.id,e.initialTopics,e.isRootLevel,e.isSubscribed,e.paramValues,e.topicId,e.dataUrl;return a.__rest(e,["isNew","isSitewide","onTopicClicked","canDownvote","id","initialTopics","isRootLevel","isSubscribed","paramValues","topicId","dataUrl"])},c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.topicId,c=t.isNew;return n?e.createElement(r.TopicContainer,{topicId:this.props.topicId}):c?e.createElement(i.NewTopicContainer,a.__assign({},l(this.props))):e.createElement(o.TopicList,a.__assign({},s(this.props)))},n}(e.Component);t.Forum=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a,i){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(4),s=n(229),l=function(t){function n(e){var n=t.call(this,e)||this;return n.markdownConverter=a.getSanitizingConverter(),o.Current.isAnonymous&&(window.location.href="/account/login"),n.state={editDraft:"",editTitleDraft:"",isSubmittingEdit:!1,newAttachments:[],showEditPreview:!1},n}return r.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement(s.Topic,{allowAttachments:this.props.allowAttachments,attachmentAdded:function(e,n,a){return t.addAttachment(e,n,a)},attachmentDeleted:function(e){return t.deleteAttachment(e)},comment:{allowReplies:!1,attachments:[],authorType:this.props.authorType,author:{displayName:o.Current.userDisplayName,thumbnailUrl:o.Current.userThumbnailUrl,userUrl:o.Current.userProfileUrl,tier:this.props.authorTier},competitionRanking:this.props.authorRanking,markdownKey:this.props.markdownKey},editDraft:this.state.editDraft,editDraftChanged:function(e){return t.changeEditDraft(e)},editSubmitted:function(){return t.submitTopic()},editTitleDraft:this.state.editTitleDraft,editTitleDraftChanged:function(e){return t.changeEditTitleDraft(e)},isSubmittingEdit:this.state.isSubmittingEdit,isNew:!0,newAttachments:this.state.newAttachments,parentName:this.props.parentName,parentUrl:this.props.parentUrl,showEditForm:!0,showEditPreview:this.state.showEditPreview,toggleEditPreview:function(){return t.setState({showEditPreview:!t.state.showEditPreview})},markdownKey:this.props.markdownKey})},n.prototype.addAttachment=function(e,t,n){var a=this.state.newAttachments;a.push({name:e,totalBytes:n,blobToken:t}),this.setState({newAttachments:a})},n.prototype.changeEditDraft=function(e){this.setState({editDraft:e})},n.prototype.changeEditTitleDraft=function(e){this.setState({editTitleDraft:e})},n.prototype.deleteAttachment=function(e){var t=this.state.newAttachments.filter(function(t){return t.name==e})[0],n=this.state.newAttachments.indexOf(t);this.state.newAttachments.splice(n,1),this.setState({newAttachments:this.state.newAttachments})},n.prototype.submitTopic=function(){var e=this;if(this.state.editTitleDraft.length<3||this.state.editTitleDraft.length>255)return void o.PageMessages.error("Title must be between 3 and 255 characters (inclusive)");o.PageMessages.clear(),this.setState({isSubmittingEdit:!0},function(){return i.ajax({contentType:"application/json",data:JSON.stringify({blobFileTokens:e.state.newAttachments.map(function(e){return e.blobToken}),subject:e.state.editTitleDraft,content:e.markdownConverter.makeHtml(e.state.editDraft),rawMarkdown:e.state.editDraft}),type:"POST",url:"/forums/"+e.props.forumId+"/topics"}).done(function(t){e.setState({isSubmittingEdit:!1}),e.props.topicSubmitted(t)})})},n}(e.Component);t.NewTopicContainer=l}).call(t,n(0),n(47),n(3))},function(e,t,n){"use strict";(function(e,a,i){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(289),s=n(4),l=n(229),c=function(t){function n(e){var n=t.call(this,e)||this;return n.markdownConverter=a.getSanitizingConverter(),s.PageMessages.clear(),n.state={attachmentAdded:function(e,t,a){return n.addAttachment(e,t,a)},attachmentDeleted:function(e){return n.deleteAttachment(e)},dataLoaded:!1,editDraftChanged:function(e){return n.changeEditDraft(e)},editSubmitted:function(){return n.submitEdit()},editTitleDraftChanged:function(e){return n.changeEditTitleDraft(e)},flagFormClosed:function(){return n.setState({showFlagForm:!1})},flagged:function(){return i.post("/forums/messages/flag?forumMessageId="+n.state.comment.id).done(function(){return n.setState(i.extend(!0,{},n.state,{comment:{hasFlags:!0,isFlagged:!0},showFlagForm:!1}))})},isNew:!1,isSubmittingReply:!1,newAttachments:[],quoted:function(){return n.quoted()},replyAttachmentAdded:function(e,t,a){return n.addReplyAttachment(e,t,a)},replyAttachmentDeleted:function(e){return n.deleteReplyAttachment(e)},replyAttachments:[],replyDraft:"",replyDraftChanged:function(e){return n.changeReplyDraft(e)},replySubmitted:function(e){return n.submitReply(e)},showEditForm:!1,showEditPreview:!1,showFlagForm:!1,showOptions:!1,showUpvoters:!1,toggleEditPreview:function(){return n.setState({showEditPreview:!n.state.showEditPreview})},markdownKey:0},n}return r.__extends(n,t),n.prototype.componentWillMount=function(){this.loadData(this.props.topicId)},n.prototype.componentWillReceiveProps=function(e){e.topicId&&e.topicId!=this.props.topicId&&this.loadData(e.topicId)},n.prototype.render=function(){return this.state.dataLoaded?e.createElement(l.Topic,i.extend(!0,{},this.props,this.state,{comment:{leftOptions:this.leftOptions(),rightOptions:this.rightOptions(),titleOptions:this.titleOptions()}})):e.createElement(s.LoadingText,{isLoading:!this.state.dataLoaded,text:"Loading Topic"})},n.prototype.addAttachment=function(e,t,n){var a=this.state.newAttachments;a.push({name:e,totalBytes:n,blobToken:t}),this.setState({newAttachments:a})},n.prototype.addReplyAttachment=function(e,t,n){var a=this.state.replyAttachments;a.push({name:e,totalBytes:n,blobToken:t}),this.setState({replyAttachments:a})},n.prototype.changeEditDraft=function(e){this.setState({editDraft:e})},n.prototype.changeEditTitleDraft=function(e){this.setState({editTitleDraft:e})},n.prototype.changeReplyDraft=function(e){this.setState({replyDraft:e})},n.prototype.deleteAttachment=function(e){var t=this,n=this.state.newAttachments.filter(function(t){return t.name==e})[0],a=this.state.newAttachments.indexOf(n);if(-1!==a)return this.state.newAttachments.splice(a,1),void this.setState({newAttachments:this.state.newAttachments});n=this.state.comment.attachments.filter(function(t){return t.name==e})[0],a=this.state.comment.attachments.indexOf(n),this.state.comment.attachments.splice(a,1),i.ajax("/forums/attachments/delete/"+n.id,{contentType:"application/json",type:"POST"}).done(function(){return t.setState({comment:i.extend(!0,{},t.state.comment,{attachments:t.state.comment.attachments})})})},n.prototype.deleteReplyAttachment=function(e){var t=this.state.replyAttachments.filter(function(t){return t.name==e})[0],n=this.state.replyAttachments.indexOf(t);this.state.replyAttachments.splice(n,1),this.setState({replyAttachments:this.state.replyAttachments})},n.prototype.leftOptions=function(){var t=this,n=[{onClick:function(){return t.quoted()},text:"Quote"},{text:"Permalink"}];s.Current.isAnonymous||(n.push({onClick:function(){return i.post("/forums/topics/watches/"+(t.state.isSubscribed?"stop":"start")+"?forumTopicId="+t.props.topicId).done(function(){return t.setState({isSubscribed:!t.state.isSubscribed})})},text:this.state.isSubscribed?"Unsubscribe":"Subscribe"}),this.state.comment.isFlagged?n.push({className:"topic__option--disabled",text:"Flagged"}):n.push({onClick:function(){return t.setState({showFlagForm:!0})},text:"Flag"}));var a=this.state.comment.upvoters.length;return a>0&&n.push({className:this.state.showUpvoters?"topic__option--selected":null,onClick:function(){return t.setState({showUpvoters:!t.state.showUpvoters})},text:e.createElement(s.Pluralize,{count:a,word:"Upvoter"})}),n},n.prototype.loadData=function(e){var t=this;i.ajax("/topics/"+e+".json").done(function(e){t.setState(i.extend(!0,{},t.state,e,{dataLoaded:!0,editDraft:e.comment.rawMarkdown||o(e.comment.content)}))})},n.prototype.quoted=function(){for(var e=this.state.replyDraft||"",t="\n> **"+this.state.comment.author.displayName+" wrote**\n> \n> ",n=this.state.comment.rawMarkdown||o(this.state.comment.content),a=n.split("\n"),r=/\s*\[.*?\]:/,s=0;s<a.length;s++){var l=a[s];r.test(l)||(a[s]="> "+l)}this.setState({replyDraft:e+t+a.join("\n")});i("html, body").animate({scrollTop:i("#topic-reply").position().top-100},200)},n.prototype.rightOptions=function(){var e=this,t=[];return s.Current.isAdmin&&(this.state.comment.hasFlags&&t.push({onClick:function(){return i.ajax("/forums/messages/unflag?forumMessageId="+e.state.comment.id,{contentType:"application/json",data:JSON.stringify({forumMessageId:e.state.comment.id}),type:"POST"}).done(function(){return e.setState(i.extend(!0,{},e.state,{comment:{hasFlags:!1,isFlagged:!1}}))})},text:"Unflag"}),t.push({onClick:function(){return i.post("/forums/topics/"+e.props.topicId+"/spam").done(function(){return e.setState({isDeleted:!!e.state.isSpammed&&e.state.isDeleted,isSpammed:!e.state.isSpammed})})},text:this.state.isSpammed?"Unspam":"Spam"},{onClick:function(){return i.post("/forums/topics/"+e.props.topicId+"/delete").done(function(){return e.setState({isDeleted:!e.state.isDeleted,isSpammed:!!e.state.isDeleted&&e.state.isSpammed})})},text:this.state.isDeleted?"Restore":"Delete"},{onClick:function(){return i.ajax("/forums/topics/sticky/toggle?forumTopicId="+e.props.topicId,{contentType:"application/json",type:"POST"}).done(function(){return e.setState({isPinned:!e.state.isPinned})})},text:this.state.isPinned?"Unpin":"Pin"},{onClick:function(){return i.post("/forums/topics/"+e.props.topicId+"/readonly/toggle").done(function(){return e.setState({isLocked:!e.state.isLocked})})},text:this.state.isLocked?"Unlock":"Lock"},{onClick:function(){return i.post("/forums/topics/"+e.props.topicId+"/file-uploads/toggle").done(function(){return e.setState({allowAttachments:!e.state.allowAttachments})})},text:this.state.allowAttachments?"Disable Attachments":"Enable Attachments"})),t},n.prototype.submitEdit=function(){var e=this;if(this.state.editTitleDraft.length<3||this.state.editTitleDraft.length>255)return void s.PageMessages.error("Title must be between 3 and 255 characters (inclusive)");s.PageMessages.clear(),i.ajax({data:{blobFileTokens:this.state.newAttachments.map(function(e){return e.blobToken}),message:this.markdownConverter.makeHtml(this.state.editDraft),rawMarkdown:this.state.editDraft,title:this.state.editTitleDraft},headers:s.withAntiForgeryHeader(),type:"PUT",url:"/messages/"+this.state.comment.id}).done(function(){e.setState(i.extend(!0,{},e.state,{comment:{content:e.markdownConverter.makeHtml(e.state.editDraft),rawMarkdown:e.state.editDraft},showEditForm:!1,showEditPreview:!1,title:e.state.editTitleDraft,markdownKey:e.state.markdownKey+1}))}).fail(function(){s.PageMessages.clear(),s.PageMessages.error({htmlMessage:'We had trouble saving your edit. Please try again or <a href="mailto: support@kaggle.com">contact support</a> if you continue experiencing issues.',type:"error"})})},n.prototype.submitReply=function(e){var t=this;s.PageMessages.clear(),this.setState({isSubmittingReply:!0},function(){return i.ajax({contentType:"application/json",data:JSON.stringify({blobFileTokens:t.state.replyAttachments.map(function(e){return e.blobToken}),message:t.markdownConverter.makeHtml(t.state.replyDraft),rawMarkdown:t.state.replyDraft}),type:"POST",url:"/topics/"+t.state.id+"/replies"}).done(function(n){t.setState({isSubmittingReply:!1,replyAttachments:[],replyDraft:"",markdownKey:t.state.markdownKey+1},function(){s.PageMessages.clear(),window.Intercom("trackEvent","forum_post"),e(n)})}).fail(function(){t.setState({isSubmittingReply:!1}),s.PageMessages.clear(),s.PageMessages.error({htmlMessage:'We had trouble submitting your reply. Please try again or <a href="mailto: support@kaggle.com">contact support</a> if you continue experiencing issues.',type:"error"})})})},n.prototype.titleOptions=function(){var e=this,t=[];return(s.Current.isAdmin||this.state.comment.isUserAuthor)&&t.push({className:this.state.showEditForm?"topic__author-option--selected":null,onClick:function(){return e.setState({editTitleDraft:e.state.title,showEditForm:!e.state.showEditForm,showEditPreview:!1})},text:"Edit"}),t.push({className:this.state.showOptions?"topic__author-option--selected":null,onClick:function(){return e.setState({showOptions:!e.state.showOptions})},text:"Options"}),t},n}(e.Component);t.TopicContainer=c}).call(t,n(0),n(47),n(3))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(4),o=n(6),s=function(t){function n(e){var n=t.call(this,e)||this;return r.PageMessages.clear(),n.state={isSubscribed:e.isSubscribed,totalRows:0},n}return i.__extends(n,t),n.prototype.render=function(){return e.createElement(r.SmartListContainer,{dataPathToList:"topics",dataUrl:this.props.dataUrl,filtersOptions:this.getFiltersOptions(),groups:n.groups,itemRenderer:this.renderItem.bind(this),mobileSortUpperBound:r.Breakpoints.tabletMax,pluralItemDescription:"topics",sortOptions:n.sortOptions,titleResolver:this.renderTitle.bind(this),data:this.props.initialTopics,values:this.props.paramValues,searchIndex:"topics",searchableGroups:["all","owned"]})},n.prototype.getFiltersOptions=function(){var e=[{default:this.props.isSitewide?"topics":"all",parameter:"kind",options:[{label:"Topics & Kernels",value:"all"},{label:"Topics",value:"topics"}]}];return this.props.isRootLevel&&e.unshift({default:"all",parameter:"category",options:[{label:"All Categories",value:"all"},{label:"Forums",value:"forums"},{label:"Competitions",value:"competitions"},{label:"Datasets",value:"datasets"}]}),e},n.prototype.renderItem=function(t,n,a){var s=this;return e.createElement(r.BlockLink,{borderless:!0,className:o("topic-list-item",t.isSticky?"topic-list-item--sticky":null),href:t.topicUrl,key:t.topicUrl,onClick:function(e){a&&a("discussion-"+t.id,t.topicUrl,n+1),t.isKernel||e.shiftKey||e.ctrlKey||e.metaKey||(e.preventDefault(),s.props.onTopicClicked(t))}},e.createElement(r.VoteButton,{canDownvote:t.userAvatar.id!=r.Current.userId&&this.props.canDownvote,canUpvote:t.userAvatar.id!=r.Current.userId,hasAlreadyVotedDown:-1===t.currentUserVote,hasAlreadyVotedUp:1===t.currentUserVote,totalVotes:t.votes,voteDownUrl:t.downvoteUrl,voteUpUrl:t.upvoteUrl,upVoteIntercomEventName:"forum_vote",downVoteIntercomEventName:"forum_vote",analyticsEventLabel:"topic-list"}),e.createElement(r.MediaQuery,{minWidth:r.Breakpoints.desktopMin},e.createElement("div",{className:"topic-list-item__avatar"},e.createElement(r.Avatar,i.__assign({},t.userAvatar,{hideTooltop:!0})))),e.createElement(r.MediaQuery,{minWidth:r.Breakpoints.desktopMin},t.isKernel?e.createElement("a",{className:"fa fa-bar-chart topic-list-item__kernel-link",href:t.kernelUrl,title:t.title}):t.medal?e.createElement("img",{className:"topic-list-item__medal",src:"/static/images/medals/discussion/"+t.medal+"L@1x.png",title:t.medal}):e.createElement("span",{className:"topic-list-item__medal"})),e.createElement("div",{className:"topic-list-item__title",onClick:function(e){t.isKernel||e.shiftKey||e.ctrlKey||e.metaKey||(e.preventDefault(),s.props.onTopicClicked(t))}},e.createElement("span",{className:"topic-list-item__title-text"},t.title),e.createElement("div",{className:"topic-list-item__subtitle"},e.createElement("a",{className:"topic-list-item__link"+("parent"==t.authorType?" topic-list-item__link--parent-author":""),href:t.userAvatar.userUrl,title:t.userAvatar.displayName},t.userAvatar.displayName),"",t.isKernel?"last run ":"",t.postDate?e.createElement(r.TimeAgo,{condense:t.parentName&&t.parentUrl&&"/"!==t.parentUrl,time:t.postDate}):null,e.createElement(r.MediaQuery,{minWidth:r.Breakpoints.desktopMin},t.parentName&&t.parentUrl&&"/"!==t.parentUrl?e.createElement("span",null," in ",e.createElement("a",{className:"topic-list-item__link topic-list-item__link--forum-link",href:t.parentUrl,title:t.parentName},t.parentName)):null))),e.createElement("div",{className:"topic-list-item__last-comment"},e.createElement("div",{className:"topic-list-item__last-comment-text"},"last comment",e.createElement(r.MediaQuery,{minWidth:r.Breakpoints.desktopMin},e.createElement("span",null," by"))),e.createElement(r.MediaQuery,{minWidth:r.Breakpoints.desktopMin},e.createElement("a",{className:"topic-list-item__link topic-list-item__last-commenter",href:t.lastCommenterUrl,title:t.lastCommenterName,onClick:function(e){a&&a("discussion-"+t.id,t.lastCommenterUrl,n+1)}},t.lastCommenterName,"")),e.createElement("div",{className:"topic-list-item__last-comment-time"},t.lastCommentPostDate?e.createElement(r.TimeAgo,{condense:!0,time:t.lastCommentPostDate}):null)),e.createElement("a",{className:"topic-list-item__comment-count",href:t.topicUrl,onClick:function(e){a&&a("discussion-"+t.id,t.topicUrl,n+1)}},e.createElement("span",{className:"fa fa-comment topic-list-item__comment-count-icon"}),t.commentCount))},n.prototype.renderTitle=function(t,n){var i=this;return e.createElement("span",null,(n&&n.data&&void 0!==n.data.totalRows?r.numberWithCommas(n.data.totalRows):"Loading")+("all"===n.values.kind?" topics and kernels":" topics"),this.props.id?this.state.isSubscribed?e.createElement("a",{className:"topic-list__subscribe-link",onClick:function(){return a.ajax("/forums/watches/stop?forumId="+i.props.id).done(function(){return i.setState({isSubscribed:!1})})},title:"(Unsubscribe)"},"(Unsubscribe)"):e.createElement("a",{className:"topic-list__subscribe-link",onClick:function(){return a.ajax("/forums/watches/start?forumId="+i.props.id).done(function(){return i.setState({isSubscribed:!0})})},title:"(Subscribe)"},"Subscribe"):null)},n.groups=[{label:"All",value:"all"},{label:"Mine",value:"owned"},{separator:!0},{label:"Upvoted",value:"upvoted"}],n.sortOptions=[{label:"Hotness",value:"hot"},{label:"Recent Comments",value:"recent"},{label:"Recently Posted",value:"new"},{label:"Most Votes",value:"top"},{label:"Most Comments",value:"active"},{label:"Relevance",value:"relevance"}],n}(e.Component);t.TopicList=s}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){function a(t,n,a){return void 0===a&&(a=function(t){return e.Children.only(t.children)}),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.getChildContext=function(){return n()},t.prototype.render=function(){return a(this.props)},t}(e.Component),i.childContextTypes=t,i;var i}function i(t){return function(n){return function(a){return e.createElement(t,null,e.createElement(n,o.__assign({},a)))}}}function r(e){return function(t){t.contextTypes=t.contextTypes||{};for(var n=0,a=Object.keys(e);n<a.length;n++){var i=a[n];t.contextTypes[i]=e[i]}return t}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);t.createProvider=a,t.createProviderDecorator=i,t.createContextDecorator=r}).call(t,n(0))},,function(e,t,n){"use strict";function a(e){return/\S+@\S+\.\S+/.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isValidEmail=a},function(e,t,n){"use strict";function a(e){return/^(https?):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isValidUrl=a},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(412),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.render=function(){return e.createElement(r.default,a.extend({},this.props,this.state))},n}(e.Component);t.JobListContainer=o}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(4),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderJob=function(t){return e.createElement(i.BlockLink,{className:"job-list-item",href:t.url,key:t.id},e.createElement("img",{className:"job-list-item__image",src:t.thumbnailUrl}),e.createElement("div",{className:"job-list-item__body"},e.createElement("span",{className:"job-list-item__title"},t.positionName),e.createElement("span",{className:"job-list-item__subtitle"},t.companyName,t.locations.length?e.createElement("span",{className:"job-list-item__locations"},e.createElement("span",{className:"fa fa-map-marker"}),t.locations.join("; ")):"")),e.createElement("span",{className:"job-list-item__salary"},t.minimumSalary&&t.maximumSalary?"$"+i.numberWithCommas(t.minimumSalary)+"-"+i.numberWithCommas(t.maximumSalary):t.minimumSalary?"$"+i.numberWithCommas(t.minimumSalary)+"+":t.maximumSalary?"$"+i.numberWithCommas(t.maximumSalary):""),e.createElement("div",{className:"job-list-item__metadata"},e.createElement(i.TimeAgo,{className:"job-list-item__post-date",time:t.publishDate}),e.createElement("span",{className:"job-list-item__views"},e.createElement("span",{className:"fa fa-eye"}),t.totalViews)))},n.prototype.render=function(){return e.createElement("div",{className:"jobs"},'"Loading"')},n}(e.Component);t.default=r}).call(t,n(0))},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.getSuffix=function(){var e=this.props.children%10,t=Math.floor(this.props.children%100/10),n="th";return 1===e?n="st":2===e?n="nd":3==e&&(n="rd"),1===t&&(n="th"),n},n.prototype.render=function(){return e.createElement("span",null,this.props.children.toString()+this.getSuffix())},n}(e.Component);t.Ordinal=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(35),r=function(t){function n(e){return t.call(this,e)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(i.BlockLink,{className:"organization-card",href:this.props.url},e.createElement("img",{src:this.props.imageUrl,alt:this.props.name,className:"organization-card__image"}),e.createElement("span",{className:"organization-card__name"},this.props.name))},n}(e.Component);t.OrganizationCard=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a,i){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(6),s=function(t){function n(e){var n=t.call(this,e)||this;return n.scrollListener=function(){n.setState({isStuck:a(window).scrollTop()>=n.offsetTop})},n.state={isStuck:!1},n}return r.__extends(n,t),n.prototype.componentDidMount=function(){var e=this;window.setTimeout(function(){var t=function(){return i.findDOMNode(e).getBoundingClientRect().top+window.scrollY};e.offsetTop=t(),a().ready(function(){return e.offsetTop=t()}),window.addEventListener("scroll",e.scrollListener),e.scrollListener()})},n.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.scrollListener)},n.prototype.render=function(){var t={visibility:"hidden"};return e.createElement("div",null,e.createElement("div",{className:o(this.props.className,this.state.isStuck?this.props.stickyClassName:this.props.scrollingClassName)},this.props.children),this.state.isStuck?e.createElement("div",{className:o(this.props.className,this.props.scrollingClassName),style:t},this.props.children):"")},n}(e.Component);t.StickyScroll=s}).call(t,n(0),n(3),n(72))},function(e,t,n){"use strict";function a(e){if(e.length){for(var t={},n=void 0,a=e.replace(/\?/g,"").split("&"),i=0,r=a;i<r.length;i++){n=r[i].split("="),t[n[0]]=n[1]}return t}return{}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseQueryString=a},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(9),r=n(44),o=n(214),s=n(215),l=n(59),c=n(152),u=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderTitle=function(){return n.props.selectionGroupInTitle?n.renderSelectionGroups():n.props.title||(n.props.titleResolver?n.props.titleResolver(n.props.list,n.props):null)},n.renderSelectionGroups=function(){return n.props.groups?e.createElement(s.SelectionGroup,{children:n.props.boundSelectionGroups(),selected:n.props.values.group,filters:n.renderFiltersAndSearch()}):null},n.renderFilter=function(t,a,i){return e.createElement(r.SelectBox,{key:a,options:t.options,onChange:function(e){return n.props.onFilterChanged(t.parameter,e)},searchable:!1,value:n.props.values[t.parameter]||t.default||"",placeholder:t.placeholder,className:(i?"KaggleBoxlessSelectSafe":null)+" smart-list__filter smart-list__filter--"+(i?"boxless":"boxed")})},n.renderSearch=function(t){var a=!n.props.searchableGroups||0==n.props.searchableGroups.filter(function(e){return n.props.values.group==e}).length;return n.props.searchIndex?e.createElement("label",{className:"smart-list__search-wrapper smart-list__search-wrapper--"+t},e.createElement("input",{type:"text",className:"smart-list__search smart-list__search--"+t,ref:"search",placeholder:"Search "+n.props.searchIndex,value:n.props.values.search,onChange:n.props.onSearchChange,disabled:a}),e.createElement("div",{className:"fa fa-search smart-list__search-button",disabled:a,onClick:function(){return n.props.updateOpenMobileSort(!1)}})):null},n.renderFiltersAndSearch=function(){var t=n.props.filtersOptions?n.props.filtersOptions.map(function(e,t){return n.renderFilter(e,t,!0)}):null;return e.createElement(l.MediaQuery,{minWidth:n.props.mobileSortUpperBound+1},e.createElement("div",{className:"smart-list__sub-title-right"},t,n.renderSearch("sub-title-bar")))},n.renderSortBy=function(){return n.props.sortOptions?e.createElement("div",null,e.createElement(l.MediaQuery,{minWidth:n.props.mobileSortUpperBound+1},e.createElement("div",{className:"smart-list__sort"},e.createElement("p",{className:"smart-list__sort-label"},"Sort by"),e.createElement(r.SelectBox,{options:n.getSortOptions(),onChange:n.props.onSortByChanged,searchable:!1,value:n.props.values.sortBy}))),e.createElement(l.MediaQuery,{minWidth:0,maxWidth:n.props.mobileSortUpperBound},e.createElement("a",{className:"script-list-react__sort-link--mobile",onClick:function(e){return n.props.updateOpenMobileSort(!0)}},"Filter/Sort ",e.createElement("span",{className:"fa fa-angle-right"})))):null},n.renderOptionalLoadingMessage=function(){return n.props.isLoadingMoreData||(!n.props.children||n.props.children.length>=n.props.pageSize)&&!n.props.listFooterRenderer&&n.props.hasMoreData?e.createElement("div",{className:"smart-list__message"},"Loading ",n.props.hasLoadedSomeData?"more ":"",n.props.pluralItemDescription,"..."):null},n.renderOptionalNoMoreDataMessage=function(){return n.props.isLoadingMoreData||!(n.props.children&&n.props.children.length<n.props.pageSize||n.props.listFooterRenderer)&&n.props.hasMoreData?null:n.props.listFooterRenderer?n.props.listFooterRenderer(n.props.list,n.props):e.createElement("div",{className:"smart-list__message"},e.createElement("span",null,"No ",n.props.children&&n.props.children.length?"more ":"",n.props.pluralItemDescription," to show"),e.createElement("br",null))},n.renderSubTitleBar=function(){return n.props.selectionGroupInTitle?null:n.renderSelectionGroups()},n.getSortOptions=function(){return n.props.sortOptions.filter(function(e){return null!=e&&"relevance"!=e.value==!n.props.values.search})},n.renderContent=function(){var t=n.props,a=t.listHeaderRenderer,i=t.children;return e.createElement("div",{className:"smart-list__content"},e.createElement(l.MediaQuery,{minWidth:0,maxWidth:n.props.mobileSortUpperBound},e.createElement(c.OffCanvasContainer,{closeButtonCallback:function(){return n.props.updateOpenMobileSort(!1)},shouldShowOffCanvas:n.props.openMobileSort,shouldUseCloseButton:!0,shouldUseRightSide:!0},e.createElement("div",{className:"smart-list__sort-menu--mobile"},e.createElement("p",{className:"smart-list__sort-label--mobile"},"Sort by"),n.props.sortOptions?e.createElement(r.SelectBox,{className:"smart-list__sort--mobile",options:n.getSortOptions(),onChange:n.props.onSortByChanged,searchable:!1,value:n.props.values.sortBy}):null),n.props.filtersOptions?n.props.filtersOptions.map(function(t,a){return e.createElement("div",{className:"smart-list__sort-menu--mobile",key:a},e.createElement("p",{className:"smart-list__sort-label--mobile"},t.placeholder),n.renderFilter(t,a,!1))}):null,e.createElement("div",null,n.renderSearch("off-canvas")))),e.createElement(o.WindowInfiniteScroll,{onScroll:n.props.onScroll,height:n.props.contentHeight},a&&a(n.props.list,n.props),Array.isArray(i)?e.Children.map(i,function(t,n){return e.cloneElement(t,{key:n})}):i,n.renderOptionalLoadingMessage(),n.renderOptionalNoMoreDataMessage()))},n}return a.__extends(n,t),n.prototype.render=function(){return this.props.isUnstyled?this.renderContent():e.createElement("div",{className:"smart-list smart-list--"+(this.props.selectionGroupInTitle?"groups-in-title":"standard")},this.props.isLoadingMoreData&&this.props.disableClearResultsOnUpdate?e.createElement("div",{className:"smart-list__loading-overlay"}):null,e.createElement(i.ContentBox,{title:this.renderTitle(),titleBarRightSide:this.props.titleBarRightSide||this.renderSortBy(),subTitleBar:this.renderSubTitleBar(),containerClassName:this.props.containerClassName,contentClassName:this.props.contentClassName,borderless:this.props.borderless},this.renderContent()))},n}(e.Component);t.SmartList=u}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){this.clear()}return e.prototype.clear=function(){this.stopTimer(),this.timerStart=null,this.timerEnd=null,this.displayCallback&&this.displayCallback("")},e.prototype.setStartTime=function(e){void 0===e&&(e=null),this.timerStart=e||new Date},e.prototype.getElapsedTimeString=function(){if(!this.timerStart)return"";var e=this.getElapsedMilliseconds(),t=e/1e3,n=Math.floor(t/3600),a=Math.floor(t/60)%60,i=Math.floor(t)%60,r=(i<10?"0":"")+i;return t<3600?a+":"+r:n+":"+(a<10?"0":"")+a+":"+r},e.prototype.getElapsedMilliseconds=function(){var e=this.timerEnd;return this.paused||(e=new Date),e.getTime()-this.timerStart.getTime()},e.prototype.startTimer=function(){this.startTimerFrom(new Date)},e.prototype.startTimerFrom=function(e){this.displayCallback||console.warn("scriptTimer: starting timer without callback"),this.setStartTime(e);var t=this;this.timerIntervalId=window.setInterval(function(){return t.updateTimer()},1e3),this.paused=!1,this.updateTimer()},e.prototype.setToZero=function(){this.stopTimer(),this.timerStart=this.timerEnd,this.updateTimer()},e.prototype.updateTimer=function(){this.displayCallback&&this.displayCallback(this.getElapsedTimeString())},e.prototype.stopTimer=function(){this.timerIntervalId>=0&&window.clearInterval(this.timerIntervalId),this.timerIntervalId=-1,this.paused=!0,this.timerEnd=new Date},e.prototype.setDisplayCallback=function(e){this.displayCallback=e},e.prototype.isRunning=function(){return!this.paused},e}();t.Timer=a},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(4),r=function(t){function n(e){var n=t.call(this,e)||this;return n.onClose=function(){n.setIsShown(!1)},n.onScriptClick=function(){i.Current.isSiteAdminOrTvc||ga("send","event","kernel","new-script"),n.navigateTo(n.generateKernelUrl("scripts"))},n.onNotebookClick=function(){i.Current.isSiteAdminOrTvc||ga("send","event","kernel","new-notebook"),n.navigateTo(n.generateKernelUrl("notebooks"))},n.generateKernelUrl=function(e){var t="/"+i.Current.userName+"/kernels/"+e+"/new";return n.props.competitionId?t+"?competitionId="+n.props.competitionId:n.props.datasetVersionId?t+"?datasetVersionId="+n.props.datasetVersionId:t},n.state={isShown:!1},n}return a.__extends(n,t),n.prototype.show=function(){this.setIsShown(!0)},n.prototype.navigateTo=function(e){window.location.href=i.Current.isAnonymous?"/account/login?returnUrl="+encodeURIComponent(document.location.pathname):e},n.prototype.setIsShown=function(e){this.setState({isShown:e})},n.prototype.render=function(){return e.createElement(i.Modal,{modalIsShown:this.state.isShown,onClose:this.onClose,modalClassName:"new-kernel-modal"},e.createElement(i.ContentBox,{title:"Select Kernel Type",containerClassName:"new-kernel-modal__content-box"},e.createElement("div",{className:"new-kernel-modal__or-icon"},"or"),e.createElement("div",{className:"new-kernel-modal__container"},e.createElement("div",{className:"new-kernel-modal__kernel-button new-kernel-modal__kernel-button--script",onClick:this.onScriptClick,id:"new-script-button"},e.createElement("div",{className:"new-kernel-modal__title"},"Script"),e.createElement("img",{src:"/static/images/script-icon.png"}),e.createElement("ul",{className:"new-kernel-modal__features"},e.createElement("li",null,"Python, R, RMarkdown"),e.createElement("li",null,"Runs all the code, every time"),e.createElement("li",null,"Ideal for fitting a model and competition submissions"),e.createElement("li",null,"Shares code for review and RMarkdown reports"))),e.createElement("div",{className:"new-kernel-modal__kernel-button new-kernel-modal__kernel-button--notebook",onClick:this.onNotebookClick,id:"new-notebook-button"},e.createElement("div",{className:"new-kernel-modal__title"},"Notebook"),e.createElement("img",{src:"/static/images/notebook-icon.png"}),e.createElement("ul",{className:"new-kernel-modal__features"},e.createElement("li",null,"Jupyter Notebooks in Python or R"),e.createElement("li",null,"Runs independent cells of code and markdown"),e.createElement("li",null,"Ideal for interactive data exploration and polished analysis"),e.createElement("li",null,"Shares insights through code + commentary"))))))},n}(e.Component);t.NewKernelModal=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(37),r=n(134),o=n(9),s=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.focus=function(e){e&&e.focus()},e.handleMouseOver=function(t){e.props.onIndexSelection(t)},e.handleSearchChange=function(t){e.props.onSearchQueryChanged(t.target.value)},e}return a.__extends(n,t),n.prototype.renderCategory=function(t,n){var a=this;return e.createElement(r.ToolTipMultiLine,{alignLeft:!0,key:n,tipContent:e.createElement("div",{className:"category__tooltip"},e.createElement("p",{className:"category__tooltip-title"},t.name,!t.isInherited&&this.props.showCounts&&e.createElement("span",{className:"category__tooltip-count"},"x ",t.totalCount)),t.fullPath&&e.createElement("p",null,t.fullPath),t.description&&e.createElement("p",null,t.description),t.isInherited&&e.createElement("p",{className:"category__tooltip-inherited"},"Automatic Tag"))},e.createElement("a",{href:t.listingUrl||"javascript:void(0)"},e.createElement("div",{className:"category"},e.createElement("span",{className:"category__name"},t.name),this.props.canEdit&&!t.isInherited&&e.createElement("span",{className:"category__remove fa fa-times",onClick:function(){return a.props.onDeleteCategory(t,n)}}))))},n.prototype.renderSearchBox=function(){var t=this;return e.createElement("div",{className:"category__search-box-container"},e.createElement("input",{ref:function(e){return t.focus(e)},className:"category__search-box",type:"text",placeholder:"Search Tags",onChange:this.handleSearchChange}),e.createElement("div",{className:"category__search-button",onClick:function(){return t.props.onSearchNewCategory()}},e.createElement("i",{className:"fa "+(this.props.isSearchingNewCategory?"fa-circle-o-notch fa-spin":"fa-search")})),this.props.searchResults&&this.props.searchResults.categories?e.createElement("div",{className:"category__search-results"},this.props.searchResults.categories.length>0?this.props.searchResults.categories.map(function(n,a){return e.createElement("div",{id:"category-search-result-"+a,className:"category__search-result "+(t.props.selectedResultIndex==a?"category__search-result--selected":""),key:n.id,onClick:function(){return t.props.onAddCategory(n)},onMouseOver:function(){return t.handleMouseOver(a)},title:n.fullPath},e.createElement("span",{className:"category__search-result-name"},n.name),t.props.showCounts?e.createElement("span",{className:"category__search-result-count"},"x ",n.totalCount):null)}):e.createElement("div",{className:"category__search-not-found"},"We couldn't find anything matching your search (existing tags excluded).")):null)},n.prototype.render=function(){var t=this;return e.createElement(o.ContentBox,{containerClassName:"category__box",contentClassName:"category__content"},e.createElement("div",{className:"category__title"},"Tags"),e.createElement("div",{className:"category__content"},this.props.categories.map(function(e,n){return t.renderCategory(e,n)})),this.props.canEdit?e.createElement("div",{className:"category__add"},this.props.isAddingNewCategory?this.renderSearchBox():e.createElement(i.Button,{text:"Add Tag",classNames:"category__add-button",onClick:function(){return t.props.onAddingNewCategoryChanged(!0)}})):null)},n}(e.Component);t.CategoryList=s}).call(t,n(0))},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(4),r=function(t){function n(e){var n=t.call(this,e)||this;return n.onAddButtonClick=function(){n.setState({isModalShown:!0})},n.onModalClosed=function(){n.setState({isModalShown:!1})},n.onDataSourceAdded=function(e){return n.props.onDataSourceAdded(e).then(function(){return n.setState({isModalShown:!1})})},n.state={isModalShown:n.props.showModalInitially||!1},n}return a.__extends(n,t),n.prototype.showModal=function(){this.onAddButtonClick()},n.prototype.render=function(){return e.createElement("div",{className:"add-data-source-banner"},e.createElement(i.AddDataSourceModal,{isShown:this.state.isModalShown,onClose:this.onModalClosed,onDataSourceAdded:this.onDataSourceAdded,referrer:"AddDataSourceBanner"}),e.createElement("div",{className:"add-data-source-banner__title"},"No Data Sources"),e.createElement("div",{className:"add-data-source-banner__body"},"Connect your Kernel to our library of datasets"),e.createElement(i.ButtonAutoWidth,{text:"Add a Data Source",onClick:this.onAddButtonClick}))},n}(e.Component);t.AddDataSourceBanner=r}).call(t,n(0))},,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(32),r=n(8),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.getNextTier=function(){var e=this,t=i.findIndex(this.props.tierRequirements,function(t){return t.tier===e.props.currentTier});return this.props.tierRequirements[t+1]},n.prototype.getRequirements=function(){var e=this;return this.getNextTier().requirements.filter(function(t){return!(t.isComplete||t.group&&t.group.toLowerCase()!==e.props.area)}).map(function(e){return e.label}).join(", ")},n.prototype.render=function(){return this.props.userId===r.Current.userId&&"grandmaster"!=this.props.currentTier?e.createElement("div",{className:"profile-next-tier profile-next-tier--"+this.getNextTier().tier},e.createElement("div",{className:"profile-next-tier__next-icon-box"},e.createElement("div",null,e.createElement("img",{src:"/static/images/tiers/"+this.getNextTier().tier+"@192.png",title:this.getNextTier().tier,height:"60",width:"60"}))),e.createElement("div",{className:"profile-next-tier__text"},e.createElement("div",{className:"profile-next-tier__title"},"Level up to ",e.createElement("span",{className:"profile-next-tier__capitalize"},this.props.area)," ",e.createElement("span",{className:"profile-next-tier__capitalize"},this.getNextTier().tier)),e.createElement("div",{className:"profile-next-tier__content"},this.getRequirements()))):null},n}(e.Component);t.NextTier=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(9),r=n(90),o=n(94),s=n(60),l=n(44),c=function(t){function n(n){var a=t.call(this,n)||this;return a.onContentChanged=function(e){a.editingContent=e,a.props.onChangeCallback&&a.props.onChangeCallback(e)},a.onToggleClicked=function(){var e=a.props.onEditClicked;a.state.isEditing&&a.props.onSaveClicked?a.props.onSaveClicked(a.editingContent,s.mimeTypeToString(a.state.mimeType)).then(function(){a.setState({isEditing:!1,content:a.editingContent})}):a.setState({isEditing:!0},function(){return e?e():{}})},a.onCancelClicked=function(){var e=a.props.onCancelClicked;a.setState({isEditing:!1,mimeType:a.props.mimeType},function(){return e?e():{}})},a.onMimeTypeChanged=function(e){a.setState({mimeType:s.stringToMimeType(e)})},a.renderRightSide=function(){var t=[{label:"HTML",value:s.mimeTypeToString(s.MarkdownConverterMimeTypes.Html)},{label:"Markdown",value:s.mimeTypeToString(s.MarkdownConverterMimeTypes.Markdown)}];return a.props.canEdit?e.createElement("div",{className:"markdown-content-box__right-title"},a.props.canEditMimeType&&a.state.isEditing?e.createElement(l.SelectBox,{options:t,onChange:a.onMimeTypeChanged,value:s.mimeTypeToString(a.state.mimeType),searchable:!1}):null,e.createElement(r.EditStateToggleButton,{sectionName:"Description",cancelPropName:"description",isEditing:a.state.isEditing,toggleCallback:a.onToggleClicked,cancelCallback:a.onCancelClicked})):null},a.renderMarkdownEditor=function(){return e.createElement("div",{className:"markdown-content-box__editor"},e.createElement(o.MarkdownEditor,{defaultValue:a.state.content,alwaysShowToolbar:!0,shouldSanitizeHtml:!0,minRows:3,onChangeCallback:a.onContentChanged}))},a.renderMarkdownConverter=function(){return e.createElement("div",{className:"markdown-content-box__converter"},e.createElement(s.MarkdownConverter,{content:a.state.content,mimeType:s.mimeTypeToString(a.state.mimeType),insertNofollow:!0,contentClassName:a.props.contentClassName}))},a.renderContentBody=function(){return a.state.isEditing?a.renderMarkdownEditor():a.renderMarkdownConverter()},a.editingContent=a.props.content,a.state={isEditing:a.props.isEditing,content:a.props.content,mimeType:a.props.mimeType},a}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(i.ContentBox,{title:this.props.contentBoxTitle,titleBarRightSide:this.renderRightSide()},this.renderContentBody())},n}(e.Component);t.MarkdownContentBox=c}).call(t,n(0))},,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=["Discovering your KGI (Kaggle Greatness Index)...","Taking your entry for a test drive...","Coming to terms with your brilliance...","Teaching your submission to our robots...","Planning for your ascendency...","Adding more hamsters to the evaluation servers...","You call ::this:: big data? ...","Wiring more money to our cloud provider...","First-in-first-out? This could take a while...","Data mining? They should call it data youring!","Something tells me this isn't your first csv file ;)","You take the artificial out of AI...","All models are wrong. Yours are just useful...","Checking that Bayes' theorem is still true...","Making a call to Watson to check this for you...","We are going to need more mechanical turks...","No free lunch? Not after you win this thing...","Deep learning is shallow next to the depths of your greatness...","Reserving the local university teraflop cluster...","Is this Bayesian? You know I'm a strict Bayesian, right?","What has 64 cores and 128GB RAM? Not me! Hold tight...","Entering these into the TI-89 as fast as we can...","No whammies no whammies no whammies...","I can feel it. This one is worth lots of points..."],r=n(1750),o=function(t){function n(e){var n=t.call(this,e)||this;return n.state={scoringMessage:i[Math.floor(Math.random()*i.length)]},n}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=(t.children,a.__rest(t,["children"]));return e.createElement(r.CompetitionScoringBanner,a.__assign({},n,this.state))},n}(e.Component);t.CompetitionScoringBannerContainer=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(457),r=n(459),o=function(t){function n(e){var n=t.call(this,e)||this;return n.keysToFilters=["title","description"],n.allComponents=[],n.allComponents=Object.values(r),n.state={menuIsStuck:!1,searchTerm:""},n}return a.__extends(n,t),n.prototype.onScroll=function(e){this.setState({menuIsStuck:e<=0})},n.prototype.onUpdateSearchTerm=function(e){this.setState({searchTerm:e})},n.prototype.render=function(){var t=this,n={components:this.state.searchTerm?this.allComponents.filter(function(e){return e.title.toLowerCase().includes(t.state.searchTerm)}):this.allComponents,onScroll:this.onScroll.bind(this),onUpdateSearchTerm:function(e){return t.onUpdateSearchTerm(e)}};return e.createElement(i.ReactComponents,a.__assign({},n,this.state))},n}(e.Component);t.ReactComponentsContainer=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(458),r=n(722),o=n(35),s=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.onScroll=function(){e.props.onScroll(e.reactComponents.getBoundingClientRect().top)},e}return a.__extends(n,t),n.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!1),window.setTimeout(this.onScroll)},n.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.onScroll,!1)},n.prototype.renderComponentNav=function(t){return e.createElement("nav",{className:"react-components__nav"},t.map(function(t,n){return e.createElement(o.BlockLink,{className:"react-components__nav-item",href:"#"+t.title.replace(/\s+/g,"-"),key:n},t.title)}))},n.prototype.render=function(){var t=this,n=this.props,o=n.components,s=n.menuIsStuck;return e.createElement("div",{className:"react-components",ref:function(e){t.reactComponents=e}},s?e.createElement("div",{className:"react-components__menu"}):null,e.createElement("div",{className:s?"react-components__menu--stuck":"react-components__menu"},e.createElement("h1",{className:"react-components__page-title"},"React Components"),e.createElement(r.default,{className:"react-components__search",onChange:this.props.onUpdateSearchTerm}),this.renderComponentNav(o)),e.createElement("div",{className:"react-components__style-guide-list"},o.map(function(t,n){return e.createElement("div",{className:"react-components__style-guide-item-wrapper",key:n},e.createElement(i.ReactDocItem,a.__assign({expanderInactiveText:"Expand Code Snippet",expanderActiveText:"Collapse Code Snippet",markupExpandedByDefault:!1,componentClass:"react-components__style-guide-item",descriptionClass:"react-components__style-guide-description",headingClass:"react-components__style-guide-title",exampleClass:"react-components__style-guide-example"},t)))})))},n}(e.Component);t.ReactComponents=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(721),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=(t.children,t.examples),r=a.__rest(t,["children","examples"]);return e.createElement(i.default,a.__assign({},r),n)},n}(e.Component);t.ReactDocItem=r}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(460);t.ActivityCalendar=a.default;var i=n(461);t.AddDataSourceModal=i.default;var r=n(463);t.AntiForgeryInput=r.default;var o=n(464);t.AutoForm=o.default;var s=n(465);t.Avatar=s.default;var l=n(466);t.Badge=l.default;var c=n(467);t.Banner=c.default;var u=n(468);t.BlockLink=u.default;var p=n(469);t.Button=p.default;var d=n(470);t.ButtonAutoWidth=d.default;var m=n(471);t.ButtonRoundEdged=m.default;var h=n(472);t.CategoryList=h.default;var g=n(473);t.Checklist=g.default;var f=n(474);t.Checkbox=f.default;var v=n(475);t.CityLookup=v.default;var _=n(476);t.CodeMirrorEditor=_.default;var b=n(477);t.CompetitionCard=b.default;var E=n(478);t.Confirm=E.default;var y=n(480);t.ConfusedTravolta=y.default;var w=n(481);t.ContentBox=w.default;var C=n(482);t.Current=C.default;var S=n(483);t.DateTimePicker=S.default;var N=n(484);t.DevOnly=N.default;var T=n(485);t.EditStateToggleButton=T.default;var k=n(486);t.FileUploader=k.default;var x=n(487);t.FlexTable=x.default;var M=n(488);t.Hint=M.default;var I=n(490);t.History=I.default;var D=n(491);t.HorizontalList=D.default;var P=n(492);t.ModalCallback=P.default;var O=n(493);t.Palette=O.default;var U=n(494);t.Progress=U.default;var A=n(495);t.Spinner=A.default;var L=n(496);t.Steps=L.default;var R=n(497);t.ToolTipMultiLine=R.default},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(180);t.default=new a.default("ActivityCalendar","Display activity given a data endpoint.",[e.createElement("div",{className:"react-components__style-guide-example--overflow"},e.createElement(i.ActivityCalendar,{username:"benhamner",tier:"staff"}))],'<ActivityCalendar \n    dataUrl="/benhamner/activity.json"\n    tier="staff" />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(462);t.default=new a.default("AddDataSourceModal","A modal for adding a data source to a project.",[e.createElement(i.default,null)],'<AddDataSourceModal\n    isShown={this.state.isShown}\n    onClose={this.handleClick}\n    onDataSourceAdded={() => Promise.resolve()}\n    referrer="referrer"\n/>')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(216),r=n(24),o=function(t){function n(e){var n=t.call(this,e)||this;return n.handleClick=function(){n.setState({isShown:!n.state.isShown})},n.state={isShown:!1},n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",null,e.createElement(i.AddDataSourceModal,{isShown:this.state.isShown,onClose:this.handleClick,onDataSourceAdded:function(){return Promise.resolve()},referrer:"referrer"}),e.createElement(r.ButtonAutoWidth,{onClick:this.handleClick,text:"Add Data SourceModal"}))},n}(e.Component);t.default=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(218);t.default=new a.default("AntiForgeryInput","A hidden input used for antiforgery purposes.",[e.createElement(i.AntiForgeryInput,null)],'// Component\n<AntiForgeryInput />\n\n// Can also be added as a header in network calls\nimport { withAntiForgeryHeader } from \'path/to/Shared/withAntiForgeryHeader\';\n\nconst headers = new Headers(\n    withAntiForgeryHeader({\n        "Content-Type": "application.json",\n        // other headers\n    })\n);')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7);t.default=new a.default("AutoForm","Automagically generated form based on schema. Working example hidded for security reasons.",[e.createElement("p",null,"See the ",e.createElement("a",{href:"/c/6680/admin#attributes",target:"_blank"},"admin section of a competition")," for a working example.")],'<AutoFormContainer\n    id={6680}\n    typeName="Competition"\n/>')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(46);t.default=new a.default("Avatar","A small image that combines a users profile picture and their progression tier.",[e.createElement(i.Avatar,{displayName:"Last-Place Larry",thumbnailUrl:"https://kaggle2.blob.core.windows.net/avatars/images/46426-gr.jpg",tier:"novice",userUrl:"https://www.kaggle.com/lastplacelarry",width:30})],'<Avatar\n    displayName="Last-Place Larry"\n    thumbnailUrl="https://kaggle2.blob.core.windows.net/avatars/images/46426-gr.jpg"\n    tier="novice"\n    userUrl="https://www.kaggle.com/lastplacelarry"\n    width={30} />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(108);t.default=new a.default("Badge","A component used to quickly convey information (i.e status).",[e.createElement(i.Badge,{text:"Failed",option:"danger"}),e.createElement(i.Badge,{text:"Featured",option:"info"}),e.createElement(i.Badge,{text:"Hidden",option:"info"})],'<Badge text="Failed" option="danger" />\n<Badge text="Featured" option="info" />\n<Badge text="Hidden" option="info" />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(122);t.default=new a.default("Banner","A component for displaying introductory or important information. Usually at the top of a page.",[e.createElement(i.Banner,{title:"Kaggle Rankings",bannerImageClassName:"leaderboards__banner-image"})],'<Banner \n    title="Kaggle Rankings"\n    bannerImageClassName="leaderboards__banner-image" />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(35);t.default=new a.default("BlockLink","A block-like link that is handy for listings and such. Children require styling.",[e.createElement(i.BlockLink,{href:"#"},"BlockLink content here")],'<BlockLink href="#">\n    BlockLink content here\n</BlockLink>')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(37);t.default=new a.default("Button","A beautiful button to meet your clicky needs.",[e.createElement(i.Button,{text:"Test Button"}),e.createElement(i.Button,{text:"Disabled Button!",isDisabled:!0})],'<Button text="Test Button" />\n<Button text= "Disabled Button!" isDisabled />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(24);t.default=new a.default("ButtonAutoWidth","A button that does not have a fixed width, but rather fits the text it is given.",[e.createElement(i.ButtonAutoWidth,{text:"Automagical width!"})],'<ButtonAutoWidth text="Automagical width!" />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(81);t.default=new a.default("ButtonRoundEdged","A button that has rounded edges... Bet you weren't expecting that.",[e.createElement(i.ButtonRoundEdged,{text:"Round Edges FTW"})],'<ButtonRoundEdged text="Round Edges FTW" />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(298),r=[{competitionCount:0,datasetCount:99,description:"This dataset has been featured by the author of this documentation.",fullPath:null,id:null,isInherited:!0,listingUrl:null,name:"featured",scriptCount:0,totalCount:0},{competitionCount:0,datasetCount:20,description:"",fullPath:"society and social sciences > society > politics",id:11121,isInherited:!1,listingUrl:"/datasets?sortBy=relevance&group=featured&search=tag%3A%27politics%27",name:"politics",scriptCount:0,totalCount:0}];t.default=new a.default("CategoryList","Display and manipulate categories.",[e.createElement(i.CategoryListContainer,{categories:r,canEdit:!1,ownerSlug:"",datasetSlug:""})],'<ActivityCalendar \n    dataUrl="/benhamner/activity.json"\n    tier="staff" />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(301);t.default=new a.default("Checklist","Checklist component for lists of actions",[e.createElement(i.Checklist,{children:[{ok:!1,message:"Needs a deadline",url:"/competitions",tips:["Set a date"]},{ok:!1,message:"Needs a stamp of approval",url:"/datasets",tips:["Stamp here"]},{ok:!0,message:"Needs a start date"}],okHeader:"Everything looks good here!",notOkHeader:"Fill out the rest of the items!"}),e.createElement(i.Checklist,{okHeader:"Everything looks good here!",notOkHeader:"Fill out the rest of the items!"},[{ok:!0,message:"Needs a deadline"},{ok:!0,message:"Needs a stamp of approval"},{ok:!0,message:"Needs a start date"}])],'<ChecklistContentBox\n    title="Checklist"\n    children={[\n        { ok: false, message: "Needs a deadline", url: "/competitions", tips: ["Set a date"] },\n        { ok: false, message: "Needs a stamp of approval", url: "/datasets", tips: ["Stamp here"] },\n        { ok: true, message: "Needs a start date" }\n    ]}\n    okHeader={"Everything looks good here!"}\n    notOkHeader={"Fill out the rest of the items!"}\n/>\n\n<ChecklistContentBox\n    title="Checklist"\n    okHeader={"Everything looks good here!"}\n    notOkHeader={"Fill out the rest of the items!"}\n>\n    {[\n        { ok: true, message: "Needs a deadline" },\n        { ok: true, message: "Needs a stamp of approval" },\n        { ok: true, message: "Needs a start date" }\n    ]}\n</ChecklistContentBox>')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(82);t.default=new a.default("Checkbox","A standard checkbox used for admin and content owners/editors",[e.createElement(i.Checkbox,{isChecked:!0,text:"Is published?",isEditable:!0,textIsClickable:!0,onChange:function(){}}),e.createElement(i.Checkbox,{isChecked:!1,text:"Is featured?",isEditable:!1,textIsClickable:!1,onChange:function(){}})],'<Checkbox\n    isChecked={true}\n    text="Is published?"\n    isEditable={true}\n    textIsClickable={true}\n    onChange={() => {}} />\n<Checkbox\n    isChecked={false}\n    text="Is featured?"\n    isEditable={false}\n    textIsClickable={false}\n    onChange={() => {}} />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(155);t.default=new a.default("CityLookup","You guessed it! Look up a city.",[e.createElement(i.CityLookup,{city:"Grand Forks",region:"North Dakota",country:"United States",onChange:function(){return console.log("Changed!")}})],'<CityLookup\n    city="Grand Forks"\n    region="North Dakota"\n    country="United States"\n    onChange={() => console.log("Changed!")} />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(156);t.default=new a.default("CodeMirrorEditor","Our code editor, used in Notebooks",[e.createElement("div",{className:"react-components__style-guide-example--overflow"},e.createElement(i.CodeMirrorEditor,{value:"# Python code\nimport this",defaultValue:"",onChange:function(e){},hasFocus:!1,onMouseUp:function(){},options:{mode:"python",scrollbarStyle:"native",indentUnit:4,indentWithTabs:!1,autoCloseBrackets:!0,readOnly:!1,theme:"kaggle"},getAutocomplete:function(){},canMoveUp:function(){return!0},canMoveDown:function(){return!0},onMoveUp:function(){},onMoveDown:function(){},onCtrlEnter:function(){},onShiftEnter:function(){}}))],'<CodeMirrorEditor\n    value={"# Code"}\n    defaultValue={""}\n    onChange={screen => {}}\n    hasFocus={false}\n    onMouseUp={() => {}}\n    options={{\n        mode: "python",\n        scrollbarStyle: "native",\n        indentUnit: 4,\n        indentWithTabs: false,\n        autoCloseBrackets: true,\n        readOnly: false,\n        theme: "kaggle"\n    }}\n    getAutocomplete={() => {}}\n    canMoveUp={() => {return true}}\n    canMoveDown={() => {return true}}\n    onMoveUp={() => {}}\n    onMoveDown={() => {}}\n    onCtrlEnter={() => {}}\n    onShiftEnter={() => {}} />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(186);t.default=new a.default("CompetitionCard","A quick glance at a given competition",[e.createElement(i.CompetitionCard,{competition:{competitionDescription:"Just a nonexistent competition",competitionId:123456789,competitionTitle:"Sample competition",competitionUrl:"#",deadline:new Date,hostSegment:"playground",isInClass:!1,isLimited:!1,isPrivate:!0,organizationName:"Some Org",organizationUrl:"#",rewardDisplay:"100000 Kudos",rewardQuantity:1e5,rewardTypeName:"Kudos",thumbnailImageUrl:"https://kaggle2.blob.core.windows.net/avatars/thumbnails/default-thumb.png",totalKernels:999,totalTeams:999,userHasEntered:!1}})],'<CompetitionCard\n    competition={{\n        competitionDescription: "Just a nonexistent competition",\n        competitionId: 123456789,\n        competitionTitle: "Sample competition",\n        competitionUrl: "#",\n        deadline: new Date(),\n        hostSegment: "playground",\n        isInClass: false,\n        isLimited: false,\n        isPrivate: true,\n        organizationName: "Some Org",\n        organizationUrl: "#",\n        rewardDisplay: "Playground",\n        rewardQuantity: 100000,\n        rewardTypeName: "Kudos",\n        thumbnailImageUrl: "https://kaggle2.blob.core.windows.net/avatars/thumbnails/default-thumb.png",\n        totalKernels: 999,\n        totalTeams: 999,\n        userHasEntered: false\n    }} />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){var a=this;Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(7),o=n(479),s=n(83),l=n(24);t.default=new r.default("Confirm","Displays a confirmation modal. Stateless (State and callbacks are controlled by its parent).",[e.createElement(o.default,null),e.createElement(s.ConfirmCallback,null,function(t){return e.createElement("div",null,e.createElement(l.ButtonAutoWidth,{style:{marginTop:10},onClick:function(e){return i.__awaiter(a,void 0,void 0,function(){var n,a,r;return i.__generator(this,function(i){switch(i.label){case 0:return n={title:"Are you sure?",subtitle:"Doesn't seem like a good idea",content:"But if you want to do it anyway...",confirmText:"Go for it",cancelText:"Nah"},a=e.currentTarget,[4,t(n)];case 1:return r=i.sent(),a.innerHTML=!0===r?"Confirmed!":"Rejected!",[2]}})})}},"Confirm it (ConfirmCallback)"),e.createElement(l.ButtonAutoWidth,{style:{marginTop:10,marginLeft:10},onClick:function(e){return i.__awaiter(a,void 0,void 0,function(){return i.__generator(this,function(e){switch(e.label){case 0:return[4,t("Make it blue?")];case 1:return e.sent()&&Array.from(document.querySelectorAll(".react-components__style-guide-item")).forEach(function(e){return e.setAttribute("style","border: 3px solid blue")}),[2]}})})}},"Make it blue (shorthand)"))})],'<Confirm\n    isShown={this.state.isShown}\n    title="Hold up"\n    children="Did you really want to click that?"\n    confirmText="Yep"\n    cancelText="Nah"\n    onConfirm={() => this.handleClick()}\n    onCancel={() => this.handleClick()} />\n\n<ButtonAutoWidth\n    onClick={() => this.handleClick()}\n    text="Do the Thing" />\n        )\n    }\n}\n\n<ConfirmCallback>\n    {(confirm) => (\n        // render page body here, any child of this point can call the confirm function\n        <div>\n            <ButtonAutoWidth\n                onClick={async (e) => {\n                    const confirmProps = {\n                        title: "Are you sure?",                         // REQUIRED\n                        subtitle: "Doesn\'t seem like a good idea",      // DEFAULT: null\n                        content: "But if you want to do it anyway...",  // DEFAULT: null\n                        confirmText: "Go for it",                       // DEFAULT: Confirm\n                        cancelText: "Nah"                               // DEFAULT: Cancel\n                    };\n                    const button = e.currentTarget;\n                    const confirmed = await confirm(confirmProps);\n                    button.innerHTML = confirmed === true ? "Confirmed!" : "Rejected!";\n                }}>\n                    Confirm it (ConfirmCallback)\n            </ButtonAutoWidth>\n\n            {/* shorthand */}\n            <ButtonAutoWidth\n                onClick={async (e) => {\n                    if (await confirm("Make it blue?")) {\n                        Array.from(document.querySelectorAll(".react-components__style-guide-item"))\n                            .forEach(element => element.setAttribute("style", "border: 3px solid blue"));\n                    }\n                }}>\n                Make it blue (shorthand)\n            </ButtonAutoWidth>\n        </div>\n    )}\n</ConfirmCallback>')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(83),r=n(24),o=function(t){function n(e){var n=t.call(this,e)||this;return n.state={isShown:!1},n}return a.__extends(n,t),n.prototype.handleClick=function(){this.setState({isShown:!this.state.isShown})},n.prototype.render=function(){var t=this;return e.createElement("div",null,e.createElement(i.Confirm,{isShown:this.state.isShown,title:"Hold up",children:"Did you really want to click that?",confirmText:"Yep",cancelText:"Nah",onConfirm:function(){return t.handleClick()},onCancel:function(){return t.handleClick()}}),e.createElement(r.ButtonAutoWidth,{onClick:function(){return t.handleClick()},text:"Do the Thing"}))},n}(e.Component);t.default=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(302);t.default=new a.default("ConfusedTravolta",'Hides content for feature development. Kaggle admins are always able to override and view work in progress. This component has "devMode" that only hides the work in profess in the production environment. "devMode" is disabled for this example.',[e.createElement(i.ConfusedTravolta,{disableDevMode:!0,title:"Don't look so confused",subtitle:"This will be available soon"},e.createElement("p",null,"I'm a work in progress!"))],'<ConfusedTravolta\n    disableDevMode={true}\n    title="Don\'t look so confused"\n    subtitle="This will be available soon">\n\n    <p>I\'m a work in progress!</p>\n</ConfusedTravolta>}')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(9);t.default=new a.default("ContentBox","Typical, Collapsible, and Checklist containing element for much of the content on the site.",[e.createElement(i.ContentBox,{children:e.createElement("p",{style:{padding:"20px"}},"Content!"),subTitleBar:e.createElement("p",{style:{padding:"20px"}},"Subtitle"),title:"Title",titleHref:"#",titleBarRightSide:"Right side"}),e.createElement(i.CollapsibleContentBox,{children:e.createElement("p",{style:{padding:"20px"}},"Content!"),initiallyCollapsed:!0,subTitleBar:e.createElement("p",{style:{padding:"20px"}},"Subtitle"),title:"CollapsibleContentBox",titleBarRightSide:"Right side"}),e.createElement(i.TabbedContentBox,{children:e.createElement("p",{style:{padding:"20px"}},"Content!"),panes:[e.createElement("p",{style:{padding:"20px"}},"First")],tabs:[{label:"First",action:function(){return console.log("First")}},{label:"Second",action:function(){return console.log("Second")}},{label:"Third",action:function(){return console.log("Third")}}],tabsRightSide:e.createElement("p",null,"Tabs right side"),title:"TabbedContentBox",titleBarRightSide:"Right side"})],'<ContentBox\n    children={<p>Content!</p>}\n    title="Title"\n    titleHref="#"\n    titleBarRightSide="Right side" \n/>\n\n<CollapsibleContentBox\n    children={<p>Content!</p>}\n    initiallyCollapsed={true}\n    title="CollapsibleContentBox"\n    titleBarRightSide="Right side" \n/>\n\n<TabbedContentBox\n    children={<p>Content!</p>}\n    panes={[ <p>First</p> ]}\n    tabs={[\n        { label: "First", action: () => console.log("First") },\n        { label: "Second", action: () => console.log("Second") },\n        { label: "Third", action: () => console.log("Third") }\n    ]}\n    tabsRightSide={<p>Tabs right side</p>}\n    title="TabbedContentBox"\n    titleBarRightSide="Right side"\n/>')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(8);t.default=new a.default("Current","Get current information regarding the user or environment.",[e.createElement("p",null,"Display Name: "+(i.Current||{}).userDisplayName),e.createElement("p",null,"isAdmin: "+(i.Current||{}).isAdmin)],"<p>Display Name: {Current.userDisplayName}<p>\n<p>isAdmin: {Current.isAdmin}<p>")}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(124),r=n(27);t.default=new a.default("DateTimePicker","A date and time picker because c'mon, we totally need one.",[e.createElement(i.DateTimePicker,{isValidDate:function(e){return e.isAfter(r.utc().subtract(1,"day"))},value:r.utc().toDate(),onChange:function(e){return console.log(e.toString())}})],'<DateTimePicker\n    isValidDate={current => current.isAfter(moment.utc().subtract(1, "day"))}\n    value={moment.utc().toDate()}\n    onChange={(time) => console.log(time.toString())}\n/>')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(111),r=n(187),o=n(133);t.default=new a.default("DevOnly","A dev tool component that should only render in development. Built-in secret agent badge sticky.",[e.createElement(r.DevOnly,{isDevTest:function(){return!0}},function(){return e.createElement(o.Steps,{stepsStatus:{"One Step":i.Color.KaggleBlueDarkest,"Two Step":i.Color.KaggleBlueDark,"Three Step":i.Color.KaggleBlueInteract,Four:i.Color.KaggleRed}})})],'<DevOnly isDevTest={() => true}>\n    {() => ( // Function only executes if this is dev (no runtime hit in prod)\n        <Steps stepsStatus={{\n            "One Step": Color.KaggleBlueDarkest,\n            "Two Step": Color.KaggleBlueDark,\n            "Three Step": Color.KaggleBlueInteract,\n            "Four": Color.KaggleRed\n        }} />\n    )}\n</DevOnly>')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(90);t.default=new a.default("EditStateToggleButton","Toggleable button that is good at handling binary state changes.",[e.createElement(i.EditStateToggleButton,{sectionName:"Example",toggleCallback:function(e){return console.log("State changed: "+e)}})],'<EditStateToggleButton\n    sectionName="Example"\n    toggleCallback={(name) => console.log("State changed:" + name)} />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(91);t.default=new a.default("FileUploader","Upload files for the win! Works with single files or multiple files.",[e.createElement("div",{className:"file-uploader__example"},e.createElement(i.FileUploader,{createBlobUrl:"#",mode:"single"})),e.createElement("div",{className:"file-uploader__example"},e.createElement(i.FileUploader,{compact:!0,createBlobUrl:"#",mode:"multiple"}))],'<FileUploader\n    createBlobUrl="#"\n    mode={FileUploaderMode.Single} />\n<FileUploader\n    compact={true}\n    createBlobUrl="#"\n    mode={FileUploaderMode.Multiple} />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(110),r=Array.fill(new Array(10),"R").map(function(e,t){return""+e+t}),o=Array.fill(new Array(3),"C").map(function(e,t){return""+e+t});t.default=new a.default("FlexTable","Simple tables built on flexbox. Renders strings or elements.",[e.createElement(i.FlexTable,{key:0},e.createElement(i.FlexRow,{key:-1},["Header one","Header two",e.createElement("i",{key:2,className:"fa fa-arrow-down"})]),r.map(function(t,n){return e.createElement(i.FlexRow,{key:n},o.map(function(e){return t+","+e}))}))],'const rows = Array.fill(new Array(10), "R").map((r, i) => `${r}${i}`); const cols = Array.fill(new Array(3), "C").map((c, j) => `${c}${j}`); <FlexTable key={0}>     <FlexRow key={-1}>{["Header one", "Header two", <i key={2} className="fa fa-arrow-down" />]}</FlexRow>     {rows.map((r, i) => <FlexRow key={i}>{cols.map(c => `${r},${c}`)}</FlexRow>)} </FlexTable>')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(489);t.default=new a.default("Hint","Provide a hint to the user.",[e.createElement(i.Hint,null,"Something really interesting over here")],"<Hint>Something really interesting over here</Hint>")}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(28),i=(r=["\n    color: #a8a8a8;\n\n    font-size: 0.8rem;\n    padding: 4px 0;\n\n    & i {\n        color: #e19337;\n        margin-right: 8px;\n    }\n"],r.raw=["\n    color: #a8a8a8;\n\n    font-size: 0.8rem;\n    padding: 4px 0;\n\n    & i {\n        color: #e19337;\n        margin-right: 8px;\n    }\n"],a.default.span(r));t.Hint=function(t){return t.hide?null:e.createElement(i,{style:t.style},e.createElement("i",{className:"fa fa-info-circle"}),t.children)};var r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7);t.default=new a.default("History","Inject a <HistoryProvider /> component into a root component and subscribe to history (in same or child components).",[e.createElement("div",null,"This is a pure code component for client routing. (View code below)")],'import { historyProvider, historyContext, HistoryContext } from "../Shared";\n    @historyProvider\n    /* @historyContext (optionally subscribe to history in container) */\n    export const ContainerWithHistoryProvider => (props /*[, context: HistoryContext]*/) (\n        <ComponentWithHistoryContext {...props} />;\n    );\n\n    @historyContext // subscribe to history on context.\n    export class ComponentWithHistoryContext extends React.Component {\n        context: HistoryContext;\n        private unlisten: () => void;\n        componentDidMount() {\n            const { history } = this.context;\n\n            // subscribe to client route changes\n            this.unlisten = history.listen((location, action) => {\n                const { pathname, search, hash, state } = location;\n                switch(action) {\n                    case "POP":\n                    case "PUSH":\n                    case "REPLACE":\n                }\n            });\n        }\n        componentWillUnmount() {\n            this.unlisten();\n        }\n        render() {\n            const { history } = this.context;\n            const { location, push, replace } = history;\n            return (\n                <div>\n                    <span>{location.pathname}</span>\n                    {location.pathname === "/competitions" && (\n                        <div>Competitions route!</div>\n                    )}\n                    <button onClick={() => {\n                        push("/competitions");\n                    }}>\n                        goto /competitions\n                    </button>\n                </div>\n            );\n        }\n    }')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(235);t.default=new a.default("HorizontalList",'A list of strings or JSX.Elements joined by a delimiter (default is "bullet").',[e.createElement(i.HorizontalList,{list:["Competitions","Datasets","Kernels","Discussion","Jobs"]}),e.createElement(i.HorizontalList,{list:[e.createElement("a",{href:"/competitions"},"Competitions"),e.createElement("a",{href:"/datasets"},"Datasets"),e.createElement("a",{href:"/datasets"},"Kernels"),e.createElement("a",{href:"/datasets"},"Discussion"),e.createElement("a",{href:"/jobs"},"Jobs")],separator:"pipe"})],'<HorizontalList\n    list={["Competitions", "Datasets", "Kernels", "Discussion"]}\n/>\n<HorizontalList\n    list={[\n        <a href="/competitions">Competitions</a>,\n        <a href="/datasets">Datasets</a>,\n        <a href="/datasets">Kernels</a>,\n        <a href="/datasets">Discussion</a>,\n        <a href="/jobs">Jobs</a>\n    ]}\n    separator="pipe"\n/>')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){var a=this;Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(7),o=n(69);t.default=new r.default("ModalCallback","Inject a modal placeholder at a point in the React tree and render content to it with an awaitable typed response.",[e.createElement(o.ModalCallback,null,function(t){return e.createElement("div",null,e.createElement("button",{onClick:function(){return i.__awaiter(a,void 0,void 0,function(){var n;return i.__generator(this,function(a){switch(a.label){case 0:return[4,t(function(t){return e.createElement("div",{style:{padding:30,borderRadius:4}},e.createElement("input",{id:"modal-input",type:"number",placeholder:"Enter a number"}),e.createElement("button",{onClick:function(){var e=document.getElementById("modal-input"),n=parseInt(e.value);t(n)}},"Send back"))})];case 1:return n=a.sent(),document.getElementById("modal-callback-result").innerHTML=n.toString(),[2]}})})}},"Click here to calculate in modal"),e.createElement("div",{id:"modal-callback-result"}))})],'<ModalCallback>\n    {renderModal => (\n        <div>\n            <button onClick={async () => {\n                // renderModal (callback) returns a typed promise.\n\n                // Specify output type. Pause control flow and wait for user input.\n                const result = await renderModal<number>(resolve => (\n                    // Render the modal content\n                    <div style={{ padding: 30, borderRadius: 4 }}>\n                        <input id="modal-input" type="number" placeholder="Enter a number" />\n                        <button onClick={() => {\n                            const input = document.getElementById("modal-input") as HTMLInputElement;\n                            const value = parseInt(input.value);\n                            resolve(value); // resolve will only allow a number due to generic constraint above.\n                        }}>\n                            Send back\n                        </button>\n                    </div>\n                ));\n\n                document.getElementById("modal-callback-result").innerHTML = result.toString();\n            }}>Click here to calculate in modal</button>\n            <div id="modal-callback-result" />\n        </div>\n    )}\n</ModalCallback>')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(189);t.default=new a.default("Palette","The Kaggle color palette generated from less definition on webpack startup.\nIntellisense enabled colors available in TypeScript via `Color` enum export of the Styles module.",[e.createElement(i.Palette,{paletteStyle:{maxHeight:"60vh"}})],'<Palette paletteStyle={{ maxHeight: "60vh" }} />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(128),r=n(129);t.default=new a.default("Progress","Components related to showing progress of something.",[e.createElement(i.ProgressBar,{initiatedTimeStamp:Date.now()-100,progressEvent:r.syntheticProgressEvent({loaded:20,total:100})})],"<ProgressBar initiatedTimeStamp={Date.now() - 100} progressEvent={ProgressUtils.syntheticProgressEvent({ loaded: 20, total: 100 })} />")}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(112);t.default=new a.default("Spinner","Spinner component for loaders.",[e.createElement(i.Spinner,null)],"<Spinner />")}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(111),r=n(133);t.default=new a.default("Steps","Renders steps with status colors. Colors must be Kaggle colors via static types.",[e.createElement(r.Steps,{stepsStatus:{Just:i.Color.KaggleGreen,render:i.Color.AquaIsland,some:i.Color.BondiBlue,steps:i.Color.CompFeatured}})],'<Steps stepsStatus={{\n    "Just": Color.KaggleGreen,\n    "render": Color.AquaIsland,\n    "some": Color.BondiBlue,\n    "steps": Color.CompFeatured\n}} />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(134),r=n(108);t.default=new a.default("ToolTipMultiLine","Inherits styles from standard ToolTip, but accepts JSX Elements as contents via the `after` prop.",[e.createElement(i.ToolTipMultiLine,{tipContent:e.createElement("div",{className:"tooltip-multiline__example-1"},e.createElement("p",null,"Hi"),e.createElement("p",null,"How are you?"))},e.createElement(r.Badge,{text:"Hover me!",option:"info"})),e.createElement(i.ToolTipMultiLine,{alignLeft:!0,tipContent:e.createElement("div",{className:"tooltip-multiline__example-2"},e.createElement("h4",{className:"tooltip-multiline__example-2-title"},"Note"),e.createElement("p",null,"This is left-aligned."))},e.createElement(r.Badge,{text:"Me too!",option:"info"}))],'<ToolTipMultiLine \n    tipContent={(\n        <div>\n            <p>Hi</p>\n            <p>How are you?</p>\n        </div>\n    )}>\n\n    <Badge text="Hover me!" option="info" />\n</ToolTipMultiLine>\n\n<ToolTipMultiLine\n    alignLeft={true}\n    tipContent={(\n        <div>\n            <h4>Note</h4>\n            <p>This is left-aligned.</p>\n        </div>\n    )}>\n\n    <Badge text="Me too!" option="info"/>\n</ToolTipMultiLine>')}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(499),o=n(27),s=function(t){function n(e){var n=t.call(this,e)||this;return n.onLoadNotes=function(e,t,r,s){return i.__awaiter(n,void 0,void 0,function(){var n,l=this;return i.__generator(this,function(c){switch(c.label){case 0:return e==this.state.selectedTeamId&&t==this.state.selectedUserId&&o(this.state.selectedBeginDate).toDate().getTime()==o(r).toDate().getTime()&&o(this.state.selectedEndDate).toDate().getTime()==o(s).toDate().getTime()?(this.setState({selectedTeamId:null,selectedUserId:null,selectedBeginDate:null,selectedEndDate:null,logUsers:null}),[2]):(this.setState({selectedTeamId:e,selectedUserId:t,selectedBeginDate:r,selectedEndDate:s}),[4,a("/admin/niko/notes.json",{method:"POST",headers:new Headers({Accept:"application/json","Content-Type":"application/json"}),body:JSON.stringify({teamId:e,userId:t,beginDate:r||null,endDate:s||null}),credentials:"include"}).then(function(e){return e.json()}).then(function(e){return l.setState(i.__assign({},l.state,{logUsers:e.notes}))})]);case 1:return n=c.sent(),[2]}})})},n.onLoadCalendar=function(e,t,r){return i.__awaiter(n,void 0,void 0,function(){var n,o=this;return i.__generator(this,function(s){switch(s.label){case 0:return[4,a("/admin/niko.json?beginDate="+e+"&endDate="+t+"&showAllTeams="+r,{method:"GET",headers:new Headers({Accept:"application/json","Content-Type":"application/json"}),credentials:"include"}).then(function(e){return e.json()}).then(function(e){return o.setState(i.__assign({},o.state,e))})];case 1:return n=s.sent(),[2]}})})},n.state=i.__assign({},e,{logUsers:null}),n}return i.__extends(n,t),n.prototype.render=function(){return e.createElement(r.Niko,i.__assign({},this.state,{onLoadNotes:this.onLoadNotes,onLoadCalendar:this.onLoadCalendar}))},n}(e.Component);t.NikoContainer=s}).call(t,n(0),n(36))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(9),r=n(8),o=n(27),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){for(var t=this,n=(o.utc(this.props.beginDate).month()!=o.utc(this.props.endDate).month()?"MMMM ":"")+"D",a=[],s=o.utc(this.props.beginDate),l=o.utc(this.props.endDate);s<=l;)0!=s.day()&&6!=s.day()&&a.push(s.toDate()),s=o.utc(s).add("day",1);return e.createElement("div",{className:"niko"},e.createElement(i.ContentBox,null,e.createElement("div",{className:"niko__header"},e.createElement("span",{className:"niko__header-navigation fa fa-chevron-circle-left",onClick:function(){return t.props.onLoadCalendar(t.props.previousBeginDate,t.props.previousEndDate)}}),o.utc(this.props.beginDate).format("MMMM D")," - ",o.utc(this.props.endDate).format(n),e.createElement("span",{className:"niko__header-navigation fa fa-chevron-circle-right",onClick:function(){return t.props.onLoadCalendar(t.props.nextBeginDate,t.props.nextEndDate)}}))),this.props.teams.map(function(n){return e.createElement(i.ContentBox,{title:n.teamName,onTitleClick:function(){return t.props.onLoadNotes(n.teamId,null,o(t.props.beginDate).toDate(),o(t.props.endDate).toDate())}},e.createElement("div",{className:"niko__date-header-row"},e.createElement("div",{className:"niko__date-header"}),a.map(function(t,n){return e.createElement("div",{className:"niko__date-header "+(o.utc().startOf("day").isSame(o.utc(t))?"niko__date-header--today":"")+" "+(5==o.utc(t).weekday()&&n<a.length-1?"niko__date-header--friday":"")},o.utc(t).format("ddd M/D"))})),e.createElement("div",null,n.users.map(function(n){var i=t.props.logUsers&&t.props.logUsers.length?t.props.logUsers.filter(function(e){return e.userId==n.userId}):null,s=n.logs.length>0;return e.createElement("div",null,e.createElement("div",{className:"niko__user-row "+((r.Current||{}).userId==n.userId?"niko__user-row--current":"")+" "+(n.userId==t.props.selectedUserId&&o.utc(t.props.beginDate).toDate().getTime()===o.utc(t.props.selectedBeginDate).toDate().getTime()&&o.utc(t.props.endDate).toDate().getTime()===o.utc(t.props.selectedEndDate).toDate().getTime()?"niko__user-row--selected":"")},e.createElement("img",{className:"niko__user-image "+(s?"niko__user-image--clickable":""),src:n.thumbnailUrl,title:n.userDisplayName,onClick:s?function(){return t.props.onLoadNotes(null,n.userId,o(t.props.beginDate).toDate(),o(t.props.endDate).toDate())}:null}),a.map(function(i,s){var l=n.logs.filter(function(e){return o.utc(e.logDate).isSame(o.utc(i))}),c="niko__user-image "+(o.utc().startOf("day").isSame(o.utc(i))?"niko__user-image--today":"")+" "+(5==o.utc(i).weekday()&&s<a.length-1?"niko__user-image--friday":"")+" "+((r.Current||{}).userId==n.userId?"niko__user-image--current":"")+(n.userId==t.props.selectedUserId&&o.utc(i).toDate().getTime()===o.utc(t.props.selectedBeginDate).toDate().getTime()&&o.utc(i).toDate().getTime()===o.utc(t.props.selectedEndDate).toDate().getTime()?"niko__user-image--selected":"");if(l.length>0){var u=l[0];return e.createElement("img",{className:c+" niko__user-image--clickable",src:"/static/images/niko-"+u.nikoName.toLowerCase()+".png",onClick:function(){return t.props.onLoadNotes(null,n.userId,o(u.logDate).toDate(),o(u.logDate).toDate())}})}return e.createElement("img",{className:c,src:"/static/images/niko-notset.png"})})),i&&i.length?e.createElement("div",{className:"niko__user-log-sets"},i[0].dates.map(function(t){return e.createElement("div",{className:"niko__user-log-set"},e.createElement("div",{className:"niko__user-log-date-line"},e.createElement("img",{className:"niko__user-log-niko",src:"/static/images/niko-"+t.nikoName.toLowerCase()+".png"}),e.createElement("div",{className:"niko__user-log-date"},o.utc(t.logDate).format("ddd M/D"))),e.createElement("ol",{className:"niko__user-log-entries"},t.todayNotes?e.createElement("li",{className:"niko__user-log-entry niko__user-log-entry--today"},t.todayNotes):null,t.tomorrowNotes?e.createElement("li",{className:"niko__user-log-entry niko__user-log-entry--tomorrow"},t.tomorrowNotes):null,t.impedimentNotes?e.createElement("li",{className:"niko__user-log-entry niko__user-log-entry--impediments"},t.impedimentNotes):null,t.fyiNotes?e.createElement("li",{className:"niko__user-log-entry niko__user-log-entry--fyi"},t.fyiNotes):null))})):null)})))}))},n}(e.Component);t.Niko=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(1774),r=function(t){function n(e,n){var a=t.call(this,e)||this,i=window.location.href.substr(window.location.href.lastIndexOf("/")+1);return a.state={activeTabIndex:a.props.tabs.indexOf(a.props.tabs.find(function(e){return e.slug==i}))},a}return a.__extends(n,t),n.prototype.handleTabClick=function(e){var t=this.props.tabs.indexOf(this.props.tabs.find(function(t){return t.slug==e}));return this.setState({activeTabIndex:t}),this.props.onTabChange&&this.props.onTabChange(e),history.pushState(null,null,this.props.baseUrl+"/"+e),!0},n.prototype.render=function(){var t=this.props.pages[this.state.activeTabIndex];return e.createElement("div",null,e.createElement(i.InfoTabBar,{tabs:this.props.tabs,cta:this.props.cta,activeTabIndex:this.state.activeTabIndex,handleClick:this.handleTabClick.bind(this)}),e.createElement("div",{className:"about-page-container"},e.createElement("div",{className:"about-page"},t)))},n}(e.Component);t.AboutPage=r}).call(t,n(0))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(9),r=n(50),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props.time?Math.round(10*+this.props.time)/10:null;if(""===this.props.time&&""===this.props.data)return e.createElement("div",{className:"script-log-pane__line"},e.createElement("span",{className:"script-log-pane__empty-message"},"No output was generated."));var n="script-log-pane__data-column";return"stderr"===this.props.stream_name||"failure"===this.props.status?n+="--stderr":"success"===this.props.status&&(n+="--success"),e.createElement("div",{className:"script-log-pane__line"},e.createElement("span",{className:"script-log-pane__time-column"},"number"==typeof t&&t.toFixed(1)+"s"),e.createElement("span",{className:"script-log-pane__line-no-column"},this.props.lineNo),e.createElement("span",{className:n},this.props.data))},n}(e.Component);t.ScriptLogPaneLine=o;var s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.downloadUrl=function(){var e=this.props.logLineData.map(function(e){return e.data}).join("\n");return"data:text/plain;charset=utf-8,"+encodeURIComponent(e)},n.prototype.renderStatus=function(){var t=e.createElement(o,{key:"scriptlogpane-emtpy",lineNo:this.props.logLineData.length+1,stream_name:"stdout",time:this.props.logLineData.slice(-1)[0].time,data:""}),n=0===this.props.exitCode?"Complete. Exited with code 0.":"Failed. Exited with code "+this.props.exitCode+".";return"number"==typeof this.props.exitCode?e.createElement("div",null,t,e.createElement(o,{key:"scriptlogpane-status",status:0===this.props.exitCode?"success":"failure",lineNo:this.props.logLineData.length+2,stream_name:"stdout",time:this.props.logLineData.slice(-1)[0].time,data:n})):null},n.prototype.renderHeader=function(){return e.createElement("div",{className:"script-log-pane__line"},e.createElement("span",{className:"script-log-pane__time-column script-log-pane__time-column--header"},"Time"),e.createElement("span",{className:"script-log-pane__line-no-column script-log-pane__line-no-column--header"},"Line #"),e.createElement("span",{className:"script-log-pane__data-column script-log-pane__data-column--header"},"Log Message"))},n.prototype.renderLines=function(){var t=this.props.logLineData.length>0&&this.props.logLineData[0].data;return e.createElement("div",null,t&&this.renderHeader(),this.props.logLineData.map(function(t,n){return e.createElement(o,a.__assign({key:"scriptlogpane-"+n,lineNo:n},t))}),t&&this.renderStatus())},n.prototype.render=function(){var t=e.createElement("div",{className:"script-code-pane__right-section"},e.createElement("a",{href:this.downloadUrl(),className:"script-code-pane__download",download:"log.txt"},"Download Log"));return!1===this.props.withContentBox?this.renderLines():e.createElement(i.ContentBox,{title:"Log",titleBarRightSide:t},e.createElement("div",{className:"script-log-pane__log"},this.renderLines()))},n}(e.Component);t.ScriptLogSection=s;var l=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderScriptInfo=function(){return e.createElement("div",{className:"script-log-pane__run-info"},e.createElement("div",{className:"script-log-pane__run-info-top"},e.createElement("div",{className:"script-log-pane__run-info-column"},e.createElement("div",{className:"script-log-pane__run-info-row"},e.createElement("div",{className:"script-log-pane__run-info-left"},"Succeeded"),e.createElement("div",{className:"script-log-pane__run-info-right"},this.props.succeeded?"True":"False")),e.createElement("div",{className:"script-log-pane__run-info-row"},e.createElement("div",{className:"script-log-pane__run-info-left"},"Exit Code"),e.createElement("div",{className:"script-log-pane__run-info-right"},this.props.exitCode)),e.createElement("div",{className:"script-log-pane__run-info-row"},e.createElement("div",{className:"script-log-pane__run-info-left"},"Docker Image Name"),e.createElement("div",{className:"script-log-pane__run-info-right"},e.createElement("a",{href:this.props.dockerHubUrl},this.props.dockerImageName)," (",e.createElement("a",{href:this.props.dockerfileUrl},"Dockerfile"),")")),e.createElement("div",{className:"script-log-pane__run-info-row"},e.createElement("div",{className:"script-log-pane__run-info-left"},"Timeout Exceeded"),e.createElement("div",{className:"script-log-pane__run-info-right"},this.props.timeoutExceeded?"True":"False"))),e.createElement("div",{className:"script-log-pane__run-info-column"},e.createElement("div",{className:"script-log-pane__run-info-row"},e.createElement("div",{className:"script-log-pane__run-info-left"},"Run Time"),e.createElement("div",{className:"script-log-pane__run-info-right"},Math.round(10*this.props.runTimeSeconds)/10," seconds")),e.createElement("div",{className:"script-log-pane__run-info-row"},e.createElement("div",{className:"script-log-pane__run-info-left"},"Queue Time"),e.createElement("div",{className:"script-log-pane__run-info-right"},Math.round(10*this.props.queuedSeconds)/10," seconds")),e.createElement("div",{className:"script-log-pane__run-info-row"},e.createElement("div",{className:"script-log-pane__run-info-left"},"Output Size"),e.createElement("div",{className:"script-log-pane__run-info-right"},this.props.outputSizeBytes&&r(this.props.outputSizeBytes))),e.createElement("div",{className:"script-log-pane__run-info-row"},e.createElement("div",{className:"script-log-pane__run-info-left"},"Used All Space"),e.createElement("div",{className:"script-log-pane__run-info-right"},this.props.usedAllSpace?"True":"False")))),e.createElement("div",{className:"script-log-pane__run-info-row"},e.createElement("div",{className:"script-log-pane__run-info-left"},"Failure Message"),e.createElement("div",{className:"script-log-pane__run-info-right"},this.props.failureMessage)))},n.prototype.render=function(){return!1===this.props.withContentBox?this.renderScriptInfo():e.createElement(i.ContentBox,{title:"Run Info"},this.renderScriptInfo())},n}(e.Component);t.ScriptRunInfoSection=l;var c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.getLoglineData=function(){var e=[{time:"",stream_name:"stdout",lineNo:0,data:""}];try{e=JSON.parse(this.props.logContents)}catch(n){try{e=JSON.parse("["+this.props.logContents)}catch(n){if(console.warn("Error in log parsing"),""!==this.props.logContents){var t=this.props.logContents.split("\n");e=t.map(function(e,t){return{time:null,stream_name:"stdout",lineNo:t+1,data:e}})}}}return e.forEach(function(e,t){return e.lineNo=t+1}),e},n.prototype.render=function(){var t=this.getLoglineData();return e.createElement("div",{className:"script-log-pane"},e.createElement(l,a.__assign({},this.props.runInfo)),e.createElement(s,{logLineData:t,exitCode:this.props.runInfo.exitCode}))},n}(e.Component);t.ScriptLogPaneContainer=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(6),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return 0==this.props.groupSize?null:e.createElement("span",{className:i("group-icon",this.props.rightSide?"group-icon--right":"group-icon--left"),title:1==this.props.groupSize?"Only visible to the author":"Visible to "+this.props.groupSize+" members including the author"},e.createElement("span",{className:"group-icon__lock"}),e.createElement("span",{className:1==this.props.groupSize?"group-icon__single":"group-icon__multiple"}))},n}(e.Component);t.GroupIcon=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(1),r=n(37),o=n(81),s=n(9),l=n(1485),c=n(1486),u=n(135),p=n(677),d=n(90),m=n(93),h=n(82),g=n(1487),f=n(1488),v=n(40),_=n(94),b=n(91),E=n(92),y=n(1489),w=n(41),C=n(60),S=n(1490),N=n(44),T=n(59),k=n(8),x=n(298),M=n(124),I=n(235),D=n(6),P=n(50),O=n(27);!function(e){e[e.CurrentFiles=0]="CurrentFiles",e[e.NewFiles=1]="NewFiles"}(a=t.FileListIndex||(t.FileListIndex={}));var U=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderProgressStep=function(t,a){var i=n.statusSequences(n.props.newDatasetVersionStatus)<t-1?"--pending":n.statusSequences(n.props.newDatasetVersionStatus)==t-1?"--current":"--complete",r=n.statusSequences(n.props.newDatasetVersionStatus)<t-1?0:n.statusSequences(n.props.newDatasetVersionStatus)==t-1?100*n.props.currentStatusPercentComplete:100;return e.createElement("div",{className:D("dataset-home__new-version-status-step","dataset-home__new-version-status-step"+i)},e.createElement("div",{className:D("dataset-home__new-version-progress-bar","dataset-home__new-version-progress-bar"+i),style:{width:r+"%"}}),e.createElement("div",{className:D("dataset-home__new-version-status-step-label","dataset-home__new-version-status-step-label"+i)},a))},n.statusSequences=function(e){switch(e){case"notYetPersisted":return 0;case"blobsReceived":return 1;case"blobsDecompressed":return 2;case"blobsCopiedToSds":return 3;case"individualBlobsCompressed":return 4;case"ready":return 5;default:return 6}},n.renderVersionNotes=function(t,a,i){return n.props.isEditingVersions?e.createElement("div",{className:"dataset-home__markdown-editor-container"},e.createElement(T.MediaQuery,{minWidth:T.Breakpoints.desktopMin},e.createElement(_.MarkdownEditor,{key:"version-"+a,shouldSanitizeHtml:!0,defaultValue:t,suffix:"-version"+a,onChangeCallback:function(e){return n.props.onDatasetVersionPropChanged(a,"versionNotes",e)},placeholder:i,maxRows:4})),e.createElement(T.MediaQuery,{minWidth:0,maxWidth:T.Breakpoints.tabletMax},e.createElement(_.MarkdownEditor,{key:"version-"+a,shouldSanitizeHtml:!0,hideToolbar:!0,defaultValue:t,suffix:"-version"+a,onChangeCallback:function(e){return n.props.onDatasetVersionPropChanged(a,"versionNotes",e)},placeholder:i,maxRows:4}))):e.createElement(C.MarkdownConverter,{key:"version-"+a,contentClassName:"dataset-home__version-notes",content:t,mimeType:"text/markdown",insertNofollow:!0})},n.recordDatasetDownload=function(){n.props.isNewDataset||goog_report_conversion(),window.Intercom("trackEvent","download_dataset",{dataset_id:n.props.datasetId})},n.recordExploreMoreDatasetsClicked=function(){k.Current.isSiteAdminOrTvc||ga("send","event","dataset","explore-more-datasets-clicked")},n.mapFilePreviews=function(e,t,i){return void 0===t&&(t=!1),void 0===i&&(i=!1),e.map(function(e,r){var o=i?a.NewFiles:a.CurrentFiles;return{showSubmitToCompButton:!1,submitToCompUrl:null,description:e.description,fileName:e.name,filePreviewUrl:i?"/datasets/inbox-preview?blobFileToken="+e.blobToken:e.previewUrl,blobToken:e.blobToken,fileType:e.fileType||e.name.split(".")[e.name.split(".").length-1],fileUrl:e.downloadUrl,size:e.totalBytes,isEditingDescription:t||i,onDescriptionChange:function(e){return n.props.onDatasetFilePropChanged(r,"description",e,o)},onSaveFileDescription:n.props.onDatasetSaveFileDescription,descriptionPlaceholder:t||i?"Enter a description for this file.":"",validationError:(t||i)&&""===e.description?"Enter a description":"",canDelete:i,onDelete:i?function(){n.props.onDeleteNewVersionFile(e.name)}:null,lastVersionMetadataUrl:i&&null!==n.props.datasetUrl?n.props.datasetUrl+"/preview/"+e.name+"/"+n.props.lastVersionNumber:null,ownerSlug:n.props.slug,datasetSlug:n.props.datasetSlug}})},n.redirectToLogin=function(){window.location.href="/account/login"},n}return i.__extends(n,t),n.prototype.render=function(){var t=this,n=Math.min(Math.max(this.props.scripts.length,this.props.discussions.length,this.props.contributors.length,1),3),a=this.props.privateGroups.map(function(e){return{value:e.id.toString(),label:e.name}}),U=1==this.props.owners.filter(function(e){return e.id==t.props.organizationId}).length?this.props.owners.filter(function(e){return e.id==t.props.organizationId})[0].maxFileSizeBytes:null;return e.createElement("div",null,this.props.canSeeCategories?e.createElement(x.CategoryListContainer,i.__assign({},this.props.categories,{canEdit:this.props.canEdit,ownerSlug:this.props.ownerSlug,datasetSlug:this.props.slug})):null,this.props.isNewDataset?null:e.createElement("div",{className:"dataset-home__teasers"},e.createElement("div",{className:"dataset-home__teaser-column"},e.createElement(s.ContentBox,{containerClassName:"dataset-home__teaser",title:"Kernels",onTitleClick:function(){return t.props.onChangeTab("kernels")},titleBarRightSide:e.createElement("span",{className:"fa fa-chevron-right"})},e.createElement(l.ScriptListTeaser,{minItemHeight:n,items:this.props.scripts,emptyListAction:this.props.onNewKernelClicked}))),null!==this.props.datasetUrl&&e.createElement("div",{className:"dataset-home__teaser-column"},e.createElement(s.ContentBox,{containerClassName:"dataset-home__teaser",title:"Discussion",onTitleClick:function(){return t.props.onChangeTab("discussion")},titleBarRightSide:e.createElement("span",{className:"fa fa-chevron-right"})},e.createElement(c.ForumTopicListTeaser,{minItemHeight:n,items:this.props.discussions,emptyListUrl:this.props.datasetUrl+"/discussion"}))),e.createElement("div",{className:"dataset-home__teaser-column"},e.createElement(s.ContentBox,{containerClassName:"dataset-home__teaser",title:"Top Contributors",onTitleClick:function(){return t.props.onChangeTab("contributors")},titleBarRightSide:e.createElement("span",{className:"fa fa-chevron-right"})},e.createElement(u.TeaserList,{minItemHeight:n,listItems:this.props.contributors.slice(0,3),listItemRenderer:function(t,n){return e.createElement(S.DatasetContributorsTeaserItem,i.__assign({},t,{key:n}))},emptyListCreateNewAction:this.props.onNewKernelClicked,emptyListMessage:"There are no contributors yet.",emptyListCreateNewText:"Be the first"})))),this.props.isNewDataset?null:e.createElement(s.ContentBox,{title:"Recent Activity",onTitleClick:function(){return t.props.onChangeTab("feed")},titleBarRightSide:e.createElement("span",{className:"fa fa-chevron-right"})},this.props.feed.slice(0,5).map(function(t,n){return e.createElement(p.DatasetActivityFeedItem,i.__assign({},t,{key:n}))})),this.props.isNewDataset||this.props.canEditSlug||this.props.canEditPublishStatus||this.props.canEditFeatureStatus||this.props.canEditPublishStatus?e.createElement(s.ContentBox,{contentClassName:"dataset-home__power-settings",title:this.props.isNewDataset?"Choose a Permanent URL":"Power settings",titleBarRightSide:this.props.isNewDataset?"":e.createElement(d.EditStateToggleButton,{sectionName:"Slug",cancelPropName:"slug",cancelCallback:this.props.onDatasetEditingStateCancelled,isEditing:this.props.isEditingSlug,toggleCallback:this.props.onDatasetEditingStateChanged})},this.props.canEditSlug?e.createElement("section",{className:"dataset-home__section"},"https://www.kaggle.com/",this.props.ownerSlug,"/",this.props.isEditingSlug?e.createElement(m.InlineTextEditor,{className:"dataset-home__inline-slug-editor",value:this.props.slug,rejectedCharacterRegExp:/[^A-Za-z0-9-]+/g,onChangeCallback:function(e){return t.props.onDatasetPropChanged("slug",e)}}):this.props.slug):"",this.props.canEditPublishStatus?e.createElement("section",{className:"dataset-home__section"},e.createElement(h.Checkbox,{isChecked:this.props.isPublished,text:"Is published?",isEditable:this.props.isEditingSlug,textIsClickable:!0,onChange:this.props.onPublishedChange})):"",this.props.canEditFeatureStatus?e.createElement("section",{className:"dataset-home__section"},e.createElement(h.Checkbox,{isChecked:this.props.isFeatured,text:"Is featured?",isEditable:this.props.isEditingSlug,textIsClickable:!0,onChange:this.props.onFeaturedChange}),!this.props.isFeatured&&e.createElement("div",{className:"dataset-home__section-feature"},e.createElement("span",null,"scheduled to be featured (time is UTC)"),this.props.isEditingSlug&&e.createElement("span",null,e.createElement(M.DateTimePicker,{className:"dataset-home__section-feature-picker",isValidDate:function(e){return e.isAfter(O.utc().subtract(1,"day"))},value:this.props.scheduledToBeFeatured?O(this.props.scheduledToBeFeatured).toDate():null,dateFormat:"MMMM Do YYYY",timeFormat:"HH:mm",disableOnClickOutside:!0,utc:!0,onChange:function(e){return t.props.onScheduledFeatureChange(O(e).toDate())}}),e.createElement("span",{className:"fa fa-times dataset-home__section-feature-icon",onClick:function(){return t.props.onScheduledFeatureChange(null)}})),!this.props.isEditingSlug&&this.props.scheduledToBeFeatured&&e.createElement("span",null," ",O.utc(this.props.scheduledToBeFeatured).format("MMMM Do YYYY, HH:mm")),!this.props.isEditingSlug&&!this.props.scheduledToBeFeatured&&e.createElement("span",null," (never)"))):"",this.props.canEditPublishStatus&&!this.props.isNewDataset?e.createElement("section",{className:"dataset-home__section"},e.createElement(h.Checkbox,{isChecked:this.props.isRemoved,text:"Is removed?",isEditable:this.props.isEditingSlug,textIsClickable:!0,onChange:this.props.onRemovedChange})):"",this.props.canEditPrivateGroup?e.createElement("section",{className:"dataset-home__section"},e.createElement("div",{className:"dataset-home__section-label"},"Privacy: "),e.createElement(N.SelectBox,{disabled:!this.props.isEditingSlug,className:"dataset-home__private-group-selection",value:(this.props.privateGroupId||0).toString(),options:a,onChange:function(e){return t.props.onPrivateGroupChanged(parseInt(e))}})):""):null,this.props.isNewDataset&&this.props.originalImageUrl.indexOf("default-backgrounds")>-1?e.createElement(s.ContentBox,{title:"Upload a Banner Image",contentClassName:"dataset-home__image-reminder-box"},e.createElement("div",{className:"dataset-home__image-reminder-text"},e.createElement("p",null,"We suggest you upload a relevant or eye-catching banner image to make your dataset stand out. You can find great free, high-resolution images in ",e.createElement("a",{href:"https://unsplash.com/",target:"_blank"},"unplash.com's")," public domain library.")),e.createElement("div",{className:"dataset-home__image-reminder-button"},e.createElement(o.ButtonRoundEdged,{onClick:this.props.onShowImageUploader,text:"Upload Banner Image"}))):null,e.createElement(s.ContentBox,{title:"Description",titleBarRightSide:this.props.canEdit&&!this.props.isNewDataset||this.props.canEditDescription?e.createElement("span",null,!this.props.canEditDescription||this.props.canEdit||this.props.isEditingDescription?null:e.createElement("span",{style:{marginRight:"10px",fontSize:"10pt"}},"Help us describe this dataset"),e.createElement(d.EditStateToggleButton,{sectionName:"Description",cancelPropName:"description",cancelCallback:this.props.onDatasetEditingStateCancelled,isEditing:this.props.isEditingDescription,toggleCallback:this.props.onDatasetEditingStateChanged})):""},e.createElement("section",{className:"dataset-home__section"},this.props.isEditingDescription?e.createElement("div",null,e.createElement(f.InfoToggle,{bannerName:"dataset-description-info",expandedContent:e.createElement("div",{className:"dataset-home__description-helper"},e.createElement("p",null,"Your dataset's description is your chance to capture the interest of the data science community. Especially if you would like your dataset to be featured on Kaggle, your description should answer these questions:"),e.createElement("ul",null,e.createElement("li",null,e.createElement("strong",null,"Context"),": What is the subject matter of the dataset?"),e.createElement("li",null,e.createElement("strong",null,"Content"),": What fields does it include? What's the time period of the data and how was it collected?"),e.createElement("li",null,e.createElement("strong",null,"Acknowledgements"),": Who owns the dataset? Include citations of past research or analysis."),e.createElement("li",null,e.createElement("strong",null,"Inspiration"),": Why is this dataset interesting? What questions would you like answered by the community? Is there any feedback that would be helpful?"))),collapsedContent:e.createElement("div",{className:"dataset-home__description-helper"},"Click here to see tips on describing your dataset.")}),e.createElement(_.MarkdownEditor,{editorClassName:"dataset-home__description-editor",shouldSanitizeHtml:!0,alwaysShowToolbar:!0,defaultValue:this.props.description,placeholder:"Give a detailed description about your dataset.",suffix:"-description",minRows:5,maxRows:15,onChangeCallback:function(e){return t.props.onDatasetPropChanged("description",e)}})):e.createElement(C.MarkdownConverter,{content:this.props.description,mimeType:"text/markdown",insertNofollow:!0})),this.props.privateGroupId?"":e.createElement("div",{className:"dataset-home__bottom-attached-container"},e.createElement("div",{className:"dataset-home__bottom-attached-header"},!this.props.isEditingLicense&&this.props.license?e.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.license}}):e.createElement("div",{className:"dataset-home__bottom-attached-default"},"Select a license"),this.props.canEdit?e.createElement("div",{className:"dataset-home__multiple-button-container"},e.createElement(d.EditStateToggleButton,{sectionName:"License",cancelPropName:"license",saveButtonText:this.props.isNewDataset?"Done":"Save",editButtonText:this.props.isNewDataset?"Select":"Edit",cancelCallback:this.props.onDatasetEditingStateCancelled,isEditing:this.props.isEditingLicense,toggleCallback:this.props.onDatasetEditingStateChanged})):""),this.props.isEditingLicense?e.createElement("div",{className:"dataset-home__bottom-attached-container-contents"},e.createElement("div",{className:"dataset-home__license-list-container"},e.createElement(g.RadioButtonList,{options:this.props.licenses.map(function(e){return{value:e.id,text:e.description}}),onChange:function(e){return t.props.onLicenseChanged(e.value,e.text)},selectedValue:this.props.licenseId,textIsHtml:!0}))):"")),this.props.canEdit||this.props.files.length>0||this.props.isSavingNewVersion?e.createElement(s.ContentBox,{title:this.props.files.length>0?this.props.files.length+" File"+(1!==this.props.files.length?"s":"")+" ("+P(this.props.downloadSize,{round:0})+")":"Upload Files",loaderMessage:"Hold tight while we package up your files...",titleBarRightSide:this.props.canEdit?e.createElement("div",{className:"dataset-home__multiple-button-container"},this.props.isSavingNewVersion?"":e.createElement(T.MediaQuery,{minWidth:T.Breakpoints.desktopMin},this.props.isEditingNewVersion?e.createElement(d.EditStateToggleButton,{sectionName:"NewVersion",cancelPropName:"newVersion",cancelCallback:this.props.onDatasetEditingStateCancelled,toggleCallback:this.props.onDatasetEditingStateChanged,isEditing:this.props.isEditingNewVersion,editButtonText:"Create New Dataset Version",saveButtonText:"Save New Version"}):null)):""},this.props.isSavingNewVersion||this.props.showNewVersionProgress?e.createElement("div",{className:"dataset-home__new-version-status-progress"},this.renderProgressStep(1,"Persisting Metadata"),this.renderProgressStep(2,"Decompressing Files"),this.renderProgressStep(3,"Copying Kernel Files"),this.renderProgressStep(4,"Compressing Files"),this.renderProgressStep(5,"Building Archive")):"",this.props.isEditingNewVersion?e.createElement("div",null,e.createElement("section",{className:"dataset-home__section"},this.props.isNewDataset?e.createElement(f.InfoToggle,{bannerName:"dataset-files-helper-new-dataset",expandedContent:e.createElement("div",null,e.createElement("p",null,"Here are some guidelines for uploading your dataset files:"),e.createElement("ul",null,e.createElement("li",null,"CSV files, the preferred format on Kaggle, should be comma-delimited. These will render properly in the file preview, allowing you to add column-level descriptions."),e.createElement("li",null,"If you need to upload more than 20 files, you can compress them into a ZIP archive. This will be uncompressed on our side to make the data available in Kernels."),e.createElement("li",null,"If you have a SQLite database for this dataset, name it database.sqlite in order for users to be able to query it."),e.createElement("li",null,"Keep file names short and clear. Do not include the datasets name. ",e.createElement(v.ToolTip,{tipText:"When users download the dataset, it will automatically\nunzip to a folder with the name of the dataset."},e.createElement("span",{className:"fa fa-question-circle"}))))),collapsedContent:e.createElement("div",null,"Click here to see some tips on creating, naming, and uploading files for your dataset.")}):e.createElement(f.InfoToggle,{bannerName:"dataset-files-helper-existing-dataset",expandedContent:e.createElement("div",null,e.createElement("p",null,"Here are some guidelines for updating your dataset files: "),e.createElement("ul",null,e.createElement("li",null,e.createElement("strong",null,"All files will be replaced.")," Be sure to include any existing files that will not change."),e.createElement("li",null,e.createElement("strong",null,"To update existing tables"),": Upload a new version of the file and use the same file name as the previous version."),e.createElement("li",null,e.createElement("strong",null,"To add new tables"),": Upload any new files. You must also upload any existing files again."),e.createElement("li",null,e.createElement("strong",null,"To remove tables"),": Simply do not include any files you would like to be removed."))),collapsedContent:e.createElement("div",null,"Click here to see some tips on creating, naming, and updating the files for your dataset.")})),this.props.isNewDataset?null:e.createElement("div",null,e.createElement("div",{className:"dataset-home__new-version-description-editor"},e.createElement(_.MarkdownEditor,{editorClassName:"dataset-home__description-editor",shouldSanitizeHtml:!0,alwaysShowToolbar:!0,suffix:"-newVersionDescription",placeholder:"Enter a description for this version.",onChangeCallback:function(e){return t.props.onDatasetPropChanged("newVersionDescription",e)}}))),e.createElement("div",{className:"dataset-home__file-uploader-container"},e.createElement(b.FileUploader,{createBlobUrl:"/blobs/inbox/dataset-version-files",mode:"multiple",onFileUploadFinished:this.props.onFileUploadFinished,autoRemoveOnComplete:!0,maxUncompressedBytesAllowed:U||this.props.maxUncompressedFileBytesAllowed,maxCompressedBytesAllowed:U||this.props.maxCompressedFileBytesAllowed})),this.props.newVersionFiles&&this.props.newVersionFiles.length>0?e.createElement(E.FilePreviewList,{canEdit:this.props.canEdit,files:this.mapFilePreviews(this.props.newVersionFiles,!0,!0),userCanEditMetadata:!k.Current.isAnonymous,onMetadataChange:this.props.onNewFileMetadataChange}):null,this.props.isNewDataset||this.props.isSavingNewVersion?null:e.createElement("div",null,e.createElement("div",{className:"dataset-home__call-to-action-container"},e.createElement(r.Button,{onClick:function(){return t.props.onDatasetEditingStateChanged("NewVersion")},text:"Save New Version"})),e.createElement("div",{className:"dataset-home__cancel-new-dataset"},e.createElement("button",{className:"dataset-home__cancel-new-dataset-button",onClick:function(){return t.props.onDatasetEditingStateCancelled("NewVersion","newVersion")}},"Cancel")))):"",!this.props.isNewDataset||this.props.isSavingNewVersion?e.createElement("div",{className:this.props.isEditingNewVersion?"dataset-home__bottom-attached-container":""},!this.props.isEditingNewVersion||this.props.showCurrentVersionFiles?e.createElement("div",null,e.createElement(E.FilePreviewList,{canEdit:this.props.canEdit,files:this.mapFilePreviews(this.props.files),userCanEditMetadata:!0,onStartEditingMetadata:k.Current.isAnonymous?this.redirectToLogin:null,onMetadataChange:k.Current.isAnonymous?this.redirectToLogin:this.props.onExistingFileMetadataChange,onAddNewDatasetVersion:this.props.onDatasetEditingStateChanged})):"",this.props.isEditingNewVersion&&this.props.files.length>0?e.createElement("div",{onClick:this.props.onToggleCurrentVersionFiles,className:D("dataset-home__bottom-attached-container-toggle","dataset-home__bottom-attached-container-toggle"+(this.props.showCurrentVersionFiles?"--collapse":"--expand"))},this.props.showCurrentVersionFiles?"hide":"see"," version ",this.props.datasetVersions.filter(function(e){return e.id==t.props.datasetVersionId})[0].versionNumber," file descriptions"):""):""):"",this.props.datasetVersions.length?e.createElement(s.ContentBox,{title:"Versions",titleBarRightSide:this.props.canEdit?e.createElement(d.EditStateToggleButton,{sectionName:"Versions",cancelPropName:"datasetVersions",isEditing:this.props.isEditingVersions,cancelCallback:this.props.onDatasetEditingStateCancelled,toggleCallback:this.props.onDatasetEditingStateChanged}):""},e.createElement(y.DatasetVersionList,{activeVersionId:this.props.datasetVersionId,datasetVersionListItems:this.props.datasetVersions,datasetVersionListKeyBaseName:"dataset-version-key-",datasetVersionNotesRenderer:this.renderVersionNotes,isEditing:this.props.isEditingVersions,textareaPlaceholder:"Enter a description of the updates made on this version.",hideVersionStatuses:this.props.hideVersionStatuses})):"",this.props.isNewDataset?null:e.createElement(s.ContentBox,null,e.createElement("span",{className:"dataset-home__totals"},e.createElement(I.HorizontalList,{list:[e.createElement(w.Pluralize,{word:"view",count:this.props.numberOfViews,formatNumber:!0}),e.createElement(w.Pluralize,{word:"download",count:this.props.numberOfDownloads,formatNumber:!0}),this.props.numberOfScripts&&e.createElement(w.Pluralize,{word:"kernel",count:this.props.numberOfScripts,formatNumber:!0}),e.createElement(w.Pluralize,{word:"topic",count:this.props.numberOfTopics,formatNumber:!0})]}))),this.props.isNewDataset?e.createElement("div",{className:"dataset-home__call-to-action-container"},e.createElement(r.Button,{onClick:this.props.onSaveNewDataset,isDisabled:!this.props.isNewDataset,text:"Publish Dataset"})):this.props.canEdit&&this.props.isSavingNewVersion?null:e.createElement("div",{className:"dataset-home__call-to-action-container"},e.createElement(r.Button,{href:"/datasets",text:"Explore More Datasets",onClick:this.recordExploreMoreDatasetsClicked})))},n}(e.Component);t.DatasetHome=U}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(6),r=n(20),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t="script"==this.props.activityType?"fa-file-code-o":"scriptFork"==this.props.activityType?"fa-code-fork":"scriptRun"==this.props.activityType?"fa-file-code-o":"dataset"==this.props.activityType?"fa-database":"datasetVersion"==this.props.activityType?"fa-database":"topic"==this.props.activityType?"fa-comments-o":"scriptComment"==this.props.activityType?"fa-comment-o":"comment"==this.props.activityType?"fa-comment-o":"",n="script"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Created kernel ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"scriptFork"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Forked kernel ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"scriptRun"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Ran version ",this.props.versionNumber," of kernel ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"dataset"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Created ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},"a dataset")):"datasetVersion"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Created version ",this.props.versionNumber," of dataset ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"topic"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Created a new discussion ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"scriptComment"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Commented on kernel ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"comment"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Commented on dataset discussion ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"";return e.createElement("div",{className:"dataset-activity-feed-item"},e.createElement("div",{className:"dataset-activity-feed-item__images"},e.createElement("div",{className:"dataset-activity-feed-item__icon"},e.createElement("span",{className:i("fa",t)})),e.createElement("a",{href:this.props.userUrl},e.createElement("img",{className:"dataset-activity-feed-item__user-avatar",src:this.props.userAvatarUrl}))),e.createElement("div",{className:"dataset-activity-feed-item__user-link-container"},e.createElement("a",{className:"dataset-activity-feed-item__user-link",href:this.props.userUrl},this.props.userDisplayName)),e.createElement("div",{className:"dataset-activity-feed-item__details"},n),e.createElement(r.TimeAgo,{className:"dataset-activity-feed-item__time",time:this.props.date}))},n}(e.Component);t.DatasetActivityFeedItem=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(37),o=n(122),s=n(9),l=n(44),c=n(215),u=n(214),p=n(8),d=n(59),m=n(152),h=n(679),g=n(1495),f=20,v=function(t){function n(n){var i=t.call(this,n)||this;i.initForDatasetTab=function(){i.availableSelectionGroups=[{value:"featured",label:"Featured"},{value:"all",label:"All"}],p.Current.isAnonymous||(i.props.canSeeUnfeaturedTab&&i.availableSelectionGroups.push({value:"unfeatured",label:"Unfeatured"}),(i.props.canCreateNewDataset||i.props.userId)&&i.availableSelectionGroups.push({value:"my",label:"Mine"}),i.availableSelectionGroups.push({value:"upvoted",label:"Upvoted"}))},i.initForProfile=function(){i.availableSelectionGroups=[{value:"my",label:"Mine"},{separator:!0},{value:"upvoted",label:"Upvoted"}]},i.handleResize=function(){var e=window.innerWidth;i.setState({windowWidth:e,shouldUseMobileSort:e<=d.Breakpoints.mobileMax})},i.onWindowPopState=function(e){if(e.state&&e.state.datasetListFilterState&&e.state.datasetListFilterState.sortBy){var t=e.state.datasetListFilterState;i.onFilterChanged(t.sortBy,t.group,!1)}else i.onFilterChanged(i.props.sortBy,i.props.selectionGroup,!1)},i.onSortByChanged=function(e){i.onFilterChanged(e,i.state.selectionGroup,!0)},i.onSelectionGroupChanged=function(e){i.onFilterChanged(i.state.sortBy,e,!0)},i.onFilterChanged=function(e,t,n){i.container&&(i.container.style.minHeight=a(i.container).height()+"px"),i.setState({page:1,datasetListItems:[],hasLoadedSomeData:!1,isLoadingMoreData:!0,hasMoreData:!0,sortBy:"upvoted"==t&&"relevance"==e?"hottest":e,selectionGroup:t},function(){var e=window.history.state||{};e.datasetListFilterState=i.getFilterParams();var t=window.location.pathname+"?"+a.param(e.datasetListFilterState);n&&window.history.pushState(e,null,t),i.getData(e.datasetListFilterState).then(function(){i.container.style.minHeight="initial"})})},i.onScroll=function(){!i.state.isLoadingMoreData&&i.state.hasMoreData&&i.setState({isLoadingMoreData:!0,page:i.state.page+1},function(){var e=i.getFilterParams();i.getData(e)})},i.onSearchChange=function(e){var t=null==i.qTextBox||""==i.qTextBox;i.qTextBox=e.target.value,t&&null!=i.qTextBox&&""!=i.qTextBox&&i.setState({sortBy:"relevance"}),i.timer&&clearInterval(i.timer),i.timer=window.setInterval(function(){return i.updateSearch(i.qTextBox)},200)},i.handleBeforeUnload=function(e){var t=a(".datasets__list-wrapper");t.is(document.activeElement)||0!==t.has(document.activeElement).length||i.logSearchAction()},i.updateSearch=function(e){i.timer&&clearInterval(i.timer),i.setState({search:e,sortBy:null==e||""==e?"hottest":i.state.sortBy},function(){return i.onFilterChanged(i.state.sortBy,i.state.selectionGroup,!0)})},i.handleClickResult=function(e,t,n){i.logSearchAction("dataset-"+e,t,n)},i.logSearchAction=function(e,t,n){i.state.search&&a.ajax({url:"/search/log",type:"POST",data:{index:"datasets",isQuick:!1,q:i.state.search,isSuccess:null!=e&&null!=t,rank:n,id:e,url:t}})},i.getFilterParams=function(){var e={sortBy:i.state.sortBy,group:i.state.selectionGroup};return i.props.userId&&(e.userId=i.props.userId,e.group="upvoted"===e.group?"upvoted":"my"),1!==i.state.page&&(e.page=i.state.page),i.state.search&&"upvoted"!=i.state.selectionGroup&&(e.search=i.state.search),e},i.getData=function(e){return i.currentDataRequest&&4!==i.currentDataRequest.readyState&&i.currentDataRequest.abort(),i.currentDataRequest=a.ajax({context:i,url:"/datasets.json?"+a.param(e),method:"GET",success:function(e){var t=i.state.datasetListItems.concat(e.datasetListItems);return i.setState({datasetListItems:t,totalDatasetListItems:e.totalDatasetListItems,isLoadingMoreData:!1,hasLoadedSomeData:t.length>0,hasMoreData:t.length<e.totalDatasetListItems})}}),i.currentDataRequest},i.getSelectionGroupItems=function(){return i.availableSelectionGroups.map(function(e,t){return e.separator?{separator:!0}:{name:e.label,key:e.value,href:"?sortBy="+i.state.sortBy+"&group="+e.value,action:function(){i.onSelectionGroupChanged(e.value)}}})},i.getTitle=function(){if(i.state.isLoadingMoreData)return" ";var e="";switch(i.state.selectionGroup){case"featured":e="featured datasets";break;case"unfeatured":e="unfeatured datasets";break;case"my":e="datasets created";break;case"upvoted":e="upvoted datasets";break;case"all":e="datasets"}return(i.state.totalDatasetListItems||0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" "+e},i.getAvailableSortingOrders=function(){var e=[{value:"hottest",label:"Hotness"},{value:"votes",label:"Most Votes"},{value:"updated",label:"Recently Updated"},{value:"active",label:"Recently Active"}];return i.state.search&&e.push({value:"relevance",label:"Relevance"}),e},i.renderSortBy=function(){return e.createElement("div",{className:""},i.state.shouldUseMobileSort?e.createElement("a",{className:"datasets__filters-link--mobile",onClick:function(){return i.showMobileSortMenu(!0)}},"Filter/Sort ",e.createElement("span",{className:"fa fa-angle-right"})):e.createElement("div",{className:"datasets__filters"},e.createElement("p",{className:"datasets__filters-label"},"Sort by"),e.createElement(l.SelectBox,{options:i.getAvailableSortingOrders(),onChange:i.onSortByChanged,searchable:!1,value:i.state.sortBy})))},i.renderOptionalLoadingMessage=function(){return i.state.isLoadingMoreData?e.createElement("div",{className:"script-list-react__message"},"Loading ",i.state.hasLoadedSomeData?"more ":"","datasets..."):null},i.renderOptionalNoMoreScriptsMessage=function(){return!i.state.hasMoreData&&(0===i.state.datasetListItems.length||i.state.datasetListItems.length>f)?e.createElement("div",{className:"script-list-react__message"},e.createElement("span",null,"No ",i.state.hasLoadedSomeData?"more ":"","datasets to show"),e.createElement("br",null)):null},i.renderSearch=function(t){return e.createElement("label",{className:"datasets__search-wrapper datasets__search-wrapper--"+t,style:{display:"upvoted"==i.state.selectionGroup?"none":""}},e.createElement("input",{type:"text",className:"datasets__search datasets__search--"+t,ref:"search",placeholder:"Search datasets",defaultValue:i.props.search,onChange:i.onSearchChange}))},i.renderSubTitleBar=function(){return e.createElement(c.SelectionGroup,{children:i.getSelectionGroupItems(),selected:i.state.selectionGroup,filters:e.createElement(d.MediaQuery,{minWidth:d.Breakpoints.mobileMax+1},i.renderSearch("sub-title-bar"))})},i.showMobileSortMenu=function(e){i.setState({shouldShowMobileSort:e})},i.renderMobileSortMenu=function(){return e.createElement(m.OffCanvasContainer,{closeButtonCallback:function(){return i.showMobileSortMenu(!1)},shouldShowOffCanvas:i.state.shouldShowMobileSort&&i.state.shouldUseMobileSort,shouldUseCloseButton:!0,shouldUseRightSide:!0},e.createElement("div",{className:"datasets__filters--mobile"},e.createElement("p",{className:"datasets__filters-label--mobile"},"Sort by"),e.createElement(l.SelectBox,{className:"datasets__filter--mobile",options:i.getAvailableSortingOrders(),onChange:function(e){i.onSortByChanged(e),i.showMobileSortMenu(!1)},searchable:!1,value:i.state.sortBy})),i.renderSearch("off-canvas"))},i.showUploaderModal=function(){i.setState({showUploaderModal:!0})},i.onUploaderClose=function(e){i.setState({showUploaderModal:!1}),e.isFinished&&e.uploadStatus&&e.uploadStatus.url&&document.location.assign(e.uploadStatus.url)},i.props.userId?i.initForProfile():i.initForDatasetTab();var r=i.props.datasetListItems||[];return i.state={page:1,sortBy:i.props.sortBy||"hottest",selectionGroup:i.props.selectionGroup||(i.props.userId?"my":"featured"),search:i.props.search,isLoadingMoreData:!1,hasMoreData:r.length<i.props.totalDatasetListItems,hasLoadedSomeData:r.length>0,datasetListItems:r,totalDatasetListItems:i.props.totalDatasetListItems,shouldUseMobileSort:window.innerWidth<=d.Breakpoints.mobileMax,shouldShowMobileSort:!1,showUploaderModal:!1},i}return i.__extends(n,t),n.prototype.componentDidMount=function(){window.Intercom("trackEvent","view_datasets"),this.props.datasetListItems||this.onFilterChanged(this.state.sortBy,this.state.selectionGroup,!1)},n.prototype.componentWillMount=function(){window.addEventListener("resize",this.handleResize,!1),window.addEventListener("popstate",this.onWindowPopState,!1),window.addEventListener("beforeunload",this.handleBeforeUnload,!1)},n.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize,!1),window.removeEventListener("popstate",this.onWindowPopState,!1),window.removeEventListener("beforeunload",this.handleBeforeUnload,!1)},n.prototype.render=function(){var t=this,n=window.location.pathname&&"/datasets"==window.location.pathname;return e.createElement("div",{className:"datasets",ref:function(e){return t.container=e}},this.props.banner?e.createElement(o.Banner,{title:"Datasets",infoTitle:"Welcome to Kaggle Datasets",infoSubtitle:"The best place to discover and seamlessly analyze open data",infoBanner:this.props.banner,bannerImageClassName:"datasets__banner-image",callToActionText:"Learn More",callToActionUrl:"/datasets/about",onCallToActionClick:null,callToActionText2:"New Dataset",callToActionUrl2:"/datasets/new",onCallToActionClick2:null,hideCallToActionOnSmallDisplays:!1,panels:[{imageSrc:"/static/images/datasets-1-search@2x.png",title:"Discover",description:"Use the search box to find open datasets on everything from government, health, and science to popular games and dating trends."},{imageSrc:"/static/images/datasets-2-explore@2x.png",title:"Explore",description:e.createElement("span",null,"Execute, share, and comment on code for any open dataset with our in-browser analytics tool, ",e.createElement("a",{href:"/kernels"},"Kaggle Kernels"),". You can also download datasets in an easy-to-read format.")},{imageSrc:"/static/images/datasets-3-create@2x.png",title:"Create a Dataset",description:e.createElement("span",null,"Contribute to the open data movement and connect with other data enthusiasts by clicking ",e.createElement("a",{href:"/datasets/new"},"New Dataset")," to publish an open dataset of your own.")}]}):null,e.createElement("div",{className:"datasets__list-wrapper"},n&&e.createElement("a",{className:"datasets__awards-container",href:"/about/datasets-awards/datasets"},e.createElement("div",{className:"datasets__awards"},e.createElement("div",{className:"datasets__awards-text"},e.createElement("strong",null,"We're awarding $10k in prizes to the top 3 datasets published in August."),e.createElement("br",null),"Click here to check it out."),e.createElement("img",{className:"datasets__awards-image",src:"/static/images/awards/Awards-Datasets@2x.png",width:"96",height:"70"}))),this.props.banner&&this.props.canSeeNewUploader&&this.props.datasetUpload&&e.createElement("div",{className:"datasets__new-uploader"},e.createElement(g.DatasetUploaderContainer,i.__assign({isModal:!0},this.props.datasetUpload,{showModal:this.state.showUploaderModal,onClose:this.onUploaderClose})),e.createElement(r.Button,{classNames:"datasets__new-uploader-button",text:"New Dataset Uploader (internal)",onClick:function(){return t.showUploaderModal()}})),e.createElement(s.ContentBox,{title:this.getTitle(),titleBarRightSide:this.renderSortBy(),subTitleBar:this.renderSubTitleBar()},e.createElement(u.WindowInfiniteScroll,{onScroll:function(){return t.onScroll()}},this.state.datasetListItems.map(function(n,a){return e.createElement(h.DatasetListItem,{key:a,dataset:n,hideIsFeaturedLabel:"featured"==t.state.selectionGroup,onClick:function(){return t.handleClickResult(n.datasetId,n.datasetUrl,a+1)}})}),this.renderOptionalLoadingMessage(),this.renderOptionalNoMoreScriptsMessage())))," ",this.renderMobileSortMenu())},n}(e.Component);t.DatasetListReact=v}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(107),r=n(675),o=n(108),s=n(41),l=n(20),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props.dataset.voteButton;return e.createElement("div",{key:this.props.index,className:"dataset-list-item"},e.createElement("a",{className:"dataset-list-item__link",href:this.props.dataset.datasetUrl,onClick:this.props.onClick}),e.createElement("div",{className:"dataset-list-item__votes"},e.createElement(i.VoteButton,{totalVotes:t.totalVotes,hasAlreadyVotedDown:t.hasAlreadyVotedDown,hasAlreadyVotedUp:t.hasAlreadyVotedUp,canDownvote:t.canDownvote,canUpvote:t.canUpvote,voteDownUrl:t.voteDownUrl,voteUpUrl:t.voteUpUrl,analyticsEventLabel:"dataset-list"})),e.createElement("div",{className:"dataset-list-item__images"},e.createElement("div",{className:"dataset-list-item__image-wrapper"},e.createElement("img",{alt:this.props.dataset.title,className:"dataset-list-item__image",src:this.props.dataset.thumbnailImageUrl}),this.props.hideOwnerAvatar?null:e.createElement("a",{className:"dataset-list-item__image--author-link",href:this.props.dataset.ownerUrl},e.createElement("img",{alt:this.props.dataset.ownerName,className:"dataset-list-item__image--author",src:this.props.dataset.ownerAvatarUrl})))),e.createElement("div",{className:"dataset-list-item__info"},e.createElement("a",{className:"dataset-list-item__name",href:this.props.dataset.datasetUrl,onClick:this.props.onClick},e.createElement(r.GroupIcon,{groupSize:this.props.dataset.privateGroupMemberCount}),this.props.dataset.title,this.props.dataset.isHidden&&!this.props.dataset.isFailed?e.createElement(o.Badge,{text:"Hidden",option:"info"}):null,this.props.dataset.isFailed?e.createElement(o.Badge,{text:"Failed",option:"danger"}):null,this.props.dataset.isFeatured&&!this.props.hideIsFeaturedLabel?e.createElement(o.Badge,{text:"Featured",option:"info"}):null),e.createElement("p",{className:"dataset-list-item__summary"},this.props.dataset.overview),e.createElement("p",{className:"dataset-list-item__details"},e.createElement("a",{href:this.props.dataset.ownerUrl,className:"dataset-list-item__details--author"},this.props.dataset.ownerName),"  updated ",e.createElement(l.TimeAgo,{time:this.props.dataset.dateUpdated}),this.props.dataset.categories&&this.props.dataset.categories.categories&&this.props.dataset.categories.categories.length>0&&e.createElement("span",{className:"dataset-list-item__details--categories"},e.createElement("span",{className:"dataset-list-item__details--categories-icon fa fa-tag"}),this.props.dataset.categories.categories.map(function(t,n){return e.createElement("span",{key:n},n>0?", ":null,e.createElement("a",{className:"dataset-list-item__details--categories-link",href:t.listingUrl||"javascript:void(0)"},t.name))})))),e.createElement("div",{className:"dataset-list-item__metadata"},e.createElement("p",{className:"dataset-list-item__metadatum"},e.createElement("span",{className:"dataset-list-item__metadatum--nonlink"},e.createElement(s.Pluralize,{count:this.props.dataset.downloadCount,word:"download",formatNumber:!0}))),this.props.dataset.scriptCount?e.createElement("p",{className:"dataset-list-item__metadatum"},e.createElement("a",{className:"dataset-list-item__metadatum--link",href:this.props.dataset.scriptsUrl},e.createElement(s.Pluralize,{count:this.props.dataset.scriptCount,word:"kernel",formatNumber:!0}))):null,e.createElement("p",{className:"dataset-list-item__metadatum"},e.createElement("a",{className:"dataset-list-item__metadatum--link",href:this.props.dataset.forumUrl},e.createElement(s.Pluralize,{count:this.props.dataset.topicCount,word:"comment",formatNumber:!0})))))},n}(e.Component);t.DatasetListItem=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(1),r=n(1504),o=n(1505),s=n(1506),l=n(1507),c=n(1508),u=n(1509),p=n(6);!function(e){e[e.Text=0]="Text",e[e.Json=1]="Json",e[e.Table=2]="Table",e[e.ColumnDescriptions=3]="ColumnDescriptions",e[e.Archive=4]="Archive",e[e.Image=5]="Image",e[e.Sqlite=6]="Sqlite"}(a=t.PreviewType||(t.PreviewType={}));var d=function(t){function n(e){var n=t.call(this,e)||this;n.getPossibleTabs=function(e){var t=new Array;if("uploadFile"==e.container.type||"file"==e.container.type){var n=e.container.name,i=n.split("."),r=i[i.length-1];["png","jpg","jpeg","gif"].indexOf(r)>-1?t.push(a.Image):"csv"===r?(t.push(a.Table),"uploadFile"!=e.container.type&&t.push(a.ColumnDescriptions)):"json"===r?t.push(a.Json):["zip","gz","7z","tar"].indexOf(r)>-1?t.push(a.Archive):"sqlite"===r||t.push(a.Text)}return t},n.onChangeTab=function(e){n.setState({activeTab:e})},n.onToggleModalOpen=function(){document.documentElement.style.overflowY=n.state.modalOpen?"scroll":"hidden",n.setState({modalOpen:!n.state.modalOpen})};var r=n.getPossibleTabs(e),o=i.__assign({},n.props,{possibleTabs:r,activeTab:r.length>0?r[0]:null,modalOpen:!1,onChangeTab:n.onChangeTab});return n.state=o,n}return i.__extends(n,t),n.prototype.componentWillReceiveProps=function(e){var t=this.getPossibleTabs(e);this.setState({container:e.container,preview:e.preview,canEditColumnMetadata:e.canEditColumnMetadata,possibleTabs:t,activeTab:t.length>0?t[0]:null})},n.prototype.onContentScroll=function(e){this.contentComponent&&this.contentComponent.onScroll&&"function"==typeof this.contentComponent.onScroll&&this.contentComponent.onScroll(e)},n.prototype.renderTabs=function(){var t=this,n=this.state.preview&&this.state.preview.maxLinesToReturn?" (first "+this.state.preview.maxLinesToReturn+" rows)":"";return e.createElement("div",{className:"data-preview__tabs"},this.state.possibleTabs.some(function(e){return e==a.Text})&&this.renderTab(a.Text,"Preview"+n),this.state.possibleTabs.some(function(e){return e==a.Json})&&this.renderTab(a.Json,"Preview"),this.state.possibleTabs.some(function(e){return e==a.Table})&&this.renderTab(a.Table,"Preview"+n),this.state.possibleTabs.some(function(e){return e==a.ColumnDescriptions})&&this.renderTab(a.ColumnDescriptions,"Column Metadata"),this.state.possibleTabs.some(function(e){return e==a.Archive})&&this.renderTab(a.Archive,"Archive"),this.state.possibleTabs.some(function(e){return e==a.Image})&&this.renderTab(a.Image,"Preview"),e.createElement("div",{className:"data-preview__tabs-modal-toggle-container"},e.createElement("button",{className:"data-preview__tabs-modal-toggle",onClick:function(){return t.onToggleModalOpen()}},this.state.modalOpen?e.createElement("i",{className:"fa fa-close"}):e.createElement("i",{className:"fa fa-arrows-alt"}))))},n.prototype.renderTab=function(t,n){var a=this;return e.createElement("div",{className:p("data-preview__tab",{"data-preview__tab-active":this.state.activeTab==t}),onClick:function(){return a.onChangeTab(t)}},n)},n.prototype.renderContent=function(){var t=this,n=e.createElement("div",{className:"data-preview__loading"},"Loading..."),p=function(e){t.contentComponent=e},d=!(this.state.activeTab==a.Archive||this.state.activeTab==a.Image);if(this.state.preview||!d)if(d&&this.state.preview&&this.state.preview.error)n=e.createElement("div",{className:"data-preview__error"},this.state.preview.error);else if(d&&this.state.preview&&this.state.preview.noPreviewAvailable)n=e.createElement("div",{className:"data-preview__not-available"},"No preview available");else switch(this.state.activeTab){case a.Text:n=e.createElement(r.DataPreviewText,i.__assign({},this.props,this.state,{ref:p}));break;case a.Json:n=e.createElement(o.DataPreviewJson,i.__assign({},this.props,this.state,{ref:p}));break;case a.Table:n=e.createElement(s.DataPreviewTable,i.__assign({},this.props,this.state,{ref:p}));break;case a.ColumnDescriptions:n=e.createElement(u.DataPreviewColumnDescriptions,i.__assign({},this.props,this.state,{ref:p}));break;case a.Archive:n=e.createElement(l.DataPreviewArchive,i.__assign({},this.props,this.state,{ref:p}));break;case a.Image:n=e.createElement(c.DataPreviewImage,i.__assign({},this.props,this.state,{ref:p}));break;default:n=e.createElement("div",{className:"data-preview__not-available"},"No preview available")}return this.contentElement=n,e.createElement("div",{className:"data-preview__content",onScroll:function(e){return t.onContentScroll(e)}},n)},n.prototype.render=function(){return e.createElement("div",{className:p("data-preview",{"data-preview__modal":this.state.modalOpen})},this.renderTabs(),this.renderContent())},n}(e.Component);t.DataPreviewContainer=d}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(194),r=function(){function e(t){var n=this;this.editor=t,this.sessionId=i.uuid(10),this.status=i.KernelStatus.Unknown,this.connectedStatuses=[i.KernelStatus.Running,i.KernelStatus.RenderingHtml,i.KernelStatus.Stopped],this.statusChanged=function(e,t){n.scriptRunId=t,e!==n.status&&(n.sendTailOfLastStatus(),n.sendHeadOfCurrentStatus(e))},this.sendTailOfLastStatus=function(){return n.sendCurrentStatus()},this.sendHeadOfCurrentStatus=function(e){n.status=e,n.statusId=i.uuid(10),n.start=(new Date).getTime(),n.sendCurrentStatus()},this.sendCurrentStatus=function(){n.calculateTiming(),n.hasStatus()&&n.trackStatus()},this.commonDimensions=function(){return{host:window.location.host,editor:n.editor,sessionId:n.sessionId,scriptRunId:n.scriptRunId}},this.trackStatus=function(){var t=n.buildEventMetrics(),r=n.isConnected(),o=a.__assign({},n.commonDimensions(),{id:n.statusId});!function(t,o){a.__awaiter(n,void 0,void 0,function(){var n,s,l,c,u,p;return a.__generator(this,function(d){switch(d.label){case 0:return s=(n=appInsights).trackEvent,l=["notebook:status-"+i.KernelStatus[this.status].toLowerCase()],c=[{},o],u={},p=r,p?[3,2]:[4,e.isOnline()];case 1:p=d.sent(),d.label=2;case 2:return s.apply(n,l.concat([a.__assign.apply(void 0,c.concat([(u.online=p,u)])),t])),[2]}})})}(t,o)},this.trackEvent=function(e,t,i){var r=a.__assign({},n.commonDimensions(),t);appInsights.trackEvent("notebook:"+e,r,a.__assign({},i,{sampleTimeMs:(new Date).getTime()}))},this.calculateTiming=function(){return n.msInStatus=(new Date).getTime()-n.start},this.isConnected=function(){return n.connectedStatuses.indexOf(n.status)>=0},this.reportConnectionStatus=function(){return n.msInStatus>1e4},this.buildEventMetrics=function(){return a.__assign({notebookMsInStatus:n.msInStatus,sampleTime:(new Date).getTime()},n.reportConnectionStatus()&&{notebookDisconnectedPercentage:n.isConnected()?0:100})},this.hasStatus=function(){return n.status!==i.KernelStatus.Unknown},setInterval(this.sendCurrentStatus.bind(this),6e4)}return e.isOnline=function(){return new Promise(function(e,t){var n=document.createElement("img");n.onerror=function(){return e(!1)},n.onload=function(){return e(!0)},n.src="https://www.google.com/favicon.ico?"+(new Date).getTime()})},e}();t.NotebookTelemetry=r},,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(8),r=n(1582),o=function(t){function n(e){var n=t.call(this,e)||this;return n.onTabChanged=function(e){var t="followers"==e?n.props.followers:n.props.following,a=t.count>n.props.limitTo?n.props.limitTo:-1;n.setState({activeTab:e,activeList:t,showCount:a,isShowMoreButtonVisible:t.count>n.props.limitTo}),n.props.largeComponent&&n.props.replaceUrlForTab&&n.props.replaceUrlForTab(e)},n.onShowMore=function(){n.props.largeComponent?n.setState({showCount:-1,isShowMoreButtonVisible:!1}):n.props.onProfileTabChanged(n.state.activeTab)},n.state=n.getDefaultState(e.initiallyActiveTab||"followers"),n}return a.__extends(n,t),n.prototype.getDefaultState=function(e){var t=this.props.followers.count+this.props.following.count,n=i.Current.isAdmin||i.Current.userId===this.props.userId,a="Followers",r=!0,o="followers"==e?this.props.followers:this.props.following,s=o.count>this.props.limitTo?this.props.limitTo:-1;return n||(this.props.followers.count>0&&0==this.props.following.count?(a="Followers ("+this.props.followers.count+")",r=!1,o=this.props.followers):this.props.following.count>0&&0==this.props.followers.count&&(a="Following ("+this.props.following.count+")",r=!1,o=this.props.following)),{followers:this.props.followers,following:this.props.following,userId:this.props.userId,limitTo:this.props.limitTo,largeComponent:this.props.largeComponent,activeTab:e,activeList:o,showCount:s,isShowMoreButtonVisible:o.count>this.props.limitTo,isHeaderVisible:r,isFollowersVisible:!!n||this.props.followers.count>0,isFollowingVisible:!!n||this.props.following.count>0,isComponentVisible:!!n||t>0,title:a,onShowMore:this.onShowMore,onTabChanged:this.onTabChanged}},n.prototype.componentWillReceiveProps=function(e){this.state=this.getDefaultState(e.initiallyActiveTab||"followers")},n.prototype.render=function(){var t=this.getDefaultState(this.state.activeTab);return this.state.showCount<0&&(t.showCount=this.state.showCount,t.isShowMoreButtonVisible=this.state.isShowMoreButtonVisible),e.createElement(r.Followers,t)},n}(e.Component);t.FollowersContainer=o}).call(t,n(0))},function(e,t,n){"use strict";function a(e){for(var n=0,a=t.CountryList;n<a.length;n++){var i=a[n];if(e==i.value)return i.label}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.getCountryNameByCode=a,t.CountryList=[{label:"Afghanistan",value:"AF"},{label:"Albania",value:"AL"},{label:"Algeria",value:"DZ"},{label:"American Samoa",value:"AS"},{label:"Andorra",value:"AD"},{label:"Angola",value:"AO"},{label:"Anguilla",value:"AI"},{label:"Antarctica",value:"AQ"},{label:"Antigua & Barbuda",value:"AG"},{label:"Argentina",value:"AR"},{label:"Armenia",value:"AM"},{label:"Aruba",value:"AW"},{label:"Australia",value:"AU"},{label:"Austria",value:"AT"},{label:"Azerbaijan",value:"AZ"},{label:"Bahamas",value:"BS"},{label:"Bahrain",value:"BH"},{label:"Bangladesh",value:"BD"},{label:"Barbados",value:"BB"},{label:"Belarus",value:"BY"},{label:"Belgium",value:"BE"},{label:"Belize",value:"BZ"},{label:"Benin",value:"BJ"},{label:"Bermuda",value:"BM"},{label:"Bhutan",value:"BT"},{label:"Bolivia",value:"BO"},{label:"Bosnia",value:"BA"},{label:"Botswana",value:"BW"},{label:"Bouvet Island",value:"BV"},{label:"Brazil",value:"BR"},{label:"British Indian Ocean Territory",value:"IO"},{label:"British Virgin Islands",value:"VG"},{label:"Brunei",value:"BN"},{label:"Bulgaria",value:"BG"},{label:"Burkina Faso",value:"BF"},{label:"Burundi",value:"BI"},{label:"Cambodia",value:"KH"},{label:"Cameroon",value:"CM"},{label:"Canada",value:"CA"},{label:"Cape Verde",value:"CV"},{label:"Caribbean Netherlands",value:"BQ"},{label:"Cayman Islands",value:"KY"},{label:"Central African Republic",value:"CF"},{label:"Chad",value:"TD"},{label:"Chile",value:"CL"},{label:"China",value:"CN"},{label:"Christmas Island",value:"CX"},{label:"Cocos (Keeling) Islands",value:"CC"},{label:"Colombia",value:"CO"},{label:"Comoros",value:"KM"},{label:"Congo - Brazzaville",value:"CG"},{label:"Congo - Kinshasa",value:"CD"},{label:"Cook Islands",value:"CK"},{label:"Costa Rica",value:"CR"},{label:"Croatia",value:"HR"},{label:"Cuba",value:"CU"},{label:"Curaao",value:"CW"},{label:"Cyprus",value:"CY"},{label:"Czech Republic",value:"CZ"},{label:"Cte dIvoire",value:"CI"},{label:"Denmark",value:"DK"},{label:"Djibouti",value:"DJ"},{label:"Dominica",value:"DM"},{label:"Dominican Republic",value:"DO"},{label:"Ecuador",value:"EC"},{label:"Egypt",value:"EG"},{label:"El Salvador",value:"SV"},{label:"Equatorial Guinea",value:"GQ"},{label:"Eritrea",value:"ER"},{label:"Estonia",value:"EE"},{label:"Ethiopia",value:"ET"},{label:"Falkland Islands",value:"FK"},{label:"Faroe Islands",value:"FO"},{label:"Fiji",value:"FJ"},{label:"Finland",value:"FI"},{label:"France",value:"FR"},{label:"French Guiana",value:"GF"},{label:"French Polynesia",value:"PF"},{label:"French Southern Territories",value:"TF"},{label:"Gabon",value:"GA"},{label:"Gambia",value:"GM"},{label:"Georgia",value:"GE"},{label:"Germany",value:"DE"},{label:"Ghana",value:"GH"},{label:"Gibraltar",value:"GI"},{label:"Greece",value:"GR"},{label:"Greenland",value:"GL"},{label:"Grenada",value:"GD"},{label:"Guadeloupe",value:"GP"},{label:"Guam",value:"GU"},{label:"Guatemala",value:"GT"},{label:"Guernsey",value:"GG"},{label:"Guinea",value:"GN"},{label:"Guinea-Bissau",value:"GW"},{label:"Guyana",value:"GY"},{label:"Haiti",value:"HT"},{label:"Heard & McDonald Islands",value:"HM"},{label:"Honduras",value:"HN"},{label:"Hong Kong",value:"HK"},{label:"Hungary",value:"HU"},{label:"Iceland",value:"IS"},{label:"India",value:"IN"},{label:"Indonesia",value:"ID"},{label:"Iran",value:"IR"},{label:"Iraq",value:"IQ"},{label:"Ireland",value:"IE"},{label:"Isle of Man",value:"IM"},{label:"Israel",value:"IL"},{label:"Italy",value:"IT"},{label:"Jamaica",value:"JM"},{label:"Japan",value:"JP"},{label:"Jersey",value:"JE"},{label:"Jordan",value:"JO"},{label:"Kazakhstan",value:"KZ"},{label:"Kenya",value:"KE"},{label:"Kiribati",value:"KI"},{label:"Kuwait",value:"KW"},{label:"Kyrgyzstan",value:"KG"},{label:"Laos",value:"LA"},{label:"Latvia",value:"LV"},{label:"Lebanon",value:"LB"},{label:"Lesotho",value:"LS"},{label:"Liberia",value:"LR"},{label:"Libya",value:"LY"},{label:"Liechtenstein",value:"LI"},{label:"Lithuania",value:"LT"},{label:"Luxembourg",value:"LU"},{label:"Macau",value:"MO"},{label:"Macedonia",value:"MK"},{label:"Madagascar",value:"MG"},{label:"Malawi",value:"MW"},{label:"Malaysia",value:"MY"},{label:"Maldives",value:"MV"},{label:"Mali",value:"ML"},{label:"Malta",value:"MT"},{label:"Marshall Islands",value:"MH"},{label:"Martinique",value:"MQ"},{label:"Mauritania",value:"MR"},{label:"Mauritius",value:"MU"},{label:"Mayotte",value:"YT"},{label:"Mexico",value:"MX"},{label:"Micronesia",value:"FM"},{label:"Moldova",value:"MD"},{label:"Monaco",value:"MC"},{label:"Mongolia",value:"MN"},{label:"Montenegro",value:"ME"},{label:"Montserrat",value:"MS"},{label:"Morocco",value:"MA"},{label:"Mozambique",value:"MZ"},{label:"Myanmar",value:"MM"},{label:"Namibia",value:""},{label:"Nauru",value:"NR"},{label:"Nepal",value:"NP"},{label:"Netherlands",value:"NL"},{label:"New Caledonia",value:"NC"},{label:"New Zealand",value:"NZ"},{label:"Nicaragua",value:"NI"},{label:"Niger",value:"NE"},{label:"Nigeria",value:"NG"},{label:"Niue",value:"NU"},{label:"Norfolk Island",value:"NF"},{label:"North Korea",value:"KP"},{label:"Northern Mariana Islands",value:"MP"},{label:"Norway",value:"NO"},{label:"Oman",value:"OM"},{label:"Pakistan",value:"PK"},{label:"Palau",value:"PW"},{label:"Palestine",value:"PS"},{label:"Panama",value:"PA"},{label:"Papua New Guinea",value:"PG"},{label:"Paraguay",value:"PY"},{label:"Peru",value:"PE"},{label:"Philippines",value:"PH"},{label:"Pitcairn Islands",value:"PN"},{label:"Poland",value:"PL"},{label:"Portugal",value:"PT"},{label:"Puerto Rico",value:"PR"},{label:"Qatar",value:"QA"},{label:"Romania",value:"RO"},{label:"Russia",value:"RU"},{label:"Rwanda",value:"RW"},{label:"Runion",value:"RE"},{label:"Samoa",value:"WS"},{label:"San Marino",value:"SM"},{label:"Saudi Arabia",value:"SA"},{label:"Senegal",value:"SN"},{label:"Serbia",value:"RS"},{label:"Seychelles",value:"SC"},{label:"Sierra Leone",value:"SL"},{label:"Singapore",value:"SG"},{label:"Sint Maarten",value:"SX"},{label:"Slovakia",value:"SK"},{label:"Slovenia",value:"SI"},{label:"Solomon Islands",value:"SB"},{label:"Somalia",value:"SO"},{label:"South Africa",value:"ZA"},{label:"South Georgia & South Sandwich Islands",value:"GS"},{label:"South Korea",value:"KR"},{label:"South Sudan",value:"SS"},{label:"Spain",value:"ES"},{label:"Sri Lanka",value:"LK"},{label:"St. Barthlemy",value:"BL"},{label:"St. Helena",value:"SH"},{label:"St. Kitts & Nevis",value:"KN"},{label:"St. Lucia",value:"LC"},{label:"St. Martin",value:"MF"},{label:"St. Pierre & Miquelon",value:"PM"},{label:"St. Vincent & Grenadines",value:"VC"},{label:"Sudan",value:"SD"},{label:"Suriname",value:"SR"},{label:"Svalbard & Jan Mayen",value:"SJ"},{label:"Swaziland",value:"SZ"},{label:"Sweden",value:"SE"},{label:"Switzerland",value:"CH"},{label:"Syria",value:"SY"},{label:"So Tom & Prncipe",value:"ST"},{label:"Taiwan",value:"TW"},{label:"Tajikistan",value:"TJ"},{label:"Tanzania",value:"TZ"},{label:"Thailand",value:"TH"},{label:"Timor-Leste",value:"TL"},{label:"Togo",value:"TG"},{label:"Tokelau",value:"TK"},{label:"Tonga",value:"TO"},{label:"Trinidad & Tobago",value:"TT"},{label:"Tunisia",value:"TN"},{label:"Turkey",value:"TR"},{label:"Turkmenistan",value:"TM"},{label:"Turks & Caicos Islands",value:"TC"},{label:"Tuvalu",value:"TV"},{label:"U.S. Outlying Islands",value:"UM"},{label:"U.S. Virgin Islands",value:"VI"},{label:"Uganda",value:"UG"},{label:"Ukraine",value:"UA"},{label:"United States",value:"US"},{label:"United Kingdom",value:"GB"},{label:"United Arab Emirates",value:"AE"},{label:"Uruguay",value:"UY"},{label:"Uzbekistan",value:"UZ"},{label:"Vanuatu",value:"VU"},{label:"Vatican City",value:"VA"},{label:"Venezuela",value:"VE"},{label:"Vietnam",value:"VN"},{label:"Wallis & Futuna",value:"WF"},{label:"Western Sahara",value:"EH"},{label:"Yemen",value:"YE"},{label:"Zambia",value:"ZM"},{label:"Zimbabwe",value:"ZW"}]},function(e,t,n){"use strict";(function(e,a,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(1),l=n(136),c=n(158),u=n(1621),p=n(1679),d=n(8),m=n(1680),h=n(21),g=n(219),f=n(1751);!function(e){e[e.Header=0]="Header",e[e.Thumbnail=1]="Thumbnail"}(o=t.CompetitionImageType||(t.CompetitionImageType={}));var v=function(t){function n(e,n){var l=t.call(this,e)||this;l.calculateHasMergerDeadline=function(e,t){var n=p.resolveTime(e),a=p.resolveTime(t);l.hasMergerDeadline=a!=n},l.onHistoryChange=function(e,t){var n=l.state.activeTab,a=e.pathname.split("/");if(a.length){var i=["overview","host","data","rules","discussion","kernels","leaderboard","admin","submit","submissions","team"],r=a[a.length-1];if(n!==r&&i.includes(r)){var o=r;l.onCompetitionTabChanged(o)}}e.state&&e.state.competitionTabState&&l.setState(e.state.competitionTabState)},l.getUiState=function(e){void 0===e&&(e=l.state.activeTab);var t=e.toLowerCase(),n=l.state;return{competitionTabState:{activePane:t,activeTab:e,isNewTopic:n.isNewTopic,topicId:n.topicId,submissionsPage:n.submissionsPage,submissionsGroup:n.submissionsGroup,submissionsSortBy:n.submissionsSortBy}}},l.onTopicClicked=function(e){var t=l.context.history;l.setState({topicId:e.id},function(){var n=l.getUiState();t.push(e.topicUrl,n,e.title);var a=window.location.pathname+window.location.search;t.replace(a,n,document.title)})},l.onTopicSubmitted=function(e){l.setState({isNewTopic:!1,topicId:e},function(){return l.updateUrlForTab("discussion")})},l.onWindowUnload=function(e){if(l.state.unsavedChangesExist){return e.returnValue="All unsaved changes will be lost!","All unsaved changes will be lost!"}return null},l.allowToLeave=function(){return!l.state.unsavedChangesExist||confirm("All unsaved changes will be lost!")},l.updateUnsavedChangesFlag=function(e){l.setState({unsavedChangesExist:e})},l.onCompetitionTabChanged=function(e){return h.PageMessages.clear(),location.hash.length>0&&(location.hash=""),l.allowToLeave()?new Promise(function(t,n){l.setState({activePane:e.toLowerCase(),activeTab:e,isNewTopic:!1,topicId:null},function(){location.pathname.length>0&&!location.pathname.endsWith(e)&&l.updateUrlForTab(e),l.mySubmissionsSmartListRef&&l.mySubmissionsSmartListRef.refetchData(),l.updateUnsavedChangesFlag(!1),t()})}):Promise.resolve()},l.updateUrlForTab=function(e,t){void 0===t&&(t=!1);var n=l.context.history,a=l.getUiState(e),i=["admin","discussion","host","overview"],r=l.competitionUrl,o=e.toLowerCase();if("overview"!==o){r+="/"+o;var s=l.state,c=s.isNewTopic,u=s.topicId,p=s.submissionsPage,d=s.submissionsGroup,m=s.submissionsSortBy,h=u||(c?"new":null);h&&"discussion"===o&&(r+="/"+h),"submissions"===o&&(r+="?sortBy="+m+"&group="+d+"&page="+p)}var g=i.indexOf(o)>-1?window.location.hash:null;t?n.replace(r,a):n.push(r,a),g&&(window.location.hash=g)},l.onCompetitionEditingStateCancelled=function(e,t){for(var n=(c={},c["isEditing"+e]=!1,c),a={},i=0,r=t;i<r.length;i++){var o=r[i];a[o]=l.state.lastSavedState[o]}l.setState(s.__assign({},n,a));var c},l.onCompetitionEditingStateChanged=function(e){var t="isEditing"+e,n=l.state[t],a=(i={},i[t]=!n,i);l.setState(a);var i},l.onReenableSubmssion=function(){l.setState({remainingDailySubmissions:l.props.maxDailySubmissions,maxDailySubmissionsResetDate:new Date((new Date).setDate((new Date).getDate()+1))})},l.checkForPhoneVerificationAndUserName=function(){return l.props.needsPhoneVerification?(window.location.href="/account/phone/number?returnUrl="+l.competitionUrl,!1):!!d.Current.userName||(window.location.href="/account/set-username?returnUrl="+l.competitionUrl,!1)},l.onShowRulesModal=function(e){l.checkForPhoneVerificationAndUserName()&&l.setState({acceptRulesCallback:e,showRulesModal:!0})},l.fetchCompetitionJson=function(){a.Competitions.getCompetitionJson({id:l.props.competitionId}).then(function(e){e.competitionId&&e.competitionId===l.props.competitionId&&l.onCompetitionPropsChanged(e)})},l.onCompetitionStateChanged=function(e,t){if("showRulesModal"==e)if(t){if(!l.checkForPhoneVerificationAndUserName())return}else l.setState({acceptRulesCallback:null});l.setState((n={},n[e]=t,n));var n},l.onCompetitionPropsChanged=function(e){e.competitionId&&e.competitionId===l.props.competitionId&&(e.activeTab!==l.state.activeTab&&(e.activePane=l.state.activePane,e.activeTab=l.state.activeTab),l.setState(e,function(){l.calculateHasMergerDeadline(e.mergerDeadline,e.deadline),e.competitionSlug&&e.competitionSlug!==l.props.competitionSlug&&(l.competitionUrl="/c/"+e.competitionSlug,window.history.replaceState({},null,"/c/"+e.competitionSlug+"/"+l.state.activePane))}))},l.onCreateTopic=function(){var e={isNewTopic:!0,topicId:null};l.setState(e,function(){return l.updateUrlForTab("discussion")})},l.onAcceptCompetitionRules=function(){return s.__awaiter(l,void 0,void 0,function(){var e,t,n,a;return s.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),this.checkForPhoneVerificationAndUserName()?this.state.hasAcceptedRules?(this.state.acceptRulesCallback&&(this.state.acceptRulesCallback(),this.setState({acceptRulesCallback:null})),h.PageMessages.clear(),h.PageMessages.info("You have already accepted the rules, no need to do it again!"),[2]):d.Current.userId?[4,i(this.props.acceptRulesUrl,{method:"POST",credentials:"include"})]:(window.location.href="/account/login",[2]):[2];case 1:return e=r.sent(),e.redirected?(window.location.assign(e.url),[2]):(this.state.acceptRulesCallback&&this.state.acceptRulesCallback(),[4,e.json()]);case 2:return t=r.sent(),n=t.team,this.setState({acceptRulesCallback:null,hasAcceptedRules:!0,showRulesModal:!1,team:n}),h.PageMessages.clear(),h.PageMessages.success("You have accepted the rules for this competition."),[3,4];case 3:return a=r.sent(),h.PageMessages.clear(),h.PageMessages.error({htmlMessage:'There was a problem accepting the rules for this competition. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'}),[3,4];case 4:return[2]}})})},l.updateTeamName=function(e){var t=s.__assign({},l.state.team,{name:e});l.setState({team:t})},l.setMySubmissionsSmartListRef=function(e){l.mySubmissionsSmartListRef=e},l.refetchMySubmissions=function(){l.mySubmissionsSmartListRef&&l.mySubmissionsSmartListRef.refetchData()},l.setLeaderboardRef=function(e){l.leaderboardRef=e},l.refetchLeaderboard=function(){return l.leaderboardRef?l.leaderboardRef.fetchPublicLeaderboard():null},l.pollScoringStatus=function(){if(l.state.mostRecentSubmissionStatus&&"pending"==l.state.mostRecentSubmissionStatus.submissionStatus)return l.submissionInitializtionTimedOut||l.state.mostRecentSubmissionStatus.ellapsedWaitDurationMilliseconds>6e4&&0==(l.state.mostRecentSubmissionStatus.id||0)||l.state.mostRecentSubmissionStatus.ellapsedWaitDurationMilliseconds>l.state.mostRecentSubmissionStatus.estimatedWaitDurationMilliseconds+6e4||l.state.mostRecentSubmissionStatus.ellapsedScoreDurationMilliseconds>l.state.mostRecentSubmissionStatus.estimatedScoreDurationMilliseconds+6e4?(h.PageMessages.clear(),void h.PageMessages.info({htmlMessage:"Our workers are spending a little extra time on your submission. Grab a coffee and refresh later to see your score."})):void r.get(l.props.submissionStatusUrl+"?apiVersion=1&teamId="+(l.props.team&&l.props.team.id||"null")+"&submissionId="+(l.state.mostRecentSubmissionStatus&&l.state.mostRecentSubmissionStatus.id!=l.lastCompletedSubmissionId?l.state.mostRecentSubmissionStatus.id||"null":"null")+"&greaterThanSubmissionId="+l.lastCompletedSubmissionId).then(function(e){if(!e)return void window.setTimeout(l.pollScoringStatus,1e3);"pending"!=e.submissionStatus?l.lastCompletedSubmissionId=e.id:window.setTimeout(l.pollScoringStatus,1e3),"complete"==e.submissionStatus?l.setState({previousRank:l.state.mostRecentSubmissionStatus.rank,remainingDailySubmissions:e.remainingDailySubmissions,mostRecentSubmissionStatus:e},function(){l.refetchMySubmissions(),l.refetchLeaderboard().then(function(){return window.setTimeout(function(){return l.jumpToLeaderboardPosition()},1e3)})}):l.setState({mostRecentSubmissionStatus:e})})},l.clearMostRecentSubmissionStatus=function(){l.setState({mostRecentSubmissionStatus:null})},l.jumpToLeaderboardPosition=function(){l.onCompetitionTabChanged("leaderboard").then(function(){var e=r("#score").offset();e&&r("html,body").animate({scrollTop:e.top-100},"slow")})},l.showPendingSubmission=function(){l.setState({mostRecentSubmissionStatus:{submissionStatus:"pending",dateSubmitted:new Date}},function(){l.submissionInitializtionTimedOut=!1,window.setTimeout(function(){l.state.mostRecentSubmissionStatus.id,l.submissionInitializtionTimedOut=!0},6e4),l.pollScoringStatus()})},l.onToggleImageUploader=function(e){var t;switch(e){case o.Header:t={isAddingHeaderImage:!l.state.isAddingHeaderImage,isAddingThumbnailImage:!1};break;case o.Thumbnail:t={isAddingHeaderImage:!1,isAddingThumbnailImage:!l.state.isAddingThumbnailImage}}l.setState(t)},l.uploadImageRequest=function(e,t,n){return s.__awaiter(l,void 0,void 0,function(){var n,a=this;return s.__generator(this,function(i){return n=(new Date).getTime(),[2,r.ajax({context:this,headers:g.withAntiForgeryHeader({}),url:e,type:"POST",dataType:"json",contentType:!1,processData:!1,data:t,success:function(e){a.setState({isAddingHeaderImage:!1,isAddingThumbnailImage:!1,competitionHeaderImageUrl:e.coverImageUrl?e.coverImageUrl+"?t="+n:a.state.competitionHeaderImageUrl,competitionThumbnailImageUrl:e.thumbnailImageUrl?e.thumbnailImageUrl+"?t="+n:a.state.competitionThumbnailImageUrl},function(){h.PageMessages.clear(),h.PageMessages.success("Your image was uploaded successfully.")})},error:function(e){a.setState({isAddingHeaderImage:!1,isAddingThumbnailImage:!1},function(){h.PageMessages.clear(),h.PageMessages.error("There was a problem with your image upload.")})}})]})})},l.buildImageRects=function(e,t){return e.append("ImageRect.Left",Math.floor(t[0].left).toString()),e.append("ImageRect.Top",Math.floor(t[0].top).toString()),e.append("ImageRect.Width",Math.floor(t[0].width).toString()),e.append("ImageRect.Height",Math.floor(t[0].height).toString()),e},l.onUploadCompetitionImage=function(e,t){return l.uploadImageRequest(l.uploadImageUrl,l.buildImageRects(e,t))},l.onCompetitionDataFileAdded=function(e,t,n){return s.__awaiter(l,void 0,void 0,function(){var e;return s.__generator(this,function(n){switch(n.label){case 0:return[4,a.BlobFiles.copyBlobToCompetitionReact.withHeaders(g.withAntiForgeryHeader())({competitionId:this.props.competitionId,blobFileToken:t})];case 1:return e=n.sent(),this.setState({files:this.state.files.concat({id:e.id,name:e.name,supersededById:e.supersededById,totalBytes:e.totalBytes,url:e.url})}),[2]}})})},l.onCompetitionDataFileDeleted=function(e){return s.__awaiter(l,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return[4,a.Competitions.deleteDataFileReact.withHeaders(g.withAntiForgeryHeader())({id:this.props.competitionId,competitionDataFileId:e})];case 1:return t.sent(),this.setState({files:this.state.files.filter(function(t){return t.id!=e})}),[2]}})})};var c=l.props,m=c.activeTab,v=c.canEdit,_=c.isCreatingCompetition,b=(c.dateEnabled,c.mergerDeadline),E=c.deadline,y=c.competitionSlug;_?(l.competitionUrl="",l.hasMergerDeadline=!1):(l.competitionUrl="/c/"+y,l.calculateHasMergerDeadline(b,E));var w=m.toLowerCase();"admin"!==w||v||(m="overview",w="overview");var C=s.__assign({},e,{activeTab:m,activePane:w,isEditingOverviewPages:!1,isEditingFiles:!1,onShowRulesModal:l.onShowRulesModal,showRulesModal:!1,isProcessingRulesAcceptance:!1,editing:f.Map([["data",f.Map([["evaluation",!1],["benchmarks",!1]])]]),previousRank:l.props.mostRecentSubmissionStatus&&l.props.mostRecentSubmissionStatus.rank,unsavedChangesExist:!1});return l.store=u.createStore(C),l.state=s.__assign({},C,{lastSavedState:C}),l.lastCompletedSubmissionId=l.props.mostRecentSubmissionStatus&&"pending"!=l.props.mostRecentSubmissionStatus.submissionStatus?l.props.mostRecentSubmissionStatus.id:0,l.uploadImageUrl="/c/"+l.props.competitionId+"/images.json",l.rescoreSpecificSubmissionsUrl="/admin/c/"+l.props.competitionId+"/rescore/specific",l.props.mostRecentSubmissionStatus&&"pending"==l.props.mostRecentSubmissionStatus.submissionStatus&&(l.submissionInitializtionTimedOut=!1,window.setTimeout(function(){l.state.mostRecentSubmissionStatus.id,l.submissionInitializtionTimedOut=!0},6e4),l.pollScoringStatus()),l.launchCompetitionUrl="/admin/c/"+l.props.competitionId+"/launch",l}return s.__extends(n,t),n.prototype.componentDidMount=function(){this.state.activeTab;if(-1!==window.location.hash.indexOf("#latest-")){var e=window.location.pathname+window.location.search;this.context.history.replace(e,this.getUiState())}if(this.state.isCompetitionPending){var t={type:"info",message:"This competition hasn't been launched. Only hosts and Kaggle admins can see it.",isPersistent:!0};h.PageMessages.add([t])}this.state.canParticipate||!this.state.competitionId||d.Current.isAnonymous||h.PageMessages.add([{type:"info",message:"This is a limited-participation competition. Only invited users may participate.",isPersistent:!0}])},n.prototype.componentWillMount=function(){var e=this.context.history;this.unlisten=e.listen(this.onHistoryChange),window.addEventListener("beforeunload",this.onWindowUnload)},n.prototype.componentWillUnmount=function(){this.unlisten(),window.removeEventListener("beforeunload",this.onWindowUnload)},n.prototype.render=function(){var t=this;return e.createElement(l.Provider,{store:this.store},e.createElement(m.Competition,s.__assign({onAcceptCompetitionRules:this.onAcceptCompetitionRules,onCompetitionEditingStateCancelled:this.onCompetitionEditingStateCancelled,onCompetitionEditingStateChanged:this.onCompetitionEditingStateChanged,onCompetitionStateChanged:this.onCompetitionStateChanged,onCompetitionPropsChanged:this.onCompetitionPropsChanged,onCompetitionTabChanged:this.onCompetitionTabChanged,onCompetitionDataFileAdded:this.onCompetitionDataFileAdded,onCompetitionDataFileDeleted:this.onCompetitionDataFileDeleted,onCreateTopic:this.onCreateTopic,onReenableSubmssion:this.onReenableSubmssion,onSubmissionStatusChanged:this.refetchMySubmissions,onToggleImageUploader:this.onToggleImageUploader,onTopicClicked:this.onTopicClicked,onTopicSubmitted:this.onTopicSubmitted,onUploadCompetitionImage:this.onUploadCompetitionImage,updateTeamName:this.updateTeamName,hasMergerDeadline:this.hasMergerDeadline,competitionUrl:this.competitionUrl,ref:function(e){t.competitionRef=e},setMySubmissionsSmartListRef:this.setMySubmissionsSmartListRef,refetchMySubmissions:this.refetchMySubmissions,showPendingSubmission:this.showPendingSubmission,clearMostRecentSubmissionStatus:this.clearMostRecentSubmissionStatus,jumpToLeaderboardPosition:this.jumpToLeaderboardPosition,setLeaderboardRef:this.setLeaderboardRef,rescoreSpecificSubmissionsUrl:this.rescoreSpecificSubmissionsUrl,launchCompetitionUrl:this.launchCompetitionUrl,updateUnsavedChangesFlag:this.updateUnsavedChangesFlag,fetchCompetitionJson:this.fetchCompetitionJson},this.state)))},n=s.__decorate([c.historyProvider,c.historyContext],n)}(e.Component);t.CompetitionContainer=v}).call(t,n(0),n(23),n(36),n(3))},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(1),o=n(1704),s=n(21),l=n(219);!function(e){e[e.Submitted=0]="Submitted",e[e.AcceptedRules=1]="AcceptedRules",e[e.AcceptedRulesUnsubmitted=2]="AcceptedRulesUnsubmitted"}(i=t.CompetitionAdminContactLeaderboardFilters||(t.CompetitionAdminContactLeaderboardFilters={}));var c=function(t){function n(e){var n=t.call(this,e)||this;return n.defaultAdminTab="attributes",n.onWindowPopState=function(e){e.state&&e.state.competitionAdminTabState&&n.setState(e.state.competitionAdminTabState)},n.onAdminTabChanged=function(e,t){t.ctrlKey||t.shiftKey||t.metaKey||t.button&&1==t.button||n.setState({activeAdminTab:e},function(){return n.updateUrlForTab(e)})},n.updateUrlForTab=function(e,t){void 0===t&&(t=!1);var a={},i=e.toLowerCase().replace(/\s+/g,"-")||n.defaultAdminTab,r=n.props.competitionUrl+"/admin";a.competitionTabState={activePane:"admin",activeTab:"admin"},a.competitionAdminTabState={activeAdminTab:i},i!=n.defaultAdminTab&&(r+="#"+i),t?history.replaceState(a,"",r):history.pushState(a,"",r)},n.onToggleDeadlineConfirmationModal=function(){n.setState({showDeadlineConfirmationModal:!n.state.showDeadlineConfirmationModal})},n.onRescoreManualTextChange=function(e){var t=e.target.value.replace(/\s+/g,"").replace(/,,+/g,",").replace(/^,|,$/g,"").split(",");n.setState({submissionsToRescore:t})},n.onChangeEmailLeaderboardFilter=function(e){return n.setState({emailLeaderboardFilter:e})},n.onChangeEmailFrom=function(e){return n.setState({emailFrom:e.target.value})},n.onChangeEmailSubject=function(e){return n.setState({emailSubject:e.target.value})},n.onChangeEmailBody=function(e){return n.setState({emailBody:e})},n.onChangeLeftTeamId=function(e){return n.setState({mergeLeftTeamId:e.target.value})},n.onChangeRightTeamId=function(e){return n.setState({mergeRightTeamId:e.target.value})},n.onChangeCloneInput=function(e){return n.setState({sourceCompetitionId:e.target.value})},n.onChangeForceMerge=function(){return n.setState({shouldForceMerge:!n.state.shouldForceMerge})},n.onChangeHostQuery=function(e){return n.setState({newHostQuery:e.target.value})},n.adminGetAction=function(e,t){return r.__awaiter(n,void 0,void 0,function(){var n,i,o;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,a(e,{method:"GET",headers:l.withAntiForgeryHeader({Accept:"application/json","Content-Type":"application/json"}),credentials:"same-origin"})];case 1:return n=r.sent(),s.PageMessages.clear(),s.PageMessages.info("Your request has been made. You may need to refresh."),[4,n.json()];case 2:return i=r.sent(),t(i),[3,4];case 3:return o=r.sent(),o.pageMessages&&s.PageMessages.set(o.pageMessages),[3,4];case 4:return[2]}})})},n.adminPostAction=function(e,t,i,o){return void 0===i&&(i=!1),r.__awaiter(n,void 0,void 0,function(){var n,c,u;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),n=new Headers(l.withAntiForgeryHeader({Accept:"application/json","Content-Type":"application/json"})),i&&n.append("redirect","follow"),[4,a(e,{method:"POST",headers:n,credentials:"same-origin",body:JSON.stringify(t)})];case 1:return c=r.sent(),i&&(window.location.href=c.headers.get("location")),s.PageMessages.clear(),s.PageMessages.info("Your request has been made. You may need to refresh."),o(),[3,3];case 2:return u=r.sent(),u.pageMessages&&s.PageMessages.set(u.pageMessages),[3,3];case 3:return[2]}})})},n.onLaunchCompetition=function(){return n.adminGetAction(n.props.launchCompetitionUrl)},n.onSetDeadlineToNow=function(){n.setState({showDeadlineConfirmationModal:!1},function(){n.adminGetAction(n.setCompetitionDeadlineToNowUrl)})},n.onRescoreErrored=function(){return n.adminGetAction(n.rescoreErroredSubmissionsUrl)},n.onRescorePending=function(){return n.adminGetAction(n.rescorePendingSubmissionsUrl)},n.onRescoreCompleted=function(){return n.adminGetAction(n.rescoreCompletedSubmissionsUrl)},n.onRescoreCompletedWithoutDetails=function(){return n.adminGetAction(n.rescoreCompletedSubmissionsWithoutDetailsUrl)},n.onRescoreAll=function(){return n.adminGetAction(n.rescoreAllSubmissionsUrl)},n.onRescoreManual=function(){return n.adminGetAction(n.props.rescoreSpecificSubmissionsUrl+"?submissionsToRescore="+n.state.submissionsToRescore.join(","))},n.onRecalculateLeaderboard=function(){return n.adminGetAction(n.recalculateLeaderboardUrl)},n.onMergeTeams=function(){return n.adminGetAction(n.mergeTeamsUrl+"?leftTeamId="+n.state.mergeLeftTeamId+"&rightTeamId="+n.state.mergeRightTeamId+"&forceMerge="+n.state.shouldForceMerge)},n.onAddNewHost=function(e){n.setState({isLoadingHostsList:!0,userSearchResults:[]},function(){n.adminPostAction(n.addCompetitionHostUrl,{teamUserId:[e]},!1,function(){return n.onGetHostsList()})})},n.onRemoveHost=function(e){n.adminGetAction(n.removeCompetitionHostUrl+"?adminUserId="+e),n.onGetHostsList()},n.onSearchForUsers=function(){n.setState({isLoadingSearchResults:!0},function(){n.adminGetAction(n.searchForUsersUrl+"&query="+n.state.newHostQuery,function(e){n.setState({isLoadingSearchResults:!1,userSearchResults:e})})})},n.onEmailParticipants=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),n.adminPostAction(n.emailParticipantsUrl,{segmentFilter:n.state.emailLeaderboardFilter,from:n.state.emailFrom,subject:n.state.emailSubject,body:n.state.emailBody,previewEmail:e,sendSampleEmail:t},e)},n.onCloneCompetition=function(){n.adminPostAction(n.cloneCompetitionUrl,{destinationCompetitionId:n.props.competitionId,sourceCompetitionId:parseInt(n.state.sourceCompetitionId)})},n.onGetHostsList=function(){n.setState({isLoadingHostsList:!0},function(){return r.__awaiter(n,void 0,void 0,function(){var e,t,n;return r.__generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,a(this.getCompetitionHostsUrl,{method:"GET",headers:l.withAntiForgeryHeader({Accept:"application/json","Content-Type":"application/json"}),credentials:"same-origin"})];case 1:return e=i.sent(),[4,e.json()];case 2:return t=i.sent(),t.pageMessages&&t.pageMessages.length>0&&s.PageMessages.set(t.pageMessages),200==e.status&&this.setState({hostsList:t,isLoadingHostsList:!1}),[3,4];case 3:return n=i.sent(),this.setState({isLoadingHostsList:!1},function(){n.pageMessages&&s.PageMessages.set(n.pageMessages)}),[3,4];case 4:return[2]}})})})},n.activeAdminTab=window.location.hash.replace("#","")||n.defaultAdminTab,n.state={activeAdminTab:n.activeAdminTab,isAddingHeaderImage:!1,isAddingThumbnailImage:!1,isAddingFrontPageImage:!1,submissionsToRescore:[],mergeLeftTeamId:"",mergeRightTeamId:"",sourceCompetitionId:"",shouldForceMerge:!1,newHostQuery:"",hostsList:[],isLoadingHostsList:!1,isLoadingSearchResults:!1,emailLeaderboardFilter:i[i.Submitted],emailFrom:"Kaggle <competitions@kaggle.com>",emailSubject:n.props.competitionTitle,emailBody:"",showDeadlineConfirmationModal:!1,userSearchResults:[],competitionHeaderImageUrl:n.props.competitionHeaderImageUrl,competitionThumbnailImageUrl:n.props.competitionThumbnailImageUrl,competitionFrontPageImageUrl:n.props.competitionFrontPageImageUrl},n.helperProps={onAdminTabChanged:n.onAdminTabChanged,onLaunchCompetition:n.onLaunchCompetition,onSetDeadlineToNow:n.onSetDeadlineToNow,onRescoreErrored:n.onRescoreErrored,onRescorePending:n.onRescorePending,onRescoreCompleted:n.onRescoreCompleted,onRescoreCompletedWithoutDetails:n.onRescoreCompletedWithoutDetails,onRescoreAll:n.onRescoreAll,onRescoreManual:n.onRescoreManual,onRescoreManualTextChange:n.onRescoreManualTextChange,onRecalculateLeaderboard:n.onRecalculateLeaderboard,onChangeLeftTeamId:n.onChangeLeftTeamId,onChangeRightTeamId:n.onChangeRightTeamId,onMergeTeams:n.onMergeTeams,onEmailParticipants:n.onEmailParticipants,onCloneCompetition:n.onCloneCompetition,onChangeCloneInput:n.onChangeCloneInput,onChangeForceMerge:n.onChangeForceMerge,onChangeHostQuery:n.onChangeHostQuery,onAddNewHost:n.onAddNewHost,onRemoveHost:n.onRemoveHost,onSearchForUsers:n.onSearchForUsers,onGetHostsList:n.onGetHostsList,onChangeEmailLeaderboardFilter:n.onChangeEmailLeaderboardFilter,onChangeEmailFrom:n.onChangeEmailFrom,onChangeEmailSubject:n.onChangeEmailSubject,onChangeEmailBody:n.onChangeEmailBody,onToggleDeadlineConfirmationModal:n.onToggleDeadlineConfirmationModal},n.updateUrlForTab(n.activeAdminTab,!0),n.setCompetitionDeadlineToNowUrl="/admin/competitions/"+n.props.competitionId+"/set-deadline-now",n.rescoreErroredSubmissionsUrl="/admin/c/"+n.props.competitionId+"/rescore/all-errored",n.rescorePendingSubmissionsUrl="/admin/c/"+n.props.competitionId+"/rescore/all-pending",n.rescoreCompletedSubmissionsUrl="/admin/c/"+n.props.competitionId+"/rescore/all-completed",n.rescoreCompletedSubmissionsWithoutDetailsUrl="/admin/c/"+n.props.competitionId+"/rescore/all-completed/without-additional-details",n.rescoreAllSubmissionsUrl="/admin/c/"+n.props.competitionId+"/rescore/all",n.recalculateLeaderboardUrl="/admin/c/"+n.props.competitionId+"/leaderboard/update",n.mergeTeamsUrl="/teams/merge",n.removeCompetitionHostUrl="/c/"+n.props.competitionId+"/admins/remove",n.searchForUsersUrl="/users/searchAdmins.json?competitionId="+n.props.competitionId,n.getCompetitionHostsUrl="/c/"+n.props.competitionId+"/admins.json",n.cloneCompetitionUrl="/admin/competitions/clone",n.emailParticipantsUrl="/admin/c/"+n.props.competitionId+"/react/email",n.addCompetitionHostUrl="/c/"+n.props.competitionId+"/admins/update",n}return r.__extends(n,t),n.prototype.componentWillMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1)},n.prototype.componentDidMount=function(){this.onGetHostsList()},n.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1)},n.prototype.render=function(){var t=this.props,n=(t.children,r.__rest(t,["children"]));return e.createElement(o.CompetitionAdmin,r.__assign({},n,this.helperProps,this.state))},n}(e.Component);t.CompetitionAdminContainer=c}).call(t,n(0),n(36))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(1719),o=n(158),s=n(21),l=n(163),c=n(8),u=n(129),p=n(27);t.rescoreSubmissionsTrigger=u.createTaskTrigger(e.Admin.rescoreSpecificSubmissionsJson),t.invalidateSubmissionsTrigger=u.createTaskTrigger(e.Admin.invalidateSubmissionsJson),t.hideTeamsTrigger=u.createTaskTrigger(e.Admin.bulkHideTeamSubmissionsJson),t.unhideTeamsTrigger=u.createTaskTrigger(e.Admin.bulkUnhideTeamSubmissionsJson);var d=function(n){function u(a){var r=n.call(this,a)||this;return r.defaultHostTab="settings",r.onHistoryChange=function(e,t){var n=e.hash,a=n.replace("#","");r.onHostTabChanged(a,{})},r.validationRules=[{isValid:function(){return r.state.updatedCompetitionTitle&&r.state.updatedCompetitionTitle.trim().length>0},id:"competition-no-title",message:function(){return"Please enter a title for your competition."},alwaysValidate:!0},{isValid:function(){return!r.state.updatedCompetitionTitle||0==r.state.updatedCompetitionTitle.trim().length||r.state.updatedCompetitionTitle.trim().length>6&&r.state.updatedCompetitionTitle.trim().length<50},id:"competition-title-length",message:function(){return"The title must be between 6 and 50 characters in length."},alwaysValidate:!0},{isValid:function(){return!(!r.state.updatedBriefDescription||!r.state.updatedBriefDescription.trim())},id:"competition-no-description",message:function(){return"Please enter a short description for your competition."},alwaysValidate:!0},{isValid:function(){return!(r.state.updatedBriefDescription&&r.state.updatedBriefDescription.trim().length>125)},id:"competition-description-length",message:function(){return"Your description must be fewer than 125 characters."},alwaysValidate:!0},{isValid:function(){return!(!r.state.updatedCompetitionSlug||!r.state.updatedCompetitionSlug.trim())},id:"competition-no-slug",message:function(){return"Please enter a URL for your competition."},alwaysValidate:!0},{isValid:function(){return!(r.state.updatedCompetitionSlug&&(r.state.updatedCompetitionSlug.trim().length<3||r.state.updatedCompetitionSlug.trim().length>50))},id:"competition-slug-length",message:function(){return"The URL must be between 3 and 50 characters."},alwaysValidate:!0},{isValid:function(){return p.utc(r.state.updatedDeadline).isValid()},id:"competition-deadline-not-valid",message:function(){return"The deadline must be a valid date."},alwaysValidate:!0},{isValid:function(){return parseInt(r.state.updatedMaxTeamSize)&&parseInt(r.state.updatedMaxTeamSize)>0||r.state.unlimitedTeamSize},id:"competition-max-team-size-not-a-number",message:function(){return"The maximum team size for your competition should be a positive nonzero number."},alwaysValidate:!0},{isValid:function(){return parseInt(r.state.updatedMaxDailySubmissions)&&parseInt(r.state.updatedMaxDailySubmissions)>0},id:"competition-max-daily-submissions-not-a-number",message:function(){return"The maximum daily submissions for your competition should be a positive nonzero number."},alwaysValidate:!0},{isValid:function(){return parseInt(r.state.updatedScoredPrivateSubmissions)&&parseInt(r.state.updatedScoredPrivateSubmissions)>0},id:"competition-scored-private-submissions-not-a-number",message:function(){return"The scored private submissions for your competition should be a positive nonzero number."},alwaysValidate:!0}],r.onHostTabChanged=function(e,t){t.ctrlKey||t.shiftKey||t.metaKey||t.button&&1==t.button||r.setState({activeHostTab:e},function(){return r.updateUrlForTab(e)})},r.updateUrlForTab=function(e,t){void 0===t&&(t=!1);var n={},a=e.toLowerCase().replace(/\s+/g,"-")||r.defaultHostTab,i=r.props.competitionUrl+"/host";n.competitionTabState={activePane:"host",activeTab:"host"},n.competitionHostTabState={activeAdminTab:a},a!=r.defaultHostTab&&(i+="#"+a),t?history.replaceState(n,"",i):history.pushState(n,"",i)},r.onChangeBriefDescription=function(e){r.setState({updatedBriefDescription:e.target.value},function(){return r.clearFixedValidations()})},r.onChangeCompetitionSlug=function(e){r.setState({updatedCompetitionSlug:e,useTitleForSlug:!1},function(){return r.clearFixedValidations()})},r.onChangeCompetitionTitle=function(e){var t=e.target.value,n={updatedCompetitionTitle:t};r.state.useTitleForSlug&&(n.updatedCompetitionSlug=l.slugify(t)),r.setState(n,function(){return r.clearFixedValidations()})},r.onChangeMaxDailySubmissions=function(e){r.setState({updatedMaxDailySubmissions:e.target.value},function(){return r.clearFixedValidations()})},r.onChangeMaxTeamSize=function(e){var t={updatedMaxTeamSize:e.target.value};r.state.unlimitedTeamSize&&(t.unlimitedTeamSize=!1),r.setState(t,function(){return r.clearFixedValidations()})},r.onChangeScoredPrivateSubmissions=function(e){r.setState({updatedScoredPrivateSubmissions:e.target.value},function(){return r.clearFixedValidations()})},r.onSelectCategory=function(e){r.setState({selectedCategory:e})},r.onSelectOrganization=function(e){r.setState({selectedOrganizationId:parseInt(e)})},r.onSelectPrivacySetting=function(e){r.setState({competitionPrivacy:e})},r.onToggleAllowAnonymousTeams=function(){r.setState({updatedAllowAnonymousTeams:!r.state.updatedAllowAnonymousTeams})},r.onToggleCountsTowardsRanking=function(){r.setState({updatedCountsTowardsRanking:!r.state.updatedCountsTowardsRanking})},r.onToggleCountsTowardsTiers=function(){r.setState({updatedCountsTowardsTiers:!r.state.updatedCountsTowardsTiers})},r.onToggleAllowTeamMergers=function(){r.setState({updatedAllowTeamMergers:!r.state.updatedAllowTeamMergers})},r.onToggleUnlimitedTeamSize=function(){var e={unlimitedTeamSize:!r.state.unlimitedTeamSize};r.state.unlimitedTeamSize||(e.updatedMaxTeamSize=""),r.setState(e,function(){return r.clearFixedValidations()})},r.onChangeDeadline=function(e){e&&r.setState({updatedDeadline:e},function(){return r.clearFixedValidations()})},r.onSelectTeam=function(e,t){var n=r.state.teams.slice();e.isPartiallyChecked&&(n[t].isPartiallyChecked=!1),n[t].submissions.map(function(t){return t.isChecked=!e.isChecked||e.isPartiallyChecked}),n[t].isChecked=!e.isChecked,r.setState({teams:n})},r.onSelectAllTeams=function(e){if(r.state.showSelectAllTeamsWarning||e){var t=r.state.teams.slice();t.map(function(t){t.isChecked=!e,t.isPartiallyChecked=!1}),r.setState({showSelectAllTeamsWarning:!1,teams:t})}else r.setState({showSelectAllTeamsWarning:!0})},r.onCancelSelectAllTeams=function(){r.setState({showSelectAllTeamsWarning:!1})},r.onExpandTeam=function(e,t){var n=r.state.teams.slice();e.isExpanded?(n[t].isExpanded=!1,r.setState({teams:n})):e.submissions.length>0?(n[t].isExpanded=!0,r.setState({teams:n})):r.getTeamSubmissions(e.id).then(function(a){var o=[];a.map(function(t,n){o[n]=i.__assign({},t,{isChecked:e.isChecked})}),n[t].submissions=o,n[t].isExpanded=!0,r.setState({teams:n})})},r.onChangeTeamFilter=function(e){r.setState({teamFilter:e.target.value})},r.onClearTeamFilter=function(){r.setState({teamFilter:""},function(){return r.getTeams()})},r.onSearchTeams=function(){return r.getTeams(r.state.teamFilter)},r.onSelectSubmission=function(e,t,n,a){var i=r.state.teams.slice();i[n].submissions[a].isChecked=!i[n].submissions[a].isChecked;var o=i[n].submissions.some(function(e){return e.isChecked});i[n].submissions.some(function(e){return!e.isChecked})?o?(i[n].isChecked=!1,i[n].isPartiallyChecked=!0):(i[n].isChecked=!1,i[n].isPartiallyChecked=!1):(i[n].isChecked=!0,i[n].isPartiallyChecked=!1),r.setState({teams:i})},r.onCollapseAllTeams=function(){var e=r.state.teams.slice();e.map(function(e){return e.isExpanded=!1}),r.setState({teams:e})},r.onDeselectAllSubmissions=function(){for(var e=r.state.teams.slice(),t=0,n=e;t<n.length;t++){var a=n[t];a.isChecked=!1,a.isPartiallyChecked=!1;for(var i=0,o=a.submissions;i<o.length;i++){o[i].isChecked=!1}}r.setState({teams:e})},r.onDeselectAllTeams=function(){for(var e=r.state.teams.slice(),t=0,n=e;t<n.length;t++){n[t].isChecked=!1}r.setState({teams:e})},r.onCopyMagicLink=function(){r.setState({copyMagicLinkToolTip:"Copied!"},function(){setTimeout(function(){r.setState({copyMagicLinkToolTip:"Copy to clipboard"})},1250)})},r.onCancelMagicLinkRegeneration=function(){r.setState({showMagicLinkChangeWarning:!1})},r.onRegenerateMagicLink=function(){r.state.showMagicLinkChangeWarning?r.setState({showMagicLinkChangeWarning:!1},function(){e.Competitions.regenerateShareToken({id:r.props.competitionId}).then(function(e){r.props.onCompetitionStateChanged("shareToken",e.shareToken)})}):r.setState({showMagicLinkChangeWarning:!0})},r.getOrganizations=function(t){return e.Users.getOrganizations({filter:t}).then(function(e){var t=[];return e.map(function(e,n){t[n]={label:e.name,value:e.id.toString(),thumbnailUrl:e.thumbnailImageUrl}}),{options:t}})},r.getTeams=function(t){r.setState({isLoadingAllTeams:!0},function(){return e.Competitions.getTeams({id:r.props.competitionId,filter:t||""}).then(function(e){var t=[];e.map(function(e,n){t[n]=i.__assign({isExpanded:!1,isChecked:!1,isPartiallyChecked:!1,submissions:[]},e)}),r.setState({isLoadingAllTeams:!1,teams:t})})})},r.getTeamSubmissions=function(t){return e.Competitions.getSubmissionsByTeam({id:r.props.competitionId,teamId:t})},r.onDownloadSubmissions=function(){s.PageMessages.clear();var e=r.state.teams.map(function(e){return e.isChecked?e.entries:e.isPartiallyChecked?e.submissions.filter(function(e){return e.isChecked}).length:0}).reduce(function(e,t){return e+t},0);if(!c.Current.isAdmin&&e>1e3)return void s.PageMessages.error("Please select fewer than 1000 submissions to download ("+e+" currently selected)");var t=r.state.teams.map(function(e){return e.isChecked?e.entriesSizeInBytes:e.isPartiallyChecked?e.submissions.filter(function(e){return e.isChecked}).reduce(function(e,t){return e+t.contentLength},0):0}).reduce(function(e,t){return e+t},0);if(!c.Current.isAdmin&&t>1e9)return void s.PageMessages.error("Please select less than 1GB of submissions to download ("+t/1e9+"GB currently selected)");var n=document.createElement("form");n.setAttribute("method","post"),n.setAttribute("action","/c/"+r.props.competitionId+"/submissions/multiplesubmissions.zip"),n._submit_function_=n.submit;for(var a=0,i=r.collectSubmissionIds();a<i.length;a++){var o=i[a];n.appendChild(r.createHiddenFormField("submissionsToDownload",o.toString()))}for(var l=0,u=r.collectTeamIds();l<u.length;l++){var p=u[l];n.appendChild(r.createHiddenFormField("teamsToDownload",p.toString()))}n.appendChild(r.createHiddenFormField("groupByTeam","true")),n.appendChild(r.createHiddenFormField("__RequestVerificationToken",c.Current.antiForgeryToken)),document.body.appendChild(n),n._submit_function_()},r.onRescoreSubmissions=function(){var e=r.collectSubmissionIds(),n=r.collectTeamIds();r.setState({showRescoreProgressModal:!0},function(){t.rescoreSubmissionsTrigger({competitionId:r.props.competitionId},{submissionIdsToRescore:e,teamIdsToRescore:n}).then(function(){r.setState({showRescoreProgressModal:!1},function(){return r.getTeams()})}).catch(function(e){s.PageMessages.clear(),s.PageMessages.error(e)})})},r.onInvalidateSubmissions=function(){var e=r.collectSubmissionIds(),n=r.collectTeamIds();(e.length>0||n.length>0)&&r.setState({showInvalidationProgressModal:!0},function(){t.invalidateSubmissionsTrigger({id:r.props.competitionId},{submissionIdsToInvalidate:e,teamIdsToInvalidate:n}).then(function(){r.setState({showInvalidationProgressModal:!1},function(){return r.getTeams()})}).catch(function(e){s.PageMessages.clear(),s.PageMessages.error(e)})})},r.onHideSubmissions=function(){var e=r.collectTeamIds();e.length>0&&r.setState({showTeamHidingProgressModal:!0},function(){t.hideTeamsTrigger({teamIds:e}).then(function(){r.setState({showTeamHidingProgressModal:!1},function(){return r.getTeams()})}).catch(function(e){s.PageMessages.clear(),s.PageMessages.error(e)})})},r.onUnhideSubmissions=function(){var e=r.collectTeamIds();e.length>0&&r.setState({showTeamUnhidingProgressModal:!0},function(){t.unhideTeamsTrigger({teamIds:e}).then(function(){r.setState({showTeamUnhidingProgressModal:!1},function(){return r.getTeams()})}).catch(function(e){s.PageMessages.clear(),s.PageMessages.error(e)})})},r.onChangeWhitelistUsers=function(e){console.log(e.target.value),r.setState({updatedWhitelistUsers:e.target.value},function(){return r.clearFixedValidations()})},r.onSaveSettings=function(){var t=r.state;s.PageMessages.clear(),r.setState({isSavingCompetitionSettings:!0,validationPageMessages:[]},function(){var n=r.getValidationPageMessages();if(n.filter(function(e){return e.type="error"}).length>0)return void r.setState({isSavingCompetitionSettings:!1,validationPageMessages:n});e.Competitions.saveSettings({id:r.props.competitionId},{title:t.updatedCompetitionTitle,slug:t.updatedCompetitionSlug,briefDescription:t.updatedBriefDescription,hostSegment:t.selectedCategory,competitionType:"prediction",useKernels:!1,organizationId:t.selectedOrganizationId,deadline:p.utc(t.updatedDeadline).toDate(),maxTeamSize:parseInt(t.updatedMaxTeamSize),allowTeamMergers:t.updatedAllowTeamMergers,allowAnonymousTeams:t.updatedAllowAnonymousTeams,maxDailySubmissions:parseInt(t.updatedMaxDailySubmissions),numScoredPrivateSubmissions:parseInt(t.updatedScoredPrivateSubmissions),countsTowardsRanking:t.updatedCountsTowardsRanking,countsTowardsTiers:t.updatedCountsTowardsTiers}).then(function(e){var t=e;r.setState({isSavingCompetitionSettings:!1},function(){t.errors?t.errors.map(function(e){s.PageMessages.error(e)}):(e.competitionSlug!==r.props.competitionSlug&&window.history.replaceState({},null,"/c/"+e.competitionSlug+"/"+r.props.activePane),e.competitionTitle!==r.props.competitionTitle&&(document.title=e.competitionTitle+" | Kaggle"),e.competitionId===r.props.competitionId?(r.props.onCompetitionPropsChanged(e),s.PageMessages.success("Settings saved successfully.")):s.PageMessages.success("Settings saved successfully. You may need to refresh to see your changes."))})})})},r.onSavePrivacy=function(){var t=r.state;s.PageMessages.clear(),r.setState({isSavingCompetitionPrivacy:!0,validationPageMessages:[]},function(){var n=r.getValidationPageMessages();if(n.filter(function(e){return e.type="error"}).length>0)return void r.setState({isSavingCompetitionPrivacy:!1,validationPageMessages:n});e.Competitions.savePrivacy({id:r.props.competitionId},{privacy:t.competitionPrivacy,userWhitelist:t.updatedWhitelistUsers}).then(function(e){var t=e;r.setState({isSavingCompetitionPrivacy:!1},function(){t.errors?t.errors.map(function(e){s.PageMessages.error(e)}):s.PageMessages.success("Settings saved successfully.")})})})},r.activeHostTab=window.location.hash.replace("#","")||r.defaultHostTab,r.state={activeHostTab:r.activeHostTab,isLoadingAllTeams:!0,isLoadingSubmissions:!1,selectedCategory:a.hostSegment,selectedOrganizationId:a.organizationId||null,competitionPrivacy:a.competitionPrivacy,teams:[],unlimitedTeamSize:!a.maxTeamSize,updatedAllowAnonymousTeams:a.allowAnonymousTeams,updatedCountsTowardsRanking:a.countsTowardsRanking,updatedCountsTowardsTiers:a.countsTowardsTiers,updatedAllowTeamMergers:a.allowTeamMergers,updatedCompetitionTitle:a.competitionTitle,updatedCompetitionSlug:a.competitionSlug,updatedBriefDescription:a.briefDescription,updatedMaxDailySubmissions:a.maxDailySubmissions.toString(),updatedMaxTeamSize:a.maxTeamSize?a.maxTeamSize.toString():"",updatedScoredPrivateSubmissions:a.numScoredSubmissions.toString(),useTitleForSlug:a.competitionHasLaunched,validationPageMessages:[],updatedDeadline:p.utc(a.deadline),teamFilter:"",showMagicLinkChangeWarning:!1,copyMagicLinkToolTip:"Copy to clipboard",showSelectAllTeamsWarning:!1,showRescoreProgressModal:!1,showInvalidationProgressModal:!1,showTeamHidingProgressModal:!1,showTeamUnhidingProgressModal:!1},r.helperProps={onHostTabChanged:r.onHostTabChanged,onChangeBriefDescription:r.onChangeBriefDescription,onChangeCompetitionSlug:r.onChangeCompetitionSlug,onChangeCompetitionTitle:r.onChangeCompetitionTitle,onChangeMaxDailySubmissions:r.onChangeMaxDailySubmissions,onChangeMaxTeamSize:r.onChangeMaxTeamSize,onChangeScoredPrivateSubmissions:r.onChangeScoredPrivateSubmissions,onSaveSettings:r.onSaveSettings,onSavePrivacy:r.onSavePrivacy,onSelectCategory:r.onSelectCategory,onSelectOrganization:r.onSelectOrganization,onSelectPrivacySetting:r.onSelectPrivacySetting,onToggleAllowAnonymousTeams:r.onToggleAllowAnonymousTeams,onToggleCountsTowardsRanking:r.onToggleCountsTowardsRanking,onToggleCountsTowardsTiers:r.onToggleCountsTowardsTiers,onToggleAllowTeamMergers:r.onToggleAllowTeamMergers,onToggleUnlimitedTeamSize:r.onToggleUnlimitedTeamSize,getOrganizations:r.getOrganizations,onChangeDeadline:r.onChangeDeadline,onSelectTeam:r.onSelectTeam,onSelectAllTeams:r.onSelectAllTeams,onCancelSelectAllTeams:r.onCancelSelectAllTeams,onExpandTeam:r.onExpandTeam,onChangeTeamFilter:r.onChangeTeamFilter,onSearchTeams:r.onSearchTeams,onClearTeamFilter:r.onClearTeamFilter,onSelectSubmission:r.onSelectSubmission,onDeselectAllSubmissions:r.onDeselectAllSubmissions,onDeselectAllTeams:r.onDeselectAllTeams,onCollapseAll:r.onCollapseAllTeams,onDownloadSubmissions:r.onDownloadSubmissions,onRescoreSubmissions:r.onRescoreSubmissions,onInvalidateSubmissions:r.onInvalidateSubmissions,onHideSubmissions:r.onHideSubmissions,onUnhideSubmissions:r.onUnhideSubmissions,onCopyMagicLink:r.onCopyMagicLink,onRegenerateMagicLink:r.onRegenerateMagicLink,onCancelMagicLinkRegeneration:r.onCancelMagicLinkRegeneration,onChangeWhitelistUsers:r.onChangeWhitelistUsers},r}return i.__extends(u,n),u.prototype.componentDidMount=function(){this.unlisten=this.context.history.listen(this.onHistoryChange),this.updateUrlForTab(this.activeHostTab,!0),this.getTeams()},u.prototype.componentWillUnmount=function(){this.unlisten()},u.prototype.getValidationPageMessages=function(e){var t=this;return this.validationRules.filter(function(n){return!n.isValid()&&(!e||n.alwaysValidate||t.state.validationPageMessages.filter(function(e){return e.id==n.id}).length>0)}).map(function(e){return{type:e.isWarning?"warning":"error",id:e.id,message:e.message?e.message():null,htmlMessage:e.htmlMessage?e.htmlMessage():null}})},u.prototype.clearFixedValidations=function(){var e=this;this.setState({validationPageMessages:this.getValidationPageMessages(!0)},function(){s.PageMessages.clear(),s.PageMessages.add(e.state.validationPageMessages)})},u.prototype.collectTeamIds=function(){for(var e=[],t=0,n=this.state.teams;t<n.length;t++){var a=n[t];a.isChecked&&e.push(a.id)}return e},u.prototype.collectSubmissionIds=function(){for(var e=[],t=0,n=this.state.teams;t<n.length;t++){var a=n[t];if(!a.isChecked&&a.isPartiallyChecked)for(var i=0,r=a.submissions;i<r.length;i++){var o=r[i];o.isChecked&&e.push(o.id)}}return e},u.prototype.createHiddenFormField=function(e,t){var n=document.createElement("input");return n.setAttribute("type","hidden"),n.setAttribute("name",e),n.setAttribute("value",t),n},u.prototype.render=function(){return a.createElement(r.default,i.__assign({},this.props,this.helperProps,this.state))},u=i.__decorate([o.historyContext],u)}(a.Component);t.CompetitionHostContainer=d}).call(t,n(23),n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.Init="init",e.Processing="processing",e.Warn="warn",e.Ok="ok",e.Disabled="disabled",e.Error="error"}(t.StepStatus||(t.StepStatus={}))},function(e,t,n){"use strict";function a(e){var n=Object.keys(e);return n.includes(t.USAGE_INDICATOR_COLUMN)?[t.USAGE_INDICATOR_COLUMN].concat(n.filter(function(e){return e!==t.USAGE_INDICATOR_COLUMN})):n}function i(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return a(e).filter(function(e){return e!==t.USAGE_INDICATOR_COLUMN}).reduce(function(t,a){var i=u.pickFirstExistingPath.apply(u,[[a]].concat(n,[(r={},r[a]=e[a].name,r)]));return c(null===i||"string"==typeof i,'received "'+typeof i+'" type but expected "string" for mapping '+a+" [mappedColumnValue === "+JSON.stringify(i)+"]"),l.__assign({},t,(o={},o[a]=i,o));var r,o},{})}function r(e){return Object.keys(e).reduce(function(t,n){return l.__assign({},t,(a={},a[n]=e[n].validationSet,a));var a},{})}function o(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return a(r(e)).filter(function(e){return e!==t.USAGE_INDICATOR_COLUMN}).reduce(function(t,a){var i=e[a],r=i?i.validationSet:null,o=(p={},p[a]=r?r.encoded:null,p),s=u.pickFirstExistingPath.apply(u,[[a]].concat(n,[o]));return c(null===s||"string"==typeof s,'received "'+typeof s+'" type but expected "string" for mapping '+a+" [mappedColumnValue === "+JSON.stringify(s)+"]"),l.__assign({},t,(d={},d[a]=s,d));var p,d},{})}function s(e){switch(e){case"metric":return"Metric";case"parameter":return"Parameters";case"solution":return"Solution";case"solutionMapping":return"Solution Mapping";case"submission":return"Submission";case"submissionMapping":return"Submission Mapping";default:throw new Error("Unmapped step title: "+e)}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),c=n(11),u=n(1730);t.USAGE_INDICATOR_COLUMN="Usage",t.getOrderedColumnKeys=a,t.getMappedColumnNames=i,t.getValidationSetMappings=r,t.getMappedValidationSets=o,t.getStepTitle=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(28);t.FullWidth=(i=["\n    align-items: flex-start;\n    display: flex;\n    flex-flow: row nowrap;\n    flex: 1 1 auto;\n    height: ",";\n    justify-content: flex-start;\n    width: ",";\n"],i.raw=["\n    align-items: flex-start;\n    display: flex;\n    flex-flow: row nowrap;\n    flex: 1 1 auto;\n    height: ",";\n    justify-content: flex-start;\n    width: ",";\n"],a.default.div(i,function(e){return e.height},function(e){return e.width||"100%"})),t.Centered=(r=["\n    justify-content: space-around;\n    align-items: center;\n"],r.raw=["\n    justify-content: space-around;\n    align-items: center;\n"],a.default(t.FullWidth)(r)),t.CenteredColumn=(o=["\n    flex-direction: column;\n"],o.raw=["\n    flex-direction: column;\n"],a.default(t.Centered)(o)),t.Half=(s=["\n    box-sizing: border-box;\n    flex: 0 0 50%;\n"],s.raw=["\n    box-sizing: border-box;\n    flex: 0 0 50%;\n"],a.default.div(s)),t.Spread=(l=["\n    justify-content: space-between;\n    align-items: center;\n"],l.raw=["\n    justify-content: space-between;\n    align-items: center;\n"],a.default(t.FullWidth)(l)),t.Sequenced=(c=["\n    justify-content: flex-start;\n    align-items: center;\n    & > * {\n        margin-right: 12px;\n    }\n"],c.raw=["\n    justify-content: flex-start;\n    align-items: center;\n    & > * {\n        margin-right: 12px;\n    }\n"],a.default(t.FullWidth)(c)),t.Stack=(u=["\n    display: flex;\n    flex-flow: column nowrap;\n    flex: 1 1 auto;\n"],u.raw=["\n    display: flex;\n    flex-flow: column nowrap;\n    flex: 1 1 auto;\n"],a.default.div(u)),t.Text=(p=["\n    font-size: 0.9em;\n    margin-bottom: 8px;\n    margin-top: 8px;\n"],p.raw=["\n    font-size: 0.9em;\n    margin-bottom: 8px;\n    margin-top: 8px;\n"],a.default.p(p));var i,r,o,s,l,c,u,p},function(e,t,n){"use strict";function a(e){return t=["\n        font-size: 14px;\n    "],t.raw=["\n        font-size: 14px;\n    "],r.default(e)(t);var t}function i(e){return t=["\n        opacity: 0.2;\n        cursor: default;\n    "],t.raw=["\n        opacity: 0.2;\n        cursor: default;\n    "],r.default(e)(t);var t}Object.defineProperty(t,"__esModule",{value:!0});var r=n(28);t.HoverVisibility=(o=["\n    & > *:not(button) {\n        display: none;\n        pointer-events: none;\n    }\n\n    &:hover > *:not(button) {\n        display: inline-block;\n    }\n"],o.raw=["\n    & > *:not(button) {\n        display: none;\n        pointer-events: none;\n    }\n\n    &:hover > *:not(button) {\n        display: inline-block;\n    }\n"],r.default.div(o)),t.ButtonGroup=(s=["\n    button + button {\n        margin-left: 8px;\n    }\n"],s.raw=["\n    button + button {\n        margin-left: 8px;\n    }\n"],r.default.div(s)),t.Button=(l=["\n    background: #008ABC;\n    color: #fff;\n    border: 0;\n    border-radius: 3px;\n    flex: 0 0 auto;\n    flex-flow: row nowrap;\n    font-family: 'Atlas Grotesk', sans-serif;\n    font-weight: 500;\n    font-size: 12px;\n    text-decoration: none;\n    padding: 8px 16px;\n    cursor: pointer;\n    margin-top: 6px;\n    margin-bottom: 6px;\n    margin-left: 0;\n    margin-right: 0;\n    min-width:100px;\n    transition: background 0.1s ease;\n    & > i {\n        margin-right: 4px;\n    }\n    &:hover {\n        background: #0079ae;\n    }\n"],l.raw=["\n    background: #008ABC;\n    color: #fff;\n    border: 0;\n    border-radius: 3px;\n    flex: 0 0 auto;\n    flex-flow: row nowrap;\n    font-family: 'Atlas Grotesk', sans-serif;\n    font-weight: 500;\n    font-size: 12px;\n    text-decoration: none;\n    padding: 8px 16px;\n    cursor: pointer;\n    margin-top: 6px;\n    margin-bottom: 6px;\n    margin-left: 0;\n    margin-right: 0;\n    min-width:100px;\n    transition: background 0.1s ease;\n    & > i {\n        margin-right: 4px;\n    }\n    &:hover {\n        background: #0079ae;\n    }\n"],r.default.button(l)),t.WarnButton=(c=["\n    background: #fbeeee;\n    color: #da5957;\n    font-weight: 700;\n    &:hover {\n        background: #f7dede;\n    }\n"],c.raw=["\n    background: #fbeeee;\n    color: #da5957;\n    font-weight: 700;\n    &:hover {\n        background: #f7dede;\n    }\n"],r.default(t.Button)(c)),t.CancelButton=(u=["\n    background: transparent;\n    color: rgba(0,0,0,0.65);\n    padding: 8px 4px;\n    &:hover {\n        background: transparent;\n        color: #20beff;\n    }\n"],u.raw=["\n    background: transparent;\n    color: rgba(0,0,0,0.65);\n    padding: 8px 4px;\n    &:hover {\n        background: transparent;\n        color: #20beff;\n    }\n"],r.default(t.Button)(u)),t.largeButton=a,t.disableButton=i;var o,s,l,c,u},,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page__actions"},this.props.actionRow.map(function(t){return e.createElement("a",{href:t.link,key:t.heading,className:"about-page__action"},e.createElement("img",{className:"about-page__action-image",src:"/static/images/about/"+(t.imageFolder?t.imageFolder:"inclass")+"/"+t.image}),e.createElement("h3",{className:"about-page__action-heading"},t.heading),e.createElement("p",{className:"about-page__action-text"},t.text))}))},n}(e.Component);t.AboutActionRow=i}).call(t,n(0))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(854),n(3),n(583),n(1042),n(1043),n(1044),n(1045),n(1046),n(1047),n(1048),n(1049),n(1050),n(1051),n(1052),n(1053),n(1054),n(1055),n(1056),n(584),n(1057),n(1058),n(1059),n(1060),n(1061),n(1062),n(1063),n(1064),n(1065),n(1066),n(1067),n(1068),n(1069),n(1070),n(1071),n(1072),n(1073),n(1074),n(1075),n(1076),n(1077),n(1078),n(1079),n(1080),n(1081),n(1082),n(1083),n(1084),n(1085),n(1086),n(1087),n(1088),n(1089),n(1090),n(1091),n(1092),n(1093),n(1094),n(1095),n(1096),n(1097),n(1098),n(1099),n(1100),n(1101),n(1102),n(1103),n(1104),n(1105),n(1106),n(1107),n(1108),n(1109),n(1110),n(1111),n(1112),n(1113),n(1114),n(1115),n(1116),n(1117),n(1118),n(1119),n(1120),n(1121),n(1122),n(1123),n(1124),n(1125),n(1126),n(1127),n(1128),n(1129),n(1130),n(1131),n(1132),n(1133),n(1134),n(1135),n(1136),n(1137),n(1138),n(1139),n(1140),n(1141),n(1142),n(1143),n(1144),n(1145),n(1146),n(1147),n(1148),n(1149),n(1150),n(1151),n(1152),n(1153),n(1154),n(1155),n(1156),n(1157),n(1158),n(1159),n(1160),n(1161),n(1162),n(1163),n(1164),n(1165),n(1166),n(1167),n(1168),n(1169),n(1170),n(1171),n(1172),n(1173),n(1174),n(1175),n(1176),n(1177),n(1178),n(1179),n(1180),n(1181),n(1182),n(1183),n(1184),n(1185),n(1186),n(1187),n(1188),n(1189),n(1190),n(1191),n(1192),n(1193),n(1194),n(1195),n(1196),n(1197),n(1198),n(1199),n(1200),n(1201),n(1202),n(1203),n(1204),n(1205),n(1206),n(1207),n(1208),n(1209),n(1210),n(1211),n(1212),n(1213),n(1214),n(1215),n(1216),n(1217),n(1218),n(1219),n(1220),n(1221),n(1222),n(1223),n(1224),n(1225),n(1226),n(1227),n(1228),n(1229),n(1230),n(1231),n(1232),n(1233),n(1234),e.exports=n(1235)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";function a(e,t){if(void 0===t&&(t=[]),0===t.length)return e;var n=t[0],i=t.slice(1);return c(n,"Container must exist!"),a(o.createElement(n,null,e),i)}function i(e){Array.from(document.querySelectorAll("[data-component-name]")).forEach(function(t,n){var i=m[n],u=t.getAttribute("data-component-name");c(u,"Component had no data-component-name attribute!");var p="true"===t.getAttribute("data-uses-apollo"),d=e[u];c(d,"Component with name "+u+" does not exist!");var h=p?[e.ApolloComponent,l.AppContainer]:[l.AppContainer],g=a(o.createElement(d,r.__assign({},i)),h);s.render(g,t),performance&&performance.mark&&performance.mark(u+".componentDidBootstrap")})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(0),s=n(72),l=n(617),c=n(11),u=n(1329),p=n(1330);window.Kaggle=window.Kaggle||{},window.KaggleReactComponents=p;var d=window.Kaggle,m=d.State||[];i(p),u.registerInstallMetrics(),u.printKaggleConsole(),u.registerPageErrors()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(){window.addEventListener("beforeinstallprompt",function(e){"function"==typeof e.userChoice&&e.userChoice.then(function(e){console.log(e.outcome),"dismissed"==e.outcome?console.log("User cancelled home screen install"):console.log("User added to home screen")})})}function i(){}function r(){console.log(" _                       _       \n| |    Welcome to       | |      \n| | __ ___   __ _  __ _ | | ___  \n| |/ /|__ \\ / _` |/ _` || |/ _ \\ \n|   < / _  | (_| | (_| || |  __/ \n|_|\\_\\\\__,_|\\__, |\\__, ||_|\\___| \n             __/ | __/ |         \n            |___/ |___/          \n")}Object.defineProperty(t,"__esModule",{value:!0}),t.registerInstallMetrics=a,t.registerPageErrors=i,t.printKaggleConsole=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(213);t.ScriptList=a.ScriptList;var i=n(107);t.VoteButton=i.VoteButton;var r=n(1459);t.ScriptViewer=r.ScriptViewerApp;var o=n(1482);t.DatasetContainer=o.DatasetContainer;var s=n(678);t.DatasetListReact=s.DatasetListReact;var l=n(1512);t.Discussion=l.Discussion;var c=n(1513);t.NotebookEditor=c.NotebookEditor;var u=n(1521);t.NotebookEditor_PoC=u.NotebookEditor_PoC;var p=n(1565);t.SiteForum=p.SiteForum;var d=n(1566);t.SiteHeaderContainer=d.SiteHeaderContainer;var m=n(1570);t.ProfileContainerReact=m.ProfileContainer;var h=n(1583);t.Leaderboards=h.Leaderboards;var g=n(1584);t.OrganizationProfileContainer=g.OrganizationProfileContainer;var f=n(1588);t.NewsfeedContainer=f.NewsfeedContainer;var v=n(1603);t.ViewCompetitionList=v.ViewCompetitionList;var _=n(1604);t.ScriptEditorContainer=_.ScriptEditorContainer;var b=n(692);t.CompetitionContainer=b.CompetitionContainer;var E=n(456);t.ReactComponentsContainer=E.ReactComponentsContainer;var y=n(1757);t.AdminHomeContainer=y.AdminHomeContainer;var w=n(1759);t.JobsContainer=w.default;var C=n(4);t.ApolloComponent=C.ApolloComponent;var S=n(1761);t.AutoForm=S.AutoForm;var N=n(498);t.NikoContainer=N.NikoContainer;var T=n(1762);t.AboutInClass=T.AboutInClass;var k=n(1775);t.ProductMetricsContainer=k.ProductMetricsContainer;var x=n(2091);t.AboutCompetitions=x.AboutCompetitions;var M=n(2093);t.AboutDatasets=M.AboutDatasets;var I=n(2097);t.AboutDatasetsAwards=I.AboutDatasetsAwards;var D=n(2101);t.AboutPage=D.AboutPage;var P=n(2104);t.AboutTeam=P.AboutTeam;var O=n(2106);t.ApiContainer=O.ApiContainer;var U=n(2107);t.AdminSubmissionsContainer=U.AdminSubmissionsContainer;var A=n(2119);t.AdminDatabaseContainer=A.AdminDatabaseContainer},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(37),o=n(674),s=n(1460),l=n(1461),c=n(1462),u=n(1463),p=n(1479),d=n(213),m=n(9),h=n(1480),g=n(4),f=n(217),v=n(4),_=n(6),b=n(47);n(413);var E=n(32),y=n(3),w=function(t){function n(n){var h=t.call(this,n)||this;h.markdownConverter=b.getSanitizingConverter(),h.updateEnclosingElement=function(e,t){h.enclosingElements[t]=e},h.hasReportPane=function(){return 1===h.props.menuLinks.filter(function(e){return"Report"===e.text}).length},h.hasNotebookPane=function(){return 1===h.props.menuLinks.filter(function(e){return"Notebook"===e.text}).length},h.hasImages=function(){return h.getVisualizationFiles()&&h.getVisualizationFiles().length>0},h.hasNonImages=function(){return h.getNonVisualizationFiles()&&h.getNonVisualizationFiles().length>0},h.getVisualizationFiles=function(){return h.props.outputFiles?h.props.outputFiles.filter(function(e){return[".png",".jpg",".gif",".svg"].indexOf(e.fileType)>-1}):null},h.getNonVisualizationFiles=function(){return h.props.outputFiles?h.props.outputFiles.filter(function(e){return-1==[".png",".jpg",".gif",".svg"].indexOf(e.fileType)}):null},h.activateDefaultTab=function(){var e;e=h.hasReportPane()?"Report":h.hasNotebookPane()?"Notebook":h.hasImages()||"SQLite"===h.props.languageName&&!h.props.scriptVersionHasError?"Output":"Code",h.setState({activeTab:e,activePane:e})},h.pollScriptStatusAndRefreshWhenReady=function(){h.scriptStatus&&"cancelacknowledged"!==h.scriptStatus&&y.ajax({context:h,url:h.props.statusCallbackUrl+"&existingStatus="+h.scriptStatus,success:function(e){h.scriptStatus=e.status,"complete"===e.status||"error"===e.status?location.reload(!0):h.pollScriptStatusAndRefreshWhenReady()}})},h.handleScrollInner=function(e){if(-1!==["Code","Output","Comments","Notebook","Report"].indexOf(h.state.activeTab)){var t=y(document).scrollTop()+.15*y(window).height(),n=function(e){h.state.activeTab!==e&&(h.updateUrlForTab(e.toLowerCase()),h.setState({activeTab:e}))};t>h.getTabScrollTop("Comments")?n("Comments"):t>h.getTabScrollTop("Output")?n("Output"):t>h.getTabScrollTop("Code")?n("Code"):t>h.getTabScrollTop("Notebook")?n("Notebook"):t>h.getTabScrollTop("Code")&&n("Report")}},h.handleScroll=E.throttle(h.handleScrollInner,100),h.updateUrlForTab=function(e){history.replaceState&&history.replaceState({},"",h.props.baseUrl+"/"+e)},h.onActiveTabChange=function(e){if(e!==h.state.activeTab||e!==h.state.activePane){var t=h.urlNamesFromTabs[e];h.updateUrlForTab(t);var n=h.scrollToActiveTab;"Comments"===e&&(n=function(){h.scrollToActiveTab(0)}),h.setState({activeTab:e,activePane:e,codeShouldBeExpanded:"Code"===e,isWideView:!1},n)}},h.getTabScrollTop=function(e){if(!(e in h.enclosingElements)||null==h.enclosingElements[e])return 1/0;var t=h.enclosingElements[e],n=document.body,a=document.documentElement,i=window.pageYOffset||a.scrollTop||n.scrollTop,r=a.clientTop||n.clientTop||0;return Math.round(t.getBoundingClientRect().top+i-r)},h.scrollToActiveTab=function(e){void 0===e&&(e=300);var t=0,n=y(".pageheader__top--safe"),a=n.offset().top+n.height(),i=32*((h.state.isHidden?1:0)+h.props.pageMessages.length);if(h.shouldUseCodeOutputCommentsView()&&-1!==["Code","Output"].indexOf(h.state.activeTab)){t=h.getTabScrollTop(h.state.activeTab)-42-20-i}else{y(document).scrollTop()>a&&(t=a+1)}t>0&&(e>0?y("html, body").animate({scrollTop:t},e):y("html, body").scrollTop(t))},h.recordExploreMoreKernelsClicked=function(){v.Current.isSiteAdminOrTvc||ga("send","event","kernel","explore-more-kernels-clicked")},h.handleUnhideScript=function(e){e.preventDefault(),h.state.isHidden&&y.ajax({context:h,url:h.props.toggleScriptIsHiddenUrl+"?isHidden=false",type:"POST",success:function(){h.setState({isHidden:!1})},error:function(e,t,n){alert("Sorry, an error occurred. Please reload the page.")}})},h.renderCodeTab=function(){var t=!h.state.codeShouldBeExpanded;return h.shouldUseCodeOutputCommentsView()&&!h.hasOutputTab()&&(t=!1),e.createElement("div",null,e.createElement(s.ScriptCodePaneContainer,{codeContents:h.props.code,languageName:h.props.languageName,isNotebook:h.props.isNotebook,isPrivate:h.props.isPrivate,setEnclosingElement:function(e){return h.updateEnclosingElement(e,"Code")},allowToggle:h.shouldUseCodeOutputCommentsView(),scriptVersionId:h.state.scriptVersionId,startMinimized:t,onPaneExpanded:function(){h.setState({activeTab:"Code"})},submission:h.props.submission,runInfo:h.props.runInfo}),h.shouldUseCodeOutputCommentsView()?null:h.renderCommentsTab())},h.checkCompetitionRulesAcceptance=function(e){return i.__awaiter(h,void 0,void 0,function(){var t,n,r,o,s,l;return i.__generator(this,function(i){switch(i.label){case 0:return e.preventDefault(),[4,a("/kernels/rules-acceptance.json?scriptVersionId="+this.props.scriptVersionId,{credentials:"include"})];case 1:return t=i.sent(),t.redirected&&(n=window.location,r=n.pathname,o=n.search,window.location.href=t.url.split("=")[0]+"="+encodeURIComponent(r+o)),[4,t.json()];case 2:return s=i.sent().competitionsRequiringAcceptance,l=s&&s.length>0,this.setState({competitionsRequiringAcceptance:s,showCompetitionRulesModal:l}),!l&&this.navigateToCallToActionUrl(),[2]}})})},h.onCloseCompetitionRulesModal=function(){h.setState({showCompetitionRulesModal:!1})},h.onAcceptCompetitionsRules=function(){return a("/kernels/rules-acceptance.json?scriptVersionId="+h.props.scriptVersionId,{method:"POST",credentials:"include"}).then(function(){return h.navigateToCallToActionUrl()}),new Promise(function(e,t){return null})},h.navigateToCallToActionUrl=function(){window.location.href=h.props.callToAction.href},h.hasOutputTab=function(){return h.props.outputFiles.length>0},h.renderOutputTab=function(){return h.hasOutputTab()?e.createElement("div",null,h.hasImages()?e.createElement(m.ContentBox,{title:"Visualizations",contentClassName:"script-viewer__visualizations"},h.getVisualizationFiles().map(function(t){return e.createElement("img",{src:t.fileUrl})})):null,!h.hasImages()||h.hasNonImages()?e.createElement(c.ScriptFilesPaneContainer,{fileListItems:h.getNonVisualizationFiles(),downloadAllFilesUrl:h.props.downloadAllFilesUrl,showSubmitToCompButtons:h.props.showSubmitToCompButtons,submitToCompUrl:h.props.submitToCompUrl,scriptVersionId:h.props.scriptVersionId,competitionName:h.props.competitionName,setEnclosingElement:function(e){return h.updateEnclosingElement(e,"Output")}}):null,h.shouldUseCodeOutputCommentsView()?null:h.renderCommentsTab()):null},h.changeReplyDraft=function(e){h.setState({replyDraft:e})},h.submitReply=function(e){g.PageMessages.clear(),h.setState({isSubmittingReply:!0},function(){return y.ajax({contentType:"application/json",data:JSON.stringify({content:h.markdownConverter.makeHtml(h.state.replyDraft),rawMarkdown:h.state.replyDraft,scriptId:h.props.scriptId}),type:"POST",url:"/kernels/comments/ajax"}).done(function(t){h.setState({isSubmittingReply:!1,replyDraft:"",topicId:t.topicId,markdownKey:h.state.markdownKey+1},function(){g.PageMessages.clear(),window.Intercom("trackEvent","forum_post"),e(t.id)})}).fail(function(){h.setState({isSubmittingReply:!1}),g.PageMessages.clear(),g.PageMessages.error({htmlMessage:'We had trouble submitting your reply. Please try again or <a href="mailto: support@kaggle.com">contact support</a> if you continue experiencing issues.',type:"error"})})})},h.renderCommentsTab=function(){return e.createElement(g.CommentListContainer,{allowAttachments:h.props.topic.allowAttachments,allowReplies:!h.props.topic.isLocked,canDownvote:h.props.topic.canDownvote,isSubmittingReply:h.state.isSubmittingReply,replyAttachments:[],replyDraft:h.state.replyDraft,replyDraftChanged:function(e){return h.changeReplyDraft(e)},replySubmitted:function(e){return h.submitReply(e)},topicId:h.state.topicId,markdownKey:h.state.markdownKey})},h.renderCodeOutputCommentsView=function(){return e.createElement("div",null,h.renderCodeTab(),h.renderOutputTab(),h.renderCommentsTab())},h.shouldUseCodeOutputCommentsView=function(){return!h.props.isNotebook},h.renderActivePane=function(){switch(h.state.activePane){case"Log":return e.createElement(o.ScriptLogPaneContainer,{logContents:h.props.log,runInfo:h.props.runInfo});case"Code":return h.shouldUseCodeOutputCommentsView()?h.renderCodeOutputCommentsView():h.renderCodeTab();case"Report":case"Notebook":return null;case"Data":return e.createElement(m.ContentBox,{title:"Data"},e.createElement(g.FilePreviewList,{files:[],dataSources:h.props.dataSources,disableEditing:!0}));case"Output":return h.shouldUseCodeOutputCommentsView()?h.renderCodeOutputCommentsView():h.renderOutputTab();case"Forks":return h.props.hasForks?e.createElement(d.ScriptList,{listTitle:"Forked Kernels",languagesMetadataUrl:null,loginAndReturnUrl:null,newScriptUrl:null,outputTypesMetadataUrl:null,newNotebookUrl:null,showFilters:!1,showScriptProjectName:!1,sourceBaseUrl:h.props.forksBaseUrl.slice(0,h.props.forksBaseUrl.length-1)}):null;case"Versions":return e.createElement(u.ScriptVersionsPane,{versionHistory:h.props.versionHistory,diffVisible:"VersionsWithDiff"===h.state.activeTab,onShowDiff:function(){h.setState({activeTab:"VersionsWithDiff"})},isInline:!h.state.isWideView,onChangeInline:function(e){h.setState({isWideView:!e})},initialLeftDiffScriptVersionId:h.state.initialLeftDiffScriptVersionId,initialRightDiffScriptVersionId:h.state.initialRightDiffScriptVersionId});case"Comments":return h.renderCommentsTab();case"Options":return e.createElement(p.ScriptOptionsPaneContainer,{scriptIsInitiallyHidden:h.state.isHidden,toggleScriptIsHiddenUrl:h.props.toggleScriptIsHiddenUrl,showAdmin:h.props.isAdmin,toggleScriptLanguageTemplateUrl:h.props.toggleScriptLanguageTemplateUrl,scriptIsInitiallyLanguageTemplate:h.state.isLanguageTemplate,rerunScriptUrl:h.props.rerunScriptUrl,onScriptHiddenStateChange:function(e){return h.setState({isHidden:e})},onScriptLanguageTemplateChange:function(e){return h.setState({isLanguageTemplate:e})}});default:return e.createElement("div",null,"Sorry, an error has occurred.")}},h.renderNotebookPane=function(){if(!h.hasReportPane()&&!h.hasNotebookPane())return null;var t=h.state.activePane===(h.hasReportPane()?"Report":"Notebook");return e.createElement("div",null,e.createElement(l.ScriptNotebookPaneContainer,{iframeUrl:h.props.htmlOutputFileUrl,displayIframe:t,isNotebook:h.hasNotebookPane()}),t?h.renderCommentsTab():null)},h.renderExploreMoreButton=function(){return e.createElement("div",{className:"script-viewer__more-button"},e.createElement(r.Button,{href:"/kernels",text:"Explore More Kernels",onClick:function(){return h.recordExploreMoreKernelsClicked()}}))};location.hash.replace("#","").split("&").reduce(function(e,t){var n=t.split("=");return e[n[0]]=n[1],e},{});return h.state={activeTab:"",activePane:"",scriptVersionId:h.props.initialScriptVersionId,isHidden:h.props.scriptIsHidden,isLanguageTemplate:h.props.scriptIsLanguageTemplate,isSubmittingReply:!1,codeShouldBeExpanded:!1,replyDraft:"",topicId:n.topic.id,competitionsRequiringAcceptance:[],showCompetitionRulesModal:!1,isWideView:!1,markdownKey:0},h.tabNamesFromUrls={},h.urlNamesFromTabs={},h.props.menuLinks.concat(h.props.rightMenuLinks).forEach(function(e){h.tabNamesFromUrls[e.href||e.tab]=e.text,h.urlNamesFromTabs[e.text]=e.href||e.tab}),h.enclosingElements=[],h.scriptStatus="new",window.location.pathname.slice(0,h.props.baseUrl.length)!==h.props.baseUrl&&history.replaceState&&history.replaceState({},"",h.props.baseUrl+(h.props.initialTab?"/"+h.props.initialTab:"")),h}return i.__extends(n,t),n.prototype.shouldComponentUpdate=function(e,t){return this.state.activeTab!==t.activeTab||this.state.activePane!==t.activePane||this.state.isHidden!==t.isHidden||this.state.isLanguageTemplate!==t.isLanguageTemplate||this.state.replyDraft!==t.replyDraft||this.state.topicId!==t.topicId||this.state.showCompetitionRulesModal!==t.showCompetitionRulesModal||this.state.isWideView!==t.isWideView},n.prototype.componentWillMount=function(){var e=this;if(this.props.initialTab in this.tabNamesFromUrls){var t=location.hash;this.updateUrlForTab(this.props.initialTab),t&&(location.hash=t);var n=this.tabNamesFromUrls[this.props.initialTab],a=n;if("Versions"===n){var i=location.hash.replace("#","").split("&").reduce(function(e,t){var n=t.split("=");return e[n[0]]=n[1],e},{}),r=i.base,o=i.new;r&&o&&(n="VersionsWithDiff",a="Versions",this.setState({initialLeftDiffScriptVersionId:r,initialRightDiffScriptVersionId:o}))}this.setState({activeTab:n,activePane:a,codeShouldBeExpanded:"Code"===n},function(){"Output"===n&&e.shouldUseCodeOutputCommentsView()&&e.scrollToActiveTab()})}else this.activateDefaultTab();this.props.currentScriptVersionIsBusy&&this.pollScriptStatusAndRefreshWhenReady()},n.prototype.componentDidMount=function(){window.addEventListener("scroll",this.handleScroll),window.Intercom("trackEvent","view_script"),-1!==window.location.hash.indexOf("#latest-")&&history.replaceState({},document.title,window.location.pathname+window.location.search)},n.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.handleScroll)},n.prototype.render=function(){var t=this.props.pageMessages,n=this.props.callToAction;return this.state.isHidden?(t=t.concat([{type:"info",message:this.props.userCanEditScript?"You have hidden this script from lists and searches, but is still accessible via URL. Unhide it by deselecting Hide Script on the Options tab.":"The user has hidden this script, meaning they prefer not to have it shared more broadly."}]),this.props.userCanEditScript&&(n={href:this.props.baseUrl,text:"Unhide Script",title:"Unhide Script",actionCallback:this.handleUnhideScript})):n.actionCallback=this.checkCompetitionRulesAcceptance,this.props.datasetHidden&&(t=t.concat([{type:"info",message:"The dataset used for this script is no longer available."}])),e.createElement("div",{className:"script-viewer"},e.createElement("div",{className:"script-viewer__header-background"}),e.createElement("div",{className:_(this.state.isWideView?"script-viewer__wide-container":"script-viewer__container")},e.createElement(h.KernelHeader,i.__assign({},y.extend(this.props,this.state),{activeTab:this.state.activeTab,callToAction:n,isHidden:this.state.isHidden,onActiveTabChange:this.onActiveTabChange,pageMessages:t})),e.createElement("div",{className:"script-viewer__pane-container"},this.renderActivePane(),this.renderNotebookPane(),this.renderExploreMoreButton())),e.createElement(f.CompetitionRulesModal,{show:this.state.showCompetitionRulesModal,onClose:this.onCloseCompetitionRulesModal,onAcceptCompetitionRules:this.onAcceptCompetitionsRules,competitions:this.state.competitionsRequiringAcceptance,showLinkToRules:!0}))},n}(e.Component);t.ScriptViewerApp=w}).call(t,n(0),n(36))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(9),o=n(4),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.render=function(){var t=this,n=null;return this.props.allowToggle&&(n=e.createElement("div",{className:"script-code-pane__show-more-toggle-container"},e.createElement("div",{className:"script-code-pane__show-more-toggle"},e.createElement("a",{href:"",onClick:function(e){return t.props.handleToggleMinimizedClick(e)}},"show",this.props.isMinimized?" more":" less")))),e.createElement("div",{className:"script-code-pane"},e.createElement("div",{className:"script-code-pane__contents"+(this.props.isMinimized?" script-code-pane__contents--minimized":"")},e.createElement("pre",{className:"line-numbers"},e.createElement("code",{className:this.props.prismLanguageClassName},this.props.codeContents))),n)},n}(e.Component);t.ScriptCodePane=s;var l=function(t){function n(n){var i=t.call(this,n)||this;i.scrollToLineNumber=function(e){var t=Math.max(0,e-4),n=a('*[data-linenumber="'+t+'"]');n.length&&a("html, body").animate({scrollTop:n.offset().top},250)},i.renderPrism=function(){Prism.highlightAll(!0,function(){a(".line-number-inner-span").click(function(e){if(e.target){var t=e.target.getAttribute("data-linenumber");i.handleLineNumberClick(t,e.shiftKey)}e.preventDefault()}),i.updateLineHighlights();var e=i.parseUrlHash()[0];e&&i.scrollToLineNumber(+e)})},i.handleLineNumberClick=function(e,t){if(t&&i.state.highlightStart){var n=+e,a=+i.state.highlightStart,r=i.state.highlightEnd||i.state.highlightStart;n<a?i.setState({highlightStart:e,highlightEnd:r}):i.setState({highlightEnd:e})}else i.setState({highlightStart:e,highlightEnd:null});Prism.clearLineHighlights(),i.updateLineHighlights(),i.updateUrlHash()},i.parseUrlHash=function(){var e=location.hash.slice(1);if(!e)return[null,null];var t=e.match(/^L([0-9]+)$|^L([0-9]+)\-L([0-9]+)$/);return t?t[1]?[t[1],null]:[t[2],t[3]]:[null,null]},i.updateUrlHash=function(){if(i.state.highlightStart){var e="L"+i.state.highlightStart;i.state.highlightEnd&&(e+="-L"+i.state.highlightEnd),location.hash=e}},i.updateLineHighlights=function(){i.state.highlightStart?Prism.highlightLines(a("pre")[0],i.state.highlightStart,i.state.highlightEnd):Prism.clearLineHighlights()},i.prismName=function(){if(i.props.isNotebook)return"language-json";switch(i.props.languageName){case"Python":return"language-python";case"Julia":return"language-julia";case"R":case"RMarkdown":return"language-r";case"SQLite":return"language-sql"}return""},i.showMoreOrLess=function(e){e.preventDefault(),i.state.isMinimized&&i.props.onPaneExpanded(),i.setState({isMinimized:!i.state.isMinimized})},i.renderSubmissionInfo=function(){var t=i.props.submission,n=t.date,a=t.teamName,s=t.privateScore,l=t.publicScore;return e.createElement("div",{className:"script-code-pane__submission"},e.createElement("div",{className:"script-code-pane__submission-info-wrapper"},e.createElement(r.ContentBox,null,e.createElement("div",{className:"script-code-pane__submission-info-content"},e.createElement("div",null,e.createElement("div",{className:"script-code-pane__submission-header"},"Submission"),e.createElement("div",null,i.props.runInfo.succeeded?e.createElement("div",{className:"script-code-pane__submission-status--success"},e.createElement("i",{className:"fa fa-check"})," Ran successfully"):e.createElement("div",{className:"script-code-pane__submission-status--failure"},e.createElement("i",{className:"fa fa-times"})," Script run unsuccessful")),e.createElement("div",null,"Submitted by ",a," ",e.createElement(o.TimeAgo,{time:n})))))),e.createElement("div",{className:"script-code-pane__submission-score-wrapper"},e.createElement(r.ContentBox,null,e.createElement("div",{className:"script-code-pane__submission-score-content"},s&&e.createElement("div",{className:"script-code-pane__submission-score-private"},e.createElement("div",{className:"script-code-pane__submission-score-label"},"Private Score"),e.createElement("div",{className:"script-code-pane__submission-score-value"},s)),e.createElement("div",{className:"script-code-pane__submission-score-public"},e.createElement("div",{className:"script-code-pane__submission-score-label"},"Public Score"),e.createElement("div",{className:"script-code-pane__submission-score-value"},l||"No score"))))))};var s=i.parseUrlHash(),l=i.props.codeContents.split("\n").length;return i.shouldShowToggle=i.props.allowToggle&&l>10,i.state={downloadUrl:"",highlightStart:s[0],highlightEnd:s[1],isMinimized:i.shouldShowToggle&&null===s[0]&&i.props.startMinimized},i}return i.__extends(n,t),n.prototype.shouldComponentUpdate=function(e,t){return t.downloadUrl!==this.state.downloadUrl||t.isMinimized!==this.state.isMinimized},n.prototype.componentDidMount=function(){var e=this;window.setTimeout(this.renderPrism()),a.ajax({context:this,url:"/kernels/sourceurl/"+this.props.scriptVersionId,success:function(t){e.setState({downloadUrl:t})}})},n.prototype.render=function(){var t=this,n=e.createElement("div",{className:"script-code-pane__right-section"},this.props.isPrivate?null:e.createElement(o.MediaQuery,{minWidth:o.Breakpoints.desktopMin},e.createElement("div",{className:"script-code-pane__subtitle"},"This script has been released under the ",e.createElement("a",{href:"http://www.apache.org/licenses/LICENSE-2.0"},"Apache 2.0")," open source license.")),this.props.isPrivate?null:e.createElement(o.MediaQuery,{minWidth:0,maxWidth:o.Breakpoints.tabletMax},e.createElement("div",{className:"script-code-pane__subtitle"},"Licensed under ",e.createElement("a",{href:"http://www.apache.org/licenses/LICENSE-2.0"},"Apache 2.0"))),e.createElement(o.MediaQuery,{minWidth:o.Breakpoints.tabletMin},e.createElement("a",{href:this.state.downloadUrl,className:"script-code-pane__download"},"Download Code")));return e.createElement("div",{ref:function(e){return t.props.setEnclosingElement(e)}},this.props.submission&&this.renderSubmissionInfo(),e.createElement(r.ContentBox,{title:"Code",titleBarRightSide:n},e.createElement(s,{codeContents:this.props.codeContents,prismLanguageClassName:this.prismName(),downloadUrl:this.state.downloadUrl,isMinimized:this.state.isMinimized,isPrivate:this.props.isPrivate,allowToggle:this.shouldShowToggle,handleToggleMinimizedClick:this.props.allowToggle?this.showMoreOrLess:null})))},n}(e.Component);t.ScriptCodePaneContainer=l}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(9),r=n(112),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props.height>0&&!this.props.displayLoadingPanel?{height:this.props.height+48+"px",display:"block"}:{height:0},n={display:this.props.displayIframe?"block":"none"},a={display:this.props.displayLoadingPanel?"inherit":"none"};return e.createElement("div",{className:"script-notebook-pane",style:n},e.createElement(i.ContentBox,{title:this.props.contentBoxTitle},e.createElement("div",{className:"script-notebook-pane__container"},e.createElement("iframe",{src:this.props.iframeUrl,style:t}),e.createElement("div",{className:"script-notebook-pane__loading",style:a},e.createElement(r.Spinner,null)))))},n}(e.Component);t.ScriptNotebookPane=o;var s=function(t){function n(e){var n=t.call(this,e)||this;return n.handleResizeMessage=function(e){if(!isNaN(e.data)){var t=parseInt(e.data);n.setState({height:t,iframeReady:!0,hasBeenRendered:!0})}},n.state={height:552,iframeReady:!1,hasBeenRendered:n.props.displayIframe},n}return a.__extends(n,t),n.prototype.componentWillUnmount=function(){window.removeEventListener("message",this.handleResizeMessage)},n.prototype.componentDidMount=function(){window.addEventListener("message",this.handleResizeMessage,!1)},n.prototype.render=function(){if(!this.props.displayIframe&&!this.state.hasBeenRendered)return null;var t=this.props.displayIframe,n=this.props.displayIframe&&(!this.state.iframeReady||0===this.state.height);return e.createElement(o,{iframeUrl:this.props.iframeUrl,height:this.state.height,displayIframe:t,displayLoadingPanel:n,contentBoxTitle:this.props.isNotebook?"Notebook":"Report"})},n}(e.Component);t.ScriptNotebookPaneContainer=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(9),r=n(92),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this,n=e.createElement("div",{className:"script-code-pane__right-section"},e.createElement("a",{href:this.props.downloadAllFilesUrl,className:"script-code-pane__download"},"Download All"));return e.createElement("div",{ref:function(e){return t.props.setEnclosingElement(e)}},e.createElement(i.ContentBox,{title:"Output",titleBarRightSide:n},e.createElement(r.FilePreviewList,{files:this.props.fileListItems,showSubmitToCompButtons:this.props.showSubmitToCompButtons,scriptVersionId:this.props.scriptVersionId,competitionName:this.props.competitionName,submitToCompUrl:this.props.submitToCompUrl})))},n}(e.Component);t.ScriptFilesPaneContainer=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(1464),r=n(1477),o=function(t){function n(e){var n=t.call(this,e)||this,a=(!!n.props.initialLeftDiffScriptVersionId&&n.props.initialRightDiffScriptVersionId,n.props.initialLeftDiffScriptVersionId),i=n.props.initialRightDiffScriptVersionId;return a||(a=n.props.versionHistory.length?1==n.props.versionHistory.length?n.props.versionHistory[0].id:n.props.versionHistory[1].id:null),i||(i=n.props.versionHistory.length?n.props.versionHistory[0].id:null),n.state={leftDiffScriptVersionId:a,rightDiffScriptVersionId:i},n}return a.__extends(n,t),n.prototype.updateLeftDiffId=function(e){this.setState({leftDiffScriptVersionId:e})},n.prototype.updateRightDiffId=function(e){this.setState({rightDiffScriptVersionId:e})},n.prototype.render=function(){var t=this;return this.props.diffVisible?e.createElement(i.DiffContainer,{leftDiffScriptVersionId:this.state.leftDiffScriptVersionId,rightDiffScriptVersionId:this.state.rightDiffScriptVersionId,isInline:this.props.isInline,onChangeInline:function(e){t.props.onChangeInline(e)}}):e.createElement(r.VersionsListContainer,{versionHistory:this.props.versionHistory,leftDiffScriptVersionId:this.state.leftDiffScriptVersionId,onUpdateLeftDiffId:function(e){return t.updateLeftDiffId(e)},rightDiffScriptVersionId:this.state.rightDiffScriptVersionId,onUpdateRightDiffId:function(e){return t.updateRightDiffId(e)},onDiffClick:function(){location.hash="#base="+t.state.leftDiffScriptVersionId+"&new="+t.state.rightDiffScriptVersionId,t.props.onShowDiff()}})},n}(e.Component);t.ScriptVersionsPane=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(179),o=n(1465),s=n(1467),l=n(9),c=n(1468),u=n(1469),p=function(t){function n(e){return t.call(this,e)||this}return i.__extends(n,t),n.prototype.render=function(){var t=this,n={".":0,",":0,"[":0,"]":0,"(":0,")":0,"{":0,"}":0,"@":0,$:0,"%":0,"#":0,"+":0,"/":0,"\\":0,'"':0,"=":0," ":0,";":0},i=function(e){for(var t=[],a=-1,i=0;i<e.length;i++)e[i]in n&&(i-a>1&&t.push(e.substr(a+1,i-a-1)),t.push(e.substr(i,1)),a=i);return a<e.length-1&&t.push(e.substr(a+1)),t},p=function(e,t,n){return c.zip(c.range(e[1],e[2]),c.range(e[3],e[4])).map(function(e){var a=i(t[e[0]]),r=i(n[e[1]]);return{leftLineNumber:e[0],rightLineNumber:e[1],leftWords:a,rightWords:r,opcodes:new u.SequenceMatcher(null,a,r).getOpcodes()}})},d=function(e){var t=function(e,t){return"delete"!=t[0]&&"replace"!=t[0]||(e.deletes+=t[2]-t[1]),"insert"!=t[0]&&"replace"!=t[0]||(e.inserts+=t[4]-t[3]),e};return e.reduce(t,{deletes:0,inserts:0})},m=function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=t[n].replace(/^[\r\n]+|[\r\n]+$/g,"");return t};return e.createElement(a.ReactScripts.ScriptVersionDiff,{route:{leftScriptVersionId:this.props.leftDiffScriptVersionId,rightScriptVersionId:this.props.rightDiffScriptVersionId},children:function(n,a){var i=m(n.leftContent),c=m(n.rightContent),h=new u.SequenceMatcher(null,i,c),g=h.getOpcodes(),f=g.map(function(e){return"replace"===e[0]&&e[2]-e[1]==e[4]-e[3]?p(e,i,c):null}),v=e.createElement("div",{className:"script-code-pane__right-section"},e.createElement(s.ToggleButton,{values:["inline","split"],labels:["Inline","Split"],onChange:function(e){t.props.onChangeInline("inline"==e)},selectedValue:t.props.isInline?"inline":"split"})),_=n.isDirectForkDiff?"Fork From Parent, ":"",b=d(g);return e.createElement("div",{className:"script-versions-pane"},e.createElement(l.ContentBox,{title:e.createElement("span",null,_+"Version "+n.leftVersionNumber+"  ->  Version "+n.rightVersionNumber,"",e.createElement(r.DiffSummary,{deletes:b.deletes,inserts:b.inserts,spaced:!0})),titleBarRightSide:v},e.createElement(o.DiffTable,{baseLines:i,newLines:c,opcodes:g,replacedLineOpcodes:f,isInline:t.props.isInline})))}})},n}(e.Component);t.DiffContainer=p}).call(t,n(0),n(23))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(1466),r=function(t){function n(e){return t.call(this,e)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props.opcodes.map(function(n,a,r){return e.createElement(i.DiffOpcode,{key:a,baseLines:t.props.baseLines,newLines:t.props.newLines,opcode:n,isInline:t.props.isInline,replacedLineOpcodes:t.props.replacedLineOpcodes[a]})});return e.createElement("table",{className:"diff"},n)},n}(e.Component);t.DiffTable=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(e){var n=t.call(this,e)||this,a=n.props.opcode[2]-n.props.opcode[1];return"equal"===n.props.opcode[0]&&a>=8?n.state={expandable:!0,expandableStartLine:3,expandableEndLine:a-3,expandedFromLine:a-3}:n.state={expandable:!0},n}return a.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props.opcode[0],a=this.props.opcode[1],i=this.props.opcode[2],r=this.props.opcode[3],o=this.props.opcode[4],s=Math.max(i-a,o-r),l=this.props.baseLines,c=this.props.newLines,u=[],p={delete:"- ",insert:"+ "},d=function(e,t){return null===e?null===t?"":c[t]:l[e]},m=function(t){return e.createElement("span",{className:"no-select"},p[t]||"  ")},h=function(t,n){return e.createElement("span",null,m(t),e.createElement("span",null,n))},g=function(t,n,a,i,r,o,s){return e.createElement("tr",{key:t},e.createElement("th",{className:n},i),e.createElement("td",{className:n},r),e.createElement("th",{className:a},o),e.createElement("td",{className:a},s))},f=function(t,n,a,i,r){return e.createElement("tr",{key:t},e.createElement("th",{className:n},a),e.createElement("th",{className:n},i),e.createElement("td",{className:n},r))},v=function(e,t,n,a){return f(e+t,t,null===n?"":n+1,null===a?"":a+1,h(t,d(n,a)))},_=function(e,t,a,i,r){u.push(g(e,t,a,null===i?"":i+1,null===i?"":h(n,l[i]),null===r?"":r+1,null===r?"":h(n,c[r])))},b=function(t,n,a){for(var i=[],r=0;r<n.length;r++){var o=n[r][0],s="equal"==o?"":a?"insert-word":"delete-word",l=a?n[r][3]:n[r][1],c=a?n[r][4]:n[r][2],u=t.slice(l,c).join("");i.push(e.createElement("span",{key:r,className:s},u))}return e.createElement("span",null,i)};if(this.props.replacedLineOpcodes)for(var E=0;E<this.props.replacedLineOpcodes.length;E++){var y=this.props.replacedLineOpcodes[E],w=y.leftLineNumber,C=y.rightLineNumber,S=y.opcodes,N=y.leftWords,T=y.rightWords;l[w]=b(N,S,!1),c[C]=b(T,S,!0)}for(var k=[],x=0;x<s;x++)if("equal"==n&&this.state.expandable&&x>=this.state.expandableStartLine&&x<this.state.expandableEndLine){if(x<this.state.expandedFromLine)x==this.state.expandableStartLine&&function(n,a,i){var r=[];r[0]=e.createElement("span",{key:0},"  ",e.createElement("a",{href:"javascript:void(0)",onClick:function(){return t.setState({expandedFromLine:t.state.expandedFromLine-a})}},"Expand all "+a+" unchanged lines")),a>20&&(r[1]=e.createElement("span",{key:1}," (",e.createElement("a",{href:"javascript:void(0)",onClick:function(){return t.setState({expandedFromLine:t.state.expandedFromLine-20})}},"Expand 20 lines"),")"));var o=e.createElement("span",null,r),s=i?f(n,"collapse no-select","...","...",o):g(n,"collapse no-select","collapse no-select","...",o,"...","");u.push(s)}(x,this.state.expandedFromLine-this.state.expandableStartLine,this.props.isInline);else{var M=void 0;M=x==this.state.expandableEndLine-1?"expand-last":x==this.state.expandableStartLine?"expand-first":"expand",this.props.isInline?u.push(v(x,M,a,r)):_(x,M,M,a,r)}a++,r++}else this.props.isInline?"equal"==n?u.push(v(x,"equal",a++,r++)):(a<i&&("delete"==n||"replace"==n)&&u.push(v(x,"delete",a++,null)),r<o&&("insert"==n||"replace"==n)&&k.push(v(x,"insert",null,r++))):"equal"==n?_(x,"equal","equal",a++,r++):"delete"==n||"replace"==n&&r>=o?_(x,"delete","empty",a++,null):"insert"==n||"replace"==n&&a>=i?_(x,"empty","insert",null,r++):_(x,"delete","insert",a++,r++);var I=u.concat(k);return e.createElement("tbody",null,I)},n}(e.Component);t.DiffOpcode=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(37),r=n(6),o=function(t){function n(e){return t.call(this,e)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement("div",{className:"toggle-button__container"},this.props.values.map(function(n,a){return e.createElement(i.Button,{key:n,classNames:r("script-code-pane__right-section","toggle-button__button",{"toggle-button__not-rightmost":a!=t.props.values.length-1},{"toggle-button__not-leftmost":0!=a},{"toggle-button--active":t.props.values[a]==t.props.selectedValue},{"toggle-button--inactive":t.props.values[a]!=t.props.selectedValue}),text:t.props.labels[a],onClick:function(e){return t.props.onChange(t.props.values[a])},toggled:t.props.values[a]==t.props.selectedValue,toggleable:!0})}))},n}(e.Component);t.ToggleButton=o}).call(t,n(0))},,,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(1478),r=n(9),o=function(t){function n(e){return t.call(this,e)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this,n=e.createElement("div",{className:"script-code-pane__right-section"},e.createElement("a",{onClick:function(e){e.preventDefault(),t.props.onDiffClick()},href:"#base="+this.props.leftDiffScriptVersionId+"&new="+this.props.rightDiffScriptVersionId,className:"script-versions-pane__diff-button"},"View Diff")),a=this.props.versionHistory.map(function(n,a,r){return e.createElement(i.VersionsListRow,{key:n.id,item:n,previousItem:a<r.length-1?r[a+1]:null,onUpdateLeftDiffId:t.props.onUpdateLeftDiffId,onUpdateRightDiffId:t.props.onUpdateRightDiffId,leftDiffButtonInitiallySelected:n.id==t.props.leftDiffScriptVersionId,rightDiffButtonInitiallySelected:n.id==t.props.rightDiffScriptVersionId,onDiffClick:t.props.onDiffClick})});return e.createElement("div",{className:"script-versions-pane"},e.createElement(r.ContentBox,{title:"Versions",titleBarRightSide:n},a))},n}(e.Component);t.VersionsListContainer=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(179),r=n(20),o=n(50),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t,n=this,a=this.props.item,s=this.props.previousItem,l=Math.round(10*a.runInfo.runTimeSeconds)/10+"s",c=o(a.outputFilesTotalSizeBytes),u=0===a.versionNumber?e.createElement("span",{className:"script-versions-pane__fork-parent"},"Forked from"):e.createElement("span",{className:"script-versions-pane__version-number"},"Version ",a.versionNumber),p=new Date(a.lastRunTime),d=!isNaN(p.getTime()),m=d?e.createElement(r.TimeAgo,{time:p}):a.lastRunTime;return t=s?e.createElement(i.DiffSummary,{inserts:a.linesInsertedFromPrevious+a.linesChangedFromPrevious,deletes:a.linesDeletedFromPrevious+a.linesChangedFromPrevious,onClick:function(e){return n.props.onUpdateLeftDiffId(s.id),n.props.onUpdateRightDiffId(a.id),n.props.onDiffClick(),!1},href:"#base="+s.id+"&new="+a.id}):e.createElement("span",null),e.createElement("div",{key:a.id,className:"script-versions-pane__item"+(a.runInfo.succeeded?" script-versions-pane__item--successful":" script-versions-pane__item--error")},e.createElement("a",{href:a.url,className:"script-versions-pane__version-count"},u),e.createElement("a",{href:a.url,className:"script-versions-pane__version-icon"},e.createElement("span",null,e.createElement("span",{className:a.runInfo.succeeded?"fa fa-check":"fa fa-times"}))),e.createElement("a",{href:a.url,className:"script-versions-pane__version-title"},e.createElement("span",null,a.title)),e.createElement("a",{href:a.url,className:"script-versions-pane__version-last-run-time"},e.createElement("span",null,m)),e.createElement("a",{href:a.url,className:"script-versions-pane__version-run-time"},e.createElement("span",null,l)),e.createElement("a",{href:a.url,className:"script-versions-pane__version-output-size"},e.createElement("span",null,c)),e.createElement("a",{href:a.url,className:"script-versions-pane__version-language-name"},e.createElement("span",null,a.languageName)),e.createElement("a",{href:a.url,className:"script-versions-pane__is-notebook"},e.createElement("span",null,a.isNotebook?"Notebook":"Script")),e.createElement("span",{className:"script-versions-pane__version-diff"},t),e.createElement("div",{className:"script-versions-pane__diff-buttons"},e.createElement("input",{type:"radio",checked:this.props.leftDiffButtonInitiallySelected,onChange:function(){return n.props.onUpdateLeftDiffId(a.id)}}),e.createElement("input",{type:"radio",checked:this.props.rightDiffButtonInitiallySelected,onChange:function(){return n.props.onUpdateRightDiffId(a.id)}})))},n}(e.Component);t.VersionsListRow=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(9),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.render=function(){var t,n=this;return t=this.props.operationBeingProcessed?e.createElement("div",{className:"script-options-pane__processing"},"Processing..."):e.createElement("div",{className:"script-options-pane__hide-script-section"},e.createElement("input",{type:"checkbox",onClick:function(){return n.props.toggleHideScript()},defaultChecked:this.props.scriptIsHidden}),"Hide Script"),e.createElement(r.ContentBox,{title:"Options"},e.createElement("div",{className:"script-options-pane__section"},t))},n}(e.Component);t.ScriptRegularOptionsPane=o;var s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement(r.ContentBox,{title:"Admin"},e.createElement("div",{className:"script-options-pane__section"},e.createElement("input",{type:"checkbox",onClick:function(){return t.props.toggleScriptIsLanguageTemplate()},defaultChecked:this.props.scriptIsLanguageTemplate}),"Language Template ",e.createElement("br",null),e.createElement("br",null),e.createElement("div",{onClick:function(){return t.props.rerunScript()},className:"script-options-pane__link"},"Rerun Script")))},n}(e.Component);t.ScriptAdminOptionsPane=s;var l=function(t){function n(e){var n=t.call(this,e)||this;return n.handleToggleScriptIsHidden=function(){n.setState({operationBeingProcessed:!0});var e=!n.state.scriptIsHidden;a.ajax({context:n,url:n.props.toggleScriptIsHiddenUrl+"?isHidden="+e,type:"POST",success:function(){n.setState({scriptIsHidden:e,operationBeingProcessed:!1}),n.props.onScriptHiddenStateChange(e)},error:function(e,t,n){alert("Sorry, an error occurred. Please reload the page.")}})},n.handleToggleScriptIsLanguageTemplate=function(){var e=!n.state.scriptIsLanguageTemplate;a.ajax({context:n,type:"POST",url:n.props.toggleScriptLanguageTemplateUrl,data:{isTemplate:e},success:function(){n.setState({scriptIsLanguageTemplate:e}),n.props.onScriptLanguageTemplateChange(e)}})},n.state={scriptIsHidden:n.props.scriptIsInitiallyHidden,operationBeingProcessed:!1,scriptIsLanguageTemplate:n.props.scriptIsInitiallyLanguageTemplate},n}return i.__extends(n,t),n.prototype.handleRerunScript=function(){a.ajax({url:this.props.rerunScriptUrl,type:"POST",success:function(e){console.log("Script re-queued.")}})},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"script-options-pane"},e.createElement(o,{toggleHideScript:function(){return t.handleToggleScriptIsHidden()},scriptIsHidden:this.state.scriptIsHidden,operationBeingProcessed:this.state.operationBeingProcessed}),this.props.showAdmin?e.createElement(s,{rerunScript:function(){return t.handleRerunScript()},scriptIsLanguageTemplate:this.props.scriptIsInitiallyLanguageTemplate,toggleScriptIsLanguageTemplate:function(){return t.handleToggleScriptIsLanguageTemplate()}}):null)},n}(e.Component);t.ScriptOptionsPaneContainer=l}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(59),r=n(123),o=n(51),s=n(107),l=n(296),c=n(6),u=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.getParentClickHandler=function(t){var n=function(){return e.props.onActiveTabChange(t.substring(6)),!1};return t.startsWith("tab://")&&n},e}return a.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props,u=n.forkDiffLinesChanged,p=n.forkDiffLinesDeleted,d=n.forkDiffLinesInserted,m=n.forkDiffUrl,h=n.forkParentAuthorDisplayName,g=n.forkParentAuthorUrl,f=n.forkParentTitle,v=n.forkParentUrl,_={forkDiffLinesChanged:u,forkDiffLinesDeleted:p,forkDiffLinesInserted:d,forkDiffUrl:m,forkParentAuthorDisplayName:h,forkParentAuthorUrl:g,forkParentTitle:f,forkParentUrl:v},b=e.createElement(i.MediaQuery,{minWidth:i.Breakpoints.desktopLargeMin},e.createElement("div",{className:"pageheader__thumbnail-script-overlay"},e.createElement("div",{className:"pageheader__overlay-text"},this.props.parentName))),E=e.createElement(i.MediaQuery,{minWidth:i.Breakpoints.desktopLargeMin},e.createElement("div",{className:"pageheader__author-script-overlay"},e.createElement("div",{className:"pageheader__overlay-text"},this.props.userName))),y=null,w=!1;return this.props.forkParentUrl&&""!==this.props.forkParentUrl&&(y=e.createElement(o.PageHeaderForkInfo,a.__assign({},_)),w=!0),e.createElement("div",{className:"kernel-header"},e.createElement(o.PageHeader,{backgroundClass:"kernel-header__container"},e.createElement(o.PageHeaderTopRowSafe,null,e.createElement("div",{className:"kernel-header__top"},e.createElement("a",{className:"kernel-header__username "+(w&&"kernel-header__username--forked"),href:this.props.userUrl},this.props.userName),e.createElement("a",{className:"kernel-header__title",href:this.props.titleUrl},this.props.title),e.createElement("div",{className:"kernel-header__fork-info"},y),e.createElement("div",{className:"kernel-header__thumbnails"},e.createElement(o.PageHeaderThumbnail,{classNameElement:"author",classNameModifier:"script",thumbnailOverlay:E,targetUrl:this.props.userUrl,imageUrl:this.props.userAvatarImageUrl}),e.createElement(o.PageHeaderThumbnail,{classNameElement:"thumbnail",classNameModifier:"script",thumbnailOverlay:b,targetUrl:this.props.parentUrl,imageUrl:this.props.thumbnailImageUrl})),e.createElement("div",{className:"kernel-header__upvote"},e.createElement(s.VoteButton,a.__assign({className:"vote-button__container--script"},this.props.voteButton,{analyticsEventLabel:"script"}))),this.props.medal?e.createElement("img",{className:"kernel-header__medal",src:"/static/images/medals/kernels/"+this.props.medal+"L@1x.png"}):e.createElement("div",{className:"kernel-header__medal"}),e.createElement("div",{className:c("kernel-header__info",{"kernel-header__info--forked":w})},e.createElement(o.PageHeaderUserNameAndRunTime,{runTimeVerb:"run",userName:this.props.userName,userUrl:this.props.userUrl,dateUpdated:this.props.dateUpdated,showDateUpdated:!0,showUserName:!1}),e.createElement("span",null,"  ",this.props.scriptLanguage,this.props.isPrivate?null:e.createElement("span",null,"  ",this.props.totalViews," views")),this.props.datasetHidden||!this.props.parentUrl?e.createElement("span",null,e.createElement("br",null)," using data from ",this.props.parentName):e.createElement("span",null,e.createElement("br",null)," using data from ",e.createElement("a",{href:this.props.parentUrl,onClick:this.getParentClickHandler(this.props.parentUrl)},this.props.parentName)),"  ",e.createElement("span",null,e.createElement(l.PrivacyToggle,{kernelType:"Script",displayMode:"Link",scriptId:this.props.scriptId,isPrivate:this.props.isPrivate,disabled:!this.props.userCanEditScript}))))),e.createElement(o.PageHeaderBottomRow,{pageMessages:this.props.pageMessages},e.createElement(r.OverflowX,null,e.createElement(o.PageHeaderNav,{classNameModifier:"script",menuLinks:this.props.menuLinks,rightMenuLinks:this.props.rightMenuLinks,activeTab:this.props.activeTab,changeActiveTab:function(e){return t.props.onActiveTabChange(e)}}),this.props.callToAction?e.createElement(i.MediaQuery,{minWidth:i.Breakpoints.tabletMin},e.createElement("a",{href:this.props.callToAction.href,title:this.props.callToAction.title,className:"pageheader__calltoaction",onClick:function(e){return t.props.callToAction.actionCallback?t.props.callToAction.actionCallback(e):""}},this.props.callToAction.text)):""))))},n}(e.Component);t.KernelHeader=u}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(4),o=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.onConfirm=function(){e.props.scriptId&&e.props.scriptId>0?a.post("/kernels/"+e.props.scriptId+"/make-public").then(function(){r.PageMessages.success("Your "+e.props.kernelType+" is now public.",{clear:!0}),e.setState({isShown:!1})}).then(e.props.onConfirm):e.props.onConfirm&&e.props.onConfirm()},e}return i.__extends(n,t),n.prototype.render=function(){return e.createElement(r.Confirm,{title:"Make "+this.props.kernelType+" Public",cancelText:"No thanks",confirmText:"Ok, make public",onCancel:this.props.onCancel,onConfirm:this.onConfirm,isShown:this.props.isShown},"Enabling this will allow other users to view and fork your ",this.props.kernelType,". Your code will be released under the ",e.createElement("a",{href:"http://www.apache.org/licenses/LICENSE-2.0",target:"_blank",rel:"nofollow"},"Apache 2.0")," open source license. Please note that this is not reversible.")},n}(e.Component);t.PrivacyModal=o}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(3),r=n(57),o=n(11),s=n(1483),l=n(8),c=n(676),u=n(21),p=function(t){function n(e){var n=t.call(this,e)||this;n.oldFileDescriptions=[],n.endsWidth=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},n.validationRules=[{isValid:function(){return 0==(n.state.isEditingNewVersion?n.state.newVersionFiles:n.state.files).filter(function(e){return n.endsWidth(e.name,".xlsx")||n.endsWidth(e.name,".xls")||n.endsWidth(e.name,".xlsx.zip")||n.endsWidth(e.name,".xls.zip")}).length},id:"dataset-excel-files",htmlMessage:function(){return"You have uploaded one or more Excel files. It's highly recommended that you <a href='https://support.office.com/en-us/article/Import-or-export-text-txt-or-csv-files-5250ac4c-663c-47ce-937b-339e391393ba#bmexport' target='_blank'>save these as .csv files</a>, as these are much easier to work with."},isWarning:!0,alwaysValidate:!0},{isValid:function(){return!n.validationRules.filter(function(e){return"dataset-excel-files"==e.id})[0].isValid()||0==(n.state.isEditingNewVersion?n.state.newVersionFiles:n.state.files).length||0!=(n.state.isEditingNewVersion?n.state.newVersionFiles:n.state.files).filter(function(e){return n.endsWidth(e.name.toLowerCase(),".csv")||n.endsWidth(e.name.toLowerCase(),".csv.zip")||"database.sqlite"==e.name.toLowerCase()}).length},id:"dataset-no-csv-or-sqlite-files",htmlMessage:function(){return"It looks like you're missing a .csv or database.sqlite file. If this is not an image dataset, we recommend that you include either a database.sqlite file, or one or more .csv files, as these are easiest to work with."},isWarning:!0,alwaysValidate:!0},{isValid:function(){return!n.state.originalImageUrl||0==n.state.originalImageUrl.length||!n.state.coverImageUrl||0==n.state.coverImageUrl.length||-1==n.state.originalImageUrl.indexOf("default-backgrounds")},id:"dataset-default-image",htmlMessage:function(){return"Choosing a topical image other than one of the generated random images may help your dataset stand out more."},isWarning:!0,alwaysValidate:!0},{isValid:function(){return!n.state.isEditingNewVersion||n.state.newVersionFiles.length-n.props.maxTopLevelFilesAllowed<=0},id:"dataset-too-many-files",message:function(){return"You cannot upload more than "+n.props.maxTopLevelFilesAllowed+" files. You will need to delete at least "+(n.state.newVersionFiles.length-n.props.maxTopLevelFilesAllowed)+" "+r("file",n.state.newVersionFiles.length-n.props.maxTopLevelFilesAllowed)+" before you can save your new version."},alwaysValidate:!0},{isValid:function(){return!n.state.isEditingNewVersion||0==n.state.newVersionFiles.filter(function(e){return 0==e.totalBytes}).length},id:"dataset-zero-byte-files",message:function(){return"You cannot upload empty files. Please remove them from your list before saving."},alwaysValidate:!0},{isValid:function(){return n.state.title&&n.state.title.trim().length>0},id:"dataset-no-title",message:function(){return"Please enter a title for your dataset."}},{isValid:function(){return!n.state.title||0==n.state.title.trim().length||n.state.title.trim().length>6&&n.state.title.trim().length<50},id:"dataset-title-length",message:function(){return"The title must be between 6 and 50 characters in length."},alwaysValidate:!0},{isValid:function(){return!(!n.state.overview||!n.state.overview.trim())},id:"dataset-no-overview",message:function(){return"Please enter a subtitle for your dataset."}},{isValid:function(){return!(n.state.overview&&(n.state.overview.trim().length<20||n.state.overview.trim().length>80))},id:"dataset-overview-length",message:function(){return"The subtitle must be between 20 and 80 characters in length."},alwaysValidate:!0},{isValid:function(){return!(n.state.slug&&(n.state.slug.trim().length<3||n.state.slug.trim().length>50))},id:"dataset-slug-length",message:function(){return"The URL must be between 3 and 50 characters."}},{isValid:function(){return n.state.coverImageUrl&&n.state.coverImageUrl&&n.state.coverImageUrl.trim().length>0},id:"dataset-no-image",htmlMessage:function(){return"Please click the <span class='fa fa-camera'></span> to the right to set up an image for your dataset. If you need inspiration, <a href='http://www.unsplash.com' target='_blank'>unsplash.com</a> has a great library of public domain images."}},{isValid:function(){return!(!n.state.description||!n.state.description.trim())},id:"dataset-no-description",message:function(){return"Please enter a description for your dataset."}},{isValid:function(){return!(n.state.description&&n.state.description.trim().length>2e4)},id:"dataset-description-length",message:function(){return"Your description must be fewer than 20,000 characters."}},{isValid:function(){return!(!n.state.licenseId&&!n.state.privateGroupId)},id:"dataset-no-license",message:function(){return"Please select a license for your dataset."}},{isValid:function(){return!n.state.isEditingNewVersion||!(n.state.newVersionDescription&&n.state.newVersionDescription.trim().length>2e4)},id:"dataset-version-description-length",message:function(){return"Your version notes must be fewer than 20,000 characters."}},{isValid:function(){return!n.state.isEditingNewVersion||!(!n.state.newVersionDescription||!n.state.newVersionDescription.trim())},id:"dataset-no-version-description",message:function(){return"Please enter a description for this version."}},{isValid:function(){return!n.state.isEditingNewVersion||n.state.newVersionFiles.length>0},id:"dataset-no-version-files",message:function(){return"You must upload at least one file for this version."}},{isValid:function(){return!n.state.isEditingNewVersion||0==n.state.newVersionFiles.filter(function(e){return!e.description}).length},id:"dataset-new-version-files-with-no-description",message:function(){return"Please make sure all of your files have descriptions."}},{isValid:function(){return 0==n.state.files.filter(function(e){return e.description&&e.description.trim().length>2e4}).length},id:"dataset-files-description-lengths",message:function(){return"Your file descriptions must be fewer than 20,000 characters."}},{isValid:function(){return 0==n.state.files.filter(function(e){return!e.description&&!e.isSqliteTable}).length},id:"dataset-files-with-no-description",message:function(){return"Please make sure all of your files have descriptions."}},{isValid:function(){return 0==n.state.datasetVersions.filter(function(e){return!e.versionNotes}).length},id:"dataset-versions-with-no-description",message:function(){return"Please make sure all of your versions have descriptions."}}],n.processingNewDatasetPageMessage=function(){return{type:"info",htmlMessage:"We're processing "+(n.props.creatorUserId==l.Current.userId?"your":"the")+" dataset files. Once we're done, "+(n.props.creatorUserId==l.Current.userId?"your":"the")+" dataset will be available publicly."}},n.processingNewVersionPageMessage=function(){return{type:"info",htmlMessage:n.props.canEdit?"We're processing "+(n.props.creatorUserId==l.Current.userId?"your":"the")+" dataset files. Until they're complete, users will continue to run kernels against the current version's files.":"A new version of this dataset is in progress. Until it completes, new kernels will be run against the current version."}},n.onChangeTab=function(e){if("contributors"==e){var t={};t[e+"IsLoading"]=!0,n.setState(t),o(n.props.datasetUrl,"this.props.datasetUrl must exist"),i.ajax({context:n,url:n.props.datasetUrl+"/"+e+".json",type:"GET",success:function(a){t[e]=a,t[e+"IsLoading"]=!1,n.setState(t)}})}n.setState({currentTab:e,isNewTopic:!1,topicId:null},function(){return n.updateUrl()})},n.onNewKernelClicked=function(){n.newKernelModalRef.show(),l.Current.isSiteAdminOrTvc||(n.props.useAlternateNewKernelLabel?ga("send","event","kernel","new-kernel-alternate-button-clicked"):ga("send","event","kernel","new-kernel-button-clicked"))},n.updateUrl=function(){history.replaceState({},null,n.props.datasetUrl+("home"!=n.state.currentTab?"/"+n.state.currentTab:"")+(null!=n.state.topicId&&"discussion"==n.state.currentTab?"/"+n.state.topicId:n.state.isNewTopic&&"discussion"==n.state.currentTab?"/new":""))},n.isDescriptionValid=function(e){return e.length>0&&e.length<100},n.onDatasetPropChanged=function(e,t){var a={};"title"!=e||!n.state.isNewDataset||n.state.slug!=n.convertToSlug(n.state.title)&&(n.state.slug||n.state.title)||(a.slug=n.convertToSlug(t)),a[e]=t,n.setState(a,function(){return n.clearFixedValidations()})},n.onPrivateGroupChanged=function(e){n.setState({privateGroupId:e})},n.onLicenseChanged=function(e,t){n.setState({license:t,licenseId:e,isEditingLicense:!n.state.isNewDataset},function(){n.clearFixedValidations()})},n.onCreateTopic=function(){l.Current.isAdmin?n.setState({currentTab:"discussion",isNewTopic:!0,topicId:null},function(){return n.updateUrl()}):window.location.href=n.props.newTopicUrl},n.onTopicSubmitted=function(e){n.setState({currentTab:"discussion",isNewTopic:!1,topicId:e},function(){return n.updateUrl()})},n.convertToSlug=function(e){return e?e.toLowerCase().trim().replace(/[^\w ]+/g,"").replace(/[_ ]+/g,"-"):null},n.cleanseSlug=function(e){return e.replace(/^-*([^.]*?)-*$/,"$1").replace(/-{2,}/g,"-")},n.onDatasetFilePropChanged=function(e,t,i,r){var o=n.state.newVersionFiles,s=r===c.FileListIndex.NewFiles?o:n.state.files,l=s[e],u=a.__assign({},l,(d={},d[t]=i,d)),p=s.slice(0,e).concat([u],s.slice(e+1));n.setState(r===c.FileListIndex.NewFiles?{newVersionFiles:p}:{files:p},function(){return n.clearFixedValidations()});var d},n.onDatasetVersionPropChanged=function(e,t,i){var r=n.state.datasetVersions,o=r[e],s=a.__assign({},o,(c={},c[t]=i,c)),l=r.slice(0,e).concat([s],r.slice(e+1));n.setState({datasetVersions:l},function(){return n.clearFixedValidations()});var c},n.onPublishedChange=function(e){n.setState({isPublished:e,isFeatured:e&&n.state.isFeatured})},n.onFeaturedChange=function(e){n.setState({isPublished:e||n.state.isPublished,isFeatured:e,scheduledToBeFeatured:null})},n.onScheduledFeatureChange=function(e){n.setState({scheduledToBeFeatured:e})},n.onRemovedChange=function(e){n.setState({isRemoved:e})},n.onDatasetEditingStateCancelled=function(e,t){var i={},r={};i["isEditing"+e]=!1,r[t]=n.state.lastSavedState[t],"Slug"==e&&(r.isFeatured=n.state.lastSavedState.isFeatured,r.isPublished=n.state.lastSavedState.isPublished,r.isRemoved=n.state.lastSavedState.isRemoved,r.privateGroupId=n.state.lastSavedState.privateGroupId),"License"==e&&(r.licenseId=n.state.lastSavedState.licenseId),n.setState(a.__assign({},i,r),function(){return n.clearFixedValidations()})},n.onDatasetSaveFileDescription=function(){n.state.files.forEach(function(e){var t=n.oldFileDescriptions.filter(function(t){return t.name===e.name})[0];if(t&&t.description!==e.description){var a={fileName:e.name,description:e.description};o(n.props.datasetUrl,"this.props.datasetUrl must exist");var r=n.props.datasetUrl+(n.props.isOldDatasetVersion?"/version/"+n.props.datasetVersionNumber:"")+"/datadictionary.json";i.ajax({context:n,url:r,type:"PATCH",processData:!1,contentType:"application/json",dataType:"text",data:JSON.stringify(a),success:function(e){n.refreshOldFileDescriptions();var t=n.state.pageMessages||[];e&&n.setState({pageMessages:t.concat([{type:"error",message:"Your description could not be saved: "+e}])})},error:function(){var e=n.state.pageMessages||[];n.setState({pageMessages:e.concat([{type:"error",message:"Sorry, there was a problem saving your update."}])})}})}})},n.refreshOldFileDescriptions=function(){n.oldFileDescriptions=n.state.files.map(function(e){return{name:e.name,description:e.description}})},n.onDatasetEditingStateChanged=function(e){var t=n.props.datasetUrl,a=n.state.isEditingNewVersion;if("NewVersion"==e){if(a)return void n.onSaveNewVersion();n.setState({showNewVersionProgress:!1,newVersionFiles:[],newVersionDescription:""})}var r="isEditing"+e,s=n.state[r],l=(p={},p[r]=!s,p);if("Slug"===e&&s&&(l.slug=n.cleanseSlug(n.state.slug)),s&&"Description"===e){n.setState({isEditingDescription:!1});var c={description:n.state.description};return o(t,"datasetUrl must exist to lookup description"),void i.ajax({url:t+"/description.json",type:"POST",processData:!1,contentType:"application/json",dataType:"json",data:JSON.stringify(c),success:function(e){e.pageMessages?u.PageMessages.set(e.pageMessages):e.success&&(u.PageMessages.clear(),u.PageMessages.success("Successfully saved your dataset"))}})}n.setState({pageMessages:[]},function(){var t=n.getValidationPageMessages(),a=t.filter(function(e){return"error"==e.type}).length>0;n.setState({pageMessages:t},function(){a&&s||n.setState(l,function(){s&&(o(n.state.datasetUrl,"this.state.datasetUrl must exist"),i.ajax({context:n,url:n.state.datasetUrl+"/save",type:"POST",contentType:"application/json",data:JSON.stringify(n.state,function(e,t){if("lastSavedState"!=e)return t}),success:function(t){t.pageMessages&&u.PageMessages.set(t.pageMessages),t.datasetUrl&&"Slug"==e&&history.replaceState({},null,t.datasetUrl),t.datasetUrl&&"HeaderInfo"==e&&(document.title=n.state.title+" | Kaggle"),n.setState({lastSavedState:n.state},function(){if(!t.success){var a={};a["isEditing"+e]=s,n.setState(a)}})},error:function(e){n.setState({pageMessages:[{type:"error",htmlMessage:'There was a problem saving your dataset changes. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'}],isSavingNewVersion:!1})}}))})})});var p},n.onCancelImageUploader=function(){i("body").css({overflow:"visible"}),i("html").css("overflow","visible"),n.setState({isEditingImages:!1})},n.onShowImageUploader=function(){n.setState({isEditingImages:!0})},n.onUpdateImages=function(e,t,r){e.append("datasetId",n.props.datasetId.toString());var o=t[0];e.append("coverImageLeft",o.left.toString()),e.append("coverImageTop",o.top.toString()),e.append("coverImageWidth",o.width.toString()),e.append("coverImageHeight",o.height.toString());var s=t[1];return e.append("cardImageLeft",s.left.toString()),e.append("cardImageTop",s.top.toString()),e.append("cardImageWidth",s.width.toString()),e.append("cardImageHeight",s.height.toString()),e.append("originalImageUrl",n.state.originalImageUrl),i.ajax({context:n,url:"/datasets/save/image",type:"POST",dataType:"json",contentType:!1,processData:!1,data:e,success:function(e){if(e.success){var t=e.datasetImageUploadDto,l={coverImageUrl:t.coverImageUrl,cardImageUrl:t.cardImageUrl,thumbnailImageUrl:t.thumbnailImageUrl,originalImageUrl:t.originalImageUrl,coverImageWidth:o.width,coverImageHeight:o.height,coverImageLeft:o.left,coverImageTop:o.top,cardImageWidth:s.width,cardImageHeight:s.height,cardImageLeft:s.left,cardImageTop:s.top};i("body").css({overflow:"visible"}),i("html").css("overflow","visible"),n.setState(a.__assign({},l,{isEditingImages:!1}),function(){n.clearFixedValidations(function(){var e=n.state.pageMessages||[];n.setState({pageMessages:e.concat([{type:"success",message:"Your images have been updated."}])})})})}else r()}})},n.onTopicClicked=function(e){n.setState({currentTab:"discussion",isNewTopic:!1,topicId:e.id},function(){return n.updateUrl()})},n.onFileUploadFinished=function(e,t,a){var i=n.state.files.filter(function(t){return t.name==e});0==i.length&&(i=n.state.files.filter(function(t){return t.name==e.replace(".zip","")})),0==i.length&&(i=n.state.files.filter(function(t){return t.name.replace(/\.[^\/.]+$/,"")==e.replace(".zip","")}));var r="";1==i.length&&(r=i[0].description),n.setState({newVersionFiles:n.state.newVersionFiles.concat({id:0,name:e,totalBytes:a,description:r,blobToken:t}).sort(function(e,t){return e.name.localeCompare(t.name)})},function(){return n.clearFixedValidations()})},n.onToggleCurrentVersionFiles=function(){n.setState({showCurrentVersionFiles:!n.state.showCurrentVersionFiles})},n.onDeleteNewVersionFile=function(e){n.setState({newVersionFiles:n.state.newVersionFiles.filter(function(t){return t.name!=e}).sort(function(e,t){return e.name.localeCompare(t.name)})},function(){return n.clearFixedValidations()})},n.getNewFileDataDictionaries=function(){var e=[];return n.state.newFileColumnDescriptions&&n.state.newFileColumnDescriptions.length>0&&n.state.newFileColumnDescriptions.forEach(function(t){var n={fileName:t.fileName,columns:t.columns.map(function(e,t){return{columnIndex:t,dataType:e.harmonizedDataType,description:e.description}})};e.push(n)}),e},n.onSaveNewVersion=function(){n.setState({pageMessages:[]},function(){var e=n.getValidationPageMessages(),t=e.filter(function(e){return"error"==e.type}).length>0;n.setState({pageMessages:e},function(){t||n.setState({pageMessages:[n.processingNewVersionPageMessage()]},function(){n.setState({isSavingNewVersion:!0,currentStatusPercentComplete:0,newDatasetVersionStatus:"notYetPersisted",downloadSize:0,needsNewVersionMetadata:!0,isEditingNewVersion:!1,canEdit:!1}),o(n.state.datasetUrl,"this.state.datasetUrl must exist"),i.ajax({context:n,url:n.state.datasetUrl+"/save/version",type:"POST",contentType:"application/json",data:JSON.stringify({newVersionFiles:n.state.newVersionFiles,dataDictionaries:n.getNewFileDataDictionaries(),blobFileTokens:n.state.newVersionFiles.map(function(e){return e.blobToken}),newVersionDescription:n.state.newVersionDescription,isPublished:n.state.isPublished}),success:function(e){!e.success&&e.pageMessages&&(clearInterval(n.timer),n.setState({pageMessages:e.pageMessages},function(){n.setState({canEdit:n.props.canEdit,isEditingNewVersion:!0,isSavingNewVersion:!1})}))}}),n.timer=window.setInterval(n.pollCurrentDatasetVersionStatus,1e3)})})})},n.onSaveNewDataset=function(){n.setState({pageMessages:[]},function(){var e=n.getValidationPageMessages(),t=e.filter(function(e){return"error"==e.type}).length>0;e.length&&i.ajax({url:"/datasets/log-validation",type:"POST",contentType:"application/json",data:JSON.stringify({datasetName:n.state.title,validations:e.map(function(e){return e.id.substring(8)})})}),n.setState({pageMessages:e},function(){t||n.setState({pageMessages:[n.processingNewDatasetPageMessage()]},function(){n.setState({isSavingNewVersion:!0,currentStatusPercentComplete:0,newDatasetVersionStatus:"notYetPersisted",needsNewVersionMetadata:!0,isEditingNewVersion:!1}),i.ajax({context:n,url:"/datasets/save",type:"POST",contentType:"application/json",data:JSON.stringify(a.__assign({},n.state,{newVersionFiles:n.state.newVersionFiles,blobFileTokens:n.state.newVersionFiles.map(function(e){return e.blobToken}),newVersionDescription:n.state.newVersionDescription}),function(e,t){if("lastSavedState"!=e)return t}),success:function(e){e.success?n.setState({datasetId:e.datasetId,datasetVersionId:e.datasetVersionId,isEditingSlug:!1,isEditingHeader:!1,isEditingDescription:!1,isEditingLicense:!1,isEditingImages:!1,isEditingHeaderInfo:!1,isEditingVersions:!1,canEdit:!0,isNewDataset:!1,datasetVersions:e.datasetVersions,newScriptUrl:e.newScriptUrl,datasetUrl:e.url},function(){history.replaceState({},null,e.url),document.title=n.state.title+" | Kaggle",o(n.state.datasetUrl,"this.state.datasetUrl must exist"),i.ajax({context:n,url:n.state.datasetUrl+"/save/version",type:"POST",contentType:"application/json",data:JSON.stringify({newVersionFiles:n.state.newVersionFiles,dataDictionaries:n.getNewFileDataDictionaries(),blobFileTokens:n.state.newVersionFiles.map(function(e){return e.blobToken}),newVersionDescription:n.state.newVersionDescription,isPublished:n.state.isPublished}),success:function(e){!e.success&&e.pageMessages&&(clearInterval(n.timer),n.setState({pageMessages:e.pageMessages},function(){n.setState({canEdit:n.props.canEdit,isEditingNewVersion:!0,isSavingNewVersion:!1})}))},error:function(){n.setState({pageMessages:[{type:"error",htmlMessage:'There was a problem saving your dataset changes. If you keep having problems, please <a href="mailto:support@kaggle.com">contact support</a> and we\'ll get you squared away.'}]},function(){clearInterval(n.timer),n.setState({canEdit:n.props.canEdit,isEditingNewVersion:!0,isSavingNewVersion:!1})})}}),n.timer=window.setInterval(n.pollCurrentDatasetVersionStatus,1e3)}):n.setState({pageMessages:e.pageMessage?[e.pageMessage]:e.pageMessages||[]},function(){n.setState({canEdit:n.props.canEdit,isEditingNewVersion:!0,isSavingNewVersion:!1})})},error:function(){n.setState({pageMessages:[{type:"error",htmlMessage:'There was a problem saving your dataset changes. If you keep having problems, please <a href="mailto:support@kaggle.com">contact support</a> and we\'ll get you squared away.'}]},function(){n.setState({canEdit:n.props.canEdit,isEditingNewVersion:!0,isSavingNewVersion:!1})})}})})})})},n.pollCurrentDatasetVersionStatus=function(){o(n.state.datasetUrl,"this.state.datasetUrl must exist (poll)"),i.ajax({context:n,url:n.state.datasetUrl+"/poll",type:"POST",data:{datasetId:n.state.datasetId,needsMetadata:n.state.needsNewVersionMetadata},success:function(e){if("ready"==e.status||"failed"==e.status)return clearInterval(n.timer),void n.setState({pageMessages:e.pageMessage?[e.pageMessage]:e.pageMessages||[]},function(){n.setState({newDatasetVersionStatus:e.status,currentStatusPercentComplete:e.currentStatusPercentComplete,isSavingNewVersion:!1,canEdit:n.props.canEdit,showNewVersionProgress:"ready"==e.status,files:e.dataset?e.dataset.files:n.state.files,datasetVersions:e.dataset?e.dataset.datasetVersions:n.state.datasetVersions.map(function(e,t){return 0==t&&(e.status="failed"),e}),downloadSize:e.dataset?e.dataset.downloadSize:n.state.downloadSize}),n.setState({lastSavedState:n.state})});var t=n.state.needsNewVersionMetadata&&e.datasetVersions&&e.files?{needsNewVersionMetadata:!1,files:e.files,datasetVersions:e.datasetVersions,datasetVersionId:e.datasetVersions.id,newVersionFiles:[],showCurrentVersionFiles:!1}:{};n.setState(a.__assign({newDatasetVersionStatus:e.status,currentStatusPercentComplete:e.currentStatusPercentComplete},t))}})},n.updateExistingFileMetadata=function(e,t,a){var r={fileName:e,columns:[{fileName:e,columnIndex:t,description:a.description,dataType:a.harmonizedDataType}]};o(n.props.datasetUrl,"this.props.datasetUrl must exist to lookup version");var s=n.props.datasetUrl+(n.props.isOldDatasetVersion?"/version/"+n.props.datasetVersionNumber:"")+"/datadictionary.json";i.ajax({context:n,url:s,type:"PATCH",processData:!1,contentType:"application/json",dataType:"text",data:JSON.stringify(r),success:function(e){if(e){var t=n.state.pageMessages||[];n.setState({pageMessages:t.concat([{type:"error",message:"Your description could not be saved: "+e}])})}},error:function(){var e=n.state.pageMessages||[];n.setState({pageMessages:e.concat([{type:"error",message:"Sorry, there was a problem saving your update."}])})}})},n.updateNewFileColumnDescriptions=function(e,t,a){var i=n.state.newFileColumnDescriptions.filter(function(t){return t.fileName!==e}),r=n.state.newFileColumnDescriptions.filter(function(t){return t.fileName===e})[0];if(r)r.columns[t]=a;else{var o=[];o[t]=a,r={fileName:e,columns:o}}i.push(r),n.setState({newFileColumnDescriptions:i})},n.clearFixedValidations=function(e){n.setState({pageMessages:n.getValidationPageMessages(!0)},e)},n.getValidationPageMessages=function(e){return n.validationRules.filter(function(t){return!t.isValid()&&(!e||t.alwaysValidate||n.state.pageMessages.filter(function(e){return e.id==t.id}).length>0)}).map(function(e){return{type:e.isWarning?"warning":"error",id:e.id,message:e.message?e.message():null,htmlMessage:e.htmlMessage?e.htmlMessage():null}})},n.setNewKernelModalRef=function(e){n.newKernelModalRef=e};var s=a.__assign({},n.props,{isEditingHeader:n.props.isNewDataset,isEditingDescription:n.props.isNewDataset,isEditingFiles:n.props.isNewDataset,isEditingLicense:n.props.isNewDataset,isEditingImages:!1,isEditingHeaderInfo:n.props.isNewDataset,isEditingVersions:!1,isEditingNewVersion:n.props.isNewDataset,isEditingSlug:n.props.isNewDataset,newVersionFiles:[],needsNewVersionMetadata:!1,newVersionDescription:n.props.isNewDataset?"Initial release":null,hasLoadedFeed:"feed"==n.props.currentTab,newFileColumnDescriptions:[],lastSavedState:{}});return s.lastSavedState=s,n.state=s,n.refreshOldFileDescriptions(),n.props.isSavingNewVersion&&(n.timer=window.setInterval(n.pollCurrentDatasetVersionStatus,1e3)),window.onbeforeunload=function(){return!n.state.isNewDataset&&(n.state.isEditingDescription||n.state.isEditingNewVersion||n.state.isEditingHeader||n.state.isEditingHeaderInfo||n.state.isEditingImages||n.state.isEditingLicense||n.state.isEditingSlug||n.state.isEditingVersions)?"It looks like you may be in the middle of working on some changes.":n.state.isNewDataset&&(n.state.title||n.state.overview||n.state.originalImageUrl||n.state.slug||n.state.description||n.state.licenseId||n.state.newVersionFiles.length)?"It looks like you may have started working on your new dataset.":void 0},n}return a.__extends(n,t),n.prototype.componentWillMount=function(){var e=[];if(this.props.isOldDatasetVersion){var t={type:"info",htmlMessage:"You are currently viewing Version "+this.props.datasetVersionNumber+" of "+this.props.lastVersionNumber+' of this dataset. <a href="'+this.props.datasetUrl+'">View the latest version</a> to create kernels.'};e.push(t)}if(this.props.isNewDataset||"failed"!=this.props.datasetVersions[0].status){if((!this.props.isPublished||this.props.isRemoved)&&!this.props.isNewDataset&&!this.props.isSavingNewVersion){var t={type:"info",htmlMessage:"This dataset is currently not published and currently unavailable. You're able to see it as "+(this.props.creatorUserId==l.Current.userId?"the creator":"a site admin")+"."};e.push(t)}}else if(this.props.datasetVersions.filter(function(e){return"ready"==e.status}).length){var t={type:"info",htmlMessage:"The most recent version failed during processing, so any new kernels will be run against the last successful version."};e.push(t)}else{var t={type:"error",htmlMessage:'There was a problem saving your dataset files. If you keep having problems, please <a href="mailto:support@kaggle.com">contact support</a> and we\'ll get you squared away.'};e.push(t)}this.props.canEdit&&!this.props.isNewDataset&&this.getValidationPageMessages().forEach(function(t){return e.push(t)}),this.props.isSavingNewVersion&&e.push(1==this.props.datasetVersions.length?this.processingNewDatasetPageMessage():this.processingNewVersionPageMessage()),this.setState({pageMessages:(this.state.pageMessages||[]).concat(e)})},n.prototype.componentDidMount=function(){-1!==window.location.hash.indexOf("#latest-")&&history.replaceState({},document.title,window.location.pathname+window.location.search)},n.prototype.componentWillUpdate=function(e,t,n){if(!Array.isArray(t.pageMessages))return void console.warn("Warning: Next state pageMessages is not an array. Something set incorrectly => ["+t.pageMessages+"]");if(!Array.isArray(this.state.pageMessages))return void console.warn("Warning: Current state pageMessages is not an array. Something set incorrectly => ["+this.state.pageMessages+"]");if(t.pageMessages.length!=this.state.pageMessages.length){var a=i("html").offset().top,r=i(document).height();this.scrollPositionFromBottom=r+a}},n.prototype.componentDidUpdate=function(e,t,n){if(!Array.isArray(t.pageMessages))return void console.warn("Warning: Prev state pageMessages is not an array. Something set incorrectly => ["+t.pageMessages+"]");if(!Array.isArray(this.state.pageMessages))return void console.warn("Warning: Current state pageMessages is not an array. Something set incorrectly => ["+this.state.pageMessages+"]");if(t.pageMessages.length!=this.state.pageMessages.length){if(0==i("html").offset().top)return;var a=i(document).height(),r=a-this.scrollPositionFromBottom;i("html, body").scrollTop(r)}},n.prototype.render=function(){var t={onDatasetPropChanged:this.onDatasetPropChanged,onDatasetFilePropChanged:this.onDatasetFilePropChanged,onDatasetVersionPropChanged:this.onDatasetVersionPropChanged,onDatasetEditingStateCancelled:this.onDatasetEditingStateCancelled,onDatasetEditingStateChanged:this.onDatasetEditingStateChanged,onLicenseChanged:this.onLicenseChanged,onCancelImageUploader:this.onCancelImageUploader,onCreateTopic:this.onCreateTopic,onUpdateImages:this.onUpdateImages,onFileUploadFinished:this.onFileUploadFinished,onToggleCurrentVersionFiles:this.onToggleCurrentVersionFiles,onSaveNewVersion:this.onSaveNewVersion,onDeleteNewVersionFile:this.onDeleteNewVersionFile,onSaveNewDataset:this.onSaveNewDataset,onPublishedChange:this.onPublishedChange,onFeaturedChange:this.onFeaturedChange,onScheduledFeatureChange:this.onScheduledFeatureChange,onRemovedChange:this.onRemovedChange,onShowImageUploader:this.onShowImageUploader,onChangeTab:this.onChangeTab,onPrivateGroupChanged:this.onPrivateGroupChanged,onTopicClicked:this.onTopicClicked,onTopicSubmitted:this.onTopicSubmitted,onExistingFileMetadataChange:this.updateExistingFileMetadata,onNewFileMetadataChange:this.updateNewFileColumnDescriptions,onNewKernelClicked:this.onNewKernelClicked,setNewKernelModalRef:this.setNewKernelModalRef,onDatasetSaveFileDescription:this.onDatasetSaveFileDescription};return e.createElement(s.Dataset,a.__assign({},this.state,t))},n}(e.Component);t.DatasetContainer=p}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(1484),r=n(676),o=n(1491),s=n(1492),l=n(1493),c=n(1494),u=n(439),p=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.datasetId,p=t.currentTab;a.__rest(t,["datasetId","currentTab"]);return e.createElement("div",{className:"dataset"},e.createElement("div",{className:"dataset__container"},e.createElement(i.DatasetHeader,a.__assign({},this.props)),"home"==this.props.currentTab?e.createElement(r.DatasetHome,a.__assign({},this.props)):"contributors"==this.props.currentTab?e.createElement(l.DatasetContributors,a.__assign({},this.props)):"feed"==this.props.currentTab?e.createElement(c.DatasetActivityFeed,a.__assign({},this.props)):"kernels"==this.props.currentTab?e.createElement(o.DatasetKernels,{datasetId:n,currentTab:p}):"discussion"==this.props.currentTab?e.createElement(s.DatasetDiscussion,a.__assign({},this.props)):"",e.createElement(u.NewKernelModal,{ref:this.props.setNewKernelModalRef,datasetVersionId:this.props.datasetVersionId})))},n}(e.Component);t.Dataset=p}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(51),r=n(4),o=n(297),s=n(675),l=n(50),c=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.trackDownload=function(){window.Intercom("trackEvent","download_dataset",{dataset_id:e.props.datasetId}),goog_report_conversion()},e}return a.__extends(n,t),n.prototype.changeActiveTab=function(){},n.prototype.isNoDataSourceDataset=function(){return 1107===this.props.datasetId},n.prototype.renderTitle=function(){var t=this;return this.props.isEditingHeaderInfo&&this.props.canEdit?e.createElement(r.InlineTextEditor,{className:"dataset-header__title--input",value:this.props.title,placeholder:"Enter a Descriptive Title",onChangeCallback:function(e){return t.props.onDatasetPropChanged("title",e)}}):e.createElement("span",{className:"dataset-header__title"},this.props.title,e.createElement(s.GroupIcon,{groupSize:this.props.privateGroupMemberCount,rightSide:!0}))},n.prototype.renderSubtitle=function(){var t=this;return this.props.isEditingHeaderInfo&&this.props.canEdit?e.createElement(r.InlineTextEditor,{className:"dataset-header__subtitle--input",value:this.props.overview,placeholder:"Add a snappy description of your dataset for the subtitle",onChangeCallback:function(e){return t.props.onDatasetPropChanged("overview",e)}}):e.createElement("div",{className:"dataset-header__subtitle"},this.props.overview)},n.prototype.renderOptionalVoteButton=function(){return this.props.isNewDataset||this.props.isEditingHeaderInfo?null:e.createElement("div",{className:"dataset-header__upvote"},e.createElement(r.VoteButton,{totalVotes:this.props.voteCount,hasAlreadyVotedUp:this.props.hasAlreadyVotedUp,canUpvote:!0,canDownvote:!1,voteUpUrl:this.props.upVoteUrl,voteDownUrl:null,analyticsEventLabel:"dataset"}))},n.prototype.renderOptionalImageUploader=function(){if(this.props.canEdit){var t=e.createElement(o.ImageUploader,{title:"Upload a Dataset Image",imageSettings:[new o.ImageSetting("cover image","Select an area of the image to use as the cover image for this datasets homepage",new o.Size(950,200),new o.Rectangle(new o.Point(this.props.coverImageLeft,this.props.coverImageTop),new o.Size(this.props.coverImageWidth,this.props.coverImageHeight))),new o.ImageSetting("thumbnail","Select an area of the image to use as a thumbnail on the overall Dataset listing page",new o.Size(200,200),new o.Rectangle(new o.Point(this.props.cardImageLeft,this.props.cardImageTop),new o.Size(this.props.cardImageWidth,this.props.cardImageHeight)))],originalImageUrl:this.props.originalImageUrl,containerSize:new o.Size(500,300),selectorBorderWidth:1,onCancel:this.props.onCancelImageUploader,onUpdateImages:this.props.onUpdateImages,hiResScale:2,step1Html:"Upload an image by clicking the button below. If you need inspiration, <a href='http://www.unsplash.com' target='_blank'>unsplash.com</a> has a great library of public domain images. Or you can use the random image below."});return e.createElement(r.Modal,{buttonClassName:"dataset-header__upload-image-button",modalContent:t,modalIsShown:this.props.isEditingImages,onShow:this.props.onShowImageUploader,onClose:this.props.onCancelImageUploader})}return null},n.prototype.renderOptionalCallToAction=function(){return this.props.isNewDataset||this.props.isOldDatasetVersion?null:"discussion"==this.props.currentTab?this.renderNewTopicCta():this.renderNewKernelCta()},n.prototype.renderNewTopicCta=function(){var t=this;return e.createElement("a",{href:this.props.newTopicUrl,onClick:function(e){e.preventDefault(),t.props.onCreateTopic()},title:"New Topic",className:"pageheader__calltoaction"},"New Topic")},n.prototype.renderNewKernelCta=function(){return!this.isNoDataSourceDataset()&&e.createElement("a",{href:"javascript:void(0)",onClick:this.props.onNewKernelClicked,title:this.props.useAlternateNewKernelLabel?"New Analysis":"New Kernel",className:"pageheader__calltoaction"},this.props.useAlternateNewKernelLabel?"New Analysis":"New Kernel")},n.prototype.componentDidMount=function(){window.Intercom("trackEvent","view_dataset"),r.Current.isSiteAdminOrTvc||(this.props.useAlternateNewKernelLabel?ga("send","event","kernel","new-kernel-alternate-button-shown"):ga("send","event","kernel","new-kernel-button-shown"))},n.prototype.render=function(){var t=this,n=e.createElement(r.EditStateToggleButton,{className:"dataset-header__edit-info",editButtonText:e.createElement("span",{className:"fa fa-pencil"}),saveButtonText:e.createElement("span",{className:"fa fa-save"}),sectionName:"HeaderInfo",isEditing:this.props.isEditingHeaderInfo,toggleCallback:this.props.onDatasetEditingStateChanged});Math.max(this.props.scripts.length,this.props.discussions.length,this.props.contributors.length,1);return e.createElement("div",{className:"dataset-header"},e.createElement(i.PageHeader,{backgroundClass:"dataset-header__container"},e.createElement(i.PageHeaderTopRowSafe,null,e.createElement("div",{className:"dataset-header__top"},this.props.canEdit&&!this.props.isNewDataset?n:null,this.renderTitle(),this.renderSubtitle(),e.createElement("div",{className:"dataset-header__image"},e.createElement("img",{src:this.props.coverImageUrl})),this.renderOptionalVoteButton(),!this.props.canEdit||this.props.isEditingHeaderInfo&&!this.props.isNewDataset?null:e.createElement("a",{className:"dataset-header__upload-image-button",onClick:this.props.onShowImageUploader}),this.renderOptionalImageUploader(),e.createElement("div",{className:"dataset-header__info"},this.props.isNewDataset&&this.props.owners.length>1?e.createElement(r.SelectBox,{className:"dataset-header__owner-selector KaggleBoxlessSelect",onChange:function(e){var n=t.props.owners.filter(function(t){return t.slug===e})[0];t.props.onDatasetPropChanged("ownerDisplayName",n.name),t.props.onDatasetPropChanged("ownerSlug",n.slug),t.props.onDatasetPropChanged("ownerProfileUrl",n.profileUrl),t.props.onDatasetPropChanged("ownerAvatarUrl",n.imageUrl),t.props.onDatasetPropChanged("organizationId",n.isOrganization?n.id.toString():null)},options:this.props.owners.map(function(e){return{label:e.name,value:e.slug}}),searchable:!1,value:this.props.ownerSlug}):e.createElement("a",{href:this.props.ownerProfileUrl,className:"dataset-header__owner-name"},e.createElement("img",{className:"dataset-header__owner-thumbnail",src:this.props.ownerAvatarUrl})," "+this.props.ownerDisplayName),this.props.isNewDataset?null:e.createElement("time",{dateTime:this.props.lastUpdated.toString(),title:this.props.lastUpdated.toString()},e.createElement("span",{className:"dataset-header__meta-bullet"},"  "),"last updated ",e.createElement(r.TimeAgo,{time:this.props.lastUpdated}))))),e.createElement(i.PageHeaderBottomRow,{pageMessages:this.props.pageMessages},e.createElement(r.OverflowX,null,e.createElement(i.PageHeaderNav,{classNameModifier:"dataset",menuLinks:this.props.isNewDataset?null:[{title:"Overview",text:"Overview",actionCallback:function(){return t.props.onChangeTab("home")}},{title:"Kernels",text:"Kernels",actionCallback:function(){return t.props.onChangeTab("kernels")}},{title:"Discussion",text:"Discussion",actionCallback:function(){return t.props.onChangeTab("discussion")}},{title:"Activity",text:"Activity",actionCallback:function(){return t.props.onChangeTab("feed")}}],rightMenuLinks:this.props.downloadSize&&!this.isNoDataSourceDataset()?[{href:this.props.downloadUrl,title:"Download",actionCallback:this.trackDownload,text:"Download ("+l(this.props.downloadSize,{round:0})+")"}]:null,activeTab:"home"==this.props.currentTab?"Overview":"kernels"==this.props.currentTab?"Kernels":"discussion"==this.props.currentTab?"Discussion":"feed"==this.props.currentTab?"Activity":""}),this.renderOptionalCallToAction()))))},n}(e.Component);t.DatasetHeader=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(57),r=n(135),o=n(20),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderListItem=function(t,n){return e.createElement("a",{key:n,className:"script-list-item",href:t.url},e.createElement("div",{className:"script-list-item__info"},e.createElement("span",{className:"script-list-item__title"},t.name),e.createElement("div",{className:"script-list-item__posted"},e.createElement("span",null,"run ",e.createElement(o.TimeAgo,{time:t.lastRunDate})))),e.createElement("div",{className:"script-list-item__votes"},e.createElement("span",{className:"script-list-item__votes-number"},t.totalVotes),e.createElement("span",{className:"script-list-item__votes-sub-text"},i("vote",t.totalVotes))))},n.prototype.render=function(){return e.createElement(r.TeaserList,{minItemHeight:this.props.minItemHeight,listItems:this.props.items,listItemRenderer:this.renderListItem,emptyListMessage:"There are no kernels yet.",emptyListCreateNewAction:this.props.emptyListAction,emptyListCreateNewText:"Create one"})},n}(e.Component);t.ScriptListTeaser=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(57),r=n(135),o=n(20),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderListItem=function(t,n){return e.createElement("a",{key:n,className:"forum-topic-list-item",href:t.url},e.createElement("div",{className:"forum-topic-list-item__info"},e.createElement("span",{className:"forum-topic-list-item__title"},t.title),e.createElement("div",{className:"forum-topic-list-item__posted"},e.createElement(o.TimeAgo,{time:t.lastPost}))),e.createElement("div",{className:"forum-topic-list-item__replies"},e.createElement("span",{className:"forum-topic-list-item__replies-number"},t.totalReplies),e.createElement("span",{className:"forum-topic-list-item__replies-sub-text"},i("reply",t.totalReplies))))},n.prototype.render=function(){return e.createElement(r.TeaserList,{minItemHeight:this.props.minItemHeight,listItems:this.props.items,listItemRenderer:this.renderListItem,emptyListCreateNewUrl:this.props.emptyListUrl,emptyListMessage:"There are no conversations yet.",emptyListCreateNewText:"Start one"})},n}(e.Component);t.ForumTopicListTeaser=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(6),r=function(t){function n(e){var n=t.call(this,e)||this;return n.handleClick=function(e){n.setState({selectedValue:e.value}),n.props.onChange(e)},n.state={selectedValue:e.selectedValue},n}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement("ul",{className:"radio-button-list"},this.props.options.map(function(n){var a=t.state.selectedValue===n.value;return e.createElement("li",{className:i("radio-button-list__option",a?"radio-button-list__option--selected":"",t.props.textIsClickable?"checkbox--clickable":""),key:n.value,onClick:t.props.textIsClickable?function(){return t.handleClick(n)}:null},e.createElement("span",{className:i("radio-button-list__option-radio",t.props.textIsClickable?"":"radio-button-list__option-radio--clickable",a?"radio-button-list__option-radio--selected":""),onClick:function(){return t.handleClick(n)}}),e.createElement("span",{className:i("radio-button-list__option-label"),dangerouslySetInnerHTML:t.props.textIsHtml?{__html:n.text}:null},t.props.textIsHtml?null:n.text))}))},n}(e.Component);t.RadioButtonList=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(3),r=n(6),o=function(t){function n(e){var n=t.call(this,e)||this;return n.loadCurrentVisibilityState=function(){i.ajax({context:n,type:"POST",url:"/account/get-banner-state",data:{bannerName:n.props.bannerName,showBanner:!n.state.isVisible},success:function(e){n.setState({isVisible:e.showBanner})}})},n.onDismiss=function(){i.ajax({type:"POST",url:"/account/dismiss-banner",data:{bannerName:n.props.bannerName,showBanner:!n.state.isVisible}}),n.setState({isVisible:!n.state.isVisible})},n.state=e,null==n.state.isVisible&&n.loadCurrentVisibilityState(),n}return a.__extends(n,t),n.prototype.render=function(){var t=this;return null==this.state.isVisible?null:e.createElement("div",{className:r("info-toggle",this.state.isVisible?null:"info-toggle--clickable"),onClick:this.state.isVisible?null:function(){return t.onDismiss()}},e.createElement("div",{className:"info-toggle__content"},e.createElement("div",{className:"info-toggle__icon info-toggle__icon--info"}),e.createElement("div",{className:r("info-toggle__icon",this.state.isVisible?"info-toggle__icon--collapse":"info-toggle__icon--expand"),onClick:function(){return t.onDismiss()}}),this.state.isVisible?this.props.expandedContent:this.props.collapsedContent))},n}(e.Component);t.InfoToggle=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(20),r=n(6),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement("div",{className:"dataset-version-list"},this.props.datasetVersionListItems.map(function(n,a){var o=(t.props.activeVersionId,n.id,"ready"==n.status?"":"failed"==n.status?"Processing this version failed.":"This version is in progress."),s="ready"==n.status||"failed"==n.status?n.status:"progress";return e.createElement("div",{key:t.props.datasetVersionListKeyBaseName+a,className:r("dataset-version-list__item",t.props.isEditing?"dataset-version-list__item--editing":"dataset-version-list__item--read-only")},e.createElement("div",{className:"dataset-version-list__item-meta"},t.props.hideVersionStatuses?null:e.createElement("div",{className:r("dataset-version-list__item-status","dataset-version-list__item-status--"+s,"progress"==s?"fa-spin":"",t.props.isEditing?"dataset-version-list__item-name--editing":""),title:o}),e.createElement("div",{className:r("dataset-version-list__item-name",t.props.isEditing?"dataset-version-list__item-name--editing":"")},"ready"==n.status?e.createElement("a",{href:n.datasetVersionUrl,className:"dataset-version-list__item-link"},"Version "+n.versionNumber+" "):null),e.createElement("div",{className:r("dataset-version-list__item-date",t.props.isEditing?"dataset-version-list__item-date--editing":"")},e.createElement(i.TimeAgo,{time:n.creationDate}))),e.createElement("div",{className:r("dataset-version-list__item-notes","dataset-version-list__item-notes--"+s),title:o},t.props.datasetVersionNotesRenderer(n.versionNotes,a,t.props.textareaPlaceholder)))}))},n}(e.Component);t.DatasetVersionList=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("a",{className:"dataset-contributors-teaser-item",href:this.props.userUrl},e.createElement("div",{className:"dataset-contributors-teaser-item__avatar"},e.createElement("img",{className:"dataset-contributors-teaser-item__avatar-image",src:this.props.userAvatarUrl})),e.createElement("div",{className:"dataset-contributors-teaser-item__info"},e.createElement("span",{className:"dataset-contributors-teaser-item__user"},this.props.displayName)),e.createElement("div",{className:"dataset-contributors-teaser-item__rank"},e.createElement("span",{className:"dataset-contributors-teaser-item__rank-number"},this.props.rank)))},n}(e.Component);t.DatasetContributorsTeaserItem=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(213),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(i.ScriptList,{languagesMetadataUrl:"/kernels/alllang",listTitle:"Kernels",loginAndReturnUrl:null,newNotebookUrl:null,newScriptUrl:null,outputTypesMetadataUrl:"/kernels/allouttypes",showFilters:!0,showScriptProjectName:!1,sourceBaseUrl:"/kernels/d/"+this.props.datasetId+"/",isHidden:"kernels"!=this.props.currentTab})},n}(e.Component);t.DatasetKernels=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(4),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return"discussion"===this.props.currentTab?e.createElement(i.Forum,a.__assign({},a.__assign({},this.props.discussion,this.props.newTopic),{onTopicClicked:this.props.onTopicClicked,topicId:this.props.topicId,isNew:this.props.isNewTopic,topicSubmitted:this.props.onTopicSubmitted})):null},n}(e.Component);t.DatasetDiscussion=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(46),r=n(9),o=n(41),s=n(291),l=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props;return e.createElement("a",{className:"dataset-contributors__item",href:t.userUrl,key:t.rank},e.createElement("div",{className:"dataset-contributors__rank"},e.createElement("span",{className:"dataset-contributors__rank-number"},parseInt(t.rank))),e.createElement("div",{className:"dataset-contributors__avatar"},e.createElement(i.Avatar,{displayName:t.displayName,hideTooltop:!0,tier:t.performanceTier,thumbnailUrl:t.userAvatarUrl,userUrl:t.userUrl})),e.createElement("div",{className:"dataset-contributors__name"},t.displayName),e.createElement("div",{className:"dataset-contributors__meta dataset-contributors__meta--kernels"},e.createElement(o.Pluralize,{word:"kernel",count:t.totalScripts})),e.createElement("div",{className:"dataset-contributors__meta dataset-contributors__meta--posts"},e.createElement(o.Pluralize,{word:"post",count:t.totalForumMessages})))},n}(e.Component);t.DatasetContributorItem=l;var c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(r.ContentBox,{title:"Contributors"},e.createElement("div",{className:"dataset-contributors"},this.props.contributors.map(function(t){return e.createElement(l,a.__assign({key:t.rank},t))})),e.createElement(s.LoadingText,{isLoading:this.props.contributorsIsLoading,text:"Loading more contributors"}))},n}(e.Component);t.DatasetContributors=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(677),r=n(132),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderItem=function(t,n){return e.createElement(i.DatasetActivityFeedItem,a.__assign({},t,{key:n}))},n.prototype.render=function(){return this.props.isNewDataset?null:e.createElement(r.SmartListContainer,{title:"Activity Feed",pluralItemDescription:"activity",data:this.props.hasLoadedFeed?this.props.feed:null,dataUrl:this.props.datasetUrl+"/feed.json",itemRenderer:this.renderItem.bind(this),isHidden:"feed"!=this.props.currentTab})},n}(e.Component);t.DatasetActivityFeed=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a,i){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(1496),s=n(11),l=e.Datasets,c=function(e){function t(t){var n=e.call(this,t)||this;n.onCreate=function(){n.setState({isCreating:!0,canCreate:!1});var e=n.state;l.createNewDataset({},e).then(function(e){n.setState({uploadStatus:e}),"error"==e.status?n.handleCreationError(e.error):n.startPollingCreationStatus()}).catch(function(e){n.handleCreationError({type:"error",id:"internal",message:"An internal error occurred."})})},n.onModalOutsideClicked=function(){n.state.isFinished&&n.close()},n.onModalCloseButtonClicked=function(){!n.state.isFinished&&n.state.data&&n.state.data.children&&0!=n.state.data.children.length?n.setState({showConfirmClose:!0}):n.close()},n.onConfirmClose=function(e){e?n.close():n.setState({showConfirmClose:!1})},n.onDataExplorerUpdate=function(e){var t=null;if(e&&e.children){var a=e.children.filter(function(e){if("uploadFile"!=e.type)return!1;switch(e.status){case"uploading":case"waiting":case"compressing":return!0}return!1}).length;a>0&&(t="Uploading "+a+(a>1?" Files":" File")+"...")}n.setState({statusMessage:t,canCreate:null==t,data:e},function(){return n.validate()})},n.onPublishChanged=function(e){n.setState({publish:e},function(){return n.validate()})},n.onSelectedLicenseChanged=function(e){n.setState({selectedLicenseId:e},function(){return n.validate()})},n.onSelectedOwnerChanged=function(e){if(null!=e){var t=e.split(":");if(2==t.length){var a="o"==t[0],i=Number(t[1]),r=n.props.possibleOwners.filter(function(e){return e.isOrganization==a&&e.id==i})[0];n.setState({selectedOwner:r},function(){return n.validate()})}}},n.onTitleChanged=function(e){var t=n.state.slug;n.state.slugEdited||(t=n.convertToSlug(e)),n.setState({title:e,slug:t},function(){return n.validate()})},n.onSlugChanged=function(e){n.setState({slug:e,slugEdited:!0},function(){return n.validate()})},n.startPollingCreationStatus=function(){n.timer=window.setInterval(n.pollCurrentDatasetVersionStatus,1e3)},n.stopPollingCreationStatus=function(){clearInterval(n.timer)},n.pollCurrentDatasetVersionStatus=function(){s(n.state.uploadStatus&&n.state.uploadStatus.url,"this.state.uploadStatus.url must exist (poll)"),i.ajax({context:n,url:n.state.uploadStatus.url+"/poll",type:"POST",data:{datasetId:n.state.uploadStatus.datasetId,needsMetadata:!1},success:function(e){if("ready"==e.status||"failed"==e.status)return n.stopPollingCreationStatus(),void n.setState({errorMessages:e.pageMessage?[e.pageMessage]:e.pageMessages||[]},function(){n.setState({uploadStatus:r.__assign({},n.state.uploadStatus,{publishStatus:{status:e.status,currentStatusPercentComplete:e.currentStatusPercentComplete}}),isCreating:!1,canCreate:!1,isFinished:!0})});n.setState({uploadStatus:r.__assign({},n.state.uploadStatus,{publishStatus:{status:e.status,currentStatusPercentComplete:e.currentStatusPercentComplete}}),isCreating:!0,canCreate:!1,isFinished:!1})}})},n.handleCreationError=function(e){var t=[];n.stopPollingCreationStatus(),t.push(e),n.setState({errorMessages:t,titleError:!1,slugError:!1,licenseError:!1,ownerError:!1,canCreate:!1,isCreating:!1})},n.close=function(){var e=n.state;n.setState({showModal:!1,errorMessages:[],statusMessage:null,titleError:!1,slugError:!1,licenseError:!1,ownerError:!1,canCreate:!1,isCreating:!1,isFinished:!1,selectedLicenseId:null,uploadStatus:null,slugEdited:!1,slug:null,title:null,showConfirmClose:!1,data:{}}),n.props.onClose&&n.props.onClose(e)},n.convertToSlug=function(e){return e?e.toLowerCase().trim().replace(/[^\w ]+/g,"").replace(/[_ ]+/g,"-"):null},n.validate=function(){var e=[],t=!1,a=!1,i=!1,r=n.state.data&&n.state.data.children?n.state.data.children.filter(function(e){return"uploadFile"==e.type}):[],o=r.filter(function(e){return"complete"==e.status}),s=o.length>0,l=r.length-o.length>0;!s||n.state.title&&0!=n.state.title.trim().length?n.state.title&&(n.state.title.trim().length<6||n.state.title.trim().length>50)&&(t=!0,e.push({type:"error",id:"dataset-title-length",message:"The title must be between 6 and 50 characters in length."})):(t=!0,e.push({type:"error",id:"dataset-no-title",message:"Please enter a title for your dataset."})),!s||n.state.slug&&0!=n.state.slug.trim().length?n.state.slug&&(n.state.slug.trim().length<3||n.state.slug.trim().length>50)&&(a=!0,e.push({type:"error",id:"dataset-slug-length",message:"The URL must be between 3 and 50 characters in length."})):(a=!0,e.push({type:"error",id:"dataset-no-slug",message:"Please enter a URL for your dataset."})),!s||n.state.selectedLicenseId&&0!=n.state.selectedLicenseId||(i=!0,e.push({type:"error",id:"dataset-no-license",message:"Please select a license for your dataset."}));var c=!t&&!a&&!i&&!0&&s&&!l;n.setState({errorMessages:e,titleError:t,slugError:a,licenseError:i,ownerError:!1,canCreate:c})};var a=[];t.licenseGroups.forEach(function(e){a.push({label:e.name,disabled:!0}),e.licenses.forEach(function(e){a.push({value:e.id,label:e.description,disabled:!1})})});var o=t.possibleOwners.map(function(e){return{label:e.name,value:(e.isOrganization?"o:":"i:")+e.id,isOrganization:e.isOrganization,thumbnailUrl:e.imageUrl,id:e.id,slug:e.slug}}),c=r.__assign({},n.props,{errorMessages:[],statusMessage:null,licenseSelectOptions:a,ownerSelectOptions:o,titleError:!1,slugError:!1,licenseError:!1,ownerError:!1,canCreate:!1,isCreating:!1,isFinished:!1,slugEdited:!1,publish:!0,showConfirmClose:!1,onTitleChanged:n.onTitleChanged,onSlugChanged:n.onSlugChanged,onSelectedLicenseChanged:n.onSelectedLicenseChanged,onSelectedOwnerChanged:n.onSelectedOwnerChanged,onPublishChanged:n.onPublishChanged,onCreate:n.onCreate,onModalCloseButtonClicked:n.onModalCloseButtonClicked,onConfirmClose:n.onConfirmClose,onModalOutsideClicked:n.onModalOutsideClicked,onDataExplorerUpdate:n.onDataExplorerUpdate});return n.state=c,n}return r.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState({showModal:e.showModal})},t.prototype.render=function(){return a.createElement(o.DatasetUploader,r.__assign({},this.props,this.state))},t}(a.Component);t.DatasetUploaderContainer=c}).call(t,n(23),n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(37),r=n(8),o=n(4),s=n(44),l=n(82),c=n(1497),u=n(6),p=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.onSlugKeyPress=function(e){String.fromCharCode(e.which).match(/[^A-Za-z0-9-]+/g)&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())},n.renderLicenseOption=function(t){return t.disabled?e.createElement("div",{className:"dataset-uploader__general-license-header",dangerouslySetInnerHTML:{__html:t.label}}):e.createElement("div",{className:"dataset-uploader__general-license-option",dangerouslySetInnerHTML:{__html:t.label}})},n.renderLicenseValue=function(t){return e.createElement("div",{className:"dataset-uploader__general-license-value",dangerouslySetInnerHTML:{__html:t.label}})},n.renderOwner=function(t){return e.createElement("div",{className:"dataset-uploader__general-owner-option"},t.thumbnailUrl&&e.createElement("img",{className:"dataset-uploader__general-owner-option-thumbnail",src:t.thumbnailUrl,alt:t.label+" thumbnail"}),e.createElement("p",null,t.label))},n.renderPublishingStep=function(t,a){var i=n.props.uploadStatus&&n.props.uploadStatus.publishStatus&&n.props.uploadStatus.publishStatus.status?n.props.uploadStatus.publishStatus.status:"notYetPersisted",r=n.props.uploadStatus&&n.props.uploadStatus.publishStatus&&n.props.uploadStatus.publishStatus.currentStatusPercentComplete?n.props.uploadStatus.publishStatus.currentStatusPercentComplete:0,o=n.statusSequences(i)<t-1?"--pending":n.statusSequences(i)==t-1?"--current":"--complete",s=n.statusSequences(i)<t-1?0:n.statusSequences(i)==t-1?100*r:100;return e.createElement("div",{className:u("dataset-uploader__publish-progress-step","dataset-uploader__publish-progress-step"+o)},e.createElement("div",{className:u("dataset-uploader__publish-progress-bar","dataset-uploader__publish-progress-bar"+o),style:{width:s+"%"}}),e.createElement("div",{className:u("dataset-uploader__publish-progress-label","dataset-uploader__publish-progress-label"+o)},a))},n.statusSequences=function(e){switch(e){case"notYetPersisted":return 0;case"blobsReceived":return 1;case"blobsDecompressed":return 2;case"blobsCopiedToSds":return 3;case"individualBlobsCompressed":return 4;case"ready":return 5;default:return 6}},n}return a.__extends(n,t),n.prototype.renderGeneralSection=function(){var t=this;return e.createElement("div",{className:"dataset-uploader__general"},!this.props.isCreating&&!this.props.isFinished&&e.createElement("a",{className:"dataset-uploader__general-close-button fa fa-times-circle",onClick:function(){return t.props.onModalCloseButtonClicked()}}),e.createElement("div",{className:"dataset-uploader__title"},"Add a New Dataset"),e.createElement("div",{className:"dataset-uploader__general-row"},e.createElement("div",{className:"dataset-uploader__general-label"},"Title"),e.createElement("div",{className:"dataset-uploader__general-value"},e.createElement("input",{type:"text",disabled:this.props.isCreating||this.props.isFinished,className:u("dataset-uploader__input",{"dataset-uploader__input-error":this.props.titleError}),placeholder:"Enter a Descriptive Title",value:this.props.title||"",onChange:function(e){return t.props.onTitleChanged(e.target.value)}}))),e.createElement("div",{className:"dataset-uploader__general-row"},e.createElement("div",{className:"dataset-uploader__general-label"},"Permanent URL"),e.createElement("div",{className:"dataset-uploader__general-value"},e.createElement("input",{type:"text",disabled:this.props.isCreating||this.props.isFinished,className:u("dataset-uploader__input","dataset-uploader__general-slug",{"dataset-uploader__input-error":this.props.slugError}),placeholder:"dataset-title",value:this.props.slug||"",onKeyPress:this.onSlugKeyPress,onChange:function(e){return t.props.onSlugChanged(e.target.value)}}),e.createElement("span",{className:u("dataset-uploader__general-slug-prefix",{"dataset-uploader__general-slug-error":this.props.slugError})},"kaggle.com/",this.props.selectedOwner.slug,"/"))),e.createElement("div",{className:"dataset-uploader__general-row"},e.createElement("div",{className:"dataset-uploader__general-label"},"License"),e.createElement("div",{className:"dataset-uploader__general-value"},e.createElement(s.SelectBox,{disabled:this.props.isCreating||this.props.isFinished,className:u("dataset-uploader__general-license",{"dataset-uploader__input-error":this.props.licenseError}),value:this.props.selectedLicenseId||0,options:this.props.licenseSelectOptions,optionRenderer:this.renderLicenseOption,valueRenderer:this.renderLicenseValue,onChange:function(e){t.props.onSelectedLicenseChanged(e)}}))),this.props.possibleOwners.length>1&&e.createElement("div",{className:"dataset-uploader__general-row"},e.createElement("div",{className:"dataset-uploader__general-label"},"Owner",!this.props.isCreating&&!this.props.isFinished&&e.createElement(i.Button,{classNames:"dataset-uploader__general-new-org-button",containerClassNames:"dataset-uploader__general-new-org-container",isSmall:!0,href:"/organizations/new",target:"_blank"},"New Organization")),e.createElement("div",{className:"dataset-uploader__general-value"},e.createElement(s.SelectBox,{disabled:this.props.isCreating||this.props.isFinished,className:u("dataset-uploader__general-owner",{"dataset-uploader__input-error":this.props.ownerError}),value:(this.props.selectedOwner.isOrganization?"o:":"i:")+(this.props.selectedOwner.id||0),options:this.props.ownerSelectOptions,optionRenderer:this.renderOwner,valueRenderer:this.renderOwner,onChange:function(e){t.props.onSelectedOwnerChanged(e)}}))),r.Current.isSiteAdminOrTvc&&e.createElement("div",{className:"dataset-uploader__general-row"},e.createElement("div",{className:"dataset-uploader__general-label"}),e.createElement("div",{className:"dataset-uploader__general-value"},e.createElement(l.Checkbox,{isEditable:!this.props.isCreating&&!this.props.isFinished,text:"Publish Dataset",textIsClickable:!0,isChecked:this.props.publish,onChange:this.props.onPublishChanged}))))},n.prototype.renderDataSection=function(){return e.createElement("div",{className:"dataset-uploader__file"},e.createElement(c.DataExplorerContainer,a.__assign({onUpdate:this.props.onDataExplorerUpdate},this.props.data,{maxCompressedFileBytesAllowed:this.props.maxCompressedFileBytesAllowed,maxUncompressedFileBytesAllowed:this.props.maxUncompressedFileBytesAllowed,maxTopLevelFilesAllowed:this.props.maxTopLevelFilesAllowed,canRemoveFiles:!this.props.isCreating&&!this.props.isFinished,canAddFiles:!this.props.isCreating&&!this.props.isFinished,canEditFileDescriptions:!this.props.isCreating&&!this.props.isFinished})))},n.prototype.renderSuccessSection=function(){return e.createElement("div",{className:"dataset-uploader__success"},e.createElement("div",{className:"dataset-uploader__success-inner"},e.createElement("div",null,e.createElement("span",{className:"fa fa-check dataset-uploader__success-icon"})),e.createElement("div",{className:"dataset-uploader__success-header"},"Your dataset was created successfully!"),e.createElement("div",{className:"dataset-uploader__success-button"},e.createElement(i.Button,{href:this.props.uploadStatus.url,isDisabled:!1,text:"Click here to enter further details"}))))},n.prototype.renderConfirmCloseSection=function(){var t=this;return e.createElement("div",{className:"dataset-uploader__close"},e.createElement("div",{className:"dataset-uploader__close-inner"},e.createElement("div",{className:"dataset-uploader__close-box"},e.createElement("div",{className:"dataset-uploader__close-header"},"If you close this dialog, all your work on this Dataset will be lost. ",e.createElement("br",null),"Do you want to continue?"),e.createElement("div",{className:"dataset-uploader__close-buttons"},e.createElement(i.Button,{classNames:"dataset-uploader__close-button-back",onClick:function(){return t.props.onConfirmClose(!1)},isDisabled:!1,text:"Back"}),e.createElement(i.Button,{classNames:"dataset-uploader__close-button-close",onClick:function(){return t.props.onConfirmClose(!0)},isDisabled:!1,text:"Confirm"})))))},n.prototype.renderStatusSection=function(){var t={display:"flex"};return!this.props.isFinished&&(this.props.statusMessage||0!=this.props.errorMessages.length||this.props.canCreate||this.props.isCreating)||(t.display="none"),e.createElement("div",{className:"dataset-uploader__status",style:t},this.props.statusMessage&&0==this.props.errorMessages.length&&this.renderStatusMessage(),this.props.errorMessages.length>0&&this.renderStatusError(),this.props.canCreate&&this.renderStatusPublish(),this.props.isCreating&&this.renderStatusPublishing())},n.prototype.renderStatusMessage=function(){return e.createElement("div",{className:"dataset-uploader__status-message"},this.props.statusMessage)},n.prototype.renderStatusError=function(){return e.createElement("div",{className:"dataset-uploader__error-message"},this.props.errorMessages[0].message)},n.prototype.renderStatusPublish=function(){var t=this;return e.createElement("div",{className:"dataset-uploader__publish"},e.createElement(i.Button,{classNames:"dataset-uploader__publish-button",onClick:function(){return t.props.onCreate()},isDisabled:!this.props.canCreate,text:e.createElement("span",null,e.createElement("span",{className:"fa fa-check"})," Create Dataset")}))},n.prototype.renderStatusPublishing=function(){return e.createElement("div",{className:"dataset-uploader__publish-progress"},this.renderPublishingStep(1,"Persisting Metadata"),this.renderPublishingStep(2,"Decompressing Files"),this.renderPublishingStep(3,"Copying Kernel Files"),this.renderPublishingStep(4,"Compressing Files"),this.renderPublishingStep(5,"Building Archive"))},n.prototype.render=function(){return this.props.isModal?e.createElement(o.Modal,{modalIsShown:this.props.showModal,onClose:this.props.onModalOutsideClicked,modalClassName:"dataset-uploader-modal"},e.createElement("div",{className:"dataset-uploader"},this.props.isFinished&&this.renderSuccessSection(),!this.props.isFinished&&this.props.showConfirmClose&&this.renderConfirmCloseSection(),!this.props.isFinished&&this.renderGeneralSection(),!this.props.isFinished&&this.renderDataSection(),!this.props.isFinished&&this.renderStatusSection())):e.createElement("div",{className:"dataset-uploader"},this.props.isFinished&&this.renderSuccessSection(),!this.props.isFinished&&this.props.showConfirmClose&&this.renderConfirmCloseSection(),!this.props.isFinished&&this.renderGeneralSection(),!this.props.isFinished&&this.renderDataSection(),!this.props.isFinished&&this.renderStatusSection())},n}(e.Component);t.DatasetUploader=p}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a,i){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(1498),s=n(50),l=e.Datasets,c=["application/zip","application/x-zip","application/x-zip-compressed","application/x-compressed","application/x-compress","application/x-7z-compressed","application/x-rar-compressed","application/gzip","application/gzipped","application/gzip-compressed","application/gunzip","application/x-gzip","gzip/document"],u=function(e){return c.filter(function(t){return t===e.type}).length>0},p=function(e){function t(t){var n=e.call(this,t)||this;n.onFileDragOverWindow=function(e){},n.onFileDragOverFileDrop=function(e){n.state.canAddFiles&&n.setState({fileDropHintVisible:e})},n.onFileDrop=function(e,t){n.state.canAddFiles&&(n.addFilesToState(e),n.setState({fileDropHintVisible:!1,fileDialogOpened:!1}))},n.onFileUploadCancel=function(e){n.onRemoveContainer(e)},n.onFileUploadResume=function(e){n.startUploadingFile(e.name)},n.onFileUploadPause=function(e){e.abortCallback&&e.abortCallback(),n.setFileState(e.name,{status:"paused"})},n.onOpenFileDialog=function(e){n.state.canAddFiles&&n.setState({fileDialogOpened:e})},n.onRemoveContainer=function(e){if(n.state.canRemoveFiles){if("uploadFile"==e.type){var t=e;t.abortCallback&&t.abortCallback()}var a=n.state.children.filter(function(t){return t.name!=e.name}),i=n.state.activeContainer&&n.state.activeContainer.name==e.name?a.length>0?a[0]:null:n.state.activeContainer,r=n.state.previewCache.filter(function(t){return t.name!=e.name}),o=null!=i?n.getPreview(i.name):null;n.setState({children:a,activeContainer:i,previewCache:r,activePreview:o},function(){return n.props.onUpdate(n.state)}),null!=i&&n.retrievePreview(i.name)}},n.onSelectContainer=function(e){var t=n.getPreview(e.name);n.setState({activeContainer:e,activePreview:t}),n.retrievePreview(e.name)},n.onEditDescription=function(e,t){n.state.canEditFileDescriptions&&n.setFileState(e.name,{description:t},function(){return n.props.onUpdate(n.state)})},n.onToggleFileInfoHintExpanded=function(){n.setState({fileInfoHintExpanded:!n.state.fileInfoHintExpanded})},n.retrievePreview=function(e){var t=n.getContainerState(e);if(null!=e&&null!=t){if(null==n.getPreview(t.name))switch(t.type){case"uploadFile":l.previewInboxFile({},t).then(function(e){return n.handlePreviewResponse(e)}).catch(function(e){var a="An internal error occurred.";e instanceof Error&&(a=e.message);var i={name:t.name,error:a,noPreviewAvailable:!0};n.handlePreviewResponse(i)})}}},n.handlePreviewResponse=function(e){var t=null==n.state.previewCache?[]:n.state.previewCache.filter(function(t){return t.name!=e.name});t.push(e);var a=n.state.activePreview;null!=n.state.activeContainer&&n.state.activeContainer.name==e.name&&(a=e),n.setState({previewCache:t,activePreview:a})},n.startUploadingFile=function(e){var t=n.getFileState(e);if(null==t)return void console.warn("Trying to upload non-existing file: "+t);if("failed"!=t.status){var a={fileName:t.compressedName||t.name,contentLength:t.size,lastModifiedDateUtc:t.lastModifiedDateUtc,getZipFileInfo:!0};i.ajax({context:n,url:"/blobs/inbox/dataset-version-files",type:"POST",dataType:"json",data:a,success:function(e){n.setFileState(t.name,{uploadUrl:e.resumeUrl||e.createUrl,sizeUploadedInPreviousChunks:e.uploadedBytes,sizeUploadedInCurrentChunk:0,maxChunkSize:e.maxChunkSize,status:t.status},function(){e.isComplete?n.markFileAsComplete(t.name,e.token,e):n.uploadNextChunk(t.name)})}})}},n.uploadNextChunk=function(e){var t=n.getFileState(e);if(null==t)return void console.warn("Trying to upload non-existing file: "+t);switch(t.status){case"canceled":case"complete":case"failed":return}var a=t.sizeUploadedInPreviousChunks,r=Math.min(t.sizeUploadedInPreviousChunks+t.maxChunkSize-1,t.size),o=t.html5File.slice(a,r,t.html5File.type),s=new FormData;s.append("file",o,t.compressedName||t.name);var l=n.getFileState(t.name).uploadUrl;i.ajax({context:n,url:l,type:"POST",dataType:"json",headers:{"Content-Range":"bytes "+a+"-"+r+"/"+t.size},contentType:!1,processData:!1,data:s,xhr:function(){var e=i.ajaxSettings.xhr();return n.setFileState(t.name,{abortCallback:function(){e.abort()}}),e.upload.onprogress=function(e){return n.setFileState(t.name,{status:"uploading",sizeUploadedInCurrentChunk:e.loaded})},e.upload.onload=function(e){return n.setFileState(t.name,{status:"uploading",sizeUploadedInCurrentChunk:e.loaded})},e},success:function(e){e.isComplete?n.markFileAsComplete(t.name,e.token,e):n.setFileState(t.name,{sizeUploadedInPreviousChunks:e.uploadedBytes,sizeUploadedInCurrentChunk:0},function(){return n.uploadNextChunk(t.name)})}})},n.markFileAsComplete=function(e,t,a){var i=n.getFileState(e);if(null==i)return void console.warn("Trying to upload non-existing file: "+i);var r=new Array;if(a&&a.nestedFiles){r=a.nestedFiles.map(function(e){return n.mapNestedFile(e)})}n.setFileState(e,{status:"complete",sizeUploadedInPreviousChunks:i.size,blobFileToken:t,children:r},function(){n.props.onUpdate(n.state),n.retrievePreview(e)})},n.getFileState=function(e){var t=n.state.children.filter(function(t){return t.name==e&&"uploadFile"==t.type});return 0==t.length?null:t[0]},n.getContainerState=function(e){var t=n.state.children.filter(function(t){return t.name==e});return 0==t.length?null:t[0]},n.getPreview=function(e){if(null==!n.state.previewCache)return null;var t=n.state.previewCache.filter(function(t){return t.name==e});return 0==t.length?null:t[0]},n.setFileState=function(e,t,a){var i=n.state.children.filter(function(t){return t.name!=e}),o=n.getFileState(e),s=r.__assign({},o,t),l=n.state.activeContainer&&n.state.activeContainer.name==e?s:n.state.activeContainer;o&&n.setState({children:i.concat(s),activeContainer:l},a)},n.setContainerState=function(e,t,a){var i=n.state.children.filter(function(t){return t.name!=e}),o=n.getContainerState(e),s=r.__assign({},o,t),l=n.state.activeContainer&&n.state.activeContainer.name==e?s:n.state.activeContainer;o&&n.setState({children:i.concat(s),activeContainer:l},a)},n.addFilesToState=function(e){var t=n.state.children.filter(function(t){return 0==e.filter(function(e){return e.name==t.name}).length}),a=n,i=t.concat(e.map(function(e,n){var i=u(e),r=null;return a.props.maxCompressedFileBytesAllowed&&i&&e.size>a.props.maxCompressedFileBytesAllowed&&(r="File exceeds the maximum allowed bytes for compressed files ("+s(a.props.maxCompressedFileBytesAllowed)+")"),a.props.maxUncompressedFileBytesAllowed&&!i&&e.size>a.props.maxUncompressedFileBytesAllowed&&(r="File exceeds the maximum allowed bytes ("+s(a.props.maxUncompressedFileBytesAllowed)+")"),a.props.maxTopLevelFilesAllowed&&t.length>=a.props.maxTopLevelFilesAllowed&&(r="Maximum number of files exceeded ("+a.props.maxTopLevelFilesAllowed+")"),{type:"uploadFile",sortOrder:n+t.length,name:e.name,size:e.size,html5File:e,status:r?"failed":"waiting",lastModifiedDateUtc:e.lastModifiedDate?new Date(e.lastModifiedDate.toUTCString()).getTime():null,isCompressed:i,failureMessage:r,children:new Array}})),r=n.state.activeContainer?n.state.activeContainer:i.length>0?i[0]:null;n.setState({fileDropHintVisible:!1,children:i,activeContainer:r},function(){e.forEach(function(e){return n.startUploadingFile(e.name)}),n.props.onUpdate(n.state)})};var a=r.__assign({},n.props,{fileDropHintVisible:!1,fileDialogOpened:!1,children:t.children?t.children:new Array,type:t.type?t.type:"uploadContainer",name:t.name?t.name:"",fileInfoHintExpanded:!1,previewCache:new Array,onFileDrop:n.onFileDrop,onFileDragOverFileDrop:n.onFileDragOverFileDrop,onFileDragOverWindow:n.onFileDragOverWindow,onFileUploadPause:n.onFileUploadPause,onFileUploadResume:n.onFileUploadResume,onFileUploadCancel:n.onFileUploadCancel,onOpenFileDialog:n.onOpenFileDialog,onRemoveContainer:n.onRemoveContainer,onSelectContainer:n.onSelectContainer,onEditDescription:n.onEditDescription,onToggleFileInfoHintExpanded:n.onToggleFileInfoHintExpanded});return n.state=a,n}return r.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState({canAddFiles:e.canEditFileDescriptions,canEditFileDescriptions:e.canEditFileDescriptions,canRemoveFiles:e.canRemoveFiles})},t.prototype.mapNestedFile=function(e){var t={children:new Array,description:e.Description,name:e.Name,type:"archiveEntry"};return 4==e.Type&&(t={children:new Array,description:e.Description,name:e.Name,compressedSize:e.CompressedSize,uncompressedSize:e.UncompressedSize,directory:e.Directory,type:"archiveEntry"}),t},t.prototype.render=function(){return a.createElement(o.DataExplorer,r.__assign({},this.props,this.state))},t}(a.Component);t.DataExplorerContainer=p}).call(t,n(23),n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(37),r=n(40),o=n(1499),s=n(1500),l=n(1511),c=n(6),u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderContent=function(){var t=this,n=[];if(this.props.canAddFiles){var r=e.createElement(i.Button,{classNames:"data-explorer__upload_more",key:"upload_more",isSmall:!0,isDisabled:!this.props.canAddFiles,onClick:function(){return t.props.onOpenFileDialog(!0)},text:e.createElement("span",null,e.createElement("span",{className:"fa fa-cloud-upload"})," Upload another file")});n.push(r)}return e.createElement("div",{className:"data-explorer__content"},e.createElement("div",{className:"data-explorer__list"},e.createElement(o.DataList,a.__assign({},this.props,{actionElements:n}))),e.createElement("div",{className:"data-explorer__preview"},e.createElement(s.DataViewContainer,a.__assign({},this.props.activeContainer,{preview:this.props.activePreview,canEditFileDescriptions:this.props.canEditFileDescriptions,canRemoveFiles:this.props.canRemoveFiles,onFileUploadCancel:this.props.onFileUploadCancel,onFileUploadPause:this.props.onFileUploadPause,onFileUploadResume:this.props.onFileUploadResume,onEditDescription:this.props.onEditDescription,onRemoveContainer:this.props.onRemoveContainer}))))},n.prototype.renderEmpty=function(){var t=this;return e.createElement("div",{className:"data-explorer__empty"},e.createElement("div",{className:"data-explorer__empty-inner"},e.createElement("div",null,e.createElement("span",{className:"fa fa-files-o data-explorer__empty-icon"})),e.createElement("div",{className:"data-explorer__empty-header"},"Drop your Data Files Here"),e.createElement("div",null,"or"),e.createElement("div",{className:"data-explorer__empty-button"},e.createElement(i.Button,{onClick:this.props.onOpenFileDialog,isDisabled:!1,text:"Select Files to Upload"})),e.createElement("div",{className:"data-explorer__empty-tipps"},"CSV format recommended.",e.createElement("br",null),"Keep file names short and clear.",e.createElement("br",null),"Do not include the dataset's name.",e.createElement("br",null)),e.createElement("div",{className:"data-explorer__empty-tipps-more"},e.createElement("div",{onClick:function(){return t.props.onToggleFileInfoHintExpanded()}},"More guidelines for data files  ",this.props.fileInfoHintExpanded?e.createElement("span",{className:"fa fa-caret-up"}):e.createElement("span",{className:"fa fa-caret-down"})),this.props.fileInfoHintExpanded&&e.createElement("div",{className:"data-explorer__empty-tipps-expanded"},e.createElement("p",null,"Here are some guidelines for uploading your dataset files:"),e.createElement("ul",null,e.createElement("li",null,"CSV files, the preferred format on Kaggle, should be comma-delimited. These will render properly in the file preview, allowing you to add column-level descriptions."),e.createElement("li",null,"If you need to upload more than 20 files, you can compress them into a ZIP archive. This will be uncompressed on our side to make the data available in Kernels."),e.createElement("li",null,"If you have a SQLite database for this dataset, name it database.sqlite in order for users to be able to query it."),e.createElement("li",null,"Keep file names short and clear. Do not include the datasets name. ",e.createElement(r.ToolTip,{tipText:"When users download the dataset, it will automatically\nunzip to a folder with the name of the dataset."},e.createElement("span",{className:"fa fa-question-circle"}))))))))},n.prototype.render=function(){return e.createElement(l.FileDrop,{id:"data-explorer",classPrefix:"data-explorer",multi:!0,disableClick:!0,fileDialogOpened:this.props.fileDialogOpened,onDrop:this.props.onFileDrop,onOpenFileDialog:this.props.onOpenFileDialog,onDragOverFileDrop:this.props.onFileDragOverFileDrop,onDragOverWindow:this.props.onFileDragOverWindow},e.createElement("div",{className:"data-explorer"},0==this.props.children.length?this.renderEmpty():this.renderContent(),e.createElement("div",{className:c("data-explorer__drop-hint",{"data-explorer__drop-hint-visible":this.props.fileDropHintVisible})},e.createElement("span",{className:"data-explorer__drop-hint-text"}," Drop to upload new file(s)"))))},n}(e.Component);t.DataExplorer=u}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(6),r=function(e){switch("."==e.substring(0,1)?e.substring(1):e){case"csv":return 0;case"json":return 1;case"sqlite":return 2;case"sqlitetable":return 3;case"txt":return 4;case"png":case"jpg":case"gif":return 5;case"zip":case"7z":case"gz":case"tar":return 10;default:return 6}},o=function(t){function n(e){var n=t.call(this,e)||this;n.faIconFromFileName=function(e){switch("."==e.substring(0,1)?e.substring(1):e){case"csv":return"fa-table";case"sqlite":return"fa-database";case"sqlitetable":return"fa-table";case"png":case"jpg":case"gif":return"fa-picture-o";case"txt":case"json":return"fa-file-text-o";case"zip":case"7z":case"gz":case"tar":return"fa-file-zip-o";default:return"fa-file-o"}},n.fileExtension=function(e){return e.substring(e.lastIndexOf(".")+1,e.length)||e};var i=a.__assign({},n.props);return n.state=i,n}return a.__extends(n,t),n.prototype.componentWillReceiveProps=function(e){this.setState({canRemoveFiles:e.canRemoveFiles})},n.prototype.renderIcon=function(t){var n="fa-question";return"uploadFile"!=t.type&&"archiveEntry"!=t.type||(n=this.faIconFromFileName(this.fileExtension(t.name))),e.createElement("span",{className:i("fa",n)})},n.prototype.renderStatus=function(t){var n=this;if("uploadFile"==t.type){var a=t,r="fa-question",o=!1,s=Math.min((a.sizeUploadedInPreviousChunks||0)+(a.sizeUploadedInCurrentChunk||0),a.size);a.size;switch(a.status){case"waiting":case"uploading":case"compressing":r="fa-circle-o-notch",!0,o=!0;break;case"complete":r="fa-check data-list__item-status-icon-green",o=!0;break;case"paused":r="fa-pause";break;case"failed":case"canceled":r="fa-exclamation data-list__item-status-icon-red",o=!0}var l=this.props.canRemoveFiles&&o;return e.createElement("div",{className:"data-list__item-status"},e.createElement("span",{className:"data-list__item-status-icon-container"},e.createElement("span",{className:i("data-list__item-status-icon","fa",r,l?"data-list__item-status-icon-removable":null)}),!1,l&&e.createElement("span",{className:i("data-list__item-status-icon-action","fa","fa-times","data-list__item-status-icon-red"),onClick:function(e){n.props.onRemoveContainer(a),e.stopPropagation()}})))}return null},n.prototype.renderItem=function(t){var n=this,a=null,r=!1;return t.children&&t.children.length>0&&(a=t.children.slice(0,Math.min(t.children.length,10)),r=t.children.length>a.length),e.createElement("li",{className:"data-list__item",key:t.name},e.createElement("div",{className:i("data-list__item-properties",{"data-list__item-selected":this.props.activeContainer&&t.name==this.props.activeContainer.name}),onClick:function(e){return n.props.onSelectContainer(t)}},e.createElement("div",{className:"data-list__item-icon"},this.renderIcon(t)),e.createElement("div",{className:"data-list__item-name"},t.name),this.renderStatus(t)),a&&e.createElement("ul",{className:"data-list__sub-list"},a.map(function(e){return n.renderItem(e)})),r&&e.createElement("div",{className:"data-list__more"},"(",t.children.length," total)"))},n.prototype.render=function(){var t=this,n=this.props.children.sort(function(e,t){var n=e.name.split("."),a=t.name.split("."),i=n[n.length-1],o=a[a.length-1],s=r(i),l=r(o);return s<l?-1:l<s?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0});return e.createElement("div",{className:"data-list",ref:function(e){return t.container=e}},e.createElement("ul",{className:"data-list__list"},n.map(function(e){return t.renderItem(e)})),e.createElement("div",{className:"data-list__actions"},this.props.actionElements&&this.props.actionElements.map(function(e){return e})))},n}(e.Component);t.DataList=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(1501),r=n(1502),o=n(1510),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.componentWillReceiveProps=function(e){this.setState({canEditFileDescriptions:e.canEditFileDescriptions,canRemoveFiles:e.canRemoveFiles,preview:e.preview})},n.prototype.render=function(){if("uploadFile"==this.props.type){var t={canEditFileDescriptions:this.props.canEditFileDescriptions,canRemoveFiles:this.props.canRemoveFiles};return e.createElement(r.DataViewUploadFile,a.__assign({},this.props,this.state,t))}return"archiveEntry"==this.props.type?e.createElement(o.DataViewArchiveEntry,a.__assign({},this.props,this.state)):e.createElement(i.DataViewGeneric,a.__assign({},this.props,this.state))},n}(e.Component);t.DataViewContainer=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderHeader=function(){return e.createElement("div",{className:"data-view__header"},e.createElement("span",{className:"data-view__header-name"},this.props.name),e.createElement("div",{className:"data-view__header-buttons"}))},n.prototype.render=function(){return e.createElement("div",{className:"data-view"},e.createElement("div",{className:"data-view__info"},this.renderHeader()))},n}(e.Component);t.DataViewGeneric=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(1503),r=n(680),o=n(4),s=n(50),l=function(t){function n(e){var n=t.call(this,e)||this;n.isArchive=function(){var e=n.props.name,t=e.split(".");return["zip","gz","7z","tar"].indexOf(t[t.length-1])>-1},n.onEditDescription=function(){n.setState({isEditingDescription:!0})},n.onSaveDescription=function(){n.setState({isEditingDescription:!1}),n.props.onEditDescription(n.props,n.state.tempDescription)};var i=a.__assign({},n.props,{isEditingDescription:!1,tempDescription:e.description});return n.state=i,n}return a.__extends(n,t),n.prototype.componentWillReceiveProps=function(e){this.setState({canEditFileDescriptions:e.canEditFileDescriptions})},n.prototype.onUpdateDescription=function(e){this.setState({tempDescription:e})},n.prototype.renderHeader=function(){var t=this,n=this.props.canRemoveFiles&&e.createElement(o.Button,{classNames:"data-view__button-remove",isSmall:!0,onClick:function(){return t.props.onRemoveContainer(t.props)},text:e.createElement("span",null,e.createElement("span",{className:"fa fa-times"})," Remove")});return e.createElement("div",{className:"data-view__header "+(this.props.fullPath?"data-view__header--has-fullpath":"")},e.createElement("span",{className:"data-view__header-name"},this.props.name,e.createElement("span",{className:"data-view__header-size"},s(this.props.size||0))),e.createElement("div",{className:"data-view__header-buttons"},null,n,null),this.props.fullPath&&e.createElement("div",{className:"data-view__header-full-path"},this.props.fullPath))},n.prototype.renderUploadInfo=function(){return e.createElement("div",{className:"data-view__upload"},e.createElement("div",{className:"data-view__upload-label"},"Upload Progress"),e.createElement(i.FileUploadProgress,a.__assign({},this.props,{classPrefix:"data-view",onCancel:this.props.onFileUploadCancel,onPause:this.props.onFileUploadPause,onResume:this.props.onFileUploadResume})))},n.prototype.renderDescriptionEdit=function(){var t=this;return this.state.isEditingDescription?e.createElement("div",{className:"data-view__description"},e.createElement("div",{className:"data-view__sub-header"},"About this file"),e.createElement(o.MarkdownEditor,{key:"file-view-"+this.props.name,shouldSanitizeHtml:!0,alwaysShowToolbar:!0,defaultValue:this.props.description,placeholder:"Click here to add a description of this file",suffix:"-file-view-description",maxRows:10,onChangeCallback:function(e){return t.onUpdateDescription(e)}}),e.createElement("div",{className:"data-view__description-save",onClick:function(){return t.onSaveDescription()}},e.createElement("i",{className:"fa fa-check"})," Save")):this.props.description?e.createElement("div",{className:"data-view__description"},e.createElement("div",{className:"data-view__sub-header"},"About this file",this.props.canEditFileDescriptions&&e.createElement("span",{className:"data-view__description-edit-icon",onClick:this.onEditDescription},e.createElement("span",{className:"fa fa-pencil"}))),e.createElement(o.MarkdownConverter,{contentClassName:"data-view__description-content",mimeType:"text/markdown",content:this.props.description})):this.props.canEditFileDescriptions?e.createElement("div",{className:"data-view__description"},e.createElement("div",{className:"data-view__sub-header"},"About this file",e.createElement("span",{className:"data-view__description-edit-icon",onClick:this.onEditDescription},e.createElement("span",{className:"fa fa-pencil"}))),e.createElement("div",{className:"data-view__description-missing"},"Help us describe this file")):null},n.prototype.renderPreview=function(){return e.createElement("div",{className:"data-view__preview"},e.createElement(r.DataPreviewContainer,{container:this.props,preview:this.props.preview,canEditColumnMetadata:!1}))},n.prototype.renderArchiveHint=function(){return e.createElement("div",{className:"data-view__archive-hint"},"This file is an archive. All archive files will be uncompressed and their contents available at the root folder when this dataset is used in Kernels.")},n.prototype.render=function(){return e.createElement("div",{className:"data-view"},e.createElement("div",{className:"data-view__info"},this.renderHeader()),"complete"!=this.props.status&&this.renderUploadInfo(),"complete"==this.props.status&&this.renderDescriptionEdit(),"complete"==this.props.status&&this.isArchive()&&this.renderArchiveHint(),"complete"==this.props.status&&this.renderPreview())},n}(e.Component);t.DataViewUploadFile=l}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(6),r=n(50),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this,n=Math.min((this.props.sizeUploadedInPreviousChunks||0)+(this.props.sizeUploadedInCurrentChunk||0),this.props.size),a=n/this.props.size*100,o="waiting"==this.props.status||"uploading"==this.props.status||"paused"==this.props.status,s="paused"==this.props.status,l=s?{display:"none"}:null,c=s?null:{display:"none"},u={width:a+"%"},p=r(this.props.size-n,{output:"object"}),d=r(this.props.size),m=this.props.classPrefix?this.props.classPrefix+"__":"";return e.createElement("div",{className:m+"progress__container"},e.createElement("div",{className:i(m+"progress__bar",m+"progress__bar--"+this.props.status),style:u}),"failed"==this.props.status?e.createElement("div",{className:i(m+"progress__status-container",m+"progress__status-container--failed")},"Failed: "+this.props.failureMessage):e.createElement("div",{className:i(m+"progress__status-container",m+"progress__status-container--"+this.props.status)},e.createElement("div",{title:"Cancel upload",className:i(m+"progress__status-button",m+"progress__status-button--cancel",!o&&m+"progress__status-button--disabled"),onClick:o?function(){return t.props.onCancel(t.props)}:null}),e.createElement("div",{title:"Pause upload",className:i(m+"progress__status-button",m+"progress__status-button--pause",m+"progress__status-button--disabled"),onClick:null,style:l}),e.createElement("div",{title:"Resume upload",className:i(m+"progress__status-button",m+"progress__status-button--resume",!s&&m+"progress__status-button--disabled"),onClick:s?function(){return t.props.onResume(t.props)}:null,style:c}),e.createElement("div",{className:m+"progress__status"},this.props.status),e.createElement("div",{className:m+"progress__percent"},Math.floor(a),"%"),"complete"==this.props.status?e.createElement("div",{className:m+"progress__bytes"},d):e.createElement("div",{className:m+"progress__bytes"},p.value.toFixed(2)+" "+p.suffix," left")))},n}(e.Component);t.FileUploadProgress=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"data-preview__text"},this.props.preview.textData)},n}(e.Component);t.DataPreviewText=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(401),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"data-preview__json"},e.createElement(i,{data:JSON.parse(this.props.preview.textData)}))},n}(e.Component);t.DataPreviewJson=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(680),r=n(60),o=n(134),s=n(6),l=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.guessTableDataType=function(e){if(!n.props.preview&&!n.props.preview.tableData)return"unknown";var t=Math.min(10,n.props.preview.tableData.length),a=n.props.preview.tableData.slice(1,t).map(function(t){return t[e]});return a.some(function(e){return"true"===e||"false"===e})?"boolean":a.some(function(e){return!isNaN(+e)})?"numeric":a.some(function(e){return!isNaN(new Date(e).getTime())})?"dateTime":"string"},n.getColumnMetadata=function(){var e=n.props.preview.columns||[];return n.props.preview.tableData[0].map(function(e,t){return{name:e,description:"",type:n.guessTableDataType(t)}}).map(function(t,n){return e[n]?e[n]:t})},n.renderTableHeaderCell=function(t,a,l){var c=!1,u=null,p="unknown",d=n.props.preview&&n.props.preview.columns&&n.props.preview.columns.some(function(e){return!!e.description}),m=d&&n.props.possibleTabs.some(function(e){return e===i.PreviewType.ColumnDescriptions}),h=m&&n.props.canEditColumnMetadata,g=n.props.activeTab===i.PreviewType.ColumnDescriptions;if(l){p=l.type?l.type.toLowerCase():"unknown";var f=null;l.description?(f=e.createElement("div",{className:"data-preview__table-info-tooltip"},e.createElement("div",{className:"data-preview__table-info-tooltip-header"},l.type),e.createElement(r.MarkdownConverter,{contentClassName:"data-preview__table-info-tooltip-description",content:l.description,mimeType:"text/markdown",insertNofollow:!0})),e.createElement("span",{className:"data-preview__table-info-icon fa fa-info-circle"}),c=!0):(f=e.createElement("div",{className:"data-preview__table-info-tooltip"},e.createElement("div",{className:"data-preview__table-info-tooltip-header"},e.createElement("div",null,l.type)),h&&e.createElement("div",{className:"data-preview__table-info-tooltip-instruction"},"Click to add a description of this column.")),e.createElement("span",{className:"data-preview__table-info-icon data-preview__table-info-icon--notooltip"+(h?" fa fa-pencil":"")})),u=e.createElement(o.ToolTipMultiLine,{tipContent:f,alignLeft:!0},l.name||t)}else u=e.createElement("span",null,t);return e.createElement("div",{key:"-header-"+a,className:s("data-preview__table-header-cell","data-preview__table-header-cell--"+p,{"data-preview__table-header-cell--info":c},{"data-table-header-cell--editable":m&&!g}),onClick:function(){m&&!g&&n.props.onChangeTab(i.PreviewType.ColumnDescriptions)}},u)},n.renderTableBodyCell=function(t,n,a,i){var r=i.type?i.type:"unknown";return e.createElement("div",{key:"row-"+n+"-col-"+a,className:"data-preview__table-cell data-preview__table-cell--"+r},t)},n}return a.__extends(n,t),n.prototype.onScroll=function(e){var t=e.nativeEvent.target.scrollTop;this.tableHeader.style.transform="translateY("+t+"px)",this.tableHeader.style.boxShadow=t>0?"0 1px 3px rgba(0,0,0,0.15)":"none"},n.prototype.render=function(){var t=this,n=this.props.preview.tableData[0],a=this.props.preview.tableData.slice(1,this.props.preview.tableData.length),i=this.getColumnMetadata();return e.createElement("div",{className:"data-preview__table"},e.createElement("div",{className:"data-preview__table-header-row",ref:function(e){t.tableHeader=e}},n.map(function(e,n){return t.renderTableHeaderCell(e,n,i[n])})),a.map(function(n,a){return e.createElement("div",{key:"row-"+a,className:"data-preview__table-row"},n.map(function(e,n){return t.renderTableBodyCell(e,a,n,i[n])}))}))},n}(e.Component);t.DataPreviewTable=l}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(50),r=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderTableBodyCell=function(t,n,a,i){var r=i.type?i.type:"unknown";return e.createElement("div",{key:"row-"+n+"-col-"+a,className:"data-preview__table-cell data-preview__table-cell--"+r},t)},n}return a.__extends(n,t),n.prototype.onScroll=function(e){var t=e.nativeEvent.target.scrollTop;this.tableHeader.style.transform="translateY("+t+"px)",this.tableHeader.style.boxShadow=t>0?"0 1px 3px rgba(0,0,0,0.15)":"none"},n.prototype.render=function(){var t=this,n=this.props.container.children.filter(function(e){return"archiveEntry"===e.type}).map(function(e){return e});return e.createElement("div",{className:"data-preview__archive"},e.createElement("div",{className:"data-preview__archive-header-row",ref:function(e){return t.tableHeader=e}},e.createElement("div",{className:"data-preview__archive-header-cell data-preview__archive-name"},"File Name"),e.createElement("div",{className:"data-preview__archive-header-cell data-preview__archive-size"},"Compressed Size"),e.createElement("div",{className:"data-preview__archive-header-cell data-preview__archive-size"},"Uncompressed Size")),n.map(function(t,n){return e.createElement("div",{key:"row-"+n,className:"data-preview__table-row"},e.createElement("div",{className:"data-preview__archive-cell data-preview__archive-name"},t.name),e.createElement("div",{className:"data-preview__archive-cell data-preview__archive-size"},i(t.compressedSize||0)),e.createElement("div",{className:"data-preview__archive-cell data-preview__archive-size"},i(t.uncompressedSize||0)))}))},n}(e.Component);t.DataPreviewArchive=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=e.Datasets,o=function(e){function t(t){var n=e.call(this,t)||this;n.retrieveUrl=function(){"uploadFile"==n.state.container.type&&n.isImage()&&r.getInboxUrl({},n.props.container).then(function(e){return n.setState({url:e.url,loading:!1})})},n.isImage=function(){var e=n.props.container.name,t=e.split(".");return["png","jpg","jpeg","gif"].indexOf(t[t.length-1])>-1};var a=i.__assign({},n.props,{loading:!0});return n.state=a,n}return i.__extends(t,e),t.prototype.componentDidMount=function(){this.retrieveUrl()},t.prototype.componentWillReceiveProps=function(e){var t=this;this.setState({container:e.container,loading:!0,url:null},function(){return t.retrieveUrl()})},t.prototype.render=function(){return a.createElement("div",{className:"data-preview__image"},this.state.url&&a.createElement("img",{className:"data-preview__image-content",src:this.state.url}),this.state.loading&&a.createElement("div",{className:"data-preview__image-loading"},"Loading..."))},t}(a.Component);t.DataPreviewImage=o}).call(t,n(23),n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(4),r=n(188),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement("div",{className:"data-preview__column-descriptions"},this.props.preview.columns.map(function(n,i){return e.createElement(s,a.__assign({},t.props,{column:n}))}))},n}(e.Component);t.DataPreviewColumnDescriptions=o;var s=function(t){function n(e){var n=t.call(this,e)||this;n.textarea=null,n.onTypeChanged=function(e){var t=a.__assign({},n.state.column);t.type=e,n.setState({column:t})},n.onDescriptionChanged=function(e){var t=a.__assign({},n.state.column);t.description=e,n.setState({column:t})},n.onSave=function(){};var i=a.__assign({},n.props,{isEditing:!1});return n.state=i,n}return a.__extends(n,t),n.prototype.componentDidUpdate=function(e,t){!t.isEditing&&this.state.isEditing&&this.textarea&&this.textarea.focus()},n.prototype.onEdit=function(e){this.setState({isEditing:e})},n.prototype.renderNonEditing=function(){var t=this,n=this.props.canEditColumnMetadata&&this.props.onColumnMetadataEdited,a=n?e.createElement("span",{onClick:function(){return t.onEdit(!0)},className:"data-preview__description-row-cta"},"Help us describe this column..."):e.createElement("span",null,"No description provided");return e.createElement("div",{className:"data-preview__column-description-row"},e.createElement("div",{className:"data-preview__column-description-row-name"},this.state.column.name),this.state.column.description?e.createElement("div",{className:"data-preview__column-description-row-description",onClick:n?function(){return t.onEdit(!0)}:null,style:n?{cursor:"pointer"}:null},e.createElement("div",{className:"data-preview__column-description-row-description-inner"},e.createElement(i.MarkdownConverter,{content:this.state.column.description,mimeType:"text/markdown"}))):e.createElement("div",{className:"data-preview__column-description-row-description data-preview__column-description-row-description--empty",onClick:n?function(){return t.onEdit(!0)}:null,style:n?{cursor:"pointer"}:null},e.createElement("div",{className:"data-preview__column-description-row-description-inner"},a)),e.createElement("div",{className:"data-preview__column-description-row-type",onClick:n?function(){return t.onEdit(!0)}:null,style:n?{cursor:"pointer"}:null},this.state.column.type),e.createElement("div",{className:"data-preview__column-description-row-save-icon"},""))},n.prototype.renderEditing=function(){var t=this,n=[{value:"string",label:"String"},{value:"numeric",label:"Numeric"},{value:"dateTime",label:"DateTime"},{value:"boolean",label:"Boolean"}];return e.createElement("div",{className:"file-preview__description-row"},e.createElement("div",{className:"file-preview__description-row-field-name"},this.state.column.name),e.createElement("div",{className:"file-preview__description-row-description"},e.createElement(r.default,{autoFocus:!0,defaultValue:this.state.column.description,onChange:function(e){return t.onDescriptionChanged(e.currentTarget.value)},className:"file-preview__description-row-description-editor",minRows:1,maxRows:10,placeholder:"Column description",ref:function(e){t.textarea=e}})),e.createElement("div",{className:"file-preview__description-row-field-type file-preview__description-row-field-type--edit"},e.createElement(i.SelectBox,{className:"file-preview__description-row-field-typeselect-box",options:n,value:this.state.column.type,onChange:this.onTypeChanged})),e.createElement("div",{className:"file-preview__description-row-save-icon",onClick:function(){return t.onSave()}},e.createElement("span",{className:"fa fa-check"})))},n.prototype.render=function(){return this.state.canEditColumnMetadata&&this.state.isEditing?this.renderEditing():this.renderNonEditing()},n}(e.Component);t.DataPreviewColumnDescription=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(50),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderHeader=function(){return e.createElement("div",{className:"data-view__header"},e.createElement("span",{className:"data-view__header-name"},this.props.name,e.createElement("span",{className:"data-view__header-size"},"Compressed ",i(this.props.compressedSize||0),"    Uncompressed ",i(this.props.uncompressedSize||0))),e.createElement("div",{className:"data-view__header-buttons"},null,null,null))},n.prototype.render=function(){return e.createElement("div",{className:"data-view"},e.createElement("div",{className:"data-view__info"},this.renderHeader()),e.createElement("div",{className:"data-view__archive-hint"},"This file is part of an archive. All archive files will be uncompressed and available at the root folder when this dataset is used in Kernels."))},n}(e.Component);t.DataViewArchiveEntry=r}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(0),r=n(6),o=n(398),s=function(e){function t(t){var n=e.call(this,t)||this;return n.dragCount=0,n.dragEnter=function(){n.dragCount++,n.setState({isDraggingOverWindow:!0}),n.props.onDragOverWindow(!0)},n.dragLeave=function(){0==--n.dragCount&&(n.setState({isDraggingOverWindow:!1}),n.props.onDragOverWindow(!1))},n.state=a.__assign({},t,{isDraggingOverWindow:!1,isDraggingOverFileDrop:!1}),n}return a.__extends(t,e),t.prototype.componentDidMount=function(){document.addEventListener("dragenter",this.dragEnter),document.addEventListener("dragleave",this.dragLeave)},t.prototype.componentWillUnmount=function(){document.removeEventListener("dragleave",this.dragLeave),document.removeEventListener("dragenter",this.dragEnter)},t.prototype.componentDidUpdate=function(e,t){!e.fileDialogOpened&&this.props.fileDialogOpened&&this.dropZone&&this.dropZone.open()},t.prototype.render=function(){var e=this,t=this.props.classPrefix?this.props.classPrefix+"__":"",n=t+"filedrop",a=t+"filedrop-drag",s=t+"filedrop-drag-window",l=t+"filedrop-drop";return i.createElement("div",{className:r(n,this.state.isDraggingOverFileDrop&&a,this.state.isDraggingOverWindow&&s)},i.createElement(o,{name:"filedrop-"+this.props.id,id:"filedrop-"+this.props.id,ref:function(t){e.dropZone=t},multiple:this.props.multi,disableClick:this.props.disableClick,className:l,onDrop:this.props.onDrop,onFileDialogCancel:function(){return e.props.onOpenFileDialog(!1)},onDragLeave:function(){e.props.onDragOverFileDrop(!1),e.setState({isDraggingOverFileDrop:!1})},onDragEnter:function(){e.props.onDragOverFileDrop(!0),e.setState({isDraggingOverFileDrop:!0})}},this.props.children))},t}(i.Component);t.FileDrop=s},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(4),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){for(var t=this.props,n=t.forums,r=a.__rest(t,["forums"]),o=[],s=0;s<n.length;s+=3)o.push(n.slice(s,s+3));var l=0;return e.createElement("div",null,e.createElement(i.Banner,{title:"Discussion",bannerImageClassName:"discussion__banner-image"}),e.createElement("div",{className:"discussion"},e.createElement("div",{className:"discussion__forums"},e.createElement("div",{className:"discussion__forums-header"},"Site Forums"),o.map(function(t){return e.createElement("div",{className:"discussion__forums-row",key:l++},t.map(function(t){return e.createElement(i.BlockLink,{borderless:!0,className:"discussion__forum",href:t.url,key:t.name},e.createElement("img",{className:"discussion__forum-image",src:t.imageUrl}),e.createElement("div",{className:"discussion__forum-title"},e.createElement("span",null,t.name," ",t.isPrivate?e.createElement("span",{className:"fa fa-lock"}):null),e.createElement("span",{className:"discussion__forum-subtitle"},t.subtitle),t.lastPostDate?e.createElement("a",{className:"discussion__forum-last-post",href:t.lastPostUrl},"last post ",e.createElement(i.TimeAgo,{time:t.lastPostDate})):null))}))})),e.createElement(i.Forum,a.__assign({},r,{isRootLevel:!0,isSitewide:!0,onTopicClicked:function(e){return window.location.href=e.topicUrl}}))))},n}(e.Component);t.Discussion=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a,i){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(194),s=n(1514),l=n(1516),c=n(681),u=n(1517),p=n(1518),d=n(4),m=n(8),h=n(21),g=n(442),f=n(441),v=(f(),n(443)),_=function(t){function n(e){var n=t.call(this,e)||this;n.telemetry=new c.NotebookTelemetry("kaggle-indirect"),n.handleAutoSave=function(){n.setState({canSave:!1,lastSavedTime:new Date,wasAutoSaved:!0})},n.handleChangeEvents=function(e){e&&e.length>0&&"load_notebook"===e[0]._type?n.loadAutosaved(n.props.scriptRunId||n.props.sourceScriptRunId):n.setState({editHistory:n.state.editHistory.concat(e)})},n.loadAutosaved=function(e){e&&a.ajax("/redis/autosave/"+e).then(function(e){return n.setState({startingStateIpynb:e})})},n.handleScriptResultMessage=function(e){n.setState({scriptResultMessage:e})},n.handleRedisConnectionError=function(e,t,a){n.redisMessageTimeout&&window.clearTimeout(n.redisMessageTimeout);var i=e;("warning"===t||a&&a>20)&&(i=e+" You can save your work by downloading it to an ipynb file..."),n.setState({redisConnectionMessage:i,redisConnectionMessageType:t}),n.redisMessageTimeout=window.setTimeout(function(){n.setState({redisConnectionMessage:""})},3e3)},n.handleRedisConnectionOk=function(){""!==n.state.redisConnectionMessage&&"success"!==n.state.redisConnectionMessageType&&(n.redisMessageTimeout&&window.clearTimeout(n.redisMessageTimeout),n.setState({redisConnectionMessage:"Reconnected to the server ",redisConnectionMessageType:"success"}),n.redisMessageTimeout=window.setTimeout(function(){n.setState({redisConnectionMessage:""})},3e3))},n.kernelLanguageIdToName=function(e){var t=n.props.scriptLanguageTemplates.filter(function(t){return t.languageId==e});return t&&t.length>0?t[0].baseScriptLanguageName:(console.warn("Unknown kernel language id: "+e.toString()),"")},n.kernelLanguageName=function(){return n.state?n.kernelLanguageIdToName(n.state.kernelLanguageId):n.kernelLanguageIdToName(n.props.scriptLanguageId)},n.onKernelStatusChange=function(e){n.telemetry.statusChanged(e),n.setState({kernelStatus:e})},n.handleKernelStatusChange=function(e){n.onKernelStatusChange(e)},n.handleChangeCellType=function(e,t){var a=o.UpdateCellEditEvent(e,n.getCellContents(e),t,null);n.setState({editHistory:n.state.editHistory.concat(a)}),n.kernel.sendEditEvent(a,n.serializeCellsToIpynbWithNoOutputs)},n.handleChangeCollapsed=function(e,t){var a=o.UpdateCellEditEvent(e,n.getCellContents(e),null,t);n.setState({editHistory:n.state.editHistory.concat(a)}),n.kernel.sendEditEvent(a,n.serializeCellsToIpynbWithNoOutputs)},n.handleCellExecuteRequest=function(e){n.state.isEditingTitle&&""!==n.state.title&&n.handleTitleEditingStateChanged();var t,a=n.state.editHistory;n.pendingEditEvent&&n.pendingEditEvent._cell_guid===e?(t=n.pendingEditEvent.source,a=a.concat(n.pendingEditEvent),n.pendingEditEvent=null):t=n.getCellContents(e),n.setState({editHistory:a.concat(o.CellExecutionRequest(e))}),n.kernel.executeCell(e,t,n.serializeCellsToIpynbWithNoOutputs),n.hasExecutedCodeCell=!0},n.handlePlayAll=function(){var e=n.serializeCellsToIpynb().cells,t=e.filter(function(e){return"code"===e.cell_type}).map(function(e){return e.metadata._cell_guid});n.state.isEditingTitle&&""!==n.state.title&&n.handleTitleEditingStateChanged(),n.pushNewCellContents().then(function(){n.setState({editHistory:n.state.editHistory.concat(t.map(function(e){return o.CellExecutionRequest(e)}))})}),n.kernel.executeCells(e,n.serializeCellsToIpynbWithNoOutputs),n.hasExecutedCodeCell=!0},n.handleCellCancelRequest=function(e){n.kernel.requestKernelInterrupt()},n.handleCellCancelled=function(){n.state.busyCellUuid&&n.setState({editHistory:n.state.editHistory.concat(o.MakeCellIdleEditEvent(n.state.busyCellUuid))})},n.handleUpdateTitle=function(e){m.Current.log("Received new title from server: "+e),n.setState({title:e})},n.handleUpdateUrl=function(e){history.replaceState&&history.replaceState({},"",e)},n.handleRedirectToRenderedNotebook=function(){window.location.href+="/../"},n.handleUpdateTitleErrorMessage=function(e){m.Current.log("Received title error: "+e),n.setState({titleErrorText:e})},n.autosave=function(){if(n.kernel&&n.kernel.scriptRunId){var e=JSON.parse(JSON.stringify(n.serializeCellsToIpynb()));e.cells.forEach(function(e){return e.outputs=[]});var t=JSON.stringify(e,null,2);if(n.previousIpynbContent!==t){if(!e.cells||0===e.cells.length)return;a.ajax({url:"/redis/autosave/"+n.kernel.scriptRunId,type:"POST",data:JSON.stringify({ipynbContent:t}),processData:!1,contentType:"application/json"}),n.previousIpynbContent=t}}},n.handlePageChange=function(e){if(n.state.hasUnpublishedChanges){var t="Your notebook has unpublished changes. Are you sure you want to leave this page?";return e.returnValue=t,t}return null},n.handleTitleEditingStateChanged=function(){n.state.isEditingTitle?(n.setState({isEditingTitle:!1}),n.kernel.requestNewTitle(n.state.title)):n.setState({isEditingTitle:!0})},n.handleTitleEditorLoseFocus=function(){""!==n.state.title&&n.handleTitleEditingStateChanged()},n.handleLanguageChanged=function(e){var t=+e;if(isNaN(t))return void m.Current.warn("Invalid new language id: "+e);if(t===n.state.kernelLanguageId)return void m.Current.log("No language change needed.");var a=n.serializeCellsToIpynbWithNoOutputs(),i=n.switchLanguageTemplateIfPresent(a,t),r=JSON.stringify(i);n.kernel.changeLanguage(t,r),n.setState({kernelLanguageId:t,startingStateIpynb:r,editHistory:[],kernelInfoText:"",scriptResultMessage:""})},n.handlePrivacyChanged=function(){n.setState({isShowingPrivacyModal:!0})},n.handleChangeToPublic=function(){n.setState({isPrivate:!1})},n.handleRestartKernel=function(){var e=n.serializeCellsToIpynbWithNoOutputs(),t=JSON.stringify(e);n.kernel.changeLanguage(n.state.kernelLanguageId,t),n.setState({startingStateIpynb:t,editHistory:[],kernelInfoText:"",scriptResultMessage:""})},n.handleDataSourceAdded=function(e){return d.addDataSource(e,n.kernel.scriptRunId).then(n.setDataSources)},n.handleDataSourceRemoved=function(e){return d.removeDataSource(e,n.kernel.scriptRunId).then(n.setDataSources)},n.setDataSources=function(e){return n.kernel.dataSources=e,new Promise(function(t,a){if(e){var i=0===e.length?"/static/images/no-datasource.png":1===e.length?e[0].imageUrl:"/static/images/multiple-datasource.png",r=1===e.length?e[0].sourceUrl:null;n.setState({dataSources:e,imageUrl:i,imageClickUrl:r},function(){n.handleRestartKernel(),t()})}else t()})},n.handleTitleChanged=function(e){n.setState({title:e,titleErrorText:""})},n.handleTitleEditorGainFocus=function(){n.setState({titleEditorHasFocus:!0})},n.handleRenderHtml=function(){n.kernel.requestRenderingHtml(!1,n.pendingEditEvent),n.setState({scriptResultMessage:"",hasUnpublishedChanges:!1,editHistory:n.state.editHistory.concat(n.pendingEditEvent)})},n.handleRenderRequestError=function(e){n.setState({titleErrorText:e})},n.handleUploadIpynb=function(e){n.deleteAllCellsOnServer();var t=e.target.files[0],a=new FileReader;a.onload=function(e){var t=n.parseIpynbFile(e.target.result);n.sendNewCellsToServer(t)},a.readAsText(t)},n.handleDownloadIpynb=function(){var e=n.serializeCellsToIpynb();e.cells=e.cells.map(function(e){return{cell_type:e.cell_type,source:e.source,execution_count:e.execution_count,outputs:e.outputs,metadata:{}}});var t=new Blob([JSON.stringify(e,null,2)],{type:"text/plain;charset=utf-8"});v.saveAs(t,"notebook.ipynb",!0)},n.handleKernelSpecChange=function(e,t){n.setState({kernelMetadata:{kernelspec:e,language_info:t},kernelInfoText:t.version})},n.updateActiveCellProperties=function(e,t,a){n.setState({activeCellUuid:e,activeCellIsCollapsed:t,activeCellType:a})},n.updateBusyCellProperties=function(e){n.setState({busyCellUuid:e})},n.updateCellCount=function(e){n.setState({nTotalCells:e})},n.handleInsertActivatedCellBefore=function(e){n.handleInsertActivatedCell(null,e)},n.handleInsertActivatedCellAfter=function(e){void 0===e&&(e=null),n.handleInsertActivatedCell(e,null)},n.handleInsertActivatedCell=function(e,t){var a=o.InsertCellEditEvent(o.strictlyFormattedUuid(),e,!1,o.NotebookCellType.Code,"",t),i=o.ActivateCellEditEvent(a._cell_guid);n.setState({editHistory:n.state.editHistory.concat([a,i])}),n.kernel.sendEditEvents([a,i],n.serializeCellsToIpynbWithNoOutputs)},n.insertMarkdownCellAtStart=function(){var e=o.InsertCellEditEvent(o.strictlyFormattedUuid(),null,!1,o.NotebookCellType.Markdown,"",n.state.firstCellUuid),t=o.ActivateCellEditEvent(e._cell_guid);n.setState({editHistory:n.state.editHistory.concat([e,t])}),n.kernel.sendEditEvents([e,t],n.serializeCellsToIpynbWithNoOutputs)},n.handleDeleteCell=function(e){confirm("Delete cell?")&&n.registerEditEvent(o.DeleteCellEditEvent(e))},n.handleNewCellContents=function(e,t,a){n.pendingEditEvent&&n.pendingEditEvent._cell_guid===e?n.pendingEditEvent.source=t||"":n.pendingEditEvent?(n.pushNewCellContents(),n.pendingEditEvent=o.UpdateCellEditEvent(e,t,a,!1)):n.pendingEditEvent=o.UpdateCellEditEvent(e,t,a,!1),n.setState({canSave:!0,hasUnpublishedChanges:!0})},n.pushNewCellContents=function(){var e=i.Deferred();return n.pendingEditEvent?(n.setState({editHistory:n.state.editHistory.concat(n.pendingEditEvent),canSave:!1,lastSavedTime:new Date},function(){return e.resolve()}),n.kernel.sendEditEvent(n.pendingEditEvent,n.serializeCellsToIpynbWithNoOutputs),n.pendingEditEvent=null):e.resolve(),e},n.handleActivateCell=function(e){n.pushNewCellContents().then(function(){n.setState({editHistory:n.state.editHistory.concat(o.ActivateCellEditEvent(e))})})},n.handleDeactivateCell=function(e){n.pushNewCellContents().then(function(){n.setState({editHistory:n.state.editHistory.concat(o.DeactivateCellEditEvent(e))})})},n.handleDocumentClick=function(e){-1!==["notebook-editor","notebook-editor__notebook-contents","notebook-editor__cells-container","content-box__content-section"].indexOf(e.target.className)&&n.deactivateActiveCell()},n.deactivateActiveCell=function(){n.state.activeCellUuid&&n.handleDeactivateCell(n.state.activeCellUuid)},n.updateInputFileMetadata=function(e,t,i){if(n.props.updateInputMetadataUrl){var r={fileName:e,columns:[{fileName:e,columnIndex:t,description:i.description,dataType:i.harmonizedDataType}]};a.ajax({context:n,url:n.props.updateInputMetadataUrl,type:"PATCH",processData:!1,contentType:"application/json",dataType:"text",data:JSON.stringify(r),success:function(e){e&&h.PageMessages.error("Your description could not be saved: "+e,{clear:!0})},error:function(){h.PageMessages.error("Sorry, there was a problem saving your update.",{clear:!0})}})}},n.onDataSourcesChanged=function(e){return d.addDataSource(e,n.kernel.scriptRunId).then(n.setDataSources)};var r=!n.props.scriptId||n.props.scriptId<=0,u=n.props.scriptRunId&&n.props.scriptRunId>0;n.state={kernelLanguageId:n.props.scriptLanguageId,kernelStatus:o.KernelStatus.Initializing,startingStateIpynb:"",editHistory:r||n.props.loadNotebookPending?n.getInitialEdits():[],title:n.props.existingTitle||"",isEditingTitle:!(n.props.existingTitle&&!n.props.forkParentScriptVersionId),titleErrorText:"",canUndo:!1,canRedo:!1,kernelMetadata:{kernelspec:{name:"python"},language_info:{name:"python",version:"3.5.1"}},kernelInfoText:"",canSave:!1,hasUnpublishedChanges:!1,lastSavedTime:null,wasAutoSaved:!1,titleEditorHasFocus:!1,activeCellUuid:null,activeCellIsCollapsed:null,activeCellType:null,busyCellUuid:null,hasCodeCell:!0,hasNonEmptyCell:!0,nTotalCells:0,redisConnectionMessage:"",redisConnectionMessageType:"success",scriptResultMessage:"",downloadDataMessage:null,isInKeyboardShortcutCommandMode:!1,firstCellIsMarkdown:!1,firstCellUuid:null,isPrivate:n.props.isPrivate,scriptId:n.props.scriptId||null,dataSources:n.props.dataSources&&n.props.dataSources.filter(Boolean)||[],imageUrl:n.props.imageUrl,imageClickUrl:n.props.dataSources&&1===n.props.dataSources.length&&n.props.dataSources[0]?n.props.dataSources[0].sourceUrl:null};var p={initialScriptId:n.props.scriptId,initialTitle:n.props.existingTitle&&""!==n.props.existingTitle?n.props.existingTitle:null,initialScriptRunId:n.props.scriptRunId,initialLanguageId:n.props.scriptLanguageId,scriptProjectId:n.props.scriptProjectId,readOnly:n.props.readOnly,onKernelStatusChange:n.onKernelStatusChange,onUpdateTitle:n.handleUpdateTitle,onUpdateUrl:n.handleUpdateUrl,onUpdateScriptId:function(e){n.setState({scriptId:e})},onUpdateTitleErrorMessage:n.handleUpdateTitleErrorMessage,onKernelSpecChange:n.handleKernelSpecChange,initialEditEvents:n.state.editHistory,onSave:n.handleAutoSave,onRedirectToRenderedNotebook:n.handleRedirectToRenderedNotebook,receiveChanges:n.handleChangeEvents,onConnectionOk:n.handleRedisConnectionOk,onConnectionProblem:n.handleRedisConnectionError,onDataDownloadUpdate:function(e){return n.setState({downloadDataMessage:e})},onExecutionCancelRequestSent:n.handleCellCancelled,onKernelResultMessage:n.handleScriptResultMessage,isDataset:n.props.isDataset};n.kernel=new s.NotebookKernelDispatcher(p),u?(n.loadAutosaved(n.kernel.scriptRunId),n.connectToExistingScriptRun()):n.kernel.startKernel(n.props.forkParentScriptVersionId,n.props.sourceScriptRunId,n.state.dataSources).then(function(){return n.loadAutosaved(n.kernel.scriptRunId)}),window.setInterval(n.pushNewCellContents,6e4);var g={onChangedToEditMode:function(){n.setState({isInKeyboardShortcutCommandMode:!1})},onChangedToCommandMode:function(){n.setState({isInKeyboardShortcutCommandMode:!0})},onInsertCellAbove:function(){n.state.activeCellUuid&&n.handleInsertActivatedCellBefore(n.state.activeCellUuid)},onInsertCellBelow:function(){n.state.activeCellUuid&&n.handleInsertActivatedCellAfter(n.state.activeCellUuid)},onSave:function(){},onCancelExecution:function(){return n.handleCellCancelRequest(n.state.activeCellUuid)},onMakeCodeCell:function(){return n.handleChangeCellType(n.state.activeCellUuid,o.NotebookCellType.Code)},onMakeMarkdownCell:function(){return n.handleChangeCellType(n.state.activeCellUuid,o.NotebookCellType.Markdown)},onDeleteCell:function(){return n.handleDeleteCell(n.state.activeCellUuid)}};return n.shortcuts=new l.NotebookKeyboardShortcutter(g),document.addEventListener("keydown",n.shortcuts.handleKeyDown,!0),n.props.url&&""!==n.props.url&&n.handleUpdateUrl(n.props.url),n}return r.__extends(n,t),n.prototype.componentDidMount=function(){this.kernel.containerDidMount(),document.addEventListener("click",this.handleDocumentClick,!1),window.addEventListener("beforeunload",this.handlePageChange),this.autosaveIntervalHandle=window.setInterval(this.autosave.bind(this),5e3),this.checkAddDataSourceModal()},n.prototype.componentWillUnmount=function(){this.kernel.containerWillUnmount(),document.removeEventListener("keydown",this.shortcuts.handleKeyDown,!0),document.removeEventListener("click",this.handleDocumentClick,!1),window.removeEventListener("beforeunload",this.handlePageChange),clearInterval(this.autosaveIntervalHandle)},n.prototype.componentDidUpdate=function(){this.state.editHistory.length>50&&this.setState({startingStateIpynb:JSON.stringify(this.serializeCellsToIpynb()),editHistory:[]})},n.prototype.checkAddDataSourceModal=function(){!(this.props.dataSources&&this.props.dataSources.length>0)&&this.props.isNewNotebook&&this.addDataSourceBanner.showModal()},n.prototype.getInitialEdits=function(){if(this.props.loadNotebookPending)return[];var e=o.InsertCellEditEvent(o.strictlyFormattedUuid(),null);return this.props.templateText&&""!==this.props.templateText&&(e.source=this.props.templateText),[e]},n.prototype.connectToExistingScriptRun=function(){this.kernel.subscribeToRedisKeys(0)},n.prototype.stopCellExecution=function(e){this.kernel.cancelCellExecution()},n.prototype.switchLanguageTemplateIfPresent=function(e,t){var n=this.props.scriptLanguageTemplates.map(function(e){return e.languageId}).indexOf(this.state.kernelLanguageId),a=this.props.scriptLanguageTemplates.map(function(e){return e.languageId}).indexOf(t),i=this.props.scriptLanguageTemplates[n].template,r=e.cells.map(function(e){return e.source}).indexOf(i);return-1===r?(m.Current.log("No language template found."),e):(m.Current.log("Swapping language template."),e.cells[r].source=this.props.scriptLanguageTemplates[a].template,e)},n.prototype.parseIpynbFile=function(e){var t=JSON.parse(e);return t.cells.forEach(function(e){e.metadata.hasOwnProperty("_cell_guid")||(e.metadata._cell_guid=o.strictlyFormattedUuid()),e.metadata.hasOwnProperty("_active")||(e.metadata._active=!1)}),this.setState({startingStateIpynb:JSON.stringify(t),editHistory:[]}),t.cells},n.prototype.deleteAllCellsOnServer=function(){var e=this.serializeCellsToIpynb().cells;this.kernel.sendEditEvents(e.map(function(e){return o.DeleteCellEditEvent(e.metadata._cell_guid)}),this.serializeCellsToIpynbWithNoOutputs)},n.prototype.sendNewCellsToServer=function(e){this.kernel.sendEditEvents(e.map(function(t,n){return o.InsertCellEditEvent(t.metadata._cell_guid,n>0?e[n-1].metadata._cell_guid:null,t.metadata.collapsed,"code"===t.cell_type?o.NotebookCellType.Code:o.NotebookCellType.Markdown,t.source)}),this.serializeCellsToIpynbWithNoOutputs)},n.prototype.updateCellProperties=function(e,t){this.setState({hasCodeCell:e,hasNonEmptyCell:t})},n.prototype.registerEditEvent=function(e){this.pendingEditEvent?(this.setState({editHistory:this.state.editHistory.concat([this.pendingEditEvent,e])}),this.kernel.sendEditEvents([this.pendingEditEvent,e],this.serializeCellsToIpynbWithNoOutputs),this.pendingEditEvent=null):(this.setState({editHistory:this.state.editHistory.concat(e)}),this.kernel.sendEditEvent(e,this.serializeCellsToIpynbWithNoOutputs))},n.prototype.renderHeader=function(){var t=this,n=this.state.kernelStatus===o.KernelStatus.RenderingHtml,a=this.props.readOnly||n,i=null;""!==this.state.titleErrorText&&(i=(i||[]).concat({type:"error",message:this.state.titleErrorText})),""!==this.state.redisConnectionMessage&&(i=(i||[]).concat({type:this.state.redisConnectionMessageType,message:this.state.redisConnectionMessage})),""!==this.state.scriptResultMessage&&(i=(i||[]).concat({type:"error",message:this.state.scriptResultMessage}));var r=this.props.scriptLanguageTemplates.map(function(e){return{label:e.baseScriptLanguageName,value:e.languageId.toString()}});a&&(r=r.filter(function(e){return e.value===t.state.kernelLanguageId.toString()}));var s=""===this.state.title,l=this.state.titleErrorText&&""!==this.state.titleErrorText,c=!(s||l||a||this.state.isEditingTitle||this.state.kernelStatus!==o.KernelStatus.Running),p="Render the notebook as a new HTML page";s?p="You must enter a title before saving a complete run.":this.state.isEditingTitle&&(p="You must finish editing the title before saving a complete run.");var d=function(){return t.handleInsertActivatedCellAfter(t.state.activeCellUuid)},m=this.state.kernelStatus!==o.KernelStatus.RestartingKernel;return e.createElement(u.NotebookHeader,{readOnly:a,activeCellUuid:this.state.activeCellUuid,activeCellIsCollapsed:this.state.activeCellIsCollapsed,activeCellType:this.state.activeCellType,availableLanguageChoices:r,busyCellUuid:this.state.busyCellUuid,canDownloadIpynb:this.state.hasNonEmptyCell,canExecuteActiveCell:this.state.activeCellType===o.NotebookCellType.Code&&this.state.kernelStatus===o.KernelStatus.Running,canExecuteAll:this.state.hasCodeCell&&this.state.kernelStatus===o.KernelStatus.Running,canRenderHtml:c,canRestartKernel:m,isEditingTitle:this.state.isEditingTitle,kernelInfoLine:this.state.kernelInfoText,kernelLanguageDropdownValue:this.state.kernelLanguageId.toString(),kernelLanguageName:this.kernelLanguageName(),kernelStatus:this.state.kernelStatus,canSave:this.state.canSave,lastSavedTime:this.state.lastSavedTime,wasAutoSaved:this.state.wasAutoSaved,nTotalCells:this.state.nTotalCells,onAddCell:d,onCancel:this.handleCellCancelRequest,onChangeCellType:this.handleChangeCellType,onDelete:this.handleDeleteCell,onDownloadIpynb:this.handleDownloadIpynb,onExecute:this.handleCellExecuteRequest,onExecuteAll:this.handlePlayAll,onLanguageChanged:this.handleLanguageChanged,onPrivacyChanged:this.handlePrivacyChanged,onRenderHtml:this.handleRenderHtml,onRenderHtmlRequestError:this.handleRenderRequestError,onRestartKernel:this.handleRestartKernel,onTitleChanged:this.handleTitleChanged,onTitleEditingStateChanged:this.handleTitleEditingStateChanged,onTitleEditorGainFocus:this.handleTitleEditorGainFocus,onTitleEditorLoseFocus:this.handleTitleEditorLoseFocus,onChangeCollapsed:this.handleChangeCollapsed,onUploadIpynb:this.handleUploadIpynb,pageMessages:i,renderHtmlToolTipText:p,title:this.state.title,isPrivate:this.state.isPrivate,scriptId:this.state.scriptId,onChangeToPublic:this.handleChangeToPublic,imageUrl:this.state.imageUrl,imageClickUrl:this.state.imageClickUrl})},n.prototype.render=function(){var t=this,n=this.props.readOnly||this.state.kernelStatus===o.KernelStatus.RenderingHtml,a=null;n||this.state.firstCellIsMarkdown||(a=e.createElement("div",{className:"notebook-editor__add-description-prompt",onClick:this.insertMarkdownCellAtStart},e.createElement("div",{className:"notebook-editor__add-description-prompt-inner"},"Click here to add an introduction.")));var i=this.state.kernelStatus===o.KernelStatus.Running,r=null;return this.state.dataSources&&0===this.state.dataSources.length?r=e.createElement(d.ContentBox,null,e.createElement(g.AddDataSourceBanner,{onDataSourceAdded:this.onDataSourcesChanged,ref:function(e){return t.addDataSourceBanner=e}})):(this.props.inputFiles&&this.props.inputFiles.length>0||this.state.dataSources&&this.state.dataSources.length>0)&&(r=e.createElement(d.CollapsibleContentBox,{title:"Input Files",initiallyCollapsed:!0},e.createElement(d.FilePreviewList,{files:this.props.inputFiles,dataSources:this.state.dataSources,userCanEditMetadata:!m.Current.isAnonymous&&this.props.isDataset,onMetadataChange:this.props.updateInputMetadataUrl?this.updateInputFileMetadata:null,onDataSourceAdded:this.handleDataSourceAdded,onDataSourceRemoved:this.handleDataSourceRemoved,scriptVersionId:this.kernel.scriptRunId}))),e.createElement("div",{className:"notebook-editor"},this.renderHeader(),e.createElement("div",{className:"notebook-editor__notebook-contents"},this.state.downloadDataMessage&&""!==this.state.downloadDataMessage?e.createElement(b,{message:this.state.downloadDataMessage}):null,r,e.createElement(d.ContentBox,{title:"Notebook"},a,e.createElement(p.NotebookCellsContainer,{startingStateIpynb:this.state.startingStateIpynb,editHistory:this.state.editHistory,kernelMetadata:this.state.kernelMetadata,kernelLanguageName:this.kernelLanguageName(),isReadOnly:n,isInCommandMode:this.state.isInKeyboardShortcutCommandMode,canExecute:i,registerGetIpynb:function(e){t.serializeCellsToIpynb=e},registerGetIpynbWithNoOutputs:function(e){t.serializeCellsToIpynbWithNoOutputs=e},registerGetCellContents:function(e){t.getCellContents=e},onUpdateNumberOfCells:this.updateCellCount,onChangeActiveCell:this.updateActiveCellProperties,onChangeBusyCell:this.updateBusyCellProperties,onAppendActivatedCell:function(){return t.handleInsertActivatedCellAfter(null)},onNewCellContents:this.handleNewCellContents,onChangeCellType:this.handleChangeCellType,onChangeCollapsed:this.handleChangeCollapsed,onAutocomplete:this.state.kernelStatus===o.KernelStatus.Running?this.kernel.requestAutocomplete:function(){},onExecuteCell:this.state.kernelStatus===o.KernelStatus.Running?this.handleCellExecuteRequest:function(){},onActivateCell:this.handleActivateCell,onDeactivateCell:this.handleDeactivateCell,onDeleteCell:this.handleDeleteCell,onAddAbove:this.handleInsertActivatedCellBefore,onAddBelow:this.handleInsertActivatedCellAfter,onUpdateFirstCellIsMarkdown:function(e){t.setState({firstCellIsMarkdown:e})},onUpdateFirstCellUuid:function(e){t.setState({firstCellUuid:e})}}),e.createElement("div",{className:"notebook-editor__new-block-prompt",onClick:function(){return t.handleInsertActivatedCell(null,null)},id:"add-notebook-cell-button"},e.createElement("span",{className:"fa fa-plus-square"}),"Add a new text or code cell here"),this.state.isPrivate?null:e.createElement("div",{className:"notebook-editor__license-publish-info"},"Code in this notebook will be released under the ",e.createElement("a",{href:"http://www.apache.org/licenses/LICENSE-2.0"}," Apache 2.0 ")," open source license when you click Publish, or after 20 minutes of idle time."))))},n}(e.Component);t.NotebookEditor=_;var b=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.shouldComponentUpdate=function(e){return!e.message!=!this.props.message||e.message&&e.message!==this.props.message},n.prototype.render=function(){return e.createElement(d.ContentBox,{title:"Preparing Worker"},e.createElement("div",{className:"notebook-editor__download-data-message"},e.createElement("pre",null,this.props.message)))},n}(e.Component)}).call(t,n(0),n(3),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(194),r=n(1515),o=n(8),s=n(32);!function(e){e[e.Ok=0]="Ok",e[e.NotFound=1]="NotFound",e[e.Stopped=2]="Stopped"}(a||(a={}));var l=function(){function t(e){var t=this;this.hasRecordedIntercomEvent=!1,this.handleAjaxError=function(e,t,n){alert(n)},this.handleRedisInterfaceStateChange=function(e){e===r.InterfaceState.PollingUntilReconnected?(t.props.onConnectionProblem("Relocating the Kaggle mothership...","warning",0),t.updateStatus(i.KernelStatus.Reconnecting)):e===r.InterfaceState.GivenUp?(t.props.onConnectionProblem("Critical connection problem. Time to download an ipynb copy and refresh the page. Sorry! :^(","error",0),t.updateStatus(i.KernelStatus.Error)):t.props.onConnectionOk()},this.updatePrivateStatus=function(e){t.kernelStatus=e},this.updateParentStatus=function(e){t.kernelStatus=e,t.props.onKernelStatusChange(e)},this.processKernelStartupResult=function(e){var n=JSON.parse(e);if(n.ErrorMessage)return void("Invalid script language"===n.ErrorMessage&&11===t.kernelLanguage?alert("Sorry, Julia notebooks are temporariliy unavailable."):alert(n.ErrorMessage));o.Current.log("Received ScriptId: "+n.ScriptId+" and ScriptRun id: "+n.ScriptRunId),t.scriptId=n.ScriptId,t.scriptRunId=n.ScriptRunId,t.updateStatus(i.KernelStatus.Queued),t.subscribeToRedisKeys(0),o.Current.log("Updating Url: '"+n.NewUrl+"'"),t.props.onUpdateUrl(n.NewUrl),t.props.onUpdateScriptId(n.ScriptId)},this.processStatusResult=function(e){t.props.onConnectionOk();var n=e.map(function(e){return JSON.parse(e)});if(o.Current.log("Status: "),o.Current.log(n),t.kernelStatus===i.KernelStatus.RenderingHtml)return void(n.some(function(e){return"done"===e.complete||"done"===e.running})&&t.props.onRedirectToRenderedNotebook());var a=n[n.length-1];if("done"===a.assigned&&t.updateStatus(i.KernelStatus.Initializing),"Acquiring resources"in a){if(t.updateStatus(i.KernelStatus.DownloadingData),"object"==typeof a["Acquiring resources"]){var r=a["Acquiring resources"],s=!1;if("dataset"in r){var l="";for(var c in r.dataset)l+=c+": "+r.dataset[c]+"\n","done"!==r.dataset[c]&&(s=!0);s&&t.props.onDataDownloadUpdate(l.trim())}}}else t.props.onDataDownloadUpdate(null);"started"===a.running&&t.kernelStatus!==i.KernelStatus.Running&&t.updateStatus(i.KernelStatus.Starting),n.some(function(e){return"done"===e.complete||"done"===e.running})&&(window.clearTimeout(t.heartbeatWarningTimeout),t.updateStatus(i.KernelStatus.Stopped),t.unsubscribeFromRedisKeys(),t.kernelHasStarted=!1,t.props.onKernelResultMessage("The kernel was stopped, for exceeding the limits on idle time (20 minutes), storage (512 Mb) or memory (8Gb). You can use the restart button in the toolbar to try again..."),t.getKernelRunResults())},this.processWorkerHeartbeat=function(e){t.kernelStatus!==i.KernelStatus.RenderingHtml&&t.kernelStatus!==i.KernelStatus.Stopped&&(t.heartbeatWarningTimeout&&window.clearTimeout(t.heartbeatWarningTimeout),t.kernelStatus!==i.KernelStatus.LostHeartbeat&&t.kernelStatus!==i.KernelStatus.Reconnecting||t.updateStatus(i.KernelStatus.Running),t.heartbeatWarningTimeout=window.setTimeout(function(){t.kernelStatus===i.KernelStatus.Running&&t.updateStatus(i.KernelStatus.LostHeartbeat)},3e4))},this.processChangesResult=function(e){t.props.onConnectionOk();var n=e.map(function(e){return JSON.parse(e)});t.updateListOfCellsOnServer(n);var a=n.filter(i.NotFromThisClient),r=a.map(function(e){return e._type}).indexOf(i.KernelInfoResponseType);-1!==r&&(o.Current.log("Processing startup..."),t.processWorkerStartup(a[r]),a.splice(r,1)),o.Current.log("Sending changes to Editor at "+(new Date).getTime()),t.props.receiveChanges(a)},this.updateListOfCellsOnServer=function(e){e&&e.length&&0!=e.length&&e.forEach(t.updateListOfCellsOnServerAfterChange)},this.updateListOfCellsOnServerAfterChange=function(e){if(e._type){if(e._type==i.InsertCellEditEventType)t.cellUuidsServerKnowsAbout.push(e._cell_guid);else if(e._type===i.LoadNotebookEditEventType){var n=e.notebook.cells;(r=t.cellUuidsServerKnowsAbout).push.apply(r,n.map(function(e){return e.metadata._cell_guid}))}else if(e._type===i.DeleteCellEditEventType){var a=t.cellUuidsServerKnowsAbout.indexOf(e._cell_guid);a>-1&&t.cellUuidsServerKnowsAbout.splice(a,1)}var r}},this.requestAutocomplete=function(e,n,a){if(!t.props.readOnly){var o=i.AutocompleteRequest(e,n);r.redis.request(t.scriptRunId,JSON.stringify([o]),2,function(e){return t.handleAutocompleteResult(e,a)},function(){})}},this.handleAutocompleteResult=function(e,t){o.Current.log("Received autocomplete result: "+e);var n=JSON.parse(e);if("complete_reply"!==n._type)return void console.warn("Incorrect _type, aborting");t(n.matches,n.cursor_start,n.cursor_end)},this.processKernelTitleResult=function(e){var n=JSON.parse(e);if(n.ErrorMessage&&""!==n.ErrorMessage)return void t.props.onUpdateTitleErrorMessage(n.ErrorMessage);t.props.onUpdateUrl(n.NewUrl)},this.processKernelTitleCheckResult=function(e){var n=JSON.parse(e);n.ErrorMessage&&""!==n.ErrorMessage&&t.props.onUpdateTitleErrorMessage(n.ErrorMessage)},this.parseKernelRunResults=function(e){var n=JSON.parse(e);n.results&&n.results.FailureMessage&&t.props.onKernelResultMessage(n.results.FailureMessage+"; you can use the restart button in the toolbar to try again...")},this.props=s.clone(e),this.kernelStatus=i.KernelStatus.Initializing,this.scriptRunId=this.props.initialScriptRunId||0,this.scriptId=this.props.initialScriptId||0,this.kernelLanguage=this.props.initialLanguageId,this.updateStatus=this.updatePrivateStatus,this.initialEditsBeforeKernelReady=this.props.initialEditEvents,this.cellUuidsServerKnowsAbout=[],this.updateListOfCellsOnServer(this.initialEditsBeforeKernelReady),this.kernelHasStarted=!1,r.redis.addInterfaceStateCallback(this.handleRedisInterfaceStateChange)}return t.prototype.containerDidMount=function(){this.props.onKernelStatusChange(this.kernelStatus),this.updateStatus=this.updateParentStatus},t.prototype.startKernel=function(t,n,a,r){if(void 0===r&&(r=""),this.props.readOnly)return e.Deferred().resolve().promise();o.Current.log("Starting kernel..."),this.forkParentScriptVersionId=t||null,this.dataSources=a;var s={ScriptId:this.scriptId,SourceScriptVersionId:n&&n>0?n:null,LanguageId:this.kernelLanguage,ScriptProjectId:this.props.scriptProjectId,Title:this.props.initialTitle||"Notebook"+i.uuid(10),ForkParentScriptVersionId:t&&t>0?t:null,IpynbContents:r,DataSources:a},l=e.ajax({url:"/kernels/byod/newkernel",type:"POST",data:JSON.stringify(s),processData:!1,contentType:"application/json",success:this.processKernelStartupResult,error:this.handleAjaxError});return this.updateStatus(i.KernelStatus.Requested),l},t.prototype.subscribeToRedisKeys=function(e){r.redis.subscribe(this.scriptRunId,"status",-1,this.processStatusResult),r.redis.subscribe(this.scriptRunId,"jupyter:changes",e,this.processChangesResult),r.redis.subscribe(this.scriptRunId,"heartbeats:worker",0,this.processWorkerHeartbeat)},t.prototype.unsubscribeFromRedisKeys=function(){r.redis.unsubscribe("status"),r.redis.unsubscribe("jupyter:changes"),r.redis.unsubscribe("heartbeats:worker")},t.prototype.prependInsertCellEventIfNeeded=function(e,t){var n=this,a=e.filter(function(e){return e._type!==i.InsertCellEditEventType}).map(function(e){return e._cell_guid}).filter(function(e){return-1===n.cellUuidsServerKnowsAbout.indexOf(e)});if(0===a.length)return e;o.Current.log("Prepending insert events for uuids: "+a);var r=t().cells.map(function(e){return e.metadata._cell_guid}),s=t().cells.map(function(e){return"markdown"===e.cell_type?i.NotebookCellType.Markdown:i.NotebookCellType.Code}),l=[];return a.forEach(function(e){l.push(n.getInsertCellEvent(e,"",r,s[r.indexOf(e)]))}),l.concat(e)},t.prototype.updateOrInsertCell=function(e,t,n){if(this.cellUuidsServerKnowsAbout.indexOf(e)>-1)return i.UpdateCellEditEvent(e,t,i.NotebookCellType.Code,!1);var a=n().cells.map(function(e){return e.metadata._cell_guid});return this.getInsertCellEvent(e,t,a,i.NotebookCellType.Code)},t.prototype.getInsertCellEvent=function(e,t,n,a){var r=n.indexOf(e),o=t||"",s=a||i.NotebookCellType.Code;return 0===r?n.length>1?i.InsertCellEditEvent(e,null,!1,s,o,n[1]||null):i.InsertCellEditEvent(e,null,!1,s,o):i.InsertCellEditEvent(e,n[r+1]||null,!1,s,o)},t.prototype.containerWillUnmount=function(){o.Current.log("NotebookKernelDispatcher is stopping")},t.prototype.getSavedNotebookState=function(e){o.Current.log("Getting existing state for script run "+this.scriptRunId),r.redis.request(this.scriptRunId,JSON.stringify([i.SerializeNotebookRequest()]),30,e,this.props.onConnectionProblem)},t.prototype.executeCell=function(e,t,n){var a=this;if(!this.props.readOnly){o.Current.log("Requesting cell execution for id "+e+" at "+(new Date).getTime()),o.Current.log("Source: '"+t+"'");var s=this.updateOrInsertCell(e,t,n),l=i.CellExecutionRequest(e);r.redis.request(this.scriptRunId,JSON.stringify([s,l]),10,null,function(t,n,r){o.Current.log("Cancelling busy status for id "+e+" at "+(new Date).getTime()),a.props.receiveChanges([i.MakeCellIdleEditEvent(e)]),a.props.onConnectionProblem(t,n,r)}),this.hasRecordedIntercomEvent||(window.Intercom("trackEvent","run_notebook",{scriptversion_id:this.scriptRunId}),this.props.isDataset?window.Intercom("trackEvent","run_dataset_notebook",{scriptversion_id:this.scriptRunId}):window.Intercom("trackEvent","run_comp_notebook",{scriptversion_id:this.scriptRunId}),this.hasRecordedIntercomEvent=!0)}},t.prototype.executeCells=function(e,t){if(!this.props.readOnly){var n=e.filter(function(e){return"code"===e.cell_type}),a=this.prependInsertCellEventIfNeeded(n.map(function(e){return i.CellExecutionRequest(e.metadata._cell_guid)}),t);r.redis.request(this.scriptRunId,JSON.stringify(a),10,null,this.props.onConnectionProblem),this.hasRecordedIntercomEvent||(window.Intercom("trackEvent","run_notebook",{scriptversion_id:this.scriptRunId}),this.props.isDataset?window.Intercom("trackEvent","run_dataset_notebook",{scriptversion_id:this.scriptRunId}):window.Intercom("trackEvent","run_comp_notebook",{scriptversion_id:this.scriptRunId}),this.hasRecordedIntercomEvent=!0)}},t.prototype.cancelCellExecution=function(){this.props.readOnly||r.redis.request(this.scriptRunId,JSON.stringify([i.InterruptKernelRequest()]),15,this.props.onExecutionCancelRequestSent,this.props.onConnectionProblem)},t.prototype.changeLanguage=function(e,t){var n=this;if(!this.props.readOnly){this.kernelHasStarted=!1,o.Current.log("Submitting stop request...");var a=i.CloseNotebookForLanguageChangeRequest();r.redis.request(this.scriptRunId,JSON.stringify([a]),10,function(){o.Current.log("Stop request submitted."),n.heartbeatWarningTimeout&&window.clearTimeout(n.heartbeatWarningTimeout),n.unsubscribeFromRedisKeys(),n.kernelLanguage=e,n.initialEditsBeforeKernelReady=[],n.kernelHasStarted=!1,n.startKernel(n.forkParentScriptVersionId,null,n.dataSources,t)},this.props.onConnectionProblem)}},t.prototype.requestNewTitle=function(e){if(!this.props.readOnly)return this.scriptRunId?void this.sendTitleChangeOrCheckRequest(e,!1,this.processKernelTitleResult):void alert("Please try again in a few seconds.")},t.prototype.checkNewTitle=function(e){this.props.readOnly||this.scriptRunId&&this.sendTitleChangeOrCheckRequest(e,!0,this.processKernelTitleResult)},t.prototype.sendTitleChangeOrCheckRequest=function(t,n,a){var i={ScriptVersionId:this.scriptRunId,NewTitle:t,CheckOnly:n};e.ajax({url:"/kernels/byod/kerneltitle",type:"POST",data:JSON.stringify(i),processData:!1,contentType:"application/json",success:a,error:this.handleAjaxError})},t.prototype.sendEditEvent=function(e,t){if(!this.props.readOnly&&e._type!==i.ActivateCellEditEventType){if(!this.kernelHasStarted)return void this.initialEditsBeforeKernelReady.push(e);o.Current.log("Sending edit event at "+(new Date).getTime()+": "+JSON.stringify(e));var n=this.prependInsertCellEventIfNeeded([e],t);r.redis.request(this.scriptRunId,JSON.stringify(n),5,function(e){o.Current.log(e)},this.props.onConnectionProblem)}},t.prototype.sendEditEvents=function(e,t){if(!this.props.readOnly){var n=e.filter(function(e){return e._type!==i.ActivateCellEditEventType});if(0!==n.length){if(!this.kernelHasStarted)return void(this.initialEditsBeforeKernelReady=this.initialEditsBeforeKernelReady.concat(n));var a=this.prependInsertCellEventIfNeeded(n,t);o.Current.log("Sending edit events at "+(new Date).getTime()+":"),o.Current.log(JSON.stringify(a)),r.redis.request(this.scriptRunId,JSON.stringify(a),5,function(e){o.Current.log(e)},this.props.onConnectionProblem)}}},t.prototype.processWorkerStartup=function(e){this.updateStatus(i.KernelStatus.Running),this.kernelHasStarted=!0,this.initialEditsBeforeKernelReady.length>0&&this.sendEditEvents(this.initialEditsBeforeKernelReady,function(){return{cells:[]}}),this.props.onKernelSpecChange(e.kernelspec,e.kernel_info_reply_content.language_info)},t.prototype.requestRenderingHtml=function(e,t){var n=this;if(!this.props.readOnly){var a,o=i.CloseNotebookRequest();a=t?[t,o]:[o],r.redis.request(this.scriptRunId,JSON.stringify(a),10,function(){n.updateStatus(i.KernelStatus.RenderingHtml),n.heartbeatWarningTimeout&&window.clearTimeout(n.heartbeatWarningTimeout)},this.props.onConnectionProblem)}},t.prototype.requestKernelInterrupt=function(){if(!this.props.readOnly)return this.kernelStatus!==i.KernelStatus.Running?void console.warn("Ignoring kernel interrupt request; not running"):void r.redis.request(this.scriptRunId,JSON.stringify([i.InterruptKernelRequest()]),30,function(e){o.Current.log("Interrupt kernel response:\n"+e)},this.props.onConnectionProblem)},t.prototype.getKernelRunResults=function(){e.ajax({url:"/kernels/statmin?id="+this.scriptRunId,success:this.parseKernelRunResults,error:o.Current.warn})},t}();t.NotebookKernelDispatcher=l}).call(t,n(3))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(8),r=n(32),o=n(3),s=n(441),l=s();!function(e){e[e.Unstarted=0]="Unstarted",e[e.LongPolling=1]="LongPolling",e[e.Polling=2]="Polling",e[e.PollingUntilReconnected=3]="PollingUntilReconnected",e[e.GivenUp=4]="GivenUp"}(a=t.InterfaceState||(t.InterfaceState={}));var c=2,u=300,p=20,d=50,m=function(){function e(){var e=this;this.subscriptions=[],this.interfaceState=a.Unstarted,this.pollIntervalSeconds=c,this.interfaceStateCallbacks=[],this.request=function(t,n,r,s,c,u){if(void 0===u&&(u=0),u>10)return i.Current.warn("Giving up on request after multiple retries."),void i.Current.log(n);if(e.interfaceState===a.GivenUp)return void c("The server is unreachable","error",null);if(e.interfaceState===a.PollingUntilReconnected){var p="I can't reach the server right now, but I'm trying to reconnect.",d=e.lostConnectionTime?1e3*(e.lostConnectionTime.getTime()-(new Date).getTime()):-1;return d>0&&d<1800&&(p="I've been trying to reconnect to the server since "+l.ago(e.lostConnectionTime)+"."),void c(p,"warning",d)}o.ajax({url:"/redis/nbreq/"+t,timeout:1e3*r,type:"POST",data:n,processData:!1,contentType:"application/json",success:s,error:function(a,i,o){e.handleRequestError(a,i,o,t,n,r,s,c,u)}})},this.handleRequestError=function(t,n,a,r,o,s,l,c,u){if(t.status&&t.status>=400)return i.Current.warn("Received status "+t.status+" on request. Retrying in three seconds."),void window.setTimeout(function(){return e.request(r,o,s,l,c,u+1)},3e3);"timeout"===a||"error"===n&&!a?(e.switchToPollingUntilReconnected(),c("I'm having trouble reaching the server, but I'm trying to reconnect.","warning",null)):c(n+": "+a,"error",null)},this.handleVisibilityChange=function(){e.isVisible="hidden"!==document[e.visibilityState],i.Current.log("Visibility state is now: "+document[e.visibilityState]),e.interfaceState!==a.Unstarted&&(e.isVisible?e.interfaceState===a.Polling?(i.Current.log("Switching to long-polling"),e.cancelPoll(),e.executeLongPoll(),e.updateInterfaceState(a.LongPolling)):(i.Current.log("Cancelling switch to polling"),window.clearTimeout(e.switchToPollTimeout)):(i.Current.log("Switching to polling in 30 seconds"),e.switchToPollTimeout=window.setTimeout(function(){e.cancelLongPoll(),e.executePoll(),e.updateInterfaceState(a.Polling)},3e4)))},this.dispatchResult=function(t){i.Current.log("Incoming Redis at "+(new Date).getTime()),e.interfaceState!==a.PollingUntilReconnected&&e.interfaceState!==a.GivenUp||(i.Current.log("Reconnected succesfully. Resuming normal polling."),e.pollIntervalSeconds=c,e.updateInterfaceState(e.isVisible?a.LongPolling:a.Polling),e.lostConnectionTime=null);var n=JSON.parse(t),r=e.subscriptions.map(function(e){return e.channel}).indexOf(n.Key);-1!==r?(e.subscriptions[r].callback(n.Result.map(function(e){return e.Value})),-1!==(r=e.subscriptions.map(function(e){return e.channel}).indexOf(n.Key))&&(e.subscriptions[r].position=Math.max.apply(Math,n.Result.map(function(e){return e.Position})))):"timeout"===n.Key&&e.interfaceState===a.Polling?e.pollIntervalSeconds<u&&(e.pollIntervalSeconds*=2,i.Current.log("Received timeout, increasing poll interval to: "+e.pollIntervalSeconds)):"timeout"!==n.Key&&e.interfaceState===a.Polling&&(e.pollIntervalSeconds=c),e.interfaceState===a.LongPolling?e.executeLongPoll():e.interfaceState===a.Polling&&e.executePoll()},this.handleAjaxError=function(t,n,r){return"abort"===n?void i.Current.log("Ignoring response from aborted Ajax."):(i.Current.warn(n+("error"===n?": "+r:"")),e.interfaceState!==a.PollingUntilReconnected&&e.interfaceState!==a.GivenUp?e.switchToPollingUntilReconnected():e.pollingErrors++,e.pollingErrors>=p?(i.Current.warn("Stopping reconnection attempts."),void e.updateInterfaceState(a.GivenUp)):void e.executePoll())},this.addPageVisibilityHandler(),this.executeAjax=r.throttle(this.executeAjaxImmediate,1e3/(60*d))}return e.prototype.addPageVisibilityHandler=function(){var e=this;void 0!==document.hidden?(this.hiddenProperty="hidden",this.visibilityChangeEvent="visibilitychange",this.visibilityState="visibilityState"):void 0!==document.mozHidden?(this.hiddenProperty="mozHidden",this.visibilityChangeEvent="mozvisibilitychange",this.visibilityState="mozVisibilityState"):void 0!==document.msHidden?(this.hiddenProperty="msHidden",this.visibilityChangeEvent="msvisibilitychange",this.visibilityState="msVisibilityState"):void 0!==document.webkitHidden&&(this.hiddenProperty="webkitHidden",this.visibilityChangeEvent="webkitvisibilitychange",this.visibilityState="webkitVisibilityState"),document.addEventListener(this.visibilityChangeEvent,this.handleVisibilityChange,!1),window.addEventListener("beforeunload",function(){document.removeEventListener(e.visibilityChangeEvent,e.handleVisibilityChange,!1)}),this.isVisible="hidden"!==document[this.visibilityState]},e.prototype.addInterfaceStateCallback=function(e){this.interfaceStateCallbacks.push(e)},e.prototype.updateInterfaceState=function(e){this.interfaceState=e,this.interfaceStateCallbacks.length>0&&this.interfaceStateCallbacks.forEach(function(t){return t(e)})},e.prototype.subscribe=function(e,t,n,r){var o=this;this.scriptRunId=e,i.Current.log("Subscribing to key: "+t+" for script run "+e),this.subscriptions.push({channel:t,callback:r,position:n}),this.interfaceState===a.Unstarted?this.isVisible?(this.longPollTimeout&&(window.clearTimeout(this.longPollTimeout),this.longPollTimeout=null),this.longPollTimeout=window.setTimeout(function(){o.updateInterfaceState(a.LongPolling),o.executeLongPoll()})):(this.updateInterfaceState(a.Polling),this.executePoll()):this.restartSubscription()},e.prototype.unsubscribe=function(e){var t=this.subscriptions.map(function(e){return e.channel}).indexOf(e);-1!==t?(i.Current.log("Unsubscribed from '"+e+"'"),this.subscriptions.splice(t,1)):console.warn("Not unsubscribing from '"+e+"'; not found."),0===this.subscriptions.length&&(this.cancelLongPoll(),this.cancelPoll(),this.updateInterfaceState(a.Unstarted))},e.prototype.serializeSubscriptions=function(){for(var e={scriptRun:{id:this.scriptRunId}},t=0;t<this.subscriptions.length;t++){for(var n=this.subscriptions[t],a=n.channel.split(":"),i=e.scriptRun,o=0;o<a.length-1;o++)r.has(i,a[o])||(i[a[o]]={}),i=i[a[o]];i[a[a.length-1]]=this.subscriptions[t].position}return e},e.prototype.executeAjaxImmediate=function(e){return o.ajax({url:e,timeout:13e4,type:"POST",data:JSON.stringify(this.serializeSubscriptions()),processData:!1,contentType:"application/json",success:this.dispatchResult,error:this.handleAjaxError})},e.prototype.restartSubscription=function(){this.interfaceState===a.LongPolling?(this.cancelLongPoll(),this.executeLongPoll()):this.interfaceState===a.Polling||this.interfaceState===a.PollingUntilReconnected?(this.cancelPoll(),this.executePoll()):console.warn("restartSubscription: not currently polling")},e.prototype.executeLongPoll=function(){this.longPollQuery=this.executeAjax("/redis/sub/")},e.prototype.cancelLongPoll=function(){this.longPollQuery&&this.longPollQuery.abort(),this.longPollTimeout&&window.clearTimeout(this.longPollTimeout),this.updateInterfaceState(a.Unstarted)},e.prototype.executePoll=function(){var e=this;this.pollTimeout&&window.clearTimeout(this.pollTimeout),this.pollTimeout=window.setTimeout(function(){e.executeAjax("/redis/check/")},1e3*this.pollIntervalSeconds)},e.prototype.cancelPoll=function(){this.pollTimeout&&window.clearTimeout(this.pollTimeout),this.pollIntervalSeconds=c,this.updateInterfaceState(a.Unstarted)},e.prototype.switchToPollingUntilReconnected=function(){i.Current.log("Switching to slow polls until successful reconnection."),this.updateInterfaceState(a.PollingUntilReconnected),this.pollIntervalSeconds=15,this.pollingErrors=1,this.lostConnectionTime=new Date},e}();t.redis=new m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(32);!function(e){e[e.Edit=0]="Edit",e[e.Command=1]="Command",e[e.SecondCommandKey=2]="SecondCommandKey"}(a||(a={}));var r=13,o=27,s=65,l=66,c=83,u=73,p=89,d=77,m=68,h=function(){function e(e){var t=this;this.handleKeyDown=function(e){t.mode===a.Edit?t.handleEditModeKeyDown(e):t.mode===a.Command?t.handleCommandModeKeyDown(e):t.handleSecondCommandKey(e)},this.handleEditModeKeyDown=function(e){e.keyCode==o&&(e.preventDefault(),e.stopPropagation(),t.setMode(a.Command))},this.fireActionAndReturnToEditMode=function(e,n){void 0===n&&(n=null),e.preventDefault(),e.stopPropagation(),n&&n(),t.setMode(a.Edit)},this.waitForSecondCommandKey=function(e,n){e.preventDefault(),e.stopPropagation(),t.previousCommandKeyCode=n,t.setMode(a.SecondCommandKey,!1)},this.handleSecondCommandKey=function(e){if(e.keyCode===t.previousCommandKeyCode)switch(e.keyCode){case m:t.fireActionAndReturnToEditMode(e,t.props.onDeleteCell);break;default:t.fireActionAndReturnToEditMode(e)}else t.fireActionAndReturnToEditMode(e)},this.handleCommandModeKeyDown=function(e){switch(e.keyCode){case r:t.fireActionAndReturnToEditMode(e);break;case s:t.fireActionAndReturnToEditMode(e,t.props.onInsertCellAbove);break;case l:t.fireActionAndReturnToEditMode(e,t.props.onInsertCellBelow);break;case c:t.fireActionAndReturnToEditMode(e,t.props.onSave);break;case u:t.fireActionAndReturnToEditMode(e,t.props.onCancelExecution);break;case p:t.fireActionAndReturnToEditMode(e,t.props.onMakeCodeCell);break;case d:t.fireActionAndReturnToEditMode(e,t.props.onMakeMarkdownCell);break;case m:t.waitForSecondCommandKey(e,m)}},this.props=i.clone(e),this.setMode(a.Edit,!1)}return e.prototype.setMode=function(e,t){void 0===t&&(t=!0),this.mode=e,e===a.Edit?t&&this.props.onChangedToEditMode():t&&this.props.onChangedToCommandMode()},e}();t.NotebookKeyboardShortcutter=h},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(194),r=n(51),o=n(93),s=n(44),l=n(81),c=n(296),u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t="fa fa-circle",n={},a=i.KernelStatus[this.props.status].replace(/([a-z])([A-Z])/g,"$1 $2");switch(this.props.status){case i.KernelStatus.Initializing:case i.KernelStatus.Queued:case i.KernelStatus.Requested:break;case i.KernelStatus.Starting:n={color:"#FF8C00"};break;case i.KernelStatus.Running:n={color:"#1DBB9A"};break;case i.KernelStatus.DownloadingData:n={color:"#B3B3B3"};break;case i.KernelStatus.LostHeartbeat:a="Reconnecting";case i.KernelStatus.Reconnecting:n={color:"#FFCC00"};break;case i.KernelStatus.Error:t="fa fa-times-circle",n={color:"#C92C2C"};break;case i.KernelStatus.Stopped:t="fa fa-square",n={color:"#C0C0C0"};break;case i.KernelStatus.RenderingHtml:t="fa fa-refresh fa-spin",n={color:"#B3B3B3"};break;default:t="fa fa-square",n={color:"#2F9C0A"}}return e.createElement("div",{className:"pageheader__notebook-header-item"},e.createElement("div",{className:"notebook-editor__kernel-status"},e.createElement("span",{className:t,style:n}),e.createElement("span",{className:"notebook-editor__kernel-status-description",style:n},a)))},n}(e.Component);t.NotebookKernelStatusIndicator=u;var p=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.shouldComponentUpdate=function(e){return JSON.stringify(this.props)!==JSON.stringify(e)},n.prototype.render=function(){return e.createElement("div",{className:"pageheader__notebook-header-button"+(this.props.isActive?"":" pageheader__notebook-header-button--disabled"),onClick:this.props.isActive?this.props.clickAction:null},e.createElement("span",{className:"fa fa-"+this.props.faClass,title:this.props.tooltip}))},n}(e.Component),d=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.shouldComponentUpdate=function(e){return JSON.stringify(this.props)!==JSON.stringify(e)},n.prototype.render=function(){var t,n=this,a=null!==this.props.activeCellUuid&&""!==this.props.activeCellUuid,d=null!==this.props.busyCellUuid&&""!==this.props.busyCellUuid,m=a&&this.props.activeCellType===i.NotebookCellType.Code,h=!this.props.readOnly&&d,g=this.props.canExecuteActiveCell&&!this.props.readOnly&&a&&m&&!h,f=h?"Cancel current execution":g?"Execute cell":"Select a code cell to execute",v=h?function(){return n.props.onCancel(n.props.busyCellUuid)}:g?function(){return n.props.onExecute(n.props.activeCellUuid)}:null,_=null;return this.props.isEditingTitle?t=e.createElement(o.InlineTextEditor,{className:"pageheader__notebook-header-title--input",value:this.props.title,placeholder:"Enter a title for your notebook",onGainFocusCallback:this.props.onTitleEditorGainFocus,onLoseFocusCallback:this.props.onTitleEditorLoseFocus,onChangeCallback:this.props.onTitleChanged,id:"notebook-title-input"}):(t=this.props.title,_=this.props.onTitleEditingStateChanged),e.createElement(r.PageHeader,null,e.createElement(r.PageHeaderTopRow,{title:t,coverImageUrl:this.props.imageUrl,coverImageClickUrl:this.props.imageClickUrl,subtitle:null,titleUrl:null,isEditingHeaderInfo:this.props.isEditingTitle,modifier:"notebook",nodeId:"pageheader__top--notebook",onTitleClick:_}),e.createElement(r.PageHeaderBottomRow,{pageMessages:this.props.pageMessages},e.createElement("div",{className:"pageheader__nav pageheader__nav--notebook"},e.createElement(u,{status:this.props.kernelStatus}),e.createElement("div",{className:"pageheader__notebook-header-restart-button"},e.createElement(l.ButtonRoundEdged,{onClick:this.props.onRestartKernel,text:"Restart"})),e.createElement("div",{className:"pageheader__notebook-header-button-group"},e.createElement(p,{faClass:h?"stop":"play",isActive:g||h,tooltip:f,clickAction:v}),e.createElement(p,{faClass:"forward",isActive:!this.props.readOnly&&this.props.canExecuteAll,tooltip:"Execute all cells",clickAction:this.props.onExecuteAll})),e.createElement("div",{className:"pageheader__notebook-header-button-group"},e.createElement("div",{className:"pageheader__notebook-header-button"+(this.props.readOnly?" pageheader__notebook-header-button--disabled":"")},e.createElement("label",{htmlFor:"ipynb-file-upload"},e.createElement("span",{className:"fa fa-cloud-upload",title:"Upload ipynb file (beta)"})),e.createElement("input",{id:"ipynb-file-upload",type:"file",style:{display:"none"},onChange:this.props.onUploadIpynb})),e.createElement("div",{className:"pageheader__notebook-header-button"+(this.props.canDownloadIpynb?"":" pageheader__notebook-header-button--disabled"),onClick:this.props.onDownloadIpynb},e.createElement("span",{className:"fa fa-cloud-download",title:"Download ipynb file"}))),e.createElement("div",{className:"pageheader__notebook-language-select"},e.createElement(s.SelectBox,{options:this.props.availableLanguageChoices,className:"pageheader__notebook-language-select-box",onChange:this.props.onLanguageChanged,searchable:!1,value:this.props.kernelLanguageDropdownValue})),""===this.props.kernelInfoLine?null:e.createElement("div",{className:"pageheader__notebook-header-button--extraspace"},this.props.kernelInfoLine),this.props.scriptId?e.createElement("div",{className:"pageheader__notebook-privacy-select pageheader__notebook-privacy-select--"+(this.props.isPrivate?"private":"public"),style:this.props.isPrivate?{marginTop:"5px",marginLeft:"10px"}:null},e.createElement(c.PrivacyToggle,{kernelType:"Notebook",displayMode:"SelectBox",isPrivate:this.props.isPrivate,scriptId:this.props.scriptId,onChangeToPublic:this.props.onChangeToPublic})):null,e.createElement("div",{className:"pageheader__notebook-save-message"},this.props.canSave?"":this.props.lastSavedTime?"Saved":"")),e.createElement("a",{onClick:this.props.canRenderHtml?this.props.onRenderHtml:function(){return n.props.onRenderHtmlRequestError(n.props.renderHtmlToolTipText)},className:"pageheader__calltoaction pageheader__calltoaction--notebook"+(this.props.canRenderHtml?"":"-disabled")},e.createElement("span",{title:this.props.renderHtmlToolTipText},this.props.kernelStatus===i.KernelStatus.RenderingHtml?"Rendering":"Publish"))))},n}(e.Component);t.NotebookHeader=d}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function a(e){if(0==e.length)return[];var t=JSON.parse(e);return t.cells?t.cells.map(function(e){return e.source=o(e.source),e}):[]}function i(e,t){return void 0===t&&(t=[]),e.reduce(E,t)}function r(e,t){var n=t.map(function(e){return e.metadata._cell_guid}).indexOf(e);if(-1===n)throw"Invalid uuid: "+e;return n}function o(e){return e?e instanceof Array?e.map(function(e){return e.replace(/\n$/,"")}).join("\n"):e:null}function s(e,t,n){return{metadata:{_cell_guid:e,_active:!1,collapsed:!1},source:o(t),execution_count:null,cell_type:n===S.NotebookCellType.Markdown?"markdown":"code",outputs:[]}}function l(e,t){var n=r(e,t),a=n>0?t.slice(0,n):[],i=t.slice(n+1);return a.concat(i)}function c(e,t,n,a,i,r){var o="markdown"===i?S.NotebookCellType.Markdown:S.NotebookCellType.Code;return n?u(e,t,n,o,r):a?p(e,t,a,o,r):d(e,t,o,r)}function u(e,t,n,a,i){var o=r(n,i),l=i.slice(0,o),c=i.slice(o),u=s(e,t,a);return l.concat(u).concat(c)}function p(e,t,n,a,i){var o=r(n,i),l=i.slice(0,o+1),c=i.slice(o+1),u=s(e,t,a);return l.concat(u).concat(c)}function d(e,t,n,a){var i=s(e,t,n);return a.concat(i)}function m(e,t,n,a,i,s,l,c){var u=r(e,c);return c[u].source=null==t?c[u].source:o(t),c[u].metadata.collapsed=null==n?c[u].metadata.collapsed:n,c[u].cell_type=a||c[u].cell_type,c[u].execution_state=i||c[u].execution_state,c[u].execution_count=s||c[u].execution_count,l?c[u].outputs=v(l,c[u].outputs||[]):"busy"===i&&(c[u].outputs=[]),c}function h(e,t,n,a){var i=r(e,a);return a[i].source instanceof Array?(T.Current.warn("Cell source array in "+e),a[i].source.push(t)):a[i].source+=o(t)||"",n&&n.length>0&&(a[i].outputs=v(n,a[i].outputs)),a}function g(e,t){return t.forEach(function(t){return t.metadata._active=t.metadata._cell_guid===e}),t}function f(e,t){return t.forEach(function(e){return e.metadata._active=!1}),t}function v(e,t){return e.reduce(b,t)}function _(e,t){if(e&&e.length>0&&e[e.length-1].name===t.name){var n=e[e.length-1].text[e[e.length-1].text.length-1];e[e.length-1].text+=("\n"===n?"":"\n")+t.text}else e.push(t);return e}function b(e,t){return"stream"===t.output_type?_(e,t):e.concat(t)}function E(e,t){if(!t)return e;switch(t._type){case S.DeleteCellEditEventType:return l(t._cell_guid,e);case S.InsertCellEditEventType:return c(t._cell_guid,t.source||"",t._above_cell_guid,t._below_cell_guid,t.cell_type,e);case S.UpdateCellEditEventType:return m(t._cell_guid,t.source,t.collapsed,t.cell_type,t.execution_state,t.execution_count,t.outputs,e);case S.AppendCellEditEventType:return h(t._cell_guid,t.source,t.outputs,e);case S.ActivateCellEditEventType:return g(t._cell_guid,e);case S.DeactivateCellEditEventType:return f(t._cell_guid,e);case S.CellExecutionRequestType:return m(t._cell_guid,null,null,null,"busy",null,null,e);default:return e}}function y(e,t){return{metadata:t,nbformat:4,nbformat_minor:0,cells:e}}function w(e,t){var n=e.slice();return n.forEach(function(e){e.execution_count=null,e.outputs=[],e.execution_state="idle"}),y(n,t)}Object.defineProperty(t,"__esModule",{value:!0});var C=n(1),S=n(194),N=n(1519),T=n(8),k=function(t){function n(e){var n=t.call(this,e)||this;return n.getCellContents=function(e){var t=r(e,n.state.cells);return n.state.cells[t].source},n.state={cells:i(n.props.editHistory,a(n.props.startingStateIpynb)),nextEditToApply:n.props.editHistory.length},n.props.registerGetIpynb(function(){return y(n.state.cells,n.props.kernelMetadata)}),n.props.registerGetIpynbWithNoOutputs(function(){return w(n.state.cells,n.props.kernelMetadata)}),n.props.registerGetCellContents(function(e){return n.getCellContents(e)}),n}return C.__extends(n,t),n.prototype.componentWillMount=function(){this.checkActiveAndBusyCells(this.state.cells),this.props.onUpdateNumberOfCells(this.state.cells.length)},n.prototype.checkActiveAndBusyCells=function(e){this.updateActiveCellProperties(e),this.updateBusyCellProperties(e),this.props.onUpdateFirstCellIsMarkdown(0===e.length||"markdown"===e[0].cell_type),this.props.onUpdateFirstCellUuid(0===e.length?null:e[0].metadata._cell_guid)},n.prototype.updateActiveCellProperties=function(e){var t=e.filter(function(e){return e.metadata._active});0===t.length?this.props.onChangeActiveCell(null,null,null):this.props.onChangeActiveCell(t[0].metadata._cell_guid,t[0].metadata.collapsed,"markdown"===t[0].cell_type?S.NotebookCellType.Markdown:S.NotebookCellType.Code)},n.prototype.updateBusyCellProperties=function(e){var t=e.filter(function(e){return e.execution_state&&"busy"===e.execution_state});0===t.length?this.props.onChangeBusyCell(null):this.props.onChangeBusyCell(t[0].metadata._cell_guid)},n.prototype.componentWillReceiveProps=function(e){var t=this,n=e.startingStateIpynb!==this.props.startingStateIpynb,r=e.editHistory.length!==this.props.editHistory.length||e.editHistory.length>0&&e.editHistory.length>this.state.nextEditToApply;if(n||r){var o;if(n?(o=a(e.startingStateIpynb),T.Current.log("New cells from startingStateIpynb:"),T.Current.log(o)):o=this.state.cells.map(function(e){return N.copyCell(e)}),r&&e.editHistory.length){var s=this.state.nextEditToApply;T.Current.log("New edits from "+this.state.nextEditToApply+":"),T.Current.log(e.editHistory.slice(s)),o=i(e.editHistory.slice(s),o)}this.setState({cells:o,nextEditToApply:e.editHistory.length}),this.checkActiveAndBusyCells(o),this.state.cells.length!==o.length&&this.props.onUpdateNumberOfCells(o.length),this.props.kernelMetadata!==e.kernelMetadata&&(e.registerGetIpynb(function(){return y(t.state.cells,e.kernelMetadata)}),e.registerGetIpynbWithNoOutputs(function(){return w(t.state.cells,e.kernelMetadata)}))}},n.prototype.shouldComponentUpdate=function(e,t){return this.state.nextEditToApply!==t.nextEditToApply||e.startingStateIpynb!==this.props.startingStateIpynb||this.props.isReadOnly!==e.isReadOnly||this.props.canExecute!==e.canExecute||this.props.isInCommandMode!==e.isInCommandMode},n.prototype.cellCanMoveDown=function(e){return e!==this.state.cells[this.state.cells.length-1].metadata._cell_guid},n.prototype.onCellMoveDown=function(e){var t=r(e,this.state.cells);this.props.onActivateCell(this.state.cells[t+1].metadata._cell_guid)},n.prototype.cellCanMoveUp=function(e){return e!==this.state.cells[0].metadata._cell_guid},n.prototype.onCellMoveUp=function(e){var t=r(e,this.state.cells);this.props.onActivateCell(this.state.cells[t-1].metadata._cell_guid)},n.prototype.onCellAppendOrMoveDown=function(e){this.props.canExecute&&(this.cellCanMoveDown(e)?this.onCellMoveDown(e):this.props.onAppendActivatedCell())},n.prototype.render=function(){var t=this,n=this.state.cells;return this.props.isReadOnly&&(n=this.state.cells.map(function(e){return N.copyCell(e)}),n.forEach(function(e){return e.metadata._active=!1})),e.createElement("div",{className:"notebook-editor__cells-container"},n.map(function(n,a){return e.createElement(N.NotebookCell,C.__assign({key:"notebook-cell-"+(n.metadata._cell_guid||a),readOnly:!!t.props.isReadOnly&&"nocursor",isInCommandMode:t.props.isInCommandMode,languageName:t.props.kernelLanguageName,onChangeCellType:function(e){return t.props.onChangeCellType(n.metadata._cell_guid,e)},canExecute:t.props.canExecute,onExecute:function(){return t.props.onExecuteCell(n.metadata._cell_guid)},onAutocomplete:t.props.onAutocomplete,onContentsChange:function(e){return t.props.onNewCellContents(n.metadata._cell_guid,e,"markdown"===n.cell_type?S.NotebookCellType.Markdown:S.NotebookCellType.Code)},canMoveDown:function(){return t.cellCanMoveDown(n.metadata._cell_guid)},canMoveUp:function(){return t.cellCanMoveUp(n.metadata._cell_guid)},onMoveDown:function(){return t.onCellMoveDown(n.metadata._cell_guid)},onMoveUp:function(){return t.onCellMoveUp(n.metadata._cell_guid)},onMouseUp:n.metadata._active?null:function(){console.log(t),t.props.onActivateCell(n.metadata._cell_guid)},appendNewOrMoveDown:function(){return t.onCellAppendOrMoveDown(n.metadata._cell_guid)},onUncollapse:function(){return t.props.onChangeCollapsed(n.metadata._cell_guid,!1)},onDeactivate:function(){return t.props.onDeactivateCell(n.metadata._cell_guid)},onDelete:function(){return t.props.onDeleteCell(n.metadata._cell_guid)},onCollapse:function(){return t.props.onChangeCollapsed(n.metadata._cell_guid,!0)},onAddAbove:function(){return t.props.onAddAbove(n.metadata._cell_guid)},onAddBelow:function(){return t.props.onAddBelow(n.metadata._cell_guid)}},n))}))},n}(e.Component);t.NotebookCellsContainer=k}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function a(e){return JSON.parse(JSON.stringify(e))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(194),o=n(156),s=n(94),l=n(60),c=n(40),u=n(8),p=n(32),d=n(682);t.copyCell=a;var m=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.isCodeCell=function(){return"code"===e.props.cell_type},e.isBusy=function(){return e.props.execution_state&&"busy"===e.props.execution_state},e}return i.__extends(n,t),n.prototype.shouldComponentUpdate=function(e){var t=this.props,n=e;return this.props.isInCommandMode!==n.isInCommandMode||(this.props.metadata._active&&n.metadata._active&&(t=p.omit(this.props,"source"),n=p.omit(e,"source")),JSON.stringify(t)!==JSON.stringify(n))},n.prototype.renderToolbar=function(t){var n=this;if(!t)return null;var a=null;"code"===this.props.cell_type&&this.props.canExecute&&(a=e.createElement("div",{className:"notebook-editor__cell-toolbar-button",style:{padding:0,marginLeft:"15px",marginRight:"7px",marginTop:"2px"},onClick:this.props.onExecute},e.createElement(c.ToolTip,{tipText:"Execute cell"},e.createElement("span",{className:"fa fa-play"}))));return e.createElement("div",{className:"notebook-editor__cell-toolbar"},e.createElement("div",{className:"notebook-editor__cell-type-toggle-group"},e.createElement("div",{className:"notebook-editor__cell-type-toggle-group-inner"},e.createElement("div",{onClick:function(){return n.props.onChangeCellType(r.NotebookCellType.Markdown)},className:"notebook-editor__cell-type-toggle"+("markdown"===this.props.cell_type?" notebook-editor__cell-type-toggle--active":"")},"Markdown"),e.createElement("div",{onClick:function(){return n.props.onChangeCellType(r.NotebookCellType.Code)},className:"notebook-editor__cell-type-toggle"+("code"===this.props.cell_type?" notebook-editor__cell-type-toggle--active":"")},this.props.languageName)),a),e.createElement("div",{className:"notebook-editor__cell-toolbar-lhs"},e.createElement("div",{className:"notebook-editor__cell-toolbar-button-group"},null,e.createElement("div",{className:"notebook-editor__cell-toolbar-button",onClick:this.props.onAddAbove},e.createElement(c.ToolTip,{tipText:"Add cell above"},e.createElement("span",{className:"notebook-editor__cell-toolbar-multi-icon-button"},e.createElement("span",{className:"fa fa-plus"}),e.createElement("span",{className:"fa fa-caret-up"})))),e.createElement("div",{className:"notebook-editor__cell-toolbar-button",onClick:this.props.onAddBelow},e.createElement(c.ToolTip,{tipText:"Add cell below"},e.createElement("span",{className:"notebook-editor__cell-toolbar-multi-icon-button"},e.createElement("span",{className:"fa fa-plus"}),e.createElement("span",{className:"fa fa-caret-down"}))))),e.createElement("div",{className:"notebook-editor__cell-toolbar-button-group"},e.createElement("div",{className:"notebook-editor__cell-toolbar-button notebook-editor__cell-toolbar-button--red",onClick:this.props.onDelete},e.createElement(c.ToolTip,{tipText:"Delete cell"},e.createElement("span",{className:"fa fa-trash"}))))))},n.prototype.renderCellOutputChunk=function(t,n){switch(t.output_type){case"execute_result":case"display_data":var a=null,i=null;if("image/png"in t.data)i=e.createElement("img",{src:"data:image/png;base64,"+t.data["image/png"],key:n+"-img"});else if("text/html"in t.data){var r={__html:d.sanitizeHTML(t.data["text/html"])};a=e.createElement("div",{className:"notebook-editor__html-output",key:n+"-html",dangerouslySetInnerHTML:r})}else"text/plain"in t.data&&(a=e.createElement("div",{className:"notebook-editor__cell-output",key:n+"-text"},t.data["text/plain"]));return e.createElement("div",{key:n},a,i);case"stream":return"stderr"===t.name?e.createElement("div",{className:"notebook-editor__cell-output notebook-editor__cell-output--stderr",key:n+"-stderr"},t.text):e.createElement("div",{className:"notebook-editor__cell-output",key:n+"-stdout"},t.text);case"error":var o=null,s=null;return"ename"in t&&"evalue"in t?o=e.createElement("div",{className:"notebook-editor__cell-output notebook-editor__cell-output--stderr",key:n+"-desc"},e.createElement("span",null,t.ename+": "+t.evalue)):console.warn("Missing ename/evalue in error event"),"traceback"in t&&(s=e.createElement("div",{className:"notebook-editor__cell-output notebook-editor__cell-output--stderr",key:n+"-trace"},e.createElement("span",null,t.traceback.join("\n")))),e.createElement("div",{key:n+"-err"},o,s);default:return console.warn("Unknown output_type in cell "+this.props.metadata._cell_guid),null}},n.prototype.renderCellOutput=function(){var t=this;return this.isCodeCell()&&this.props.outputs&&0!==this.props.outputs.length?e.createElement("div",{className:"notebook-editor__cell-output-section"},e.createElement("div",{className:"notebook-editor__cell-number-container"},e.createElement("div",{className:"notebook-editor__cell-number-out"},"Out["+this.props.execution_count+"]:")),this.props.outputs.map(function(e,n){return t.renderCellOutputChunk(e,t.props.metadata._cell_guid+"-"+n.toString())})):null},n.prototype.componentWillUpdate=function(){this.mainDiv?this.lastMainDivTop=this.mainDiv.getBoundingClientRect().top:this.lastMainDivTop=null},n.prototype.componentDidUpdate=function(e){!e.metadata._active&&this.props.metadata._active&&this.mainDiv&&this.lastMainDivTop&&window.scrollBy(0,this.mainDiv.getBoundingClientRect().top-this.lastMainDivTop)},n.prototype.render=function(){var t=this,n=null,a="",i=null;if(this.isCodeCell()){var r=" ";this.isBusy()?r="*":null!==this.props.execution_count&&(r=this.props.execution_count?this.props.execution_count.toString():" "),i=this.props.metadata.collapsed?e.createElement("div",{className:"notebook-editor__cell-number-in notebook-editor__cell-number-in--collapsed"},"["+r+"]"):e.createElement("div",{className:"notebook-editor__cell-number-in"},"In["+r+"]:"),i=e.createElement("div",{className:"notebook-editor__cell-number-container"},i)}if(this.props.metadata.collapsed){var c=void 0;return c=this.props.source instanceof Array?this.props.source.length:this.props.source?this.props.source.split(/\r\n|\r|\n/).length:0,e.createElement("div",{className:"notebook-editor__cell notebook-editor__cell--collapsed"},i,e.createElement("div",{className:"notebook-editor__cell-expand-div"},e.createElement("div",{className:"notebook-editor__cell-action-text",onClick:this.props.onUncollapse},this.isCodeCell()?e.createElement("span",{className:"fa fa-code"}):e.createElement("span",{className:"fa fa-align-left"}),"Expand",c>0?e.createElement("span",{className:"notebook-editor__cell-expand-lines"},c," ",c>1?e.createElement("span",null,"lines"):e.createElement("span",null,"line")):null)))}var p;if(p=this.props.source?this.props.source instanceof Array?0===this.props.source.length?"":this.props.source.some(function(e){return e.indexOf("\n")>-1})?this.props.source.join(""):this.props.source.join("\n"):this.props.source:"",this.isCodeCell()){var d={mode:this.props.languageName.toLowerCase(),scrollbarStyle:"native",indentUnit:4,indentWithTabs:!1,autoCloseBrackets:!0,readOnly:this.props.readOnly,theme:"kaggle"};a="code",n=e.createElement(o.CodeMirrorEditor,{value:this.props.metadata._active?null:p,defaultValue:p,onChange:this.props.onContentsChange,hasFocus:this.props.metadata._active,onMouseUp:this.props.readOnly?null:this.props.onMouseUp,options:d,getAutocomplete:this.props.onAutocomplete,canMoveUp:this.props.canMoveUp,canMoveDown:this.props.canMoveDown,onMoveUp:this.props.onMoveUp,onMoveDown:this.props.onMoveDown,onCtrlEnter:function(){t.isBusy()||t.props.onExecute()},onShiftEnter:function(){t.isBusy()||(t.props.onExecute(),t.props.appendNewOrMoveDown())}})}else{a="markdown";var m=this.props.metadata._active||""===p.trim();n=e.createElement("div",null,e.createElement("div",{style:m?{display:"inherit",animationName:"notebook-markdown-editor",animationDuration:"0.5s"}:{display:"none"}},e.createElement(s.MarkdownEditor,{shouldSanitizeHtml:!0,onChangeCallback:function(){},onChangeImmediate:this.props.onContentsChange,defaultValue:p,alwaysShowToolbar:!0,hasFocus:this.props.metadata._active,onMoveUp:this.props.onMoveUp,onMoveDown:this.props.onMoveDown,suffix:this.props.metadata._cell_guid,onKeyPress:function(e){e.shiftKey&&13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),t.props.appendNewOrMoveDown())}})),m?null:e.createElement(l.MarkdownConverter,{content:p,mimeType:"text/markdown"}))}var h="";this.props.metadata._active&&(h=" notebook-editor__cell--active",this.props.isInCommandMode&&(h+=" notebook-editor__cell--command"));var g=this.renderToolbar(this.props.metadata._active);return u.Current.log("Cell "+this.props.metadata._cell_guid+" rendered at "+(new Date).getTime()),e.createElement("div",{className:"notebook-editor__cell-plus-toolbar"},g,e.createElement("div",{className:"notebook-editor__cell notebook-editor__cell--"+a+h,onMouseUp:this.props.onMouseUp},i,e.createElement("div",{className:"notebook-editor__cell-inner notebook-editor__cell-inner--"+a,ref:function(e){return t.mainDiv=e}},n),this.renderCellOutput()))},n}(e.Component);t.NotebookCell=m}).call(t,n(0))},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(136),r=n(70),o=n(1531),s=n(42),l=n(1546),c=n(1555),u=n(1561),p=n(1562),d=n(1563),m=n(9),h=n(1564),g=n(4),f=function(t){function n(e){var n=t.call(this,e)||this;return n.store=o.getStore(e),e.scriptRunId?n.store.dispatch(s.newScriptRun(e.scriptId,e.scriptRunId)):n.store.dispatch(s.requestWorker()),n}return a.__extends(n,t),n.prototype.componentDidMount=function(){var e=this;window.addEventListener("beforeunload",function(t){if(e.store.getState().kernelStatus!==r.KernelStatus.Running||!e.store.getState().isDirty)return null;e.store.dispatch(s.saveFile());var n="Are you sure you want to leave? Unsaved changes may be lost.";return(t||window.event).returnValue=n,n}),setTimeout(function(){return window.dispatchEvent(new Event("resize"))},0)},n.prototype.render=function(){return e.createElement(i.Provider,{store:this.store},e.createElement("div",{className:"notebook-editor"},e.createElement(u.NotebookHeader_Container,null),e.createElement(p.NotebookInfoModal_Container,null),e.createElement("div",{className:"notebook-editor__notebook-contents"},e.createElement(d.NotebookDataSources_Container,null),e.createElement(m.ContentBox,{title:"Notebook"},g.Current.hasJupyterNotebookEditor?e.createElement(c.NotebookEditorJupyterCellList_Container,null):e.createElement(l.NotebookEditorCellList_PoC_Container,null))),e.createElement(h.NotebookKeyboardShortcutterContainer,null)))},n}(e.Component);t.NotebookEditor_PoC=f}).call(t,n(0))},,,,,,,,,,function(e,t,n){"use strict";function a(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||x.compose;return x.createStore(r,i(e),t(x.applyMiddleware(U.notebookLoggingMiddleware,H.notebookWebserverMiddleware,B.notebookJupyterApiMiddleware,j.notebookJupyterEditorMiddleware,K.notebookWebsocketMiddleware,O.notebookRedisSubscriptionMiddleware,A.notebookKeepAliveMiddleware,L.notebookAutoSaveMiddleware,F.notebookMetadataMiddleware,V.notebookScriptTipsMiddleware,R.notebookTelemetryMiddleware)))}function i(e){var t=e.scriptLanguageTemplates.filter(function(t){return t.languageId==e.scriptLanguageId})[0],n=JSON.parse(e.initialContents||"{}"),a=s(n,t),i={scriptId:e.scriptId,scriptRunId:e.scriptRunId,directJupyterUrl:null,kernelToken:null,restProtocol:"",urlBase:"",fileName:"",localWorkingDirectoryPath:""},r={title:e.existingTitle&&""!==e.existingTitle?e.existingTitle:"Notebook"+P.uuid(10),previousTitle:"",isEditingTitle:!1,titleIsValid:!!e.existingTitle,needsAGoodTitle:!e.existingTitle},o={kernelId:null,sessionId:null};return{activeCellIndex:0,notebook:a,kernelLanguageName:t.baseScriptLanguageName,isInCommandMode:!1,kernelLanguageId:e.scriptLanguageId,dataSources:e.dataSources&&1===e.dataSources.length&&null===e.dataSources[0]?null:e.dataSources,connection:i,jupyter:o,titleState:r,imageUrl:e.imageUrl,kernelStatus:M.KernelStatus.Initializing,isPrivate:e.isPrivate,isNewNotebook:e.isNewNotebook,inputFiles:e.inputFiles,isDataset:e.isDataset,forkParentScriptVersionId:e.forkParentScriptVersionId,scriptProjectId:e.scriptProjectId,isDirty:!1,lastSaveTime:null,scriptLanguageTemplates:e.scriptLanguageTemplates,updateInputMetadataUrl:e.updateInputMetadataUrl,isShowingKernelInfoModal:!1,scriptTips:{},isCellExecuting:!1,isJupyterFrontEnd:!1}}function r(e,t){switch(t.type){case z.NOTEBOOK_UPDATE_KERNEL_STATUS:return e.kernelStatus!==M.KernelStatus.Stopped||t.status!==M.KernelStatus.Reconnecting||t.status!==M.KernelStatus.Running?k.__assign({},e,{kernelStatus:t.status}):e;case z.NOTEBOOK_KERNEL_HAS_STOPPED:return k.__assign({},e,{kernelStatus:M.KernelStatus.Stopped});case z.NOTEBOOK_CONNECTION_FAILED:return I.Current.warn(t.description),D.PageMessages.error(t.description),k.__assign({},e,{kernelStatus:M.KernelStatus.Error});case z.NOTEBOOK_CHANGE_CELL_TYPE:return k.__assign({},e,{notebook:W(e.notebook,e.activeCellIndex,t.newCellType)});case z.NOTEBOOK_ACTIVATE_CELL:return t.cellIndex<0||t.cellIndex>e.notebook.cells.length?(I.Current.warn("Invalid cellIndex to activate: "+t.cellIndex),e):k.__assign({},e,{activeCellIndex:t.cellIndex});case z.NOTEBOOK_DELETE_CELL:return k.__assign({},e,{notebook:C(e.notebook,e.activeCellIndex)});case z.NOTEBOOK_ADD_CELL_ABOVE:return k.__assign({},e,{notebook:S(e.notebook,e.activeCellIndex)});case z.NOTEBOOK_ADD_CELL_BELOW:return k.__assign({},e,{notebook:N(e.notebook,e.activeCellIndex)});case z.NOTEBOOK_UPDATE_CONTENTS:var n=e.notebook.cells.map(function(e){return e.metadata._uuid}).indexOf(t.cellUuid);return-1===n?(I.Current.warn("Invalid cell uuid: "+t.cellUuid),e):k.__assign({},e,{notebook:Y(e.notebook,n,t.content)});case z.NOTEBOOK_SET_EXECUTION_STATUS:return k.__assign({},e,{notebook:q(e.notebook,t.cellIndex,t.newStatus)});case z.NOTEBOOK_SET_ALL_CELLS_TO_IDLE:return k.__assign({},e,{notebook:b(e.notebook)});case z.NOTEBOOK_CELL_EXECUTION_BUSY:return k.__assign({},e,{isCellExecuting:!0});case z.NOTEBOOK_CELL_EXECUTION_IDLE:return k.__assign({},e,{isCellExecuting:!1});case z.NOTEBOOK_SET_JUPYTER_FRONT_END:return k.__assign({},e,{isJupyterFrontEnd:!0});case z.NOTEBOOK_SET_EXECUTION_COUNT:return k.__assign({},e,{notebook:Q(e.notebook,t.cellIndex,t.executionCount)});case z.NOTEBOOK_CLEAR_CELL_OUTPUT:var a=JSON.parse(JSON.stringify(e.scriptTips));return delete a[t.cellIndex],k.__assign({},e,{notebook:G(e.notebook,t.cellIndex),scriptTips:a});case z.NOTEBOOK_APPEND_CELL_OUTPUT:return k.__assign({},e,{notebook:J(e.notebook,t.cellIndex,t.output)});case z.NOTEBOOK_NEW_SCRIPT_RUN:return k.__assign({},e,{kernelStatus:M.KernelStatus.Queued,connection:o(e.connection,function(e){e.directJupyterUrl=null,e.kernelToken=null,e.scriptId=t.scriptId,e.scriptRunId=t.scriptRunId})});case z.NOTEBOOK_NEW_CONNECTION:return k.__assign({},e,{connection:JSON.parse(JSON.stringify(t.connection))});case z.NOTEBOOK_NEW_JUPYTER_SESSION:return k.__assign({},e,{jupyter:JSON.parse(JSON.stringify(t.session))});case z.NOTEBOOK_UPDATE_DATASOURCES:return k.__assign({},e,{dataSources:t.dataSources,imageUrl:t.imageUrl,imageClickUrl:t.imageClickUrl});case z.NOTEBOOK_SET_TITLE_ERROR:return k.__assign({},e,{titleState:o(e.titleState,function(e){e.titleIsValid=!t.hasError})});case z.NOTEBOOK_START_EDITING_TITLE:return k.__assign({},e,{titleState:o(e.titleState,function(t){t.isEditingTitle=!0,t.previousTitle=e.titleState.title})});case z.NOTEBOOK_STOP_EDITING_TITLE:return k.__assign({},e,{titleState:o(e.titleState,function(e){e.isEditingTitle=!1,e.previousTitle=""})});case z.NOTEBOOK_CANCEL_EDITING_TITLE:return k.__assign({},e,{titleState:o(e.titleState,function(t){t.title=e.titleState.previousTitle,t.isEditingTitle=!1,t.previousTitle=""})});case z.NOTEBOOK_UPDATE_TITLE:return k.__assign({},e,{titleState:o(e.titleState,function(e){e.title=t.newTitle,e.needsAGoodTitle=!t.newTitle})});case z.NOTEBOOK_IS_DIRTY:return k.__assign({},e,{isDirty:!0});case z.NOTEBOOK_IS_SAVED:return k.__assign({},e,{isDirty:!1,lastSaveTime:t.saveDate});case z.NOTEBOOK_CHANGE_LANGUAGE:return k.__assign({},e,{kernelLanguageId:t.newLanguageId,kernelLanguageName:e.scriptLanguageTemplates.filter(function(e){return e.languageId===t.newLanguageId})[0].baseScriptLanguageName,notebook:u(e.notebook,e.kernelLanguageId,t.newLanguageId,e.scriptLanguageTemplates)});case z.NOTEBOOK_REPLACE_CONTENTS:case z.NOTEBOOK_CONTENT_CHANGED:var i=e.scriptLanguageTemplates.filter(function(t){return t.languageId===e.kernelLanguageId})[0];return k.__assign({},e,{notebook:s(t.newContent,i)});case z.NOTEBOOK_SET_KERNEL_INFO:return k.__assign({},e,{notebook:T(e.notebook,t.languageInfo)});case z.NOTEBOOK_SET_KEYBOARD_SHORTCUT_COMMAND_MODE:return k.__assign({},e,{isInCommandMode:t.isInCommandMode});case z.NOTEBOOK_COULD_NOT_FETCH_FROM_WORKER:return k.__assign({},e,{notebook:_(e.notebook)});case z.NOTEBOOK_ADD_MARKDOWN_AT_START:return k.__assign({},e,{notebook:y(e.notebook)});case z.NOTEBOOK_RESTART_KERNEL:case z.NOTEBOOK_RESTART_KERNEL_FOR_USER:return k.__assign({},e,{notebook:E(b(e.notebook))});case z.NOTEBOOK_TOGGLE_KERNEL_INFO:return k.__assign({},e,{isShowingKernelInfoModal:t.showInfo});case z.NOTEBOOK_ADD_SCRIPT_TIP:var r=JSON.parse(JSON.stringify(e.scriptTips));return r[t.cellIndex]=t.tip,k.__assign({},e,{scriptTips:r});default:return e}}function o(e,t){var n=JSON.parse(JSON.stringify(e));return t(n),n}function s(e,t){var n=l(e);if(n.metadata||(n.metadata={language_info:{name:"python",version:"3"}}),n.nbformat||(n.nbformat=4,n.nbformat_minor=0),n.cells&&n.cells.forEach(function(e){e.metadata._uuid=e.metadata._uuid||P.uuid(),e.outputs=e.outputs||[],e.execution_count=e.execution_count||null}),n.cells&&1===n.cells.length&&"code"===n.cells[0].cell_type&&""===n.cells[0].source)if(f(t.template)){var a=JSON.parse(t.template);n.cells=JSON.parse(JSON.stringify(a.cells))}else n.cells[0].source=t.template;return n.metadata.kernelspec=JSON.parse(t.notebookKernelMetadata),n}function l(e){return JSON.parse(JSON.stringify(e))}function c(e){return{metadata:{collapsed:!1,_uuid:P.uuid(),_execution_state:"idle"},source:"",execution_count:null,cell_type:e,outputs:[]}}function u(e,t,n,a){if(t===n)return e;var i=a.filter(function(e){return e.languageId===t})[0],r=a.filter(function(e){return e.languageId===n})[0];return d(p(e,r),i,r)}function p(e,t){if(JSON.stringify(e.metadata.kernelspec)===t.notebookKernelMetadata)return e;var n=l(e);return n.metadata.kernelspec=JSON.parse(t.notebookKernelMetadata),n}function d(e,t,n){return e.cells?-1===e.cells.findIndex(function(e){return"code"===e.cell_type})?(I.Current.log("Not changing template text; code cells not found"),e):m(e,t)?(I.Current.log("Notebook contents have deviated from old template."),e):(I.Current.log("Switching language templates"),g(e,t,n)):(I.Current.log("Not changing template text; no cells"),e)}function m(e,t){if(f(t.template)){var n=JSON.parse(t.template);return I.Current.log("Cell length is "+(e.cells.length!==n.cells.length?"different":"the same")),I.Current.log("Cell source deviations: "+e.cells.map(function(e,t){return!h(e,n.cells[t])})),e.cells.length!==n.cells.length||e.cells.some(function(e,t){return!h(e,n.cells[t])})}var a=e.cells.findIndex(function(e){return"code"===e.cell_type});return e.cells[a].source!==t.template}function h(e,t){return("string"==typeof e.source?e.source:e.source.join("\n"))===("string"==typeof t.source?t.source:t.source.join("\n"))}function g(e,t,n){var a;if(f(n.template)){var i=JSON.parse(n.template);a={cells:JSON.parse(JSON.stringify(i.cells)),metadata:JSON.parse(JSON.stringify(e.metadata)),nbformat:e.nbformat,nbformat_minor:e.nbformat_minor},a.cells.forEach(function(e){e.metadata._uuid=P.uuid()})}else if(a=l(e),f(t.template))a.cells=[c("code")],a.cells[0].source=n.template;else{var r=e.cells.findIndex(function(e){return"code"===e.cell_type});a.cells[r].source=n.template,a.cells[r].metadata._uuid=P.uuid()}return a}function f(e){try{var t=JSON.parse(e);return t.cells.length>0&&t.cells.every(function(e){return v(e)})&&void 0!==t.metadata}catch(e){return!1}}function v(e){return void 0!==e.source&&("markdown"===e.cell_type||"code"===e.cell_type&&void 0!==e.execution_count&&void 0!==e.outputs)}function _(e){if(e.cells)return e;I.Current.warn("No notebook found on worker. Making a blank cell.");var t=l(e);return t.cells=[c("code")],t}function b(e){if(!e.cells.some(function(e){return"code"===e.cell_type&&"busy"===e.metadata._execution_state}))return e;var t=l(e);return t.cells.forEach(function(e){"code"===e.cell_type&&(e.metadata._execution_state="idle")}),t}function E(e){var t=l(e);return t.cells.forEach(function(e){e.execution_count=null}),t}function y(e){var t=l(e);return t.cells=[c("markdown")].concat(e.cells),t}function w(e){return function(t,n){for(var a=[],i=2;i<arguments.length;i++)a[i-2]=arguments[i];if(n<0||n>t.cells.length-1)return I.Current.warn("Invalid cell index: "+n),t;var r=l(t),o=r.cells[n];return e.apply(void 0,[o].concat(a)),r}}function C(e,t){if(1===e.cells.length)return e;if(t<0||t>e.cells.length-1)return I.Current.warn("Invalid cell index: "+t),e;var n=l(e),a=t>0?n.cells.slice(0,t):[],i=n.cells.slice(t+1);return n.cells=a.concat(i),n}function S(e,t){if(t<0||t>e.cells.length-1)return I.Current.warn("Invalid cell index: "+t),e;var n=l(e),a=n.cells.slice(0,t),i=n.cells.slice(t),r=c("code");return n.cells=a.concat(r).concat(i),n}function N(e,t){if(t<0||t>e.cells.length-1)return I.Current.warn("Invalid cell index: "+t),e;var n=l(e),a=n.cells.slice(0,t+1),i=n.cells.slice(t+1),r=c("code");return n.cells=a.concat(r).concat(i),n}function T(e,t){var n=l(e);return n.metadata.language_info=JSON.parse(JSON.stringify(t)),n}Object.defineProperty(t,"__esModule",{value:!0});var k=n(1),x=n(221),M=n(70),I=n(8),D=n(21),P=n(236),O=n(1532),U=n(1533),A=n(1534),L=n(1535),R=n(1536),F=n(1537),B=n(1538),j=n(1539),H=n(1540),K=n(1541),V=n(1542),z=n(42);t.getStore=a;var W=w(function(e,t){e.cell_type=t}),q=w(function(e,t){e.metadata._execution_state=t,"busy"===t&&(e.execution_count=null)}),G=w(function(e){e.outputs=[]}),J=w(function(e,t){e&&e.outputs.push(t)}),Y=w(function(e,t){e.source=t}),Q=w(function(e,t){e.execution_count=t})},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(11),r=n(8),o=n(70),s=n(42),l=function(e){function t(n){var a=e.call(this,n)||this;return Object.setPrototypeOf(a,t.prototype),a}return a.__extends(t,e),t}(Error);t.notebookRedisSubscriptionMiddleware=function(t){function n(e){r.Current.log("Starting redis poll interval for id "+e+"."),f=v(e),m=!0,a(),_()}function a(){h=0,g=null}function c(){r.Current.log("Stopping redis poll interval."),m=!1,v(null),window.clearTimeout(g)}function u(){return e("/redis/sub",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(f)})}function p(e,n){if(r.Current.warn("Redis polling failure for id "+n+":"),r.Current.warn(e),m&&n===f.scriptRun.id){if(h>5)return void t.dispatch(s.notebookConnectionFailed("Could not connect to the server."));h++,g=window.setTimeout(_,2e3)}}function d(e){switch(e.Key){case"status":f.scriptRun.status=Math.max.apply(Math,e.Result.map(function(e){return e.Position})),b(e.Result.map(function(e){return e.Value}));break;case"jupyter:changes":f.scriptRun.jupyter.changes=Math.max.apply(Math,e.Result.map(function(e){return e.Position})),e.Result.forEach(function(e){return E(e.Value)});break;case"timeout":break;default:r.Current.warn("Invalid redis key: '"+e.Key+"'")}}var m,h,g,f={scriptRun:{id:null,jupyter:{changes:0},status:0}},v=function(e){return{scriptRun:{id:e,jupyter:{changes:0},status:0}}},_=function(){i(m,"Polling is not in progress so pollRedis should not have been called.");var e=f.scriptRun.id;r.Current.log("Polling redis for scriptRun id "+e+"..."),u().then(function(t){if(f.scriptRun.id!==e)throw new l("Redis result for id "+e+" ignored.");return t}).then(function(e){return e.json()}).then(function(e){return d(e)}).then(function(){m&&(a(),_())}).catch(function(t){t instanceof l?r.Current.log(t.message):p(t,e)})},b=function(e){var n=e.map(function(e){return JSON.parse(e)});if(n.some(function(e){return"done"===e.running})){t.getState().kernelStatus===o.KernelStatus.RenderingHtml?location.href+="/../":(t.dispatch(s.setKernelStatus(o.KernelStatus.Stopped)),t.dispatch(s.investigateEarlyStop(f.scriptRun.id)))}n.some(function(e){return"Running nbconvert"in e&&"re-executing notebook top to bottom"===e["Running nbconvert"]})&&(location.href+="/../")},E=function(e){var n=JSON.parse(e);if("kernel_info"===n._type){var a=n.kernelspec.kernel_url;r.Current.log("Received url: "+a),t.dispatch(s.startSession(a))}};return function(e){return function(t){switch(t.type){case s.NOTEBOOK_NEW_SCRIPT_RUN:return n(t.scriptRunId),e(t);case s.NOTEBOOK_KERNEL_HAS_STOPPED:return t.scriptRunId===f.scriptRun.id?c():r.Current.log("Not stopping redis poll (currently listening to "+f.scriptRun.id+"; stopped id was "+t.scriptRunId+")"),e(t);case s.NOTEBOOK_CONNECTION_FAILED:c();default:return e(t)}}}}}).call(t,n(36))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(8);t.notebookLoggingMiddleware=function(e){return function(e){return function(t){return a.Current.log("Dispatching "+t.type),a.Current.log(t),e(t)}}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),i=n(70),r=n(42),o=[r.NOTEBOOK_SET_KERNEL_INFO,r.NOTEBOOK_KERNEL_HAS_STOPPED];t.notebookKeepAliveMiddleware=function(t){return function(n){function s(e){clearTimeout(l),l=setTimeout(function(){t.dispatch(r.kernelHasStopped(e)),a.PageMessages.error("The kernel was stopped for exceeding the limits on idle time (20 minutes)",{clear:!0})},114e4)}var l=null,c=function(t){var n=null;return function(a,i){n||(e("/k/"+a+"/keepalive?kernelToken="+i),n=setTimeout(function(){n=null},t))}}(5e3);return function(e){var a=t.getState();return a.connection.scriptRunId&&(a.kernelStatus===i.KernelStatus.Running||e.type===r.NOTEBOOK_UPDATE_KERNEL_STATUS&&e.status===i.KernelStatus.Running)&&-1==o.indexOf(e.type)&&(c(a.connection.scriptRunId,a.connection.kernelToken),s(a.connection.scriptRunId)),n(e)}}}}).call(t,n(36))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),i=n(70),r=n(42);t.notebookAutoSaveMiddleware=function(e){return function(t){var n=function(t){var n=null;return function(){n?a.Current.log("Waiting to autosave..."):(a.Current.log("Scheduling autosave"),n=window.setTimeout(function(){n=null;var t=e.getState();t.kernelStatus===i.KernelStatus.Running?(a.Current.log("Autosaving..."),e.dispatch(r.saveFile())):a.Current.log("Not autosaving (kernel status = "+i.KernelStatus[t.kernelStatus]+")")},t))}}(1e4),o=[r.NOTEBOOK_ADD_CELL_ABOVE,r.NOTEBOOK_ADD_CELL_BELOW,r.NOTEBOOK_CHANGE_CELL_TYPE,r.NOTEBOOK_DELETE_CELL,r.NOTEBOOK_EXECUTE_CELL,r.NOTEBOOK_UPDATE_CONTENTS];return function(a){var s=e.getState();return s.kernelStatus===i.KernelStatus.Running&&o.indexOf(a.type)>-1&&!s.isJupyterFrontEnd&&(e.dispatch(r.notebookIsDirty()),n()),t(a)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(70),i=n(42),r=n(8),o=n(681);t.notebookTelemetryMiddleware=function(e){return function(t){var n=new o.NotebookTelemetry(r.Current.hasJupyterNotebookEditor?"jupyter":"kaggle");return n.statusChanged(e.getState().kernelStatus),function(r){var o=e.getState().connection.scriptRunId;switch(r.type){case i.NOTEBOOK_UPDATE_KERNEL_STATUS:n.statusChanged(r.status,o);break;case i.NOTEBOOK_NEW_SCRIPT_RUN:n.statusChanged(a.KernelStatus.Queued,o);break;case i.NOTEBOOK_CONNECTION_FAILED:n.statusChanged(a.KernelStatus.Error,o)}return r.type===i.NOTEBOOK_TELEMETRY_EVENT?n.trackEvent(r.eventName,r.eventDimensions,r.eventMetrics):n.trackEvent("action",{action:r.type}),t(r)}}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),i=n(42),r=n(236);t.notebookMetadataMiddleware=function(t){return function(n){function o(e,n){var a=0===e.length?"/static/images/no-datasource.png":1===e.length?e[0].imageUrl:"/static/images/multiple-datasource.png",r=1===e.length?e[0].sourceUrl:null;t.dispatch(i.updateDataSources(e,a,r)),t.dispatch(i.restartKernel(n))}function s(n,o){var s={ScriptVersionId:o,NewTitle:n,CheckOnly:!1};a.PageMessages.clear(),e("/kernels/byod/kerneltitle",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(s)}).then(function(e){return e.json()}).then(function(e){if(e.ErrorMessage&&""!==e.ErrorMessage)return a.PageMessages.error(e.ErrorMessage),void t.dispatch(i.setTitleError(!0));t.dispatch(i.setTitleError(!1)),r.updateUrl(e.NewUrl)}).catch(function(e){alert("Sorry, I couldn't save your new title.")})}return function(e){var a=t.getState();switch(e.type){case i.NOTEBOOK_UPDATE_DATASOURCES_AND_RESTART:return o(e.dataSources,e.currentScriptRunId),n(e);case i.NOTEBOOK_STOP_EDITING_TITLE:return s(a.titleState.title,a.connection.scriptRunId),n(e)}return n(e)}}}}).call(t,n(36))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),i=n(21),r=n(70),o=n(42),s=n(236);t.notebookJupyterApiMiddleware=function(t){function n(i){var c={fileName:"__notebook_source__.ipynb",localWorkingDirectoryPath:"/kaggle/working"},u=t.getState(),p=u.connection.scriptRunId,h=new URL(i),f=h.search.split("kernelToken=")[1],v=h.protocol.slice(0,-1),_=(h.host+h.pathname).replace(/\/$/,""),b=c.fileName,E=c.localWorkingDirectoryPath,y={scriptId:u.connection.scriptId,scriptRunId:u.connection.scriptRunId,directJupyterUrl:i,kernelToken:f,restProtocol:v,urlBase:_,fileName:b,localWorkingDirectoryPath:E};t.dispatch(o.newConnection(y));var w={notebook:{name:b,path:E}},C=s.jupyterSessionsApiUrl(y);t.dispatch(o.setKernelStatus(r.KernelStatus.Starting)),a.Current.log("Trying "+C+" for id "+p),e(C,{method:"POST",body:JSON.stringify(w)}).then(function(e){return e.json()}).then(function(e){if(a.Current.log("Kernel start request completed for id "+p),a.Current.log(e),p!==g())return void a.Current.log("Start request was for an old script run; ignoring.");var n=e.id,i=e.kernel.id,r={sessionId:n,kernelId:i};t.dispatch(o.newJupyterSession(r)),t.dispatch(o.notebookKernelSessionStarted()),l()}).catch(function(e){if(a.Current.warn("Badness: "+e),p!==g())return void a.Current.log("Start request was for an old script run; ignoring.");d<5?(a.Current.log("Attempting to connect again shortly."),m=setTimeout(function(){return n(i)},2e3),d++):(a.Current.warn("Giving up on connecting to jupyter kernel."),t.dispatch(o.notebookConnectionFailed("Failed to connect to Jupyter server.")))})}function l(){var n=t.getState(),i=s.jupyterContentsApiUrl(n.connection);a.Current.log("Fetching notebook from "+i),e(i).then(function(e){if(!e.ok)throw t.dispatch(o.couldNotFetchNotebookFromWorker()),"Notebook not found on worker";return e}).then(function(e){return e.json()}).then(function(e){a.Current.log("Received notebook contents from kernel."),t.dispatch(o.replaceContents(e.content)),t.dispatch(o.updateKernelInfo())}).catch(function(e){a.Current.log(e)})}function c(n){var i=t.getState();n||(n=i.notebook);var r=s.jupyterContentsApiUrl(i.connection);return a.Current.log("Saving notebook at URL "+r),e(r,{method:"PUT",body:JSON.stringify({content:JSON.stringify(s.stripCellOutputs(n)),type:"file",format:"text"})})}function u(){var n=t.getState(),r=s.jupyterKernelApiUrl("interrupt",n.connection,n.jupyter);e(r,{method:"POST"}).then(function(){a.Current.log("Send interrupt request")}).catch(function(e){a.Current.warn(e),i.PageMessages.error("Could not interrupt kernel.")})}function p(){var n=t.getState(),r=s.jupyterKernelApiUrl("restart",n.connection,n.jupyter);e(r,{method:"POST"}).then(function(){a.Current.log("Sending soft restart request")}).catch(function(e){a.Current.warn(e),i.PageMessages.error("Could not restart kernel.")})}var d,m,h=function(){d=0,clearInterval(m)},g=function(){return t.getState().connection.scriptRunId};return function(e){return function(a){switch(a.type){case o.NOTEBOOK_START_SESSION:return i.PageMessages.clear(),h(),n(a.url),e(a);case o.NOTEBOOK_SAVE_FILE:return t.getState().isJupyterFrontEnd||c(a.newContent).then(function(){return t.dispatch(o.notebookIsSaved(new Date))}),e(a);case o.NOTEBOOK_CANCEL_EXECUTION:return u(),e(a);case o.NOTEBOOK_RESTART_KERNEL_FOR_USER:t.getState().kernelStatus===r.KernelStatus.Running&&p();default:return e(a)}}}}}).call(t,n(36))},function(e,t,n){"use strict";var a=this;Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(70),o=n(42),s=n(237);t.notebookJupyterEditorMiddleware=function(e){return function(t){return function(n){return i.__awaiter(a,void 0,void 0,function(){var a,l,c;return i.__generator(this,function(i){switch(i.label){case 0:if(!(a=s.JupyterEditorBridge)||!a.isConnected())return[2,t(n)];switch(l=n.type){case o.NOTEBOOK_EXECUTE_CELL:return[3,1];case o.NOTEBOOK_EXECUTE_ALL:return[3,2];case o.NOTEBOOK_CANCEL_EXECUTION:return[3,3];case o.NOTEBOOK_ADD_SCRIPT_TIP:return[3,4];case o.NOTEBOOK_RENDER_HTML:return[3,5];case o.NOTEBOOK_REPLACE_CONTENTS:return[3,7];case o.NOTEBOOK_KERNEL_HAS_STOPPED:return[3,8];case o.NOTEBOOK_RESTART_KERNEL_FOR_USER:return[3,9];case o.NOTEBOOK_SAVE_FILE:return[3,10]}return[3,12];case 1:return a.call("notebook.execute_cell"),[2,t(n)];case 2:return a.call("notebook.execute_all_cells"),[2,t(n)];case 3:return a.call("notebook.kernel.interrupt"),[2,t(n)];case 4:return a.call("custom.show_script_tip",n.tip,n.cellIndex),[2,t(n)];case 5:return[4,a.call("notebook.save_notebook")];case 6:return i.sent(),a.disconnect(),[2,t(n)];case 7:return c={content:n.newContent,name:"notebook.ipynb",path:"/"},c.content.cells.forEach(function(e){e.source instanceof Array&&(e.source=e.source.join(""))}),a.call("notebook.fromJSON",c),[2,t(n)];case 8:a.disconnect(),i.label=9;case 9:return e.getState().kernelStatus===r.KernelStatus.Running&&(a.call("notebook.kernel.restart"),a.call("notebook.clear_all_output")),[2,t(n)];case 10:return[4,a.call("notebook.save_notebook")];case 11:return i.sent(),[2,t(n)];case 12:return[2,t(n)]}})})}}}},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),r=n(8),o=n(21),s=n(70),l=n(42),c=n(236);t.notebookWebserverMiddleware=function(t){function n(){o.PageMessages.clear(),g=0;var n=t.getState(),a=n.dataSources&&null!==n.dataSources[0]?n.dataSources:[],i={ScriptId:n.connection.scriptId,SourceScriptVersionId:null,LanguageId:n.kernelLanguageId,ScriptProjectId:n.scriptProjectId,Title:n.titleState.title,ForkParentScriptVersionId:n.forkParentScriptVersionId&&n.forkParentScriptVersionId>0?n.forkParentScriptVersionId:null,IpynbContents:JSON.stringify(n.notebook),DataSources:a,StandaloneKernel:!0};e("/kernels/byod/newkernel",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(e){if(e.ErrorMessage)return void t.dispatch(l.notebookConnectionFailed("Could not request new notebook."));r.Current.log("Received ScriptId: "+e.ScriptId+" and ScriptRun id: "+e.ScriptRunId),t.dispatch(l.newScriptRun(e.ScriptId,e.ScriptRunId)),c.updateUrl(e.NewUrl)}).catch(function(e){return t.dispatch(l.notebookConnectionFailed("Could not request new notebook."))})}function u(e){if(!e)return r.Current.warn("Not saving ipynb on webserver; scriptversion not active."),new Promise(function(e){e()});var n=t.getState(),i=c.stripCellOutputs(n.notebook),o=e+"/ipynb.json";return r.Current.log("Saving notebook to web tier at URL "+o),a.Scripts.updateSourceIpynb(o,JSON.stringify(i))}function p(e,n){g=e,t.dispatch(l.saveFile(n))}function d(e){m(e),n()}function m(n){t.dispatch(l.kernelHasStopped(n)),r.Current.log("Requesting to stop scriptversion id "+n+"..."),e("/kernels/cancel?scriptVersionId="+n,{method:"POST",credentials:"same-origin"}).then(function(e){r.Current.log("Scriptversion stopped"),r.Current.log(e)})}function h(e){var n=t.getState();i(n.connection.scriptRunId===e,"Early stop request was called on an old scriptRunId"),v=0,_(e)}var g=0,f=function(){t.dispatch(l.setKernelStatus(s.KernelStatus.RenderingHtml));var n={_type:"close_notebook",_guid:c.uuid(),nbconvert:"full"};return r.Current.log("Requesting HTML render..."),e("/redis/nbreq/"+g,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify([n])}).then(function(e){r.Current.log(e)})},v=0,_=function(e){v++,a.Scripts.basicKernelStatus({id:e}).then(function(t){return b(e,t)}).catch(function(){t.dispatch(l.notebookConnectionFailed("Could not connect to server."))})},b=function(e,n){if(t.getState().connection.scriptRunId!==e)return void r.Current.log("Ignoring status result for id "+e+".");if(r.Current.log("Received statmin status of "+n.status+" for id "+e),"running"===n.status)return void E(e);var a=n.results&&n.results.failureMessage?n.results.failureMessage:"";1===n.results.exitCode?t.dispatch(l.notebookConnectionFailed(a)):n.results.exitCode>0?(o.PageMessages.info(a),t.dispatch(l.kernelHasStopped(e))):(r.Current.log("Statmin dto:"),r.Current.log(n.results))},E=function(e){if(v>5)return r.Current.warn("Failed to get script run info for id "+e),void t.dispatch(l.notebookConnectionFailed("Sorry, an error occurred. You can save your work by downloading the ipynb file."));r.Current.log("Retrying statmin in 2 seconds."),window.setTimeout(function(){return _(e)},2e3)};return function(e){return function(a){switch(a.type){case l.NOTEBOOK_REQUEST_WORKER:return n(),e(a);case l.NOTEBOOK_RENDER_HTML:return p(a.scriptRunId,a.notebook),e(a);case l.NOTEBOOK_RESTART_KERNEL_FOR_USER:return t.getState().kernelStatus!==s.KernelStatus.Running&&d(a.currentScriptRunId),e(a);case l.NOTEBOOK_RESTART_KERNEL:return d(a.currentScriptRunId),e(a);case l.NOTEBOOK_CANCEL_SCRIPTRUN:return m(a.scriptRunId),e(a);case l.NOTEBOOK_IS_SAVED:return g&&u(g).then(f).catch(function(e){r.Current.warn(e),t.dispatch(l.notebookConnectionFailed("Could not request HTML render."))}),e(a);case l.NOTEBOOK_INVESTIGATE_EARLY_STOP:return h(a.scriptRunId),e(a);default:return e(a)}}}}}).call(t,n(36),n(23))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(8),r=n(21),o=n(70),s=n(42),l=n(236);t.notebookWebsocketMiddleware=function(e){function t(){n(),c()}function n(){i.Current.log("Resetting WebSocket retry intervals."),x=0,M=8e3,I&&(i.Current.log("Cancelling WebSocket connection retries."),clearTimeout(I),I=0)}function c(){if(x>20)return void e.dispatch(s.notebookConnectionFailed("Could not connect to the Jupyter kernel."));u(),d(p()),m()}function u(){S&&(i.Current.log("Destroying existing WebSocket."),S.onclose=function(){},S.close()),(!N||N.length>0)&&(N=[]),(!k||k.length>0)&&(k=[])}function p(){var t=e.getState();return l.jupyterKernelApiUrl("channels",t.connection,t.jupyter)}function d(t){i.Current.log("Opening websocket at "+t),x&&i.Current.log("(Retry #"+x+")"),e.dispatch(s.postTelemetryEvent("ws-connect",null,{retry:x})),S=new WebSocket(t),S.onopen=P,S.onclose=O,S.onmessage=U}function m(){i.Current.log("Will retry WebSocket if needed in "+M/1e3+" seconds"),x++,I=window.setTimeout(D,M),M*=1.5}function h(t){return"kernel_info_reply"===t.msg_type?(i.Current.log("Received kernel_info_reply"),i.Current.log(t.content),void e.dispatch(s.setKernelInfo(t.content.language_info))):"complete_reply"===t.msg_type?void g(t):"status"===t.msg_type&&t.content&&"restarting"===t.content.execution_state?(r.PageMessages.info("The notebook session was restarted."),setTimeout(function(){r.PageMessages.clear()},3e3),void e.dispatch(s.setAllCellsToIdle())):void i.Current.warn("Unknown message type: "+t.msg_type)}function g(e){var t=k[e.parent_header.msg_id];if(!t)return void i.Current.warn("Received a complete_reply without a callback.");t(e.content.matches,e.content.cursor_start,e.content.cursor_end)}function f(t){var n=T[t.parent_header.msg_id],r=e.getState().notebook.cells.map(function(e){return e.metadata._uuid}).indexOf(n);switch(t.msg_type){case"status":e.dispatch(s.setExecutionStatus(r,t.content.execution_state));break;case"execute_reply":"error"===t.content.status&&e.dispatch(s.appendCellOutput(r,a.__assign({output_type:"error"},t.content))),"execution_count"in t.content?e.dispatch(s.setExecutionCount(r,t.content.execution_count)):"aborted"===t.content.status&&e.dispatch(s.setExecutionStatus(r,"idle"));break;case"execute_result":case"stream":case"display_data":e.dispatch(s.appendCellOutput(r,a.__assign({output_type:t.msg_type},t.content)));break;default:i.Current.log("Unrecognized Jupyter message type: '"+t.msg_type+"'")}}function v(e,t,n,a){return{header:{msg_id:a||l.uuid(),username:i.Current.userName,session:n,msg_type:e,version:"5.0"},metadata:{},content:t,buffers:[],parent_header:{},channel:"shell"}}function _(){if(i.Current.log("Checking execution queue..."),N&&0!==N.length)for(var e=0,t=N;e<t.length;e++){var n=t[e];i.Current.log("Sending queued execute_request:"),i.Current.log(n),S.send(JSON.stringify(n))}}function b(t,n){var a=e.getState();if([o.KernelStatus.Error,o.KernelStatus.RenderingHtml,o.KernelStatus.Stopped].indexOf(a.kernelStatus)>-1)return void i.Current.log("Not executing cell (kernelstatus = "+o.KernelStatus[a.kernelStatus]);var r=void 0===t?a.activeCellIndex:t;if(void 0===r||null===r)return void i.Current.warn("Not executing cell; no valid index available.");var s=n;if(!s){var l=a.notebook.cells[r].source;s="string"==typeof l?l:l.join("\n")}y(r,s)}function E(){e.getState().notebook.cells.forEach(function(e,t){"code"===e.cell_type&&b(t)})}function y(t,n){var a=e.getState(),r=a.notebook.cells[t].metadata._uuid,o=l.uuid();T[o]=r;var c=v("execute_request",{code:n,silent:!1},a.jupyter.sessionId,o);S&&1===S.readyState?(i.Current.log("Sending execute_request:"),i.Current.log(c),S.send(JSON.stringify(c))):(N||(N=[]),N.push(c),i.Current.log("Enqueued execute_request (queue length = "+N.length+", WebSocket readyState = "+(S?S.readyState:"null")+")"),i.Current.log(c)),e.dispatch(s.setExecutionStatus(t,"busy")),e.dispatch(s.clearCellOutput(t))}function w(){i.Current.log("Sending kernel_info_request.");var t=e.getState();S.send(JSON.stringify(v("kernel_info_request",{},t.jupyter.sessionId,l.uuid())))}function C(t,n,a){var i=l.uuid(),r=e.getState(),o=v("complete_request",{code:t,cursor_pos:n},r.jupyter.sessionId,i);k[i]=a,S.send(JSON.stringify(o))}var S=null,N=[],T=[],k=[],x=0,M=8e3,I=0,D=function(){if(S&&1===S.readyState)return i.Current.log("Websocket connected, will not attempt restarts."),e.dispatch(s.setKernelStatus(o.KernelStatus.Running)),void r.PageMessages.clear();e.dispatch(s.setKernelStatus(o.KernelStatus.Reconnecting)),c()},P=function(){e.dispatch(s.postTelemetryEvent("ws-connected")),i.Current.log("WebSocket opened."),n(),e.getState().kernelStatus!==o.KernelStatus.Running&&e.dispatch(s.setKernelStatus(o.KernelStatus.Running)),w(),_()},O=function(n){if(e.dispatch(s.postTelemetryEvent("ws-closed",{code:n.code})),1e3===n.code)return void i.Current.log("WebSocket closed: CLOSE_NORMAL");i.Current.log("WebSocket closed with code "+n.code);var a=e.getState().kernelStatus;a===o.KernelStatus.Running||a===o.KernelStatus.Starting?I?i.Current.log("Expecting that a WebSocket retry has already been queued."):(i.Current.log("Will attempt to reconnect."),t()):i.Current.log("Not taking action on WebSocket closure.")},U=function(e){i.Current.log("Websocket message:");var t=JSON.parse(e.data);i.Current.log(t),T&&t.parent_header.msg_id in T?f(t):h(t)};return function(e){return function(a){switch(a.type){case s.NOTEBOOK_KERNEL_SESSION_STARTED:return r.PageMessages.clear(),t(),e(a);case s.NOTEBOOK_CONNECTION_FAILED:return n(),e(a);case s.NOTEBOOK_KERNEL_HAS_STOPPED:return n(),u(),e(a);case s.NOTEBOOK_UPDATE_KERNEL_INFO:return w(),e(a);case s.NOTEBOOK_EXECUTE_ALL:return E(),e(a);case s.NOTEBOOK_EXECUTE_CELL:return b(a.cellIndex,a.source),e(a);case s.NOTEBOOK_REQUEST_AUTOCOMPLETE:return C(a.cellContents,a.cursorPosition,a.callback),e(a);default:return e(a)}}}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),i=n(42),r=n(1543),o=n(1544),s=n(1545);t.notebookScriptTipsMiddleware=function(t){return function(n){function l(e,n){var a=t.getState(),i=c(a.kernelLanguageName.toLowerCase()),r=i(n.ename,n.evalue);u(e,r),p(n.ename,n.evalue,a.connection.scriptRunId,r)}function c(e){switch(e){case"python":return o.getScriptTips;case"r":return s.getScriptTips;default:return r.getScriptTips}}function u(e,n){a.Current.isAdmin&&(n.textToShow||n.htmlToShow)&&t.dispatch(i.addScriptTip(e,n))}function p(t,n,i,r){if(t||n){var o=n?t+": "+n:t,s={errorEncountered:o,scriptTipsCode:r.scriptTipCode,scriptVersionId:i};e.Scripts.reportNotebookError({},s).catch(function(){a.Current.warn("Error logging failed.")})}}return function(e){return e.type===i.NOTEBOOK_APPEND_CELL_OUTPUT&&"error"===e.output.output_type&&l(e.cellIndex,e.output),n(e)}}}}).call(t,n(23))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getScriptTips=function(){return{textToShow:"",htmlToShow:"",scriptTipCode:""}}},function(e,t,n){"use strict";function a(e,t){if(!e||!t)return{};if(/name '(FALSE|false|TRUE|true)' is not defined/.test(t))return{textToShow:"In Python, True and False have initial capitals and the rest lower case.",scriptTipCode:"py-truefalse"};if(/module 'pandas' has no attribute '[Dd]ata[Ff]rame'/.test(t))return{textToShow:"Did you mean pandas.DataFrame?",scriptTipCode:"py-pddf"};if(/name 'xrange' is not defined/.test(t))return{textToShow:"In Python 3, 'xrange' is just 'range'.",scriptTipCode:"py-range"};if(/name 'plot' is not defined/.test(t))return{textToShow:"You might be missing 'from matplotlib.pyplot import plot'.",scriptTipCode:"py-plot"};if(/invalid literal for int() with base 10: 'nan'/.test(t)||/Input contains NaN, infinity or a value too large/.test(t))return{textToShow:"You might need a way of handling missing values, such as pandas.DataFrame.fillna or sklearn.preprocessing.Imputer.",scriptTipCode:"py-nan"};var n=/^No module named '(x[gbos]+t)'\s*$/;if(n.test(t)){return{textToShow:"We don't have the \""+n.exec(t)[1]+'" module. Did you mean "xgboost"?',scriptTipCode:"py-xgb"}}return/^No module named 'BeautifulSoup'\s*$/.test(t)?{textToShow:"You might be missing 'from bs4 import BeautifulSoup'",scriptTipCode:"py-bs4"}:/name 'pd' is not defined/.test(t)?{textToShow:"You might be missing 'import pandas as pd'",scriptTipCode:"py-import-pandas"}:/Missing parentheses in call to 'print'/.test(t)?{textToShow:'Python 3 requires parentheses around print arguments, e.g. - print("kaggle")',scriptTipCode:"py-print-parentheses"}:{}}Object.defineProperty(t,"__esModule",{value:!0}),t.getScriptTips=a},function(e,t,n){"use strict";function a(e,t){if(!e||!t)return{};if(/Error in file\(file, .*\): cannot open the connection/.test(t))return{textToShow:"A file or directory isn't found; check the path.",scriptTipCode:"r-FileNotFound"};if(/: object '\.\.' not found/.test(t))return{textToShow:"Ensure all paths are enclosed in quotes.",scriptTipCode:"r-ObjectNotFound"};var n={"%>%":"magrittr",bind_rows:"dplyr",fread:"data.table",ggplot:"ggplot2",melt:"reshape",read_csv:"readr"},a=/could not find function "([^"]+)"/;if(a.test(t)){var i=a.exec(t)[1];if(i in n)return{textToShow:"Try loading "+i+" using 'library("+n[i]+")'",scriptTipCode:"r-missing-"+i}}return{}}Object.defineProperty(t,"__esModule",{value:!0}),t.getScriptTips=a},function(e,t,n){"use strict";(function(e){function a(e){return{cells:e.notebook.cells||[],isReadOnly:e.kernelStatus===s.KernelStatus.RenderingHtml,isInCommandMode:e.isInCommandMode,kernelLanguageName:e.kernelLanguageName,activeCellIndex:e.activeCellIndex,firstCellIsMarkdown:!!(e.notebook.cells&&e.notebook.cells.length>0)&&"markdown"===e.notebook.cells[0].cell_type,scriptTips:e.scriptTips}}function i(e){return{onChangeCellType:function(t){return e(c.changeCellType(t))},onContentsChange:function(t,n){return e(c.updateContents(t,n))},onAddAbove:function(){return e(c.addAbove())},onAddBelow:function(){return e(c.addBelow())},onMouseUp:function(t){return e(c.activate(t))},onDelete:function(){return e(c.deleteCell())},onActivate:function(t){return e(c.activate(t))},onExecute:function(t,n){return e(c.executeCell(t,n))},onAutocomplete:function(t,n,a){return e(c.autocompleteRequest(t,n,a))},insertMarkdownCellAtStart:function(){return e(c.addMarkdownAtStart())},onDeselect:function(){return e(c.activate(null))}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(136),s=n(70),l=n(1547),c=n(42),u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.render=function(){var t=this;if(0===this.props.cells.length)return e.createElement("div",{className:"notebook-editor__cells-container"},e.createElement("div",{className:"notebook-editor__cells-loading-message"},"Loading..."));var n=null;return this.props.isReadOnly||this.props.firstCellIsMarkdown||(n=e.createElement("div",{className:"notebook-editor__add-description-prompt",onClick:this.props.insertMarkdownCellAtStart},e.createElement("div",{className:"notebook-editor__add-description-prompt-inner"},"Click here to add an introduction."))),e.createElement("div",{className:"notebook-editor__cells-container"},n,this.props.cells.map(function(n,a){return e.createElement(l.NotebookCell,r.__assign({key:"notebook-cell-"+(n.metadata._uuid||a),cellKey:"notebook-cell-"+a,readOnly:!!t.props.isReadOnly&&"nocursor",isActive:a===t.props.activeCellIndex,isInCommandMode:t.props.isInCommandMode,kernelLanguageName:t.props.kernelLanguageName,canMoveDown:a<t.props.cells.length-1,canMoveUp:a>0,appendNewOrMoveDown:a<t.props.cells.length-1?function(){t.props.onActivate(a+1)}:function(){t.props.onAddBelow(),t.props.onActivate(a+1)},onExecute:function(e){return t.props.onExecute(a,e)},onAddAbove:function(){return t.props.onAddAbove()},onAddBelow:function(){return t.props.onAddBelow()},onChangeCellType:function(e){console.log("Changing cell type for :"+a),t.props.onChangeCellType(e)},onDelete:function(){return t.props.onDelete()},onMouseUp:function(){return t.props.onActivate(a)},onMoveDown:function(){return t.props.onActivate(a+1)},onMoveUp:function(){return t.props.onActivate(a-1)},onContentsChange:function(e){return t.props.onContentsChange(n.metadata._uuid,e)},onAutocomplete:t.props.onAutocomplete,onDeselect:t.props.onDeselect,scriptTip:t.props.scriptTips[a]},n))}))},n}(e.Component);t.NotebookEditorCellList_PoC_Container=o.connect(a,i)(u)}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(156),r=n(94),o=n(60),s=n(40),l=n(8),c=n(32),u=n(682),p=n(1548),d=function(){var e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[a-zA-Z\\d]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|");return new RegExp(e,"g")},m=function(t){function n(e){var n=t.call(this,e)||this;return n.isCodeCell=function(){return"code"===n.props.cell_type},n.isBusy=function(){return n.props.metadata._execution_state&&"busy"===n.props.metadata._execution_state},n.updateGlobalStateWithNewContents=c.throttle(function(e){return n.props.onContentsChange(e)},1e3),n.handleCellContentsChange=function(e){n.cellContents=e,n.updateGlobalStateWithNewContents(e)},n.handleEditorFocusChange=function(e){e||n.props.onContentsChange(n.cellContents)},n.cellContents=n.props.source,n}return a.__extends(n,t),n.prototype.shouldComponentUpdate=function(e){return JSON.stringify(this.props)!==JSON.stringify(e)},n.prototype.componentWillUpdate=function(){this.mainDiv?this.lastMainDivTop=this.mainDiv.getBoundingClientRect().top:this.lastMainDivTop=null},n.prototype.componentDidUpdate=function(e){!e.isActive&&this.props.isActive&&this.mainDiv&&this.lastMainDivTop&&window.scrollBy(0,this.mainDiv.getBoundingClientRect().top-this.lastMainDivTop)},n.prototype.normalizeCellSource=function(){return this.props.source?this.props.source instanceof Array?0===this.props.source.length?"":this.props.source.some(function(e){return e.indexOf("\n")>-1})?this.props.source.join(""):this.props.source.join("\n"):this.props.source:""},n.prototype.render=function(){var t=this,n=this.isCodeCell()?"code":"markdown",a="";return this.props.isActive&&(a=" notebook-editor__cell--active",this.props.isInCommandMode&&(a+=" notebook-editor__cell--command")),e.createElement("div",{className:"notebook-editor__cell-plus-toolbar"},this.props.isActive?e.createElement(h,{cell_type:this.props.cell_type,kernelLanguageName:this.props.kernelLanguageName,onClick:function(){return t.props.onExecute(t.cellContents)},onChangeToMarkdown:function(){return t.props.onChangeCellType("markdown")},onChangeToCode:function(){return t.props.onChangeCellType("code")},onAddAbove:this.props.onAddAbove,onAddBelow:this.props.onAddBelow,onDelete:this.props.onDelete}):null,e.createElement("div",{className:"notebook-editor__cell notebook-editor__cell--"+n+a,onMouseUp:this.props.onMouseUp},this.isCodeCell()?e.createElement(g,{isBusy:this.isBusy(),collapsed:this.props.metadata.collapsed,execution_count:this.props.execution_count}):null,e.createElement("div",{className:"notebook-editor__cell-inner notebook-editor__cell-inner--"+n,ref:function(e){return t.mainDiv=e}},this.isCodeCell()?e.createElement(f,{canMoveDown:this.props.canMoveDown,canMoveUp:this.props.canMoveUp,inputSource:this.normalizeCellSource(),isActive:this.props.isActive,kernelLanguageName:this.props.kernelLanguageName,onAutocomplete:this.props.onAutocomplete,onCellContentsChange:this.handleCellContentsChange,onEditorFocusChange:this.handleEditorFocusChange,onMouseUp:this.props.readOnly?null:this.props.onMouseUp,onMoveDown:this.props.onMoveDown,onMoveUp:this.props.onMoveUp,onCtrlEnter:function(){t.isBusy()||t.props.onExecute(t.cellContents)},onShiftEnter:function(){t.isBusy()||(t.props.onContentsChange(t.cellContents),t.props.onExecute(t.cellContents),t.props.appendNewOrMoveDown())},readOnly:this.props.readOnly}):e.createElement(v,{inputSource:this.normalizeCellSource(),isActive:this.props.isActive,onBlur:function(){return t.handleEditorFocusChange(!1)},onContentsChange:this.handleCellContentsChange,onCtrlEnter:function(){t.props.onContentsChange(t.cellContents),t.props.onDeselect()},onMoveUp:this.props.onMoveUp,onMoveDown:this.props.onMoveDown,onShiftEnter:function(){t.props.onContentsChange(t.cellContents),t.props.appendNewOrMoveDown()},suffix:this.props.cellKey})),e.createElement(_,{tip:this.props.scriptTip}),e.createElement(b,{isCodeCell:this.isCodeCell(),cellKey:this.props.cellKey,outputs:this.props.outputs,execution_count:this.props.execution_count})))},n}(e.Component);t.NotebookCell=m;var h=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=null;return"code"===this.props.cell_type&&(t=e.createElement("div",{className:"notebook-editor__cell-toolbar-button",style:{padding:0,marginLeft:"15px",marginRight:"7px",marginTop:"2px"},onClick:this.props.onClick},e.createElement(s.ToolTip,{tipText:"Execute cell"},e.createElement("span",{className:"fa fa-play"})))),e.createElement("div",{className:"notebook-editor__cell-toolbar"},e.createElement("div",{className:"notebook-editor__cell-type-toggle-group"},e.createElement("div",{className:"notebook-editor__cell-type-toggle-group-inner"},e.createElement("div",{onClick:this.props.onChangeToMarkdown,className:"notebook-editor__cell-type-toggle"+("markdown"===this.props.cell_type?" notebook-editor__cell-type-toggle--active":"")},"Markdown"),e.createElement("div",{onClick:this.props.onChangeToCode,className:"notebook-editor__cell-type-toggle"+("code"===this.props.cell_type?" notebook-editor__cell-type-toggle--active":"")},this.props.kernelLanguageName)),t),e.createElement("div",{className:"notebook-editor__cell-toolbar-lhs"},e.createElement("div",{className:"notebook-editor__cell-toolbar-button-group"},e.createElement("div",{className:"notebook-editor__cell-toolbar-button",onClick:this.props.onAddAbove},e.createElement(s.ToolTip,{tipText:"Add cell above"},e.createElement("span",{className:"notebook-editor__cell-toolbar-multi-icon-button"},e.createElement("span",{className:"fa fa-plus"}),e.createElement("span",{className:"fa fa-caret-up"})))),e.createElement("div",{className:"notebook-editor__cell-toolbar-button",onClick:this.props.onAddBelow},e.createElement(s.ToolTip,{tipText:"Add cell below"},e.createElement("span",{className:"notebook-editor__cell-toolbar-multi-icon-button"},e.createElement("span",{className:"fa fa-plus"}),e.createElement("span",{className:"fa fa-caret-down"}))))),e.createElement("div",{className:"notebook-editor__cell-toolbar-button-group"},e.createElement("div",{className:"notebook-editor__cell-toolbar-button notebook-editor__cell-toolbar-button--red",onClick:this.props.onDelete},e.createElement(s.ToolTip,{tipText:"Delete cell"},e.createElement("span",{className:"fa fa-trash"}))))))},n}(e.Component),g=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t,n=" ";return this.props.isBusy?n="*":null!==this.props.execution_count&&(n=this.props.execution_count?this.props.execution_count.toString():" "),t=this.props.collapsed?e.createElement("div",{className:"notebook-editor__cell-number-in notebook-editor__cell-number-in--collapsed"},"["+n+"]"):e.createElement("div",{className:"notebook-editor__cell-number-in"},"In["+n+"]:"),e.createElement("div",{className:"notebook-editor__cell-number-container"},t)},n}(e.Component),f=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this,n={mode:this.props.kernelLanguageName.toLowerCase(),scrollbarStyle:"native",indentUnit:4,indentWithTabs:!1,autoCloseBrackets:!0,readOnly:this.props.readOnly,theme:"kaggle"};return e.createElement(i.CodeMirrorEditor,{value:this.props.isActive?null:this.props.inputSource,defaultValue:this.props.inputSource,onChange:this.props.onCellContentsChange,onFocusChange:this.props.onEditorFocusChange,hasFocus:this.props.isActive,onMouseUp:this.props.onMouseUp,options:n,getAutocomplete:this.props.onAutocomplete,canMoveUp:function(){return t.props.canMoveUp},canMoveDown:function(){return t.props.canMoveDown},onMoveUp:this.props.onMoveUp,onMoveDown:this.props.onMoveDown,onCtrlEnter:this.props.onCtrlEnter,onShiftEnter:this.props.onShiftEnter})},n}(e.Component),v=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props.isActive||""===this.props.inputSource.trim();return e.createElement("div",null,e.createElement("div",{style:n?{display:"inherit",animationName:"notebook-markdown-editor",animationDuration:"0.5s"}:{display:"none"}},e.createElement(r.MarkdownEditor,{shouldSanitizeHtml:!0,onChangeCallback:function(){},onChangeImmediate:this.props.onContentsChange,defaultValue:this.props.inputSource,alwaysShowToolbar:!0,hasFocus:this.props.isActive,onMoveUp:this.props.onMoveUp,onMoveDown:this.props.onMoveDown,suffix:this.props.suffix,onKeyPress:function(e){e.shiftKey&&13===e.keyCode?(e.preventDefault(),e.stopPropagation(),t.props.onShiftEnter()):e.ctrlKey&&13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),t.props.onCtrlEnter())},onBlur:this.props.onBlur})),n?null:e.createElement(o.MarkdownConverter,{content:this.props.inputSource,mimeType:"text/markdown"}))},n}(e.Component),_=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return this.props.tip&&(this.props.tip.textToShow||this.props.tip.htmlToShow)?e.createElement("div",{className:"notebook-editor__script-tip"},e.createElement("span",{className:"fa fa-warning notebook-editor__script-tip-icon"}),this.props.tip.textToShow):null},n}(e.Component),b=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this;if(!this.props.isCodeCell||!this.props.outputs||0===this.props.outputs.length)return null;var n=this.props.execution_count?this.props.execution_count.toString():" ";return e.createElement("div",{className:"notebook-editor__cell-output-section"},e.createElement("div",{className:"notebook-editor__cell-number-container"},e.createElement("div",{className:"notebook-editor__cell-number-out"},"Out["+n+"]:")),this.props.outputs.map(function(e,n){return t.renderCellOutputChunk(e,t.props.cellKey+"-"+n.toString())}))},n.prototype.renderCellOutputChunk=function(t,n){switch(t.output_type){case"execute_result":case"display_data":var a=null,i=null;if("image/png"in t.data)i=e.createElement("img",{src:"data:image/png;base64,"+t.data["image/png"],key:n+"-img"});else if("text/html"in t.data){var r={__html:u.sanitizeHTML(t.data["text/html"])};a=e.createElement("div",{className:"notebook-editor__html-output",key:n+"-html",dangerouslySetInnerHTML:r})}else"text/plain"in t.data&&(a=e.createElement("div",{className:"notebook-editor__cell-output",key:n+"-text"},t.data["text/plain"]));return e.createElement("div",{key:n},a,i);case"stream":return"stderr"===t.name?e.createElement("div",{className:"notebook-editor__cell-output notebook-editor__cell-output--stderr",key:n+"-stderr"},t.text):e.createElement("div",{className:"notebook-editor__cell-output",key:n+"-stdout"},t.text);case"error":var o=null,s=null;return"ename"in t&&"evalue"in t?o=e.createElement("div",{className:"notebook-editor__cell-output notebook-editor__cell-output--stderr",key:n+"-desc"},e.createElement("span",null,t.ename+": "+t.evalue)):l.Current.warn("Missing ename/evalue in error event"),"traceback"in t&&(s=e.createElement("div",{className:"notebook-editor__cell-output notebook-editor__cell-output--stderr",key:n+"-trace"},this.renderTraceback(t.traceback.join("\n")))),e.createElement("div",{key:n+"-err"},o,s);default:return l.Current.warn("Unknown output_type in cell "+this.props.cellKey),null}},n.prototype.renderTraceback=function(t){var n=this.renderAnsiColorIfNeeded(t),a={__html:u.sanitizeHTML(n)};return e.createElement("div",{dangerouslySetInnerHTML:a})},n.prototype.renderAnsiColorIfNeeded=function(e){return d().test(e)?(new p).toHtml(e):e},n}(e.Component)}).call(t,n(0))},,,,,,,,function(e,t,n){"use strict";(function(e){function a(e){return{scriptRunId:e.connection.scriptRunId,kernelToken:e.connection.kernelToken,kernelStatus:e.kernelStatus}}function i(e){var t=this,n=function(){return r.__awaiter(t,void 0,void 0,function(){var t,n;return r.__generator(this,function(a){switch(a.label){case 0:return t=e,n={type:c.NOTEBOOK_CONTENT_CHANGED},[4,p.JupyterEditorBridge.call("notebook.toJSON")];case 1:return[2,t.apply(void 0,[(n.newContent=a.sent(),n)])]}})})};return{onCellExecutionBusy:function(){return e({type:c.NOTEBOOK_CELL_EXECUTION_BUSY})},onCellExecutionIdle:function(){return e({type:c.NOTEBOOK_CELL_EXECUTION_IDLE})},onKernelReconnecting:function(){return e(c.setKernelStatus(l.KernelStatus.Reconnecting))},onKernelDisconnected:function(){return e(c.setKernelStatus(l.KernelStatus.Reconnecting))},onKernelConnected:function(){return e(c.setKernelStatus(l.KernelStatus.Running))},onKernelDead:function(){return e(c.setKernelStatus(l.KernelStatus.Error))},onOutputAdded:function(t){e({type:c.NOTEBOOK_APPEND_CELL_OUTPUT,output:t.data.output,cellIndex:t.data.cellIndex})},onNotebookCellChanged:function(){e(c.notebookIsDirty()),s.debounce(n,5e3)},onNotebookCellCommitted:n,setJupyterFrontEnd:function(){return e({type:c.NOTEBOOK_SET_JUPYTER_FRONT_END})},onNotebookSaved:function(){return e(c.notebookIsSaved(new Date))}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(136),s=n(32),l=n(70),c=n(42),u=n(1556),p=n(237),d=n(4),m=n(1560),h=function(t){function n(e){var n=t.call(this,e)||this;return n.jupyterIFrameId="jupyterFrame",n.bindEvents(),p.JupyterEditorBridge.initContainer(n.jupyterIFrameId),n.state={notebookReady:!1},n}return r.__extends(n,t),n.prototype.componentDidMount=function(){u.iframeResizer({checkOrigin:!1,heightCalculationMethod:"lowestElement"},"#"+this.jupyterIFrameId),this.props.setJupyterFrontEnd()},Object.defineProperty(n.prototype,"currentProtocolAndHost",{get:function(){return window.location.protocol+"//"+window.location.host},enumerable:!0,configurable:!0}),n.prototype.bindEvents=function(){var e=this,t=!1,n=p.JupyterEditorBridge;n.on("kernel_idle.Kernel",this.props.onCellExecutionIdle),n.on("kernel_busy.Kernel",this.props.onCellExecutionBusy),n.on("kernel_reconnecting.Kernel",this.props.onKernelReconnecting),n.on("kernel_disconnected.Kernel",this.props.onKernelDisconnected),n.on("kernel_dead.Kernel",this.props.onKernelDead),n.on("kernel_connected.Kernel",this.props.onKernelConnected),n.on("notebook_saved.Notebook",this.props.onNotebookSaved),n.on("set_dirty.Notebook",function(){t=!0,e.props.onNotebookCellChanged()}),n.on("command_mode.Cell",function(){t&&e.props.onNotebookCellCommitted()}),n.on("output_added.OutputArea",this.props.onOutputAdded),n.on("app_initialized.NotebookApp",function(){e.setState({notebookReady:!0})}),n.on("finished_execute.CodeCell",function(){e.singletonObserver&&e.singletonObserver()})},n.prototype.render=function(){var t=this,n=this.currentProtocolAndHost.replace("www.kaggle.com","www.kaggle.io").replace("staging.kaggle.com","staging.kaggle.io"),a=n+"/k/"+this.props.scriptRunId+"/proxy/notebooks/__notebook_source__.ipynb?kernelToken="+this.props.kernelToken,i=-1===[l.KernelStatus.Queued,l.KernelStatus.Initializing,l.KernelStatus.Starting].indexOf(this.props.kernelStatus),r=i&&this.state.notebookReady;return e.createElement("div",null,e.createElement("script",{src:"https://raw.githubusercontent.com/davidjbradshaw/iframe-resizer/master/js/iframeResizer.min.js"}),e.createElement("iframe",{src:i?a:"",width:"948",scrolling:"no",id:this.jupyterIFrameId,style:{display:r?"block":"none"},onLoad:function(e){var t=Object.keys(d.Current).filter(function(e){return"function"!=typeof d.Current[e]}).reduce(function(e,t){return e[t]=d.Current[t],e},{});e.target.contentWindow.postMessage({customCall:"custom.editor_loaded",args:{kaggleCurrent:t}},"*")}}),e.createElement("div",{style:{display:r?"block":"none"}},e.createElement(m.NotebookEnvironmentVariablesPaneContainer,{onCellExecutedSubscribe:function(e){t.singletonObserver=e}})),e.createElement("div",{style:{display:r?"none":"block"},className:"notebook-editor__loading"},e.createElement(d.Spinner,null)))},n}(e.Component);t.NotebookEditorJupyterCellList_Container=o.connect(a,i)(h)}).call(t,n(0))},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(0),r=n(237),o=function(e){function t(t){var n=e.call(this,t)||this;return n.state={expanded:!0},n}return a.__extends(t,e),t.prototype.render=function(){var e=this;return i.createElement("div",{className:"env-variables-pane__container"},i.createElement("div",null,i.createElement("button",{style:{float:"right"},onClick:function(){return e.setState({expanded:!e.state.expanded})}},i.createElement("i",{className:this.state.expanded?"fa fa-angle-double-down":"fa fa-angle-double-up"}))),i.createElement("div",{style:{display:this.state.expanded?"block":"none",maxHeight:"300px",overflowY:"auto"}},i.createElement(s,{onCellExecutedSubscribe:this.props.onCellExecutedSubscribe})))},t}(i.Component);t.NotebookEnvironmentVariablesPaneContainer=o;var s=function(e){function t(t){var n=e.call(this,t)||this;return n.delimiter="/",n.rootKey="/",n.removedSentinel={},n.props.onCellExecutedSubscribe(function(){n.onCellExecuteAsync()}),n.state={},n.state[n.rootKey]={},n}return a.__extends(t,e),t.getEnvironmentVariablesAsync=function(e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return[4,r.JupyterEditorBridge.call("custom.get_environment_variables",e)];case 1:return[2,t.sent()]}})})},t.prototype.onRowExpandAsync=function(e){return a.__awaiter(this,void 0,void 0,function(){var n,i,r;return a.__generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t.getEnvironmentVariablesAsync([e])];case 1:return n=o.sent(),console.log("EXPANDED ENVIRONMENT VARIABLE",e,n),i=a.__assign({},this.state,n),this.setState(i),[3,3];case 2:return r=o.sent(),console.log("ERROR EXPANDING ENVIRONMENT VARIABLE",e,r.message),[3,3];case 3:return[2]}})})},t.prototype.onRowCollapse=function(e){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(n){return t={},t[e]=this.removedSentinel,this.setState(t),[2]})})},t.prototype.onCellExecuteAsync=function(){return a.__awaiter(this,void 0,void 0,function(){var e,n,i=this;return a.__generator(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t.getEnvironmentVariablesAsync(Object.keys(this.state).filter(function(e){return i.state[e]!==i.removedSentinel}))];case 1:return e=a.sent(),console.log("REFRESHED ENVIRONMENT VARIABLES",e),this.setState(e),[3,3];case 2:return n=a.sent(),console.log("ERROR REFRESHING ENVIRONMENT VARIABLES",n.message),[3,3];case 3:return[2]}})})},t.prototype.getRows=function(e){var t=[];return this.addRows(this.rootKey,e[this.rootKey],0,t,e),t},t.prototype.addRows=function(e,t,n,r,o){var s,c=this;s=t.constructor===Array?t.map(function(e,t){return{id:t,name:"["+t+"]",data:e}}):Object.keys(t).map(function(e,n,a){return{id:e,name:e,data:t[e]}}),s.forEach(function(t){var s=e+t.id+c.delimiter,u={name:t.name,level:n,value:t.data[0],expandable:!!t.data[1],type:t.data[2]},p=u.expandable&&s in o&&o[s]&&o[s]!==c.removedSentinel;r.push(i.createElement(l,{key:s,info:u,expandedInitially:p,onExpandClickAsync:function(){return a.__awaiter(c,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return[4,this.onRowExpandAsync(s)];case 1:return[2,e.sent()]}})})},onCollapseClick:function(){return c.onRowCollapse(s)}})),p&&c.addRows(s,o[s],n+1,r,o)})},t.prototype.render=function(){var e=this.getRows(this.state);return i.createElement("table",{style:{width:"100%"}},i.createElement("colgroup",null,i.createElement("col",{style:{width:"100px"}}),i.createElement("col",{style:{width:"100px"}}),i.createElement("col",{style:{width:"100px"}})),i.createElement("thead",null,i.createElement("tr",null,i.createElement("th",null,"Name"),i.createElement("th",null,"Value"),i.createElement("th",null,"Type"))),i.createElement("tbody",null,e))},t}(i.Component);t.NotebookEnvironmentVariablesTable=s;var l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={expanded:n.props.expandedInitially,expanding:!1},n}return a.__extends(t,e),t.prototype.render=function(){var e=this;return i.createElement("tr",null,i.createElement("td",{style:{paddingLeft:20*this.props.info.level+"px"}},i.createElement("div",{style:{display:"flex",flexFlow:"row nowrap"}},i.createElement("div",{style:{flex:"0 0"}},i.createElement("div",{style:{width:"20px"}},this.props.info.expandable?this.state.expanded?i.createElement("a",{onClick:function(){e.props.onCollapseClick(),e.setState({expanded:!1})}},i.createElement("i",{className:"fa fa-sort-down"})):this.state.expanding?i.createElement("i",{className:"fa fa-spinner"}):i.createElement("a",{onClick:function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.setState({expanding:!0}),[4,this.props.onExpandClickAsync()];case 1:return e.sent(),this.setState({expanding:!1,expanded:!0}),[2]}})})}},i.createElement("i",{className:"fa fa-sort-up fa-rotate-90"})):" ")),i.createElement("div",{style:{flex:"1 1"}},this.props.info.name))),i.createElement("td",null,this.props.info.value),i.createElement("td",null,this.props.info.type))},t}(i.Component);t.NotebookEnvironmentVariableRow=l},function(e,t,n){"use strict";(function(e){function a(e){var t,n=""===e.titleState.title||e.titleState.needsAGoodTitle,a=!n&&e.titleState.titleIsValid&&!e.titleState.isEditingTitle&&e.kernelStatus===m.KernelStatus.Running;t=n?"You must enter a title before saving a complete run.":e.titleState.isEditingTitle?"You must finish editing the title before saving a complete run.":e.titleState.titleIsValid?"Render the notebook as a new HTML page":"You must enter a valid title before saving a complete run.";var i=e.scriptLanguageTemplates.map(function(e){return{label:e.baseScriptLanguageName,value:e.languageId.toString()}}),r=e.kernelLanguageId.toString(),o=e.kernelStatus===m.KernelStatus.Running,s=e.notebook.metadata.language_info.name,l=s.charAt(0).toUpperCase()+s.slice(1),c=o?l+" "+e.notebook.metadata.language_info.version:"",u=!1,p=!1;if(e.isJupyterFrontEnd)p=e.isCellExecuting,u=!0;else if(e.notebook.cells){var h=e.notebook.cells[e.activeCellIndex];u=!!h&&"code"===h.cell_type,p=e.notebook.cells.some(function(e){return"busy"===e.metadata._execution_state})}return{title:e.titleState.title,isEditingTitle:e.titleState.isEditingTitle,imageUrl:e.imageUrl,kernelStatus:e.kernelStatus,kernelInfoLine:c,playStopButtonFaClass:p?"stop":"play",canPlayStop:u&&o,playStopToolTip:p?"Interrupt execution":"Execute cell",playStopButtonShouldPlay:!p,canExecuteAll:o,canDownloadIpynb:o,canUploadIpynb:o,availableLanguageChoices:i,kernelLanguageDropdownValue:r,scriptId:e.connection.scriptId,scriptRunId:e.connection.scriptRunId,isPrivate:e.isPrivate,canSave:o,isDirty:e.isDirty,lastSavedTime:e.lastSaveTime,canRenderHtml:a,renderHtmlToolTipText:t,notebook:e.notebook,kernelLanguageId:e.kernelLanguageId,shouldPromptToEditTitle:e.titleState.needsAGoodTitle,jupyterUrl:d.Current.isAdmin?e.connection.directJupyterUrl:null,isShowingKernelInfoModal:e.isShowingKernelInfoModal}}function i(e){return{onTitleEditingStateChanged:function(){return e(h.startEditingTitle())},onTitleChanged:function(t){return e(h.updateTitle(t))},onTitleEditorGainFocus:function(){return e(h.startEditingTitle())},onTitleEditorLoseFocus:function(){return e(h.stopEditingTitle())},onRestartKernel:function(t){return e(h.restartKernelForUser(t))},onPlayStop:function(t){e(t?h.executeCell():h.cancelExecution())},onExecuteAll:function(){return e(h.executeAll())},onUploadIpynb:function(t){var n=t.target.files[0],a=new FileReader;a.onload=function(t){d.Current.log("Loaded new ipynb content:");var n=JSON.parse(t.target.result);d.Current.log(n),e(h.replaceContents(n)),e(h.saveFile(n))},a.readAsText(n)},onDownloadIpynb:function(t){e(h.ipynbDownload());var n=new Blob([JSON.stringify(t,null,2)],{type:"text/plain;charset=utf-8"});g.saveAs(n,"notebook.ipynb",!0)},onKernelLanguageChanged:function(t,n,a){var i=+t;if(isNaN(i))return void d.Current.warn("Invalid new language id: "+t);i!==a&&(e(h.changeLanguage(i)),setTimeout(function(){e(h.cancelScriptRun(n)),e(h.requestWorker())},10))},onChangeToPublic:function(){},onRenderHtml:function(t,n){return e(h.renderHtml(t,n))},onRenderHtmlRequestError:function(e){},onSave:function(t){return e(h.saveFile(t))},onClickKernelInfo:function(){return e(h.showKernelInfo())}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(136),s=n(51),l=n(93),c=n(44),u=n(81),p=n(296),d=n(8),m=n(70),h=n(42),g=n(443),f=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.shouldComponentUpdate=function(e){return JSON.stringify(this.props)!==JSON.stringify(e)},n.prototype.render=function(){var t,n=this,a=null;this.props.isEditingTitle||this.props.shouldPromptToEditTitle?t=e.createElement(l.InlineTextEditor,{className:"pageheader__notebook-header-title--input",value:this.props.shouldPromptToEditTitle?"":this.props.title,placeholder:"Enter a title for your notebook",onGainFocusCallback:this.props.onTitleEditorGainFocus,onLoseFocusCallback:function(){return n.props.onTitleEditorLoseFocus()},onChangeCallback:this.props.onTitleChanged}):(t=this.props.title,a=this.props.onTitleEditingStateChanged);var i=function(e){return n.props.onKernelLanguageChanged(e,n.props.scriptRunId,n.props.kernelLanguageId)};return e.createElement(s.PageHeader,null,e.createElement(s.PageHeaderTopRow,{title:t,coverImageUrl:this.props.imageUrl,subtitle:null,titleUrl:null,isEditingHeaderInfo:this.props.isEditingTitle||this.props.shouldPromptToEditTitle,modifier:"notebook",nodeId:"pageheader__top--notebook",onTitleClick:a}),e.createElement(s.PageHeaderBottomRow,null,e.createElement("div",{className:"pageheader__nav pageheader__nav--notebook"},e.createElement(_,{status:this.props.kernelStatus}),e.createElement("div",{className:"pageheader__notebook-header-restart-button"},e.createElement(u.ButtonRoundEdged,{onClick:function(){return n.props.onRestartKernel(n.props.scriptRunId)},text:"Restart"})),e.createElement("div",{className:"pageheader__notebook-header-button-group"},e.createElement(v,{faClass:this.props.playStopButtonFaClass,isActive:this.props.canPlayStop,tooltip:this.props.playStopToolTip,clickAction:function(){return n.props.onPlayStop(n.props.playStopButtonShouldPlay)}}),e.createElement(v,{faClass:"forward",isActive:this.props.canExecuteAll,tooltip:"Execute all cells",clickAction:this.props.onExecuteAll})),e.createElement("div",{className:"pageheader__notebook-header-button-group"},e.createElement("div",{className:"pageheader__notebook-header-button"+(this.props.canUploadIpynb?"":" pageheader__notebook-header-button--disabled")},e.createElement("label",{htmlFor:"ipynb-file-upload"},e.createElement("span",{className:"fa fa-cloud-upload",title:"Upload ipynb file"})),this.props.canUploadIpynb?e.createElement("input",{id:"ipynb-file-upload",type:"file",style:{display:"none"},onChange:this.props.onUploadIpynb}):null),e.createElement("div",{className:"pageheader__notebook-header-button"+(this.props.canDownloadIpynb?"":" pageheader__notebook-header-button--disabled"),onClick:this.props.canDownloadIpynb?function(){return n.props.onDownloadIpynb(n.props.notebook)}:null},e.createElement("span",{className:"fa fa-cloud-download",title:"Download ipynb file"}))),e.createElement("div",{className:"pageheader__notebook-language-select"},e.createElement(c.SelectBox,{options:this.props.availableLanguageChoices,className:"pageheader__notebook-language-select-box",onChange:i,searchable:!1,value:this.props.kernelLanguageDropdownValue})),""===this.props.kernelInfoLine?null:e.createElement("div",{className:"pageheader__notebook-header-button--extraspace",onClick:this.props.onClickKernelInfo,style:{cursor:"pointer"}},e.createElement("span",null,this.props.kernelInfoLine),e.createElement("span",{className:"fa fa-info-circle notebook-info-modal__info-icon"})),this.props.scriptId?e.createElement("div",{className:"pageheader__notebook-privacy-select pageheader__notebook-privacy-select--"+(this.props.isPrivate?"private":"public"),style:this.props.isPrivate?{marginTop:"5px",marginLeft:"10px"}:null},e.createElement(p.PrivacyToggle,{kernelType:"Notebook",displayMode:"SelectBox",isPrivate:this.props.isPrivate,scriptId:this.props.scriptId,onChangeToPublic:this.props.onChangeToPublic})):null,e.createElement("div",{className:"pageheader__notebook-save-message"},this.props.isDirty?"":this.props.lastSavedTime?"Saved":""),this.props.jupyterUrl?e.createElement("div",{className:"pageheader__notebook-header-button",style:{paddingTop:"2px"},onClick:function(){return window.open(n.props.jupyterUrl)}},e.createElement("span",{className:"fa fa-server",title:"Admin: connect to Jupyter server"})):null),e.createElement("a",{onClick:this.props.canRenderHtml?function(){return n.props.onRenderHtml(n.props.scriptRunId,n.props.notebook)}:function(){return n.props.onRenderHtmlRequestError(n.props.renderHtmlToolTipText)},className:"pageheader__calltoaction pageheader__calltoaction--notebook"+(this.props.canRenderHtml?"":"-disabled")},e.createElement("span",{title:this.props.renderHtmlToolTipText},this.props.kernelStatus===m.KernelStatus.RenderingHtml?"Rendering":"Publish"))))},n}(e.Component);t.NotebookHeader_Container=o.connect(a,i)(f);var v=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.shouldComponentUpdate=function(e){return JSON.stringify(this.props)!==JSON.stringify(e)},n.prototype.render=function(){return e.createElement("div",{className:"pageheader__notebook-header-button"+(this.props.isActive?"":" pageheader__notebook-header-button--disabled"),onClick:this.props.isActive?this.props.clickAction:null},e.createElement("span",{className:"fa fa-"+this.props.faClass,title:this.props.tooltip}))},n}(e.Component),_=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.render=function(){var t="fa fa-circle",n={},a=m.KernelStatus[this.props.status].replace(/([a-z])([A-Z])/g,"$1 $2");switch(this.props.status){case m.KernelStatus.Initializing:case m.KernelStatus.Queued:case m.KernelStatus.Requested:break;case m.KernelStatus.Starting:n={color:"#FF8C00"};break;case m.KernelStatus.Running:n={color:"#1DBB9A"};break;case m.KernelStatus.DownloadingData:n={color:"#B3B3B3"};break;case m.KernelStatus.Reconnecting:n={color:"#FFCC00"};break;case m.KernelStatus.Error:t="fa fa-times-circle",n={color:"#C92C2C"};break;case m.KernelStatus.Stopped:t="fa fa-square",n={color:"#C0C0C0"};break;case m.KernelStatus.RenderingHtml:t="fa fa-refresh fa-spin",n={color:"#B3B3B3"};break;default:t="fa fa-square",n={color:"#2F9C0A"}}return e.createElement("div",{className:"pageheader__notebook-header-item"},e.createElement("div",{className:"notebook-editor__kernel-status"},e.createElement("span",{className:t,style:n}),e.createElement("span",{className:"notebook-editor__kernel-status-description",style:n},a)))},n}(e.Component);t.NotebookKernelStatusIndicator=_}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function a(e){var t="",n="https://hub.docker.com/r/kaggle/python/",a="";return"python"===e.kernelLanguageName.toLowerCase()?(t="kaggle/python",n="https://hub.docker.com/r/kaggle/python/",a="https://github.com/Kaggle/docker-python/blob/master/Dockerfile"):(t="kaggle/rstats",n="https://hub.docker.com/r/kaggle/rstats/",a="https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile"),{showModal:e.isShowingKernelInfoModal,dockerImageName:t,dockerHubUrl:n,dockerfileUrl:a}}function i(e){return{handleClose:function(){return e(l.hideKernelInfo())}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(136),s=n(69),l=n(42),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.render=function(){return e.createElement(s.Modal,{modalClassName:"notebook-info-modal",modalIsShown:this.props.showModal,onClose:this.props.handleClose},e.createElement("div",null,e.createElement("div",{className:"notebook-info-modal__info-section"},e.createElement("h4",null,"This Docker Image"),e.createElement("p",null,"This notebook uses the Docker image ",this.props.dockerImageName,", available for download from ",e.createElement("a",{href:this.props.dockerHubUrl},"Docker Hub"),". For details on what it includes, see the ",e.createElement("a",{href:this.props.dockerfileUrl},"Dockerfile"),".")),e.createElement("div",{className:"notebook-info-modal__info-section"},e.createElement("h4",null,"Powered by Jupyter"),e.createElement("p",null,"This notebook interface was developed by Kaggle, but is built on top of ",e.createElement("a",{href:"http://jupyter.org/"},"Jupyter"),". For more details on their many contributions to data science, see their ",e.createElement("a",{href:"http://jupyter.org/documentation.html"},"documentation"),"."))))},n}(e.Component);t.NotebookInfoModal_Container=o.connect(a,i)(c)}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){function i(e){var t=e.dataSources&&e.dataSources.length>0;return{scriptRunId:e.connection.scriptRunId,showAddDatasourcesBanner:e.dataSources&&0===e.dataSources.length,showAddDatasourcesModal:!t&&e.isNewNotebook,showInputFilesPreview:e.inputFiles&&e.inputFiles.length>0||e.dataSources&&e.dataSources.length>0,dataSources:e.dataSources,inputFiles:e.inputFiles,updateInputMetadataUrl:t&&1===e.dataSources.length?e.updateInputMetadataUrl:null}}function r(e){var t=function(t,n){return new Promise(function(a,i){t&&e(h.updateDataSourcesAndRestart(t,n)),a()})};return{onDataSourceAdded:function(e,n){return m.addDataSource(e,n).then(function(e){return t(e,n)})},onDataSourceRemoved:function(e,n){return m.removeDataSource(e,n).then(function(e){return t(e,n)})}}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(136),l=n(11),c=n(9),u=n(92),p=n(8),d=n(442),m=n(4),h=n(42),g=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.updateInputFileMetadata=function(t,n,i){l(e.props.updateInputMetadataUrl&&1===e.props.dataSources.length,"Cannot currently update metadata on multiple datasets.");var r={fileName:t,columns:[{fileName:t,columnIndex:n,description:i.description,dataType:i.harmonizedDataType}]};a(e.props.updateInputMetadataUrl,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(r)})},e}return o.__extends(n,t),n.prototype.render=function(){var t=this;return this.props.showAddDatasourcesBanner?e.createElement(c.ContentBox,null,e.createElement(d.AddDataSourceBanner,{onDataSourceAdded:function(e){return t.props.onDataSourceAdded(e,t.props.scriptRunId)},showModalInitially:this.props.showAddDatasourcesModal})):this.props.showInputFilesPreview?e.createElement(c.CollapsibleContentBox,{title:"Input Files",initiallyCollapsed:!0},e.createElement(u.FilePreviewList,{files:this.props.inputFiles,dataSources:this.props.dataSources,userCanEditMetadata:!p.Current.isAnonymous&&!!this.props.updateInputMetadataUrl,onMetadataChange:this.props.updateInputMetadataUrl?this.updateInputFileMetadata:null,onDataSourceAdded:this.props.scriptRunId?function(e){return t.props.onDataSourceAdded(e,t.props.scriptRunId)}:null,onDataSourceRemoved:this.props.scriptRunId?function(e){return t.props.onDataSourceRemoved(e,t.props.scriptRunId)}:null,scriptVersionId:this.props.scriptRunId})):null},n}(e.Component);t.NotebookDataSources_Container=s.connect(i,r)(g)}).call(t,n(0),n(36))},function(e,t,n){"use strict";(function(e){function a(e){return{escKeyShouldCancelTitleEditing:e.titleState.isEditingTitle&&e.titleState.title}}function i(e){return{onChangedToEditMode:function(){return e(l.setKeyboardShortcutCommandMode(!1))},onChangedToCommandMode:function(){return e(l.setKeyboardShortcutCommandMode(!0))},onInsertCellAbove:function(){return e(l.addAbove())},onInsertCellBelow:function(){return e(l.addBelow())},onSave:function(){return e(l.saveFile())},onCancelExecution:function(){return e(l.cancelExecution())},onMakeCodeCell:function(){return e(l.changeCellType("code"))},onMakeMarkdownCell:function(){return e(l.changeCellType("markdown"))},onDeleteCell:function(){return e(l.deleteCell())},onCancelTitleEditing:function(){return e(l.cancelEditingTitle())}}}Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),s=n(136),l=n(42),c=n(8);!function(e){e[e.Edit=0]="Edit",e[e.Command=1]="Command",e[e.SecondCommandKey=2]="SecondCommandKey"}(r||(r={}));var u=13,p=27,d=65,m=66,h=83,g=73,f=89,v=77,_=68,b=function(t){function n(e){var n=t.call(this,e)||this;return n.handleKeyDown=function(e){n.mode===r.Edit?n.handleEditModeKeyDown(e):n.mode===r.Command?n.handleCommandModeKeyDown(e):n.handleSecondCommandKey(e)},n.handleEditModeKeyDown=function(e){e.keyCode==p&&(e.preventDefault(),e.stopPropagation(),n.props.escKeyShouldCancelTitleEditing?n.props.onCancelTitleEditing():n.setMode(r.Command))},n.fireActionAndReturnToEditMode=function(e,t){void 0===t&&(t=null),e.preventDefault(),e.stopPropagation(),t&&t(),n.setMode(r.Edit)},n.waitForSecondCommandKey=function(e,t){e.preventDefault(),e.stopPropagation(),n.previousCommandKeyCode=t,n.setMode(r.SecondCommandKey,!1)},n.handleSecondCommandKey=function(e){if(e.keyCode===n.previousCommandKeyCode)switch(e.keyCode){case _:n.fireActionAndReturnToEditMode(e,n.props.onDeleteCell);break;default:n.fireActionAndReturnToEditMode(e)}else n.fireActionAndReturnToEditMode(e)},n.handleCommandModeKeyDown=function(e){switch(e.keyCode){case u:n.fireActionAndReturnToEditMode(e);break;case d:n.fireActionAndReturnToEditMode(e,n.props.onInsertCellAbove);break;case m:n.fireActionAndReturnToEditMode(e,n.props.onInsertCellBelow);break;case h:n.fireActionAndReturnToEditMode(e,n.props.onSave);break;case g:n.fireActionAndReturnToEditMode(e,n.props.onCancelExecution);break;case f:n.fireActionAndReturnToEditMode(e,n.props.onMakeCodeCell);break;case v:n.fireActionAndReturnToEditMode(e,n.props.onMakeMarkdownCell);break;case _:n.waitForSecondCommandKey(e,_)}},n.mode=r.Edit,n}return o.__extends(n,t),n.prototype.componentDidMount=function(){c.Current.log("Listening for keyboard shortcuts."),document.addEventListener("keydown",this.handleKeyDown,!0)},n.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.handleKeyDown,!0)},n.prototype.setMode=function(e,t){void 0===t&&(t=!0),this.mode=e,e===r.Edit?t&&this.props.onChangedToEditMode():t&&this.props.onChangedToCommandMode()},n.prototype.render=function(){return e.createElement("div",{className:"notebook-editor__keyboard-shortcuts"})},n}(e.Component);t.NotebookKeyboardShortcutterContainer=s.connect(a,i)(b)}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(4),r=function(t){function n(e){var n=t.call(this,e)||this;n.onWindowPopState=function(e){e.state?n.setState(e.state):n.setState({isNew:n.props.isNew,topicId:n.props.topicId})},n.visitUrl=function(e,t){void 0===t&&(t=!1);var a={isNew:n.state.isNew,topicId:n.state.topicId};t?history.replaceState(a,document.title,e):history.pushState(a,document.title,e)},n.getUrl=function(){return n.props.url+(n.state.isNew?"/new":n.state.topicId?"/"+n.state.topicId:"")+(window.location.hash?window.location.hash:"")},n.topicSubmitted=function(e){return n.setState({isNew:!1,topicId:e},function(){return n.visitUrl(n.getUrl())})},n.onTopicClicked=function(e){return n.setState({topicId:e.id},function(){return n.visitUrl(n.getUrl())})};var a=e.isNew,i=e.topicId;return n.state={isNew:a,topicId:i},n}return a.__extends(n,t),n.prototype.componentWillMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1)},n.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1)},n.prototype.render=function(){var t=this,n=this.props,r=(n.forums,n.imageUrl),o=n.subtitle,s=n.name,l=n.url,c=a.__rest(n,["forums","imageUrl","subtitle","name","url"]),u=c.paramValues;return e.createElement("div",{className:"site-forum"},e.createElement("div",{className:"site-forum__header"},e.createElement(i.PageHeader,null,e.createElement(i.PageHeaderTopRow,{coverImageUrl:r,isEditingHeaderInfo:!1,modifier:"site-forum",subtitle:o,title:s,titleUrl:l}),e.createElement(i.PageHeaderBottomRow,null,e.createElement(i.OverflowX,null,e.createElement(i.PageHeaderNav,{classNameModifier:"profile",menuLinks:this.props.forums.filter(function(e){return"Spam Posts"!==e.name&&"Deleted Posts"!==e.name}).map(function(e){return{href:e.url,title:e.name,text:e.name}}),overflowMenuLinks:this.props.forums.filter(function(e){return"Spam Posts"===e.name||"Deleted Posts"===e.name}).map(function(e){return{href:e.url,title:e.name,text:e.name}}),activeTab:this.props.name}),e.createElement(i.PageHeaderCallToAction,{onClick:function(){return t.setState({isNew:!0,topicId:null},function(){return t.visitUrl(t.getUrl())})},text:"New Topic",title:"New Topic"}))))),e.createElement(i.Forum,a.__assign({},c,{paramValues:u,forumId:this.props.id,onTopicClicked:this.onTopicClicked,topicSubmitted:this.topicSubmitted,parentName:this.props.name,parentUrl:this.props.url,dataUrl:this.props.dataUrl},this.state)))},n}(e.Component);t.SiteForum=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(3),r=n(8),o=n(1567),s=n(4),l=function(t){function n(e){var n=t.call(this,e)||this;n.mobileHeaderUpperBound=800,n.handleClick=function(e){i(e.target).closest(".site-header-react__user-nav").length||i(e.target).closest(".site-header-react__user").length||!n.state.shouldShowUserDropdown||n.setState({shouldShowUserDropdown:!1}),i(e.target).closest(".site-header-react__extra-nav").length||i(e.target).closest(".site-header-react__extra-link").length||!n.state.shouldShowExtraDropdown||n.setState({shouldShowExtraDropdown:!1}),i(e.target).closest(".site-header-react__mobile-menu").length||i(e.target).closest(".site-header-react__mobile-menu-button").length||!n.state.shouldShowMobileMenu||n.setState({shouldShowMobileMenu:!1})},n.handleResize=function(){var e=window.innerWidth;n.setState({windowWidth:e,shouldShowMobileHeader:e<=n.mobileHeaderUpperBound})},n.updateSiteHeaderState=function(e,t){var a={};a[e]=t,n.setState(a)};var r=window.innerWidth,o=s.parseQueryString(window.location.search),l={errors:[],hasAcceptedTerms:!1,shouldShowAlmostThereModal:o["almost-there"],shouldShowEmailVerificationModal:o["email-verification"],shouldShowLoginModal:o.login,shouldShowSignupModal:o.signup,shouldShowUserDropdown:!1,shouldShowMobileHeader:r<=n.mobileHeaderUpperBound,signupUsername:"",subscribeToNewsletter:!0,token:o.token,windowWidth:r},c={allowSubmit:function(){return n.state.hasAcceptedTerms&&!n.state.signupConfirmEmailError&&!n.state.signupConfirmPasswordError&&!n.state.signupEmailError&&!n.state.signupPasswordError&&!n.state.signupUsernameError},closeAllModals:function(){var e=window.location.href.split("?"),t=e[0],a=["almost-there","email-verification","login","signup","token","verification-id"],i=e.length>1?"?"+e[1].split("&").map(function(e){return e.split("=")}).filter(function(e){return!a.includes(e[0])}).map(function(e){return e.join("=")}).join("&"):"";window.history.replaceState({},null,t+i),n.setState({hasAcceptedTerms:!1,signupConfirmEmail:"",signupConfirmEmailError:null,signupConfirmPassword:"",signupConfirmPasswordError:null,signupEmail:"",signupEmailError:null,signupPassword:"",signupPasswordError:null,signupUsername:"",signupUsernameError:null,shouldShowAlmostThereModal:!1,shouldShowEmailVerificationModal:!1,shouldShowLoginModal:!1,shouldShowSignupModal:!1,subscribeToNewsletter:!0})},onHasAcceptedTermsChanged:function(e,t){t&&(n.state.onSignupEmailBlurred(),n.state.onSignupPasswordBlurred()),n.state.onSignupUsernameBlurred(),n.setState({hasAcceptedTerms:e})},onSignupConfirmEmailBlurred:function(e){e=e||n.state.signupConfirmEmail,n.setState({signupConfirmEmail:e,signupConfirmEmailError:n.state.signupEmail===e?null:"Email and confirm email must match"})},onSignupConfirmPasswordBlurred:function(e){e=e||n.state.signupConfirmPassword,n.setState({signupConfirmPassword:e,signupConfirmPasswordError:n.state.signupPassword===e?null:"Password and confirm password must match"})},onSignupEmailBlurred:function(e){e=e||n.state.signupEmail,n.setState({signupEmail:e,signupEmailError:s.isValidEmail(e)?null:"Please enter a valid email"},function(){return n.state.onSignupConfirmEmailBlurred()})},onSignupPasswordBlurred:function(e){e=e||n.state.signupPassword,n.setState({signupPassword:e,signupPasswordError:e&&e.length>=7?null:"Password must be at least 7 characters"},function(){return n.state.onSignupConfirmPasswordBlurred()})},onSignupUsernameBlurred:function(){i.ajax({context:n,contentType:"application/json",data:JSON.stringify({userName:n.state.signupUsername}),dataType:"text",success:function(e){n.setState({signupUsernameError:e})},type:"POST",url:"/account/validate-username"})},onSignupUsernameChanged:function(e){return n.setState({signupUsername:e})},onSubscribeToNewsletterChanged:function(e){return n.setState({subscribeToNewsletter:e})},resendVerificationEmail:function(){var e=o["verification-id"];i.ajax({contentType:"application/json",data:JSON.stringify({userId:e}),dataType:"json",type:"POST",url:"/account/verification/resend"})},toggleAlmostThereModal:function(){return n.setState({shouldShowAlmostThereModal:!n.state.shouldShowAlmostThereModal})},toggleEmailVerificationModal:function(){return n.setState({shouldShowEmailVerificationModal:!n.state.shouldShowEmailVerificationModal})},toggleLoginModal:function(){return n.setState({shouldShowLoginModal:!n.state.shouldShowLoginModal})},toggleSignupModal:function(){return n.setState({shouldShowSignupModal:!n.state.shouldShowSignupModal})}},u=n.props,p=(u.children,a.__rest(u,["children"]));return n.state=a.__assign({},p,l,c),n}return a.__extends(n,t),n.prototype.componentDidMount=function(){var e=this;window.addEventListener("touchstart",this.handleClick,!1),window.addEventListener("mousedown",this.handleClick,!1),window.addEventListener("resize",this.handleResize,!1),s.PageMessages.addListener(function(t){return e.setState({errors:t.map(function(e){return e.htmlMessage})})})},n.prototype.componentWillUnmount=function(){window.removeEventListener("touchstart",this.handleClick,!1),window.removeEventListener("mousedown",this.handleClick,!1),window.removeEventListener("resize",this.handleResize,!1)},n.prototype.render=function(){var t=[{itemUrl:"/competitions",itemName:"Competitions"},{itemUrl:"/datasets",itemName:"Datasets"},{itemUrl:"/kernels",itemName:"Kernels"},{itemUrl:"/discussion",itemName:"Discussion"},{itemUrl:"/jobs",itemName:"Jobs"}],n=[{itemUrl:"/competitions",itemName:"Competitions"},{itemUrl:"/datasets",itemName:"Datasets"},{itemUrl:"/kernels",itemName:"Kernels"},{itemUrl:"/discussion",itemName:"Discussion"},{itemUrl:"/jobs",itemName:"Jobs"},{itemUrl:"/blog",itemName:"Blog"},{itemUrl:"/rankings",itemName:"User Rankings"},{itemUrl:"/host",itemName:"Host a Competition"},{itemUrl:"/team",itemName:"Our Team"},{itemUrl:"/contact",itemName:"Support/Contact"}];r.Current.isAdmin&&n.push({itemUrl:"/admin/home",itemName:"Admin"});var i={mainNavItems:t,mobileNavItems:n,userURL:r.Current.userProfileUrl,userDisplayName:r.Current.userDisplayName,userAvatarURL:r.Current.userThumbnailUrl,userIsAnonymous:r.Current.isAnonymous,updateSiteHeaderState:this.updateSiteHeaderState};return e.createElement(o.SiteHeader,a.__assign({},this.state,i))},n}(e.Component);t.SiteHeaderContainer=l}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(37),o=n(40),s=n(8),l=n(1568),c=n(4),u=n(6),p=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderMainNav=function(){var t=n.props.mainNavItems;return t.length&&e.createElement("nav",{className:"site-header-react__nav"},t.map(function(t,n){return e.createElement("li",{key:n,className:"site-header-react__nav-item"},e.createElement("a",{href:t.itemUrl},t.itemName))}),e.createElement("li",{className:"site-header-react__nav-item"},e.createElement("a",{className:"site-header-react__extra-link",onClick:function(){return n.toggleExtraDropdown()},style:n.props.shouldShowExtraDropdown?{opacity:1}:{}},e.createElement("svg",{className:"site-header-react__nav-ellipsis",width:"18px",height:"4px",viewBox:"0 0 18 4"},e.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},e.createElement("path",{d:"M16,4 C14.8954305,4 14,3.1045695 14,2 C14,0.8954305 14.8954305,0 16,0 C17.1045695,0 18,0.8954305 18,2 C18,3.1045695 17.1045695,4 16,4 Z M9,4 C7.8954305,4 7,3.1045695 7,2 C7,0.8954305 7.8954305,0 9,0 C10.1045695,0 11,0.8954305 11,2 C11,3.1045695 10.1045695,4 9,4 Z M2,4 C0.8954305,4 0,3.1045695 0,2 C0,0.8954305 0.8954305,0 2,0 C3.1045695,0 4,0.8954305 4,2 C4,3.1045695 3.1045695,4 2,4 Z",fill:"#FFFFFF"})))),n.props.shouldShowExtraDropdown&&n.renderExtraNav()))},n.renderExtraNav=function(){return e.createElement("div",{className:"site-header-react__extra-nav"},e.createElement("ul",{className:"site-header-react__extra-nav-primary"},e.createElement("li",{className:"site-header-react__extra-nav-primary-item"},e.createElement("a",{href:"/blog"},"Blog")),e.createElement("li",{className:"site-header-react__extra-nav-primary-item"},e.createElement("a",{href:"/rankings"},"User Rankings")),e.createElement("li",{className:"site-header-react__extra-nav-primary-item"},e.createElement("a",{href:"/host"},"Host a Competition")),e.createElement("li",{className:"site-header-react__extra-nav-primary-item"},e.createElement("a",{href:"/team"},"Our Team")),e.createElement("li",{className:"site-header-react__extra-nav-primary-item"},e.createElement("a",{href:"/contact"},"Support/Contact"))),e.createElement("ul",{className:"site-header-react__extra-nav-secondary"},e.createElement("li",{className:"site-header-react__extra-nav-secondary-item"},e.createElement("a",{href:"/wiki"},"Wiki")),e.createElement("li",{className:"site-header-react__extra-nav-secondary-item"},e.createElement("a",{href:"/terms"},"Terms")),e.createElement("li",{className:"site-header-react__extra-nav-secondary-item"},e.createElement("a",{href:"/privacy"},"Privacy"))))},n.renderMobileNav=function(){var t=n.props,a=t.mobileNavItems,i=t.userIsAnonymous;return a.length&&e.createElement("nav",{className:"site-header-react__mobile-nav"},a.map(function(t,n){return e.createElement("li",{key:n,className:"site-header-react__mobile-nav-item"},e.createElement("a",{href:t.itemUrl},t.itemName))}),!i&&e.createElement("li",{key:-1,className:"site-header-react__mobile-nav-item site-header-react__mobile-nav-item--log-off"},e.createElement("a",{href:"/account/logoff"},"Log Out")))},n.renderUserDropdown=function(){var t={__html:n.props.userDisplayName};return e.createElement("div",{className:"site-header-react__user-nav-container"},e.createElement("nav",{className:"site-header-react__user-nav"},e.createElement("li",{className:"site-header-react__user-nav-item"},e.createElement("span",{className:"site-header-react__user-name"},"Signed in as ",e.createElement("span",{className:"site-header-react__user-name-rendered",dangerouslySetInnerHTML:t}))),e.createElement("li",{className:"site-header-react__user-nav-item"},e.createElement("a",{href:n.props.userURL,className:"site-header-react__user-nav-link"},e.createElement("span",null,"My Profile"))),s.Current.isAdmin?e.createElement("li",{className:"site-header-react__user-nav-item"},e.createElement("a",{href:"/admin/home",className:"site-header-react__user-nav-link"},e.createElement("span",null,"Admin"))):null,e.createElement("li",{className:"site-header-react__user-nav-item"},e.createElement("a",{href:"/account/logoff",className:"site-header-react__user-nav-link"},e.createElement("span",null,"Sign Out")))))},n.toggleUserDropdown=function(){n.props.updateSiteHeaderState("shouldShowUserDropdown",!n.props.shouldShowUserDropdown)},n.toggleExtraDropdown=function(){n.props.updateSiteHeaderState("shouldShowExtraDropdown",!n.props.shouldShowExtraDropdown)},n.toggleMobileMenu=function(){n.props.updateSiteHeaderState("shouldShowMobileMenu",!n.props.shouldShowMobileMenu)},n.renderMobileMenu=function(){var t={__html:n.props.userDisplayName};return e.createElement("div",{className:"site-header-react__mobile-menu"},n.props.userIsAnonymous?e.createElement("div",{className:"site-header-react__mobile-menu--anonymous"},e.createElement("a",{className:"site-header-react__mobile-sign-up",onClick:function(){return n.props.toggleLoginModal()}},"Sign Up "),e.createElement("a",{className:"site-header-react__mobile-sign-in",onClick:function(){return n.props.toggleLoginModal()}},"Log In "),e.createElement(c.Modal,{modalIsShown:n.props.shouldShowAlmostThereModal||n.props.shouldShowEmailVerificationModal||n.props.shouldShowLoginModal||n.props.shouldShowSignupModal,onClose:function(){return n.props.shouldShowAlmostThereModal?null:n.props.closeAllModals()}},n.props.shouldShowEmailVerificationModal?n.renderEmailVerificationModal():n.props.shouldShowAlmostThereModal?n.renderAlmostThereModal():n.props.shouldShowSignupModal?n.renderSignupModal():n.renderLoginModal())):e.createElement("a",{href:n.props.userURL,className:"site-header-react__mobile-user"},e.createElement("img",{src:n.props.userAvatarURL,alt:n.props.userDisplayName+" avatar image",className:"site-header-react__mobile-avatar"}),e.createElement("span",{className:"site-header-react__mobile-user-name",dangerouslySetInnerHTML:t})),e.createElement("div",{className:"site-header-react__mobile-search"},e.createElement(l.QuickSearchContainer,{placeholder:"Search kaggle",index:"global",suppressAutoFocus:!0,isOnMobileMenu:!0})),n.renderMobileNav(),e.createElement("div",{className:"site-header-react__mobile-menu-close-wrapper"},e.createElement("span",{className:"site-header-react__mobile-menu-close",onClick:function(){return n.toggleMobileMenu()}},e.createElement("span",{className:"fa fa-close"}))))},n.renderMobileHeader=function(){return e.createElement("div",{className:"site-header-react__mobile-content"},e.createElement("span",{className:"fa fa-bars site-header-react__mobile-menu-button",onClick:function(){return n.toggleMobileMenu()}}),e.createElement("div",{className:"site-header-react__mobile-logo"},e.createElement("a",{href:"/"},e.createElement("img",{alt:"Kaggle",src:"/static/images/site-logo.png"}))),n.props.shouldShowMobileMenu||n.props.shouldShowLoginModal?n.renderMobileMenu():null,n.props.shouldShowMobileMenu||n.props.shouldShowLoginModal?e.createElement("div",{className:"site-header-react__mobile-underlay",onClick:function(){return n.toggleMobileMenu()}}):null)},n.renderEnvironment=function(){var t=s.Current.isDebug||"localhost"!=s.Current.environment?s.Current.environment:"www",n=("localhost"==s.Current.environment||"staging"==s.Current.environment?s.Current.environment:"live")+(s.Current.isDebug||"localhost"!=s.Current.environment?"":" in release mode - PRODUCTION DATABASE");return e.createElement("div",null,e.createElement("div",{className:"site-header-react__environment"},e.createElement("div",{className:"site-header-react__environment-side site-header-react__environment-side--left site-header-react__environment-side--"+t},e.createElement("span",{className:"site-header-react__environment-side-inside"},n)),e.createElement("div",{className:"site-header-react__environment-side site-header-react__environment-side--right site-header-react__environment-side--"+t},e.createElement("span",{className:"site-header-react__environment-side-inside"},n))))},n.renderDesktopHeader=function(){return e.createElement("div",{className:"site-header-react__container "+(s.Current.isFullScreen&&"site-header-react__container--full-width")},s.Current.isAdmin?n.renderEnvironment():null,e.createElement("div",{className:"site-header-react__content"},e.createElement("div",{className:"site-header-react__logo"},e.createElement("a",{href:"/"},e.createElement("img",{alt:"Kaggle",src:"/static/images/site-logo.png"}))),e.createElement("div",{className:"site-header-react__quick-search"},e.createElement(l.QuickSearchContainer,{className:"quick-search--dark",placeholder:"Search kaggle",index:"global"})),n.renderMainNav(),e.createElement("div",{className:"site-header-react__user"},n.props.userIsAnonymous?[e.createElement("ul",{key:"login-button",className:"site-header-react__user--anonymous"},e.createElement("li",null,e.createElement(r.Button,{id:"sign-in-button",isSmall:!0,onClick:function(){return n.props.toggleLoginModal()},text:"Sign In"}))),e.createElement(c.Modal,{key:"modal",modalIsShown:n.props.shouldShowAlmostThereModal||n.props.shouldShowEmailVerificationModal||n.props.shouldShowLoginModal||n.props.shouldShowSignupModal,onClose:function(){return n.props.shouldShowAlmostThereModal?null:n.props.closeAllModals()}},n.props.shouldShowEmailVerificationModal?n.renderEmailVerificationModal():n.props.shouldShowAlmostThereModal?n.renderAlmostThereModal():n.props.shouldShowSignupModal?n.renderSignupModal():n.renderLoginModal())]:n.props.shouldShowUserDropdown?e.createElement("div",{className:"site-header-react__user--logged-in--active",onClick:function(){return n.toggleUserDropdown()}},e.createElement("ul",null,e.createElement("li",{className:"site-header-react__user-avatar"},e.createElement("img",{src:n.props.userAvatarURL}))),n.renderUserDropdown()):e.createElement(o.ToolTip,{tipText:"Your profile"},e.createElement("div",{className:"site-header-react__user--logged-in",onClick:function(){return n.toggleUserDropdown()}},e.createElement("ul",null,e.createElement("li",{className:"site-header-react__user-avatar"},e.createElement("img",{src:n.props.userAvatarURL}))))))))},n.renderLoginErrors=function(){return e.createElement("div",{className:"login-errors"},n.props.errors.map(function(t,n){return e.createElement("div",{key:n,className:"login-errors__error",dangerouslySetInnerHTML:{__html:t}})}))},n.renderLoginModal=function(){return e.createElement("div",{className:"login-modal"},e.createElement("a",{className:"login-modal__close-button fa fa-times-circle",onClick:function(){return n.props.closeAllModals()}}),e.createElement("div",null,e.createElement("div",null,e.createElement("span",{className:"login-modal__title"},"One-click Sign In / Sign Up"),e.createElement("span",{className:"login-modal__subtitle"},"(We won't share anything without your permission)")),e.createElement("div",{className:"login-modal__social-buttons"},e.createElement("a",{className:"login-modal__icon-button login-modal__icon-button--facebook",href:"/account/authenticate/facebook?isModal=true"},e.createElement("span",{className:"login-modal__icon-button-icon login-modal__icon-button-icon--facebook fa fa-facebook-f"}),e.createElement("span",{className:"login-modal__icon-button-text"},"Facebook")),e.createElement("a",{className:"login-modal__icon-button login-modal__icon-button--google",href:"/account/authenticate/google?isModal=true"},e.createElement("span",{className:"login-modal__icon-button-icon login-modal__icon-button-icon--google fa fa-google"}),e.createElement("span",{className:"login-modal__icon-button-text"},"Google")),e.createElement("a",{className:"login-modal__icon-button login-modal__icon-button--yahoo",href:"/account/authenticate/yahoo?isModal=true"},e.createElement("span",{className:"login-modal__icon-button-icon login-modal__icon-button-icon--yahoo fa fa-yahoo"}),e.createElement("span",{className:"login-modal__icon-button-text"},"Yahoo")))),e.createElement("div",{className:"login-modal__divider"},e.createElement("span",{className:"login-modal__horizontal-divider"}),"or",e.createElement("span",{className:"login-modal__horizontal-divider"})),e.createElement("div",null,e.createElement("div",null,e.createElement("span",{className:"login-modal__title"},"Use your Kaggle Username or Email"),e.createElement("a",{className:"login-modal__signup-link",onClick:function(){return n.props.toggleSignupModal()}},"Manually Create a New Account ")),e.createElement("form",{action:"/account/login?isModal=true",className:"login-modal__login-form",id:"login-form",method:"POST"},e.createElement(c.AntiForgeryInput,null),e.createElement("input",{id:"username-input-text",className:"login-modal__input",name:"username",placeholder:"Username or Email",type:"text"}),e.createElement("div",{className:"login-modal__button-input"},e.createElement("input",{id:"password-input-text",className:"login-modal__input login-modal__input--password",name:"password",placeholder:"Password",type:"password"}),e.createElement("a",{id:"submit-sign-in-button",className:"login-modal__signin-button",onClick:function(){return a("#login-form").submit()}},"Sign In"),e.createElement("input",{className:"login-modal__hidden-submit",type:"submit"})),e.createElement("div",{className:"login-modal__subline"},e.createElement("span",{className:"login-modal__checkbox"},e.createElement("span",{className:"login-modal__checkbox-wrapper"},e.createElement(c.Checkbox,{formInputName:"rememberme",isChecked:!1,isEditable:!0,onChange:function(){},text:""})),"Remember Me"),"Forgot",e.createElement("a",{className:"login-modal__forgot-link",href:"/forgot/username"},"Username"),"/",e.createElement("a",{className:"login-modal__forgot-link",href:"/forgot/password"},"Password")),n.renderLoginErrors())),e.createElement("div",{className:"login-modal__footer"},e.createElement("div",{className:"login-modal__footer-title"},"One account per individual."),"If youre joining as a company, please create one account for each individual in your group.",e.createElement("div",{className:"login-modal__footer-title"},"Have an account but need a university address to enter an InClass competition?"),"Change the email on your existing account via your profile settings."))},n.renderSignupModal=function(){return e.createElement("div",{className:"signup-modal"},e.createElement("a",{className:"signup-modal__close-button fa fa-times-circle",onClick:function(){return n.props.closeAllModals()}}),e.createElement("span",{className:"signup-modal__title"},"Create an Account With Your Email Address"),e.createElement("form",{action:"/account/register?isModal=true",className:"signup-modal__form",id:"signup-form",method:"POST"},e.createElement("div",{className:"signup-modal__input-wrapper"},n.props.signupUsernameError?e.createElement("div",{className:"signup-modal__input-error"},n.props.signupUsernameError):null,e.createElement("label",{className:"signup-modal__input-label"},"Username"),e.createElement("input",{className:"signup-modal__input",name:"username",onBlur:function(){return n.props.onSignupUsernameBlurred()},onChange:function(e){return n.props.onSignupUsernameChanged(e.currentTarget.value)},placeholder:"Used for login and your profile URL",type:"text"})),"Your profile URL will be kaggle.com/",n.props.signupUsername,e.createElement("div",{className:"signup-modal__form-spacer"}),e.createElement("div",{className:"signup-modal__input-wrapper"},e.createElement("label",{className:"signup-modal__input-label"},"Display Name"),e.createElement("input",{className:"signup-modal__input",name:"displayname",placeholder:"John Doe",type:"text"})),"Shown on your public profile, leaderboards, etc.",e.createElement("br",null),"Full name recommended.",e.createElement("div",{className:"signup-modal__form-spacer"}),e.createElement("div",{className:"signup-modal__input-wrapper"},n.props.signupEmailError?e.createElement("div",{className:"signup-modal__input-error"},n.props.signupEmailError):null,e.createElement("label",{className:"signup-modal__input-label"},"Email Address"),e.createElement("input",{className:"signup-modal__input",name:"email",onBlur:function(e){return n.props.onSignupEmailBlurred(e.currentTarget.value)},placeholder:"Email Address",type:"text"})),e.createElement("div",{className:"signup-modal__input-wrapper"},n.props.signupConfirmEmailError&&e.createElement("div",{className:"signup-modal__input-error"},n.props.signupConfirmEmailError),e.createElement("label",{className:"signup-modal__input-label"},"Confirm Email"),e.createElement("input",{className:"signup-modal__input",name:"confirmemail",onBlur:function(e){return n.props.onSignupConfirmEmailBlurred(e.currentTarget.value)},placeholder:"Re-enter Email Address",type:"text"})),e.createElement("div",{className:"signup-modal__form-spacer"}),e.createElement("div",{className:"signup-modal__input-wrapper"},n.props.signupPasswordError&&e.createElement("div",{className:"signup-modal__input-error"},n.props.signupPasswordError),e.createElement("label",{className:"signup-modal__input-label"},"Password"),e.createElement("input",{className:"signup-modal__input",name:"password",onBlur:function(e){return n.props.onSignupPasswordBlurred(e.currentTarget.value)},placeholder:"Minimum 7 Chars",type:"password"})),e.createElement("div",{className:"signup-modal__input-wrapper"},n.props.signupConfirmPasswordError&&e.createElement("div",{className:"signup-modal__input-error"},n.props.signupConfirmPasswordError),e.createElement("label",{className:"signup-modal__input-label"},"Confirm Password"),e.createElement("input",{className:"signup-modal__input",name:"confirmpassword",onBlur:function(e){return n.props.onSignupConfirmPasswordBlurred(e.currentTarget.value)},placeholder:"Re-enter Password",type:"password"})),e.createElement("div",{className:"signup-modal__form-spacer"}),e.createElement("div",{className:"signup-modal__checkbox"},e.createElement("span",{className:"signup-modal__checkbox-wrapper"},e.createElement(c.Checkbox,{formInputName:"subscribetonewsletter",isChecked:n.props.subscribeToNewsletter,isEditable:!0,onChange:function(e){return n.props.onSubscribeToNewsletterChanged(e)},text:""})),"Email me news and updates"),e.createElement("div",{className:"signup-modal__checkbox"},e.createElement("span",{className:"signup-modal__checkbox-wrapper"},e.createElement(c.Checkbox,{isChecked:n.props.hasAcceptedTerms,isEditable:!0,onChange:function(e){return n.props.onHasAcceptedTermsChanged(e,!0)},text:""})),"By clicking this checkbox, you confirm that you accept our",e.createElement("a",{className:"signup-modal__link",href:"/terms"},"Terms of Service"),"and",e.createElement("a",{className:"signup-modal__link",href:"/about/privacy"},"Privacy Policy"),"."),e.createElement("div",{className:"signup-modal__form-spacer"}),n.renderLoginErrors(),e.createElement("a",{className:u("signup-modal__signup-button",n.props.allowSubmit()?null:"signup-modal__signup-button--disabled"),onClick:function(){return n.props.allowSubmit()?a("#signup-form").submit():{}}},"Get Started")))},n.renderAlmostThereModal=function(){return e.createElement("div",{className:"almost-there-modal"},e.createElement("div",{className:"almost-there-modal__header"},e.createElement("a",{className:"almost-there-modal__close-button fa fa-times-circle",onClick:function(){return n.props.closeAllModals()}}),e.createElement("div",{className:"almost-there-modal__header-title"},"Welcome to Kaggle"),"Looks like you're logging into Kaggle for the first time.",e.createElement("br",null),"If you already have an account, log in to it and link your",e.createElement("br",null),"account to this social service via your profile page."),e.createElement("div",{className:"almost-there-modal__title"},"Almost There..."),e.createElement("form",{action:"/account/register/almost?isModal=true",className:"almost-there-modal__form",id:"almost-there-form",method:"POST"},e.createElement("input",{name:"token",type:"hidden",value:n.props.token}),e.createElement("div",{className:"almost-there-modal__input-wrapper"},n.props.signupUsernameError&&e.createElement("div",{className:"almost-there-modal__input-error"},n.props.signupUsernameError),e.createElement("label",{className:"almost-there-modal__input-label"},"Username"),e.createElement("input",{className:"almost-there-modal__input",name:"username",onBlur:function(){return n.props.onSignupUsernameBlurred()},onChange:function(e){return n.props.onSignupUsernameChanged(e.currentTarget.value)},placeholder:"Used for login and your profile URL",type:"text"})),"Your profile URL will be kaggle.com/",n.props.signupUsername,e.createElement("div",{className:"almost-there-modal__form-spacer"}),e.createElement("div",{className:"almost-there-modal__input-wrapper"},e.createElement("label",{className:"almost-there-modal__input-label"},"Display Name"),e.createElement("input",{className:"almost-there-modal__input",name:"displayname",placeholder:"John Doe",type:"text"})),"Shown on your public profile, leaderboards, etc.",e.createElement("br",null),"Full name recommended.",e.createElement("div",{className:"almost-there-modal__form-spacer"}),e.createElement("div",{className:"almost-there-modal__checkbox"},e.createElement("span",{className:"almost-there-modal__checkbox-wrapper"},e.createElement(c.Checkbox,{formInputName:"subscribetonewsletter",isChecked:n.props.subscribeToNewsletter,isEditable:!0,onChange:function(e){return n.props.onSubscribeToNewsletterChanged(e)},text:""})),"Email me news and updates"),e.createElement("div",{className:"almost-there-modal__checkbox"},e.createElement("span",{className:"almost-there-modal__checkbox-wrapper"},e.createElement(c.Checkbox,{isChecked:n.props.hasAcceptedTerms,isEditable:!0,onChange:function(e){return n.props.onHasAcceptedTermsChanged(e,!1)},text:""})),"By clicking this checkbox, you confirm that you accept our",e.createElement("a",{className:"almost-there-modal__link",href:"/terms"},"Terms of Service"),"and",e.createElement("a",{className:"almost-there-modal__link",href:"/about/privacy"},"Privacy Policy"),"."),e.createElement("div",{className:"almost-there-modal__form-spacer"}),n.renderLoginErrors(),e.createElement("a",{className:u("almost-there-modal__signup-button",n.props.allowSubmit()?null:"almost-there-modal__signup-button--disabled"),onClick:function(){return n.props.allowSubmit()?n.onSignup():{}}},"Get Started")))},n.onSignup=function(){goog_report_conversion&&goog_report_conversion(),a("#almost-there-form").submit()},n.renderEmailVerificationModal=function(){return e.createElement("div",{className:"email-verification-modal"},e.createElement("div",{className:"email-verification-modal__header"},e.createElement("a",{className:"email-verification-modal__close-button fa fa-times-circle",onClick:function(){return n.props.closeAllModals()}}),e.createElement("div",{className:"email-verification-modal__header-title"},"Verification Email Sent"),"Please check your email for a confirmation request.",e.createElement("br",null),"Once you click that link, your registration will be",e.createElement("br",null),"complete."),e.createElement("a",{className:"email-verification-modal__resend-email-button",onClick:function(){return n.props.resendVerificationEmail()}},"Resend Email"))},n}return i.__extends(n,t),n.prototype.render=function(){var t=this.props.shouldShowMobileHeader?this.renderMobileHeader:this.renderDesktopHeader;return e.createElement("div",{className:"site-header-react"},t())},n}(e.Component);t.SiteHeader=p}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(3),r=n(1569),o=function(t){function n(e){var n=t.call(this,e)||this;return n.handleChange=function(e){if(n.qTextBox=e,""===n.qTextBox.trim())return n.setState({isSearching:!1}),void n.handleClose();n.timer&&clearInterval(n.timer),n.timer=window.setTimeout(function(){return n.executeSearch(n.qTextBox)},200)},n.handleClose=function(){n.state.isClosed||(n.setState({isClosed:!0}),n.logSearchAction())},n.handleSearch=function(){n.executeSearch(n.qTextBox)},n.executeSearch=function(e){if(n.setState({isSearching:!0}),n.timer&&clearInterval(n.timer),!n.qTextBox||!n.qTextBox.trim())return void n.setState({isSearching:!1});i.ajax({url:"/search/quick/"+n.props.index,type:"POST",data:{q:e}}).done(function(t){n.qTextBox===e&&(n.qResults=e,n.setState({isClosed:!1,isSearching:!1,response:t}))})},n.handleClickResult=function(e,t,a){n.logSearchAction(e,t,a)},n.handleSelectionMove=function(e){if(n.state.response&&0!=n.state.response.results.length){var t=(null!=n.state.selectedItemIndex?n.state.selectedItemIndex:e<0?n.state.response.results.length:-1)+e;t<0&&(t=n.state.response.results.length-1),t>n.state.response.results.length-1&&(t=0),n.setState({selectedItemIndex:t})}},n.handleIndexSelection=function(e){n.setState({selectedItemIndex:e})},n.state={isClosed:!0},n}return a.__extends(n,t),n.prototype.logSearchAction=function(e,t,n){this.qResults&&i.ajax({url:"/search/log",type:"POST",data:{index:this.props.index,isQuick:!0,q:this.qResults,isSuccess:null!=e&&null!=t,rank:n,id:e,url:t}})},n.prototype.render=function(){var t={className:this.props.className,onChange:this.handleChange,placeholder:this.props.placeholder,response:this.state.response,onClose:this.handleClose,isClosed:this.state.isClosed,isOnMobileMenu:this.props.isOnMobileMenu,onClickResult:this.handleClickResult,rightJustifyResults:this.props.rightJustifyResults,isSiteSearch:"global"==this.props.index,selectedItemIndex:this.state.selectedItemIndex,onSelectionMove:this.handleSelectionMove,onIndexSelection:this.handleIndexSelection,onSearch:this.handleSearch,suppressAutoFocus:this.props.suppressAutoFocus};return e.createElement(r.QuickSearch,i.extend({},this.state,t))},n}(e.Component);t.QuickSearchContainer=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleKeyDown=function(t){if(27==t.keyCode&&e.props.onClose(),38==t.keyCode&&e.props.onSelectionMove(-1),40==t.keyCode&&e.props.onSelectionMove(1),13==t.keyCode){var n=document.getElementById("search-result-"+e.props.selectedItemIndex);n&&n.click()}},e.handleMouseUp=function(t){var n=a(".quick-search");n.is(t.target)||0!==n.has(t.target).length||e.props.onClose()},e.handleChange=function(t){e.props.onChange(t.target.value)},e.handleMouseOver=function(t){e.props.onIndexSelection(t)},e.handleClickResult=function(t,n){e.props.onIndexSelection(n);var a=e.props.response.results[n];e.props.onClickResult(a.key,a.url,a.rank)},e}return i.__extends(n,t),n.prototype.componentDidMount=function(){a(document.body).on("keydown",this.handleKeyDown),a(document.body).on("mouseup",this.handleMouseUp)},n.prototype.componentWillUnmount=function(){a(document.body).off("keydown",this.handleKeyDown),a(document.body).off("mouseup",this.handleMouseUp)},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"quick-search "+(this.props.isOnMobileMenu&&"quick-search--mobile-menu")+" "+(this.props.className||"")+" "+(!this.props.isClosed&&"quick-search--open")+" "+(this.props.isSearching&&"quick-search--searching")},e.createElement("div",{className:"quick-search__search-box-container"},e.createElement("input",{className:"quick-search__search-box",type:"text",placeholder:this.props.placeholder||"Search",onChange:this.handleChange,tabIndex:this.props.isSiteSearch?1:null,autoFocus:this.props.isSiteSearch&&!this.props.suppressAutoFocus}),e.createElement("div",{className:"quick-search__button",onClick:function(){return t.props.onSearch()}},e.createElement("i",{className:"fa "+(this.props.isSearching?"fa-circle-o-notch fa-spin":"fa-search")}))),this.props.isClosed?null:e.createElement("div",{className:"quick-search__results "+(this.props.rightJustifyResults?"quick-search__results--right":"")},this.props.response&&this.props.response.results&&this.props.response.results.length>0?this.props.response.results.map(function(n,a){return e.createElement("a",{id:"search-result-"+a,className:"quick-search__result "+(t.props.selectedItemIndex==a?"quick-search__result--selected":""),href:n.url,key:n.key,onClick:function(e){return t.handleClickResult(e,a)},onMouseOver:function(){return t.handleMouseOver(a)}},e.createElement("img",{className:"quick-search__result-thumbnail",src:n.thumbnailImageUrl}),e.createElement("div",{className:"quick-search__result-content"},e.createElement("div",{className:"quick-search__result-title"},n.title),e.createElement("div",{className:"quick-search__result-overview"},t.props.isSiteSearch?e.createElement("span",{className:"quick-search__result-type"},n.documentType):null,t.props.isSiteSearch&&n.subtitle?e.createElement("span",null," - "):null,n.subtitle?e.createElement("span",null,n.subtitle):null)))}):e.createElement("div",{className:"quick-search__not-found"},"We couldn't find anything matching your search."),e.createElement("div",{className:"quick-search__tip"},"Tip: narrow your results by adding ",e.createElement("pre",null,"in:")," followed by the content type or tag:",e.createElement("pre",null,"in:kernels")," ",e.createElement("pre",null,"in:datasets")," ",e.createElement("pre",null,"in:topics")," ",e.createElement("pre",null,"in:comments")," ",e.createElement("pre",null,"in:users")," ",e.createElement("pre",null,"in:jobs")," ",e.createElement("pre",null,"tag:'artificial intelligence'"))))},n}(e.Component);t.QuickSearch=r}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(3),o=n(73),s=n(1571),l=n(21),c=n(4),u=e.Users,p=function(e){function t(t){var n=e.call(this,t)||this;n.resizeListener=function(){return n.setState(n.getMenuLinks(n.state.isEditingHeader))},n.validationRules=[{isValid:function(){return!(!n.state.displayName||!n.state.displayName.trim())},id:"profile-no-display-name",message:function(){return"Please enter a display name."}},{isValid:function(){return!(n.state.displayName&&(n.state.displayName.trim().length<2||n.state.displayName.trim().length>50))},id:"profile-display-name-length",message:function(){return"Your display name must be between 2 and 50 characters in length."}},{isValid:function(){return!n.state.websiteUrl||c.isValidUrl(n.state.websiteUrl)},id:"profile-website-format",message:function(){return"Please enter a valid website URL."}},{isValid:function(){return!n.state.linkedInUrl||c.isValidUrl(n.state.linkedInUrl)},id:"profile-linkedin-format",message:function(){return"Please enter a valid LinkedIn URL."}}],n.onWindowPopState=function(e){e.state&&e.state.profileTabState&&n.setState(e.state.profileTabState)},n.onProfileTabChanged=function(e){l.PageMessages.clear(),n.checkHiddenTabMessage(e),n.setState({activePane:e,activeTab:e},function(){return n.updateUrlForTab(e)})},n.onFollowUser=function(){u.followUser({userName:n.props.userName},null).then(function(e){if("error"===e.status)return l.PageMessages.clear(),void l.PageMessages.error({htmlMessage:e.message});n.addSelfToFollowerList()})},n.onUnfollowUser=function(){u.unfollowUser({userName:n.props.userName},null).then(function(e){if("error"===e.status)return l.PageMessages.clear(),void l.PageMessages.error({htmlMessage:e.message});n.removeSelfFromFollowerList()})},n.replaceUrlForTab=function(e){var t=window.history.state||{},a=n.props.userUrl;"home"!=e.toLowerCase()&&(a+="/"+e.toLowerCase()),history.replaceState(t,"",a)},n.updateUrlForTab=function(e){var t={};t.profileTabState={activePane:e,activeTab:e};var a=n.props.userUrl;"home"!=e.toLowerCase()&&(a+="/"+e.toLowerCase()),history.pushState(t,"",a)},n.onProfilePropChanged=function(e,t){var a={};a[e]=t,n.setState(a)},n.onProfileEditingStateCancelled=function(e,t){var a={},i={};a["isEditing"+e]=!1;for(var o=0,s=t;o<s.length;o++){var c=s[o];i[c]=n.props[c]}n.setState(r.extend({},a,i,n.getMenuLinks(!1)),function(){l.PageMessages.clear()})},n.onProfileEditingStateChanged=function(e){var t=n.state["isEditing"+e],a=n.getMenuLinks(!t);if(a["isEditing"+e]=!t,!t)return void n.setState(a);var i=n.getValidationPageMessages();l.PageMessages.clear(),l.PageMessages.add(i),i.length>0||n.setState(a,function(){var e={displayName:n.state.displayName,country:n.state.country,region:n.state.region,city:n.state.city,gitHubUserName:n.state.gitHubUserName,linkedInUrl:n.state.linkedInUrl,twitterUserName:n.state.twitterUserName,userAvatarUrl:n.state.userAvatarUrl,occupation:n.state.occupation,organization:n.state.organization,websiteUrl:n.state.websiteUrl};r.ajax({context:n,url:n.props.userUrl+".json",type:"PUT",contentType:"application/json",data:JSON.stringify(e),success:function(e){if("error"==e.status)return void l.PageMessages.error({htmlMessage:e.message});n.setState({twitterUserName:e.twitterUserName,gitHubUserName:e.gitHubUserName}),l.PageMessages.success("Changes to your profile have been saved.")},error:function(e){l.PageMessages.error({htmlMessage:'There was a problem saving your profile changes. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'})}})})},n.onUpdateProfileImage=function(e,t){return e.append("userId",n.props.userId.toString()),e.append("imageLeft",t[0].left),e.append("imageTop",t[0].top),e.append("imageWidth",t[0].width),e.append("imageHeight",t[0].height),r.ajax({context:n,url:n.props.userUrl+"/image.json",type:"POST",dataType:"json",contentType:!1,processData:!1,data:e,success:function(e){r("body").css({overflow:"visible"}),r("html").css("overflow","visible"),n.setState({isEditingHeader:!1,userAvatarUrl:n.props.userAvatarUrl+"?r="+(new Date).getMilliseconds()}),l.PageMessages.success("Your profile image has been updated.")}})};var a,i=n.props.canEdit,o=n.props.competitionsSummary.totalResults,s=n.props.scriptsSummary.totalResults,p=n.props.discussionsSummary.totalResults,d=n.props.totalDatasets,m=n.props.totalOrganizations,h=n.props.followers.count,g=n.props.following.count;switch(n.props.activePane.toLowerCase()){case"competitions":a=i||o>0?"competitions":"home";break;case"kernels":a=i||s>0?"kernels":"home";break;case"discussion":a=i||p>0?"discussion":"home";break;case"datasets":a=i||d>0?"datasets":"home";break;case"organizations":a=i||m>0?"organizations":"home";break;case"account":a=i?"account":"home";break;case"followers":a=i||h+g>0?"followers":"home";break;case"following":a=i||h+g>0?"following":"home";break;default:a="home"}return n.state=r.extend({},n.props,{activePane:a,activeTab:a,isEditingHeader:!1},n.getMenuLinks(!1)),n.replaceUrlForTab(a),n}return i.__extends(t,e),t.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1),window.removeEventListener("resize",this.resizeListener)},t.prototype.componentDidMount=function(){if(window.addEventListener("popstate",this.onWindowPopState,!1),window.addEventListener("resize",this.resizeListener),this.checkHiddenTabMessage(this.state.activePane),24266===this.props.userId){this.setState({pageMessages:[{type:"info",id:"tribute",htmlMessage:'In memory of Lucas, <a href="/forums/f/15/kaggle-forum/t/20388/data-scientist-hero/116473#post116473">a data scientist hero</a>'}]})}},t.prototype.buildLink=function(e,t){return void 0===t&&(t=null),{count:null==t?null:o.numberWithCommas(t),href:"Home"==e?this.props.userUrl:this.props.userUrl+"/"+e.toLowerCase(),title:e,text:e,tab:e}},t.prototype.getMenuLinks=function(e){var t=document.body.clientWidth,n=this.props.canEdit,a=this.props.competitionsSummary.totalResults,i=this.props.scriptsSummary.totalResults,r=this.props.discussionsSummary.totalResults,o=this.props.totalDatasets,s=this.props.totalOrganizations,l=this.props.followers.count,u=this.props.following.count,p=n?e?190:this.props.isAdmin&&this.props.userId!==c.Current.userId?230:121:136,d=Math.min(t,950)-p,m=c.Current.isAdmin||c.Current.userId===this.props.userId,h=this.buildLink("Followers",l);m||0!==l||(h.text="Following",h.count=u);for(var g=[{link:this.buildLink("Home"),shouldShow:!0,width:72},{link:this.buildLink("Competitions",a),shouldShow:n||a>0,width:164},{link:this.buildLink("Kernels",i),shouldShow:n||i>0,width:122},{link:this.buildLink("Discussion",r),shouldShow:n||r>0,width:145},{link:this.buildLink("Datasets",o),shouldShow:(n||o>0)&&this.props.canCreateDatasets,width:130},{link:this.buildLink("Organizations",s),shouldShow:n||s>0,width:166},{link:h,shouldShow:this.props.canSeeFollowers&&(n||l+u>0),width:130},{link:this.buildLink("Account"),shouldShow:n||e,width:90}],f=[],v=[],_=0,b=g;_<b.length;_++){var E=b[_];E.shouldShow&&(E.width<d?(f.push(E.link),d-=E.width):(d<67&&v.push(f.pop()),v.push(E.link),d=67))}return{menuLinks:f,overflowMenuLinks:v}},t.prototype.getValidationPageMessages=function(e){var t=[];return this.validationRules.forEach(function(n){var a=t.filter(function(e){return e.id==n.id}).length>0;(n.isValid()&&a||!n.isValid()&&a&&!e)&&(t=t.filter(function(e){return e.id!=n.id})),n.isValid()||e||t.push({type:"error",id:n.id,message:n.message()})}),t},t.prototype.addSelfToFollowerList=function(){var e={displayName:r("<textarea/>").html(c.Current.userDisplayName).text(),userId:c.Current.userId,userName:c.Current.userName,thumbnailUrl:c.Current.userThumbnailUrl,userUrl:c.Current.userProfileUrl,tier:c.Current.tier},t=i.__assign({},this.state.followers);t.containsSelf=!0,t.count++,t.list.push(e);var n=i.__assign({followers:t},this.getMenuLinks(!1));n.menuLinks.map(function(e){"Followers"==e.title&&(e.count=t.count.toString())}),this.setState(n),l.PageMessages.clear(),l.PageMessages.success({htmlMessage:"You are now following "+this.props.displayName})},t.prototype.removeSelfFromFollowerList=function(){for(var e=i.__assign({},this.state.followers),t=-1,n=(c.Current.userId,0);n<e.list.length;n++)if(e.list[n].userId==c.Current.userId){t=n;break}if(t>=0){e.containsSelf=!1,e.count--,e.list.splice(t,1);var a=i.__assign({followers:e},this.getMenuLinks(!1));a.menuLinks.map(function(t){"Followers"==t.title&&(t.count=e.count.toString())}),this.setState(a),l.PageMessages.clear(),l.PageMessages.success({htmlMessage:"You are no longer following "+this.props.displayName})}},t.prototype.checkHiddenTabMessage=function(e){switch(e.toLowerCase()){case"competitions":this.showHiddenTabMessageIfNeeded("participate in a competition",this.props.competitionsSummary.totalResults);break;case"kernels":this.showHiddenTabMessageIfNeeded("create a kernel",this.props.scriptsSummary.totalResults);break;case"discussion":this.showHiddenTabMessageIfNeeded("participate in a discussion",this.props.discussionsSummary.totalResults);break;case"datasets":this.showHiddenTabMessageIfNeeded("create a dataset",this.props.totalDatasets);break;case"organizations":this.showHiddenTabMessageIfNeeded("join an organization",this.props.totalOrganizations)}},t.prototype.showHiddenTabMessageIfNeeded=function(e,t){this.props.canEdit&&0===t&&l.PageMessages.info("This tab is hidden from other users until you "+e+".")},t.prototype.render=function(){var e={onProfilePropChanged:this.onProfilePropChanged,onProfileEditingStateChanged:this.onProfileEditingStateChanged,onProfileEditingStateCancelled:this.onProfileEditingStateCancelled,onProfileTabChanged:this.onProfileTabChanged,replaceUrlForTab:this.replaceUrlForTab,onUpdateProfileImage:this.onUpdateProfileImage,onFollowUser:this.onFollowUser,onUnfollowUser:this.onUnfollowUser,userAvatarUrl:this.state.userAvatarUrl||this.props.userAvatarUrl};return a.createElement(s.Profile,r.extend({},this.state,e))},t}(a.Component);t.ProfileContainer=p}).call(t,n(23),n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(51),r=n(1572),o=n(1573),s=n(1574),l=n(1575),c=n(1576),u=n(1577),p=n(678),d=n(1580),m=n(4),h=n(155),g=n(691),f=n(297),v=n(69),_=n(37),b=n(9),E=n(690),y=function(t){function n(e){var n=t.call(this,e)||this;return n.onCityChanged=function(e,t,a){n.props.onProfilePropChanged("city",e),n.props.onProfilePropChanged("region",t),n.props.onProfilePropChanged("country",a)},n.onUpdateImages=function(e,t){return n.props.onUpdateProfileImage(e,t).then(function(e){return n.setState({isEditingImage:!1})})},n.onOpenImageUploader=function(){n.setState({isEditingImage:!0})},n.onCloseImageUploader=function(){n.setState({isEditingImage:!1})},n.onEditProfileClicked=function(){n.props.onProfileEditingStateChanged("Header"),n.props.onProfileTabChanged("account")},n.state={isEditingImage:!1},n}return a.__extends(n,t),n.prototype.getOverallTierName=function(){return"staff"===this.props.performanceTier?"Kaggle Team":this.props.performanceTierCategory+" "+this.props.performanceTier},n.prototype.getCityDescription=function(){var e=g.getCountryNameByCode(this.props.country)||this.props.country;return[this.props.city,this.props.region,e].filter(Boolean).join(", ")},n.prototype.renderDisplayName=function(){var t=this;return this.props.isEditingHeader&&this.props.canEdit?e.createElement(m.InlineTextEditor,{className:"profile__display-name--input",value:this.props.displayName,placeholder:"Enter your display name",onChangeCallback:function(e){return t.props.onProfilePropChanged("displayName",e)}}):e.createElement("span",null,e.createElement("span",{className:"profile__head-display-name"},this.props.displayName),this.props.genieUrl?e.createElement("a",{href:this.props.genieUrl,className:"profile__genie-link"},"Genie!"):null,m.Current.isAdmin?e.createElement("a",{className:"profile__genie-link",onClick:this.onEditProfileClicked},"Edit Profile"):null)},n.prototype.renderPrimaryCallToAction=function(){return this.props.isEditingHeader?this.renderSaveCallToAction():this.props.userId===m.Current.userId?this.renderEditCallToAction():this.props.canSeeFollowers?this.renderFollowCallToAction():this.renderContactCallToAction(!0)},n.prototype.renderSecondaryCallToAction=function(){return this.props.isEditingHeader?this.renderCancelCallToAction():this.props.userId===m.Current.userId?null:this.props.canSeeFollowers?this.renderContactCallToAction(!1):null},n.prototype.renderEditCallToAction=function(){return e.createElement("a",{className:"pageheader__calltoaction",title:"Edit Profile",onClick:this.onEditProfileClicked},"Edit Profile")},n.prototype.renderSaveCallToAction=function(){var t=this;return e.createElement("a",{className:"pageheader__calltoaction pageheader__calltoaction--active",title:"Save Profile",onClick:function(){return t.props.onProfileEditingStateChanged("Header")}},"Save Profile")},n.prototype.renderCancelCallToAction=function(){var t=this;return e.createElement("a",{className:"profile__editing-cancel",title:"Cancel",onClick:function(){return t.props.onProfileEditingStateCancelled("Header",["displayName","gitHubUserName","linkedInUrl","twitterUserName","userAvatarUrl","country","region","city","occupation","organization","websiteUrl"])}},"cancel")},n.prototype.renderContactCallToAction=function(t){var n=this;return e.createElement("a",{className:t?"pageheader__calltoaction":"profile__contact-user-link",title:"Contact User",onClick:m.Current.isAnonymous?null:function(){return n.props.onProfileTabChanged("contact")},href:m.Current.isAnonymous?"account/login?returnUrl="+encodeURIComponent(this.props.userName+"/contact"):null},"Contact User")},n.prototype.renderFollowCallToAction=function(){var t=this;return this.props.followers.containsSelf?e.createElement("a",{className:"pageheader__calltoaction pageheader__calltoaction--warning",title:"Unfollow User",onClick:function(){return t.props.onUnfollowUser()}},"Unfollow User"):e.createElement("a",{className:"pageheader__calltoaction",title:"Follow User",onClick:m.Current.isAnonymous?null:function(){return t.props.onFollowUser()},href:m.Current.isAnonymous?"account/login?returnUrl="+encodeURIComponent(this.props.userName+"/followers"):null},"Follow User")},n.prototype.renderAvatarOverlay=function(){var t=e.createElement(f.ImageUploader,{title:"Upload Your Profile Image",imageSettings:[new f.ImageSetting("profile image","Select an area of the image to use for your profile",new f.Size(200,200),new f.Rectangle(new f.Point(0,0),new f.Size(0,0)))],originalImageUrl:null,containerSize:new f.Size(500,300),selectorBorderWidth:1,onCancel:this.onCloseImageUploader,onUpdateImages:this.onUpdateImages,hiResScale:2}),n=e.createElement(v.Modal,{buttonClassName:"pageheader__imageuploaderbutton",modalClassName:"pageheader__imageuploadermodal",modalContent:t,modalIsShown:this.state.isEditingImage,onShow:this.onOpenImageUploader,onClose:this.onCloseImageUploader});return e.createElement("div",{className:"profile__avatar-overlay"},n,e.createElement("p",{className:"profile__avatar-text",onClick:this.onOpenImageUploader},"Change your Profile Photo"))},n.prototype.renderUserSocialLinks=function(){var t=this;return this.props.isEditingHeader?e.createElement("ul",{className:"profile__social-links--editing"},e.createElement("li",{className:"profile__social-link--editing"},e.createElement("span",{className:"fa fa-github"}),e.createElement(m.InlineTextEditor,{className:"profile__social-link--input",value:this.props.gitHubUserName,placeholder:"GitHub Username",onChangeCallback:function(e){return t.props.onProfilePropChanged("gitHubUserName",e)}})),e.createElement("li",{className:"profile__social-link--editing"},e.createElement("span",{className:"fa fa-twitter"}),e.createElement(m.InlineTextEditor,{className:"profile__social-link--input",value:this.props.twitterUserName,placeholder:"Twitter Username",onChangeCallback:function(e){return t.props.onProfilePropChanged("twitterUserName",e)}})),e.createElement("li",{className:"profile__social-link--editing"},e.createElement("span",{className:"fa fa-linkedin"}),e.createElement(m.InlineTextEditor,{className:"profile__social-link--input",value:this.props.linkedInUrl,placeholder:"LinkedIn URL",onChangeCallback:function(e){return t.props.onProfilePropChanged("linkedInUrl",e)}})),e.createElement("li",{className:"profile__social-link--editing"},e.createElement("span",{className:"fa fa-globe"}),e.createElement(m.InlineTextEditor,{className:"profile__social-link--input",value:this.props.websiteUrl,placeholder:"Website URL",onChangeCallback:function(e){return t.props.onProfilePropChanged("websiteUrl",e)}}))):e.createElement("ul",{className:"profile__social-links"},this.props.gitHubUserName&&this.props.gitHubUserName.length?e.createElement("li",{className:"profile__social-link"},e.createElement("a",{href:"https://github.com/"+this.props.gitHubUserName,rel:"nofollow"},e.createElement("span",{className:"fa fa-github"}))):null,this.props.twitterUserName&&this.props.twitterUserName.length?e.createElement("li",{className:"profile__social-link"},e.createElement("a",{href:"https://twitter.com/"+this.props.twitterUserName,rel:"nofollow"},e.createElement("span",{className:"fa fa-twitter"}))):null,this.props.linkedInUrl&&this.props.linkedInUrl.length?e.createElement("li",{className:"profile__social-link"},e.createElement("a",{href:this.props.linkedInUrl,rel:"nofollow"},e.createElement("span",{className:"fa fa-linkedin"}))):null,this.props.websiteUrl&&this.props.websiteUrl.length?e.createElement("li",{className:"profile__social-link"},e.createElement("a",{href:this.props.websiteUrl,className:"profile__social-link--url",rel:"nofollow"},this.props.websiteUrl)):null)},n.prototype.renderDatasetsPane=function(){var t=e.createElement(p.DatasetListReact,{banner:null,canCreateNewDataset:!1,userId:this.props.userId});return this.props.totalDatasets>0||!this.props.canSeeCallToAction||this.props.userId!==m.Current.userId?t:e.createElement("div",null,e.createElement(b.ContentBox,null,e.createElement("div",{className:"profile__user-action-callout"},e.createElement("h4",null,"A data scientist with no data? No such thing!"),e.createElement("p",null,"Publish any dataset on Kaggles ",e.createElement("a",{href:"https://www.kaggle.com/datasets"},"open data platform"),", and your collection will grow here."),e.createElement("p",null,"Find other data enthusiasts with shared interests to discuss and collaborate for work or play."),e.createElement("div",{className:"profile__user-action-callout-button"},e.createElement(_.Button,{text:"New Dataset",href:"https://www.kaggle.com/datasets/new"})))),t)},n.prototype.renderActivePane=function(){var t=this.props,n=(t.onProfilePropChanged,t.onProfileEditingStateCancelled,t.onProfileEditingStateChanged,t.updatePageMessages,t.onProfileTabChanged,t.replaceUrlForTab,t.onUpdateProfileImage,t.onFollowUser,t.onUnfollowUser,t.userTier,t.activeTab,t.isEditingHeader,t.menuLinks,t.overflowMenuLinks,a.__rest(t,["onProfilePropChanged","onProfileEditingStateCancelled","onProfileEditingStateChanged","updatePageMessages","onProfileTabChanged","replaceUrlForTab","onUpdateProfileImage","onFollowUser","onUnfollowUser","userTier","activeTab","isEditingHeader","menuLinks","overflowMenuLinks"])),i=this.props.activePane.toLowerCase();switch(i){case"home":return e.createElement(d.HomeContainer,a.__assign({},n,{onProfileTabChanged:this.props.onProfileTabChanged}));case"competitions":return e.createElement(r.Competition,a.__assign({},n));case"kernels":return e.createElement(l.Scripts,a.__assign({},n));case"discussion":return e.createElement(o.Discussion,a.__assign({},n));case"contact":return e.createElement(s.Contact,a.__assign({},n));case"datasets":return this.renderDatasetsPane();case"organizations":return e.createElement(c.Organizations,a.__assign({},n));case"followers":case"following":return this.props.canSeeFollowers?e.createElement(E.FollowersContainer,a.__assign({},n,{onProfileTabChanged:this.props.onProfileTabChanged,replaceUrlForTab:this.props.replaceUrlForTab,limitTo:300,largeComponent:!0,initiallyActiveTab:i})):null;case"account":return this.props.canEdit?e.createElement(u.AccountContainer,{userName:this.props.userName}):e.createElement(d.HomeContainer,a.__assign({},n));default:return null}},n.prototype.renderNav=function(){var t=this;return e.createElement(i.PageHeaderNav,{activeTab:this.props.activeTab,classNameModifier:"profile",menuLinks:this.props.menuLinks,overflowMenuLinks:this.props.overflowMenuLinks,changeActiveTab:function(e){return t.props.onProfileTabChanged(e)}})},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"profile"},e.createElement("div",{className:"profile__header--"+this.props.performanceTier},e.createElement(i.PageHeader,null,e.createElement(i.PageHeaderTopRow,{modifier:"profile",title:this.renderDisplayName(),subtitle:"",isEditingHeaderInfo:!1,titleUrl:null},e.createElement(i.PageHeaderThumbnail,{classNameElement:"avatar",classNameModifier:"profile",imageUrl:this.props.userAvatarUrl,thumbnailOverlay:this.props.isEditingHeader?this.renderAvatarOverlay():null,targetUrl:""}),this.props.isEditingHeader?null:e.createElement("div",null,e.createElement(m.MediaQuery,{minWidth:0,maxWidth:m.Breakpoints.mobileMax},e.createElement("p",{className:"profile__user-metadata"},"Joined ",e.createElement(m.TimeAgo,{time:this.props.userJoinDate}),e.createElement("br",null),"last seen ",e.createElement(m.TimeAgo,{time:this.props.userLastActive,maxGranularity:"day"}))),e.createElement(m.MediaQuery,{minWidth:m.Breakpoints.tabletMin},e.createElement("p",{className:"profile__user-metadata"},"Joined ",e.createElement(m.TimeAgo,{time:this.props.userJoinDate}),this.props.userLastActive?e.createElement("span",null,"  last seen ",e.createElement(m.TimeAgo,{time:this.props.userLastActive,maxGranularity:"day"})):null))),!this.props.isEditingHeader&&e.createElement(m.MediaQuery,{minWidth:m.Breakpoints.tabletMax},e.createElement("div",{className:"profile__user-followers"},this.props.canSeeFollowers&&this.props.followers.count>0?e.createElement("div",{className:"profile__user-followers-item",onClick:function(){return t.props.onProfileTabChanged("followers")}},e.createElement("span",{className:"profile__user-followers-header"},"Followers"),this.props.followers.count):null,this.props.canSeeFollowers&&this.props.following.count>0?e.createElement("div",{className:"profile__user-followers-item",onClick:function(){return t.props.onProfileTabChanged("following")}},e.createElement("span",{className:"profile__user-followers-header"},"Following"),this.props.following.count):null)),e.createElement(m.MediaQuery,{minWidth:m.Breakpoints.tabletMax},e.createElement("div",{className:"profile__user-spacer"})),e.createElement(m.MediaQuery,{minWidth:m.Breakpoints.tabletMax},e.createElement("div",{className:"profile__user-tier profile__user-tier--"+this.props.performanceTier},e.createElement("a",{href:"/progression",title:"Progression"},e.createElement("p",null,e.createElement("img",{src:"/static/images/tiers/"+this.props.performanceTier+"@192.png",height:"92px",width:"92px"})),e.createElement("p",null,this.getOverallTierName())))),this.props.isEditingHeader&&this.props.canEdit?e.createElement("div",null,e.createElement("div",{className:"profile__user-occupation-edit"},e.createElement(m.InlineTextEditor,{className:"profile__user-occupation--input",value:this.props.occupation,placeholder:"Occupation",onChangeCallback:function(e){return t.props.onProfilePropChanged("occupation",e)}}),"at",e.createElement(m.InlineTextEditor,{className:"profile__user-occupation--input",value:this.props.organization,placeholder:"Organization",onChangeCallback:function(e){return t.props.onProfilePropChanged("organization",e)}})),e.createElement("div",{className:"profile__country-select"},e.createElement(h.CityLookup,{city:this.props.city,region:this.props.region,country:this.props.country,onChange:this.onCityChanged}))):e.createElement("div",null,e.createElement(m.MediaQuery,{minWidth:m.Breakpoints.tabletMax},e.createElement("div",null,e.createElement("p",{className:"profile__user-occupation"},(this.props.occupation||"")+" "+(this.props.occupation&&this.props.organization?"at":"")+" "+(this.props.organization||"")),e.createElement("p",{className:"profile__user-location"},this.getCityDescription()))),e.createElement(m.MediaQuery,{minWidth:m.Breakpoints.mobileMax,maxWidth:m.Breakpoints.tabletMax},e.createElement("div",null,e.createElement("p",{className:"profile__user-location"},(this.props.occupation||"")+" "+(this.props.occupation&&this.props.organization?"at":"")+" "+(this.props.organization||""),this.props.occupation||this.props.organization?"  ":"",this.getCityDescription())))),this.renderUserSocialLinks()))),e.createElement("div",{className:"profile__wrapper"},e.createElement(i.PageHeaderBottomRow,{pageMessages:this.props.pageMessages},e.createElement(m.MediaQuery,{minWidth:0,maxWidth:m.Breakpoints.tabletMax},e.createElement(m.OverflowX,null,this.renderNav())),e.createElement(m.MediaQuery,{minWidth:m.Breakpoints.desktopMin},this.renderNav()),e.createElement(m.MediaQuery,{minWidth:m.Breakpoints.desktopMin},e.createElement("div",{className:"profile__cta-area"},this.renderSecondaryCallToAction(),this.renderPrimaryCallToAction())))),e.createElement("div",{className:"profile__wrapper"},this.renderActivePane()))},n}(e.Component);t.Profile=y}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(3),r=n(132),o=n(20),s=n(35),l=n(46),c=n(59),u=n(445),p=n(299),d=n(300),m=n(73),h=[{value:"best",label:"Best Results"},{value:"recent",label:"Most Recent"}],g=[{value:"completed",label:"Completed"},{value:"active",label:"Active"},{value:"tutorial",label:"Tutorial"}],f=function(t){function n(e){var n=t.call(this,e)||this;return n.state={competesWith:[]},n}return a.__extends(n,t),n.prototype.componentDidMount=function(){var e=this;i.get("/"+this.props.userName+"/competition-stats.json").done(function(t){return e.setState(t)})},n.prototype.isTeamCompetition=function(e){return e.teamMembers.length>1},n.prototype.hasCompetitionEnded=function(e){return new Date(e.endDate)<new Date},n.prototype.getListTitle=function(){return this.state.totalCompetitions?e.createElement("span",null,e.createElement(m.FormatNumber,{number:this.state.totalCompetitions})," competitions entered"):" "},n.prototype.renderTimeAgo=function(t){return this.hasCompetitionEnded(t)?e.createElement(o.TimeAgo,{time:t.endDate}):"In progress"},n.prototype.renderRankingDescription=function(t){var n=t.ranking;return 1===n?this.hasCompetitionEnded(t)?e.createElement("span",{className:"profile-competitions__list-item-ranking-desc-winner"},"Winner"):e.createElement("span",null,"1st place"):n<=10?e.createElement("span",null,"Top 10"):e.createElement("span",null,"Top ",Math.round(100*n/t.totalCompetitors),"%")},n.prototype.renderTeamDescription=function(t){return this.isTeamCompetition(t)?e.createElement("span",null,t.totalEntries," submissions with team",e.createElement("a",{href:t.teamUrl,className:"profile-competitions__team-link"},t.teamName)):e.createElement("span",null,t.totalEntries," entries as a solo competitor")},n.prototype.renderCompetitionListItem=function(t,n){return e.createElement(s.BlockLink,{key:n,href:t.competitionUrl},e.createElement("div",{className:"profile-competitions__list-item profile-competitions__list-item--"+(t.canQualifyTalent?"qualify":"no-qualify")},e.createElement("div",{className:"profile-competitions__list-item-thumbnail"},e.createElement("img",{src:t.thumbnailImageUrl,alt:t.competitionTitle})),e.createElement("div",{className:"profile-competitions__list-item-meta"},e.createElement("h2",{className:"profile-competitions__list-item-name"},e.createElement("a",{href:t.competitionUrl},t.competitionTitle)),e.createElement("div",{className:"profile-competitions__list-item-entries"},e.createElement("span",{className:"profile-competitions__list-item-entries--bold"},this.renderTimeAgo(t),"  Top ",Math.min(Math.ceil(t.ranking/t.totalCompetitors*100),100),"% ",t.canQualifyTalent?"":"  Competition Ineligible for Medals"),e.createElement("br",null),this.renderTeamDescription(t))),e.createElement("div",{className:"profile-competitions__list-item-team"},this.isTeamCompetition(t)?t.teamMembers.map(function(t,n){var i=(t.totalTeamCompetitions,a.__rest(t,["totalTeamCompetitions"]));return e.createElement(l.Avatar,a.__assign({tierMargin:0,key:n},i,{width:30}))}):null),e.createElement("div",{className:"profile-competitions__list-item-medal"},null!=t.medal?e.createElement("img",{src:"/static/images/medals/competitions/"+t.medal+"L@2x.png",title:t.medal}):e.createElement("div",{className:"profile-competitions__list-item-medal-spacer"}),e.createElement("div",{className:"profile-competitions__list-item-medal-rank-box"},e.createElement("div",{className:"profile-competitions__list-item-medal-rank"},e.createElement(d.FormatPlace,{number:t.ranking,superscript:!0})),e.createElement("div",{className:"profile-competitions__list-item-medal-teams"},"of ",t.totalCompetitors)))))},n.prototype.render=function(){return e.createElement("div",{className:"profile-competitions"},e.createElement(p.AchievementSummary,a.__assign({},this.props.competitionsSummary),e.createElement("div",{className:"achievement-summary__stats-wrapper"},e.createElement("div",null,e.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.competitionsSummary.tier},"Competitions: "),e.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalCompetitions)),e.createElement("div",null,e.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.competitionsSummary.tier},"Solo: "),e.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalSoloCompetitions," ",e.createElement("span",{className:"achievement-summary__stats-text--small"},this.state.totalSoloCompetitions?"("+Math.round(this.state.totalSoloCompetitions/this.state.totalCompetitions*100)+"%)":null," "))),e.createElement("div",null,e.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.competitionsSummary.tier},"Team: "),e.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalTeamCompetitions," ",e.createElement("span",{className:"achievement-summary__stats-text--small"},this.state.totalTeamCompetitions?"("+Math.round(this.state.totalTeamCompetitions/this.state.totalCompetitions*100)+"%)":null," "))))),e.createElement(u.NextTier,{currentTier:this.props.competitionsSummary.tier,area:"competitions",userId:this.props.userId,tierRequirements:this.props.tierRequirements}),e.createElement(r.SmartListContainer,{titleResolver:this.getListTitle.bind(this),pluralItemDescription:"competitions",sortOptions:h,groups:g,data:this.state,dataUrl:"/"+this.props.userName+"/competitions.json",dataPathToList:"competitions",itemRenderer:this.renderCompetitionListItem.bind(this),mobileSortUpperBound:c.Breakpoints.tabletMax}))},n}(e.Component);t.Competition=f}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(20),o=n(107),s=n(132),l=n(59),c=n(445),u=n(299),p=n(185),d=[{value:"mostVotes",label:"Most Votes"},{value:"latestPost",label:"Latest Post"}],m=[{value:"commentsAndTopics",label:"Comments and topics"},{value:"comments",label:"Comments"},{value:"topics",label:"Topics"},{separator:!0},{value:"upvoted",label:"Upvoted"}],h=function(t){function n(e){var n=t.call(this,e)||this;return n.state={},n}return i.__extends(n,t),n.prototype.componentDidMount=function(){var e=this;a.get("/"+this.props.userName+"/discussion.json").done(function(t){return e.setState(t)})},n.prototype.onDidUpdate=function(){a(".profile-discussion__list-item").each(function(e,t){var n=a(t);n.outerHeight()>398&&n.find(".profile-discussion__show-more").show(),n.find("img").one("load",function(){n.outerHeight()>398&&n.find(".profile-discussion__show-more").show()})})},n.prototype.onShowMoreClicked=function(e){var t=a(e.target);t.parents(".profile-discussion__list-item-section").css("max-height","none"),t.parents(".profile-discussion__show-more").remove()},n.prototype.getTitle=function(e,t){return null!=this.state.totalTopics&&t.data&&!t.isLoadingMoreData?(t.data.totalDiscussions||0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" "+t.values.group.replace(/([A-Z])/g," $1").toLowerCase():" "},n.prototype.renderTaglineLink=function(t){return e.createElement("a",{href:t.url},t.name)},n.prototype.renderTaglineLinkPost=function(t,n){return e.createElement("a",{href:t.url+"?forumMessageId="+n+"#post"+n},t.name)},n.prototype.renderTagline=function(t){switch(t.type){case"forumMessage":return e.createElement("div",null,e.createElement("div",{className:"profile-discussion__list-item-tagline-title"},this.renderTaglineLinkPost(t.forumTopic,t.id)),e.createElement("p",{className:"profile-discussion__list-item-tagline-meta"},"Comment ",e.createElement(r.TimeAgo,{time:t.postDate})," in ",this.renderTaglineLink(t.forum)));case"scriptComment":return e.createElement("div",null,e.createElement("div",{className:"profile-discussion__list-item-tagline-title"},this.renderTaglineLink(t.script)),e.createElement("p",{className:"profile-discussion__list-item-tagline-meta"},"Comment ",e.createElement(r.TimeAgo,{time:t.postDate})," on kernel"));case"forumTopic":return e.createElement("div",null,e.createElement("div",{className:"profile-discussion__list-item-tagline-title"},this.renderTaglineLink(t.forumTopic)),e.createElement("p",{className:"profile-discussion__list-item-tagline-meta"},"Topic ",e.createElement(r.TimeAgo,{time:t.postDate})," in ",this.renderTaglineLink(t.forum)));default:return null}},n.prototype.renderDiscussionListItem=function(t,n){return e.createElement("div",{key:t.id,className:"profile-discussion__list-item"},e.createElement("div",{className:"profile-discussion__list-item-icon"},e.createElement("i",{className:"fa "+("forumTopic"===t.type?"fa-file-text-o":"fa-comment-o")})),e.createElement("div",{className:"profile-discussion__list-item-main"},e.createElement("div",{className:"profile-discussion__list-item-top"},e.createElement("div",{className:"profile-discussion__list-item-tagline"},this.renderTagline(t)),e.createElement("div",{className:"profile-discussion__list-item-vote"},t.medal&&e.createElement("img",{src:"/static/images/medals/discussion/"+t.medal+"L@1x.png",title:t.medal,height:"25px",width:"25px"}),e.createElement(o.VoteButton,{canDownvote:t.vote.canDownvote,canUpvote:t.vote.canUpvote,compact:!0,hasAlreadyVotedDown:t.vote.hasAlreadyVotedDown,hasAlreadyVotedUp:t.vote.hasAlreadyVotedUp,totalVotes:t.totalScore,voteDownUrl:t.vote.voteDownUrl,voteUpUrl:t.vote.voteUpUrl,analyticsEventLabel:"discussion-list"}))),e.createElement("div",{className:"profile-discussion__list-item-section"},e.createElement("div",{className:"profile-discussion__list-item-body"},t.attachments.length&&t.attachments.length>1?e.createElement("div",{className:"profile-discussion__list-item-attachments"},t.attachments.map(function(t){return e.createElement("div",{className:"profile-discussion__list-item-attachment"},e.createElement("a",{href:t.downloadUrl},t.fileName)," (",t.fileSizeDescription,")")})):null,e.createElement("div",{className:"profile-discussion__show-more",onClick:this.onShowMoreClicked},e.createElement("div",null,""),e.createElement("p",null,"Read full comment",e.createElement("i",{className:"fa fa-chevron-down","aria-hidden":"true"}))),e.createElement("div",{className:"markdown-converter__text--rendered forum-message-content",dangerouslySetInnerHTML:{__html:t.message},ref:function(e){p.Render(t.message,e)}})))))},n.prototype.render=function(){return e.createElement("div",{className:"profile-discussion"},e.createElement(u.AchievementSummary,i.__assign({},this.props.discussionsSummary),e.createElement("div",{className:"achievement-summary__stats-wrapper"},e.createElement("div",null,e.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.discussionsSummary.tier},"Total Posts: "),e.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalDiscussions)),e.createElement("div",null,e.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.discussionsSummary.tier},"Comments: "),e.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalReplies)),e.createElement("div",null,e.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.discussionsSummary.tier},"Topics: "),e.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalDiscussions?this.state.totalDiscussions-this.state.totalReplies:null)),e.createElement("div",{className:"achievement-summary__stats-divider"}),e.createElement("div",null,e.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.discussionsSummary.tier},"Net Votes: "),e.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalUpvotes)),e.createElement("div",null,e.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.discussionsSummary.tier},"Votes/Post: "),e.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalUpvotes?Math.round(this.state.totalUpvotes/this.state.totalDiscussions*100)/100:null)))),e.createElement(c.NextTier,{currentTier:this.props.discussionsSummary.tier,area:"discussion",userId:this.props.userId,tierRequirements:this.props.tierRequirements}),e.createElement(s.SmartListContainer,{titleResolver:this.getTitle.bind(this),pluralItemDescription:"discussions",sortOptions:d,groups:m,data:this.state,dataUrl:"/"+this.props.userName+"/discussion.json",dataPathToList:"discussions",itemRenderer:this.renderDiscussionListItem.bind(this),onDidUpdate:this.onDidUpdate,mobileSortUpperBound:l.Breakpoints.tabletMax}))},n}(e.Component);t.Discussion=h}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(4),o=function(t){function n(e){var n=t.call(this,e)||this;return n.onSendEmail=function(){var e=a(n.refs.form).serializeArray();a.post(n.endpointUrl,e).then(function(e){r.PageMessages.clear(),e?(r.PageMessages.success("Your message has been sent"),n.setState({canSend:!1})):r.PageMessages.error("There was a problem sending your message")})},n.endpointUrl=n.props.userUrl+"/contact.json",n.state={hasLoaded:!1},n}return i.__extends(n,t),n.prototype.componentDidMount=function(){var e=this;a.get(this.endpointUrl).then(function(t){t.errorMessage&&r.PageMessages.error(t.errorMessage),t.infoMessage&&r.PageMessages.info(t.infoMessage),e.setState({hasLoaded:!0,canSend:t.canSend})})},n.prototype.render=function(){var t=this;return this.state.hasLoaded?e.createElement("div",{className:"profile-contact"},e.createElement(r.ContentBox,{title:"Contact User"},e.createElement("div",{className:"profile-contact__wrapper"},e.createElement("form",{ref:"form",disabled:!this.state.canSend},e.createElement("div",{className:"profile-contact__row"},e.createElement("label",{className:"profile-contact__row-label"},"To"),e.createElement("div",{className:"profile-contact__row-value"},this.props.displayName," ",e.createElement("span",{className:"profile-contact__confidential"},"<confidential> "))),e.createElement("div",{className:"profile-contact__row"},e.createElement("label",{className:"profile-contact__row-label"},"From"),e.createElement("div",{className:"profile-contact__row-value"},r.Current.userDisplayName," <",r.Current.userEmail,"> ")),e.createElement("div",{className:"profile-contact__row"},e.createElement("label",{className:"profile-contact__row-label"},"Subject"),e.createElement("div",{className:"profile-contact__row-value"},e.createElement("input",{type:"text",className:"profile-contact__subject",name:"subject",disabled:!this.state.canSend,autoFocus:!0}))),e.createElement("div",{className:"profile-contact__row"},e.createElement("textarea",{className:"profile-contact__body",name:"body",disabled:!this.state.canSend})),e.createElement("div",{className:"profile-contact__row"},e.createElement(r.Button,{text:"Send Email",onClick:this.onSendEmail,isDisabled:!this.state.canSend}),this.state.canSend?e.createElement("a",{className:"profile-contact__discard-link",onClick:function(){return t.props.onProfileTabChanged("home")}},"Discard"):null))))):null},n}(e.Component);t.Contact=o}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(3),r=n(9),o=n(299),s=n(213),l=n(445),c=n(8),u=function(t){function n(e){var n=t.call(this,e)||this;return n.state={},n}return a.__extends(n,t),n.prototype.componentDidMount=function(){var e=this;i.get("/"+this.props.userName+"/code.json").done(function(t){return e.setState(t)})},n.prototype.render=function(){var t=null;return this.props.canSeeCallToAction&&0===this.props.totalScripts&&this.props.userId===c.Current.userId&&(t=e.createElement(r.ContentBox,null,e.createElement("div",{className:"profile__user-action-callout"},e.createElement("h4",null,"In the words of your first math teacher, Show your work. "),e.createElement("p",null,"Any code you write and execute in ",e.createElement("a",{href:"https://www.kaggle.com/kernels"},"Kernels")," will be published here."),e.createElement("p",null,"A portfolio of models and dazzling visuals will attract collaborators, recruiters, and upvotes!")))),e.createElement("div",{className:"profile___scripts"},e.createElement(o.AchievementSummary,a.__assign({},this.props.scriptsSummary),e.createElement("div",{className:"achievement-summary__stats-wrapper"},e.createElement("div",null,e.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.scriptsSummary.tier},"Upvotes: "),e.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalUpvotes)),e.createElement("div",null,e.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.scriptsSummary.tier},"Forks: "),e.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalForks)))),e.createElement(l.NextTier,{currentTier:this.props.scriptsSummary.tier,area:"kernels",userId:this.props.userId,tierRequirements:this.props.tierRequirements}),t,e.createElement(s.ScriptList,{listTitle:"Kernels",banner:null,showFilters:!0,sourceBaseUrl:"/kernels/all/",userId:this.props.userId,languagesMetadataUrl:"/kernels/alllang",outputTypesMetadataUrl:"/kernels/allouttypes",loginAndReturnUrl:null,newNotebookUrl:null,newScriptUrl:null,showScriptProjectName:!0,showHiddenSelectionGroup:this.props.canEdit}))},n}(e.Component);t.Scripts=u}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(4),r=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderTitle=function(t){var a=n.props.totalOrganizations;return e.createElement("span",null,e.createElement(i.Pluralize,{count:a,word:"organization",formatNumber:!0})," joined")},n.renderOrganization=function(t){return e.createElement(i.OrganizationCard,a.__assign({},t,{key:t.url}))},n.renderFooter=function(t){return e.createElement("div",{className:"profile__organizations-footer"},e.createElement(i.Button,{href:"/organizations/new",text:"Create an organization"}))},n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(i.SmartListContainer,{titleResolver:this.renderTitle,dataUrl:this.props.userUrl+"/organizations.json",itemRenderer:this.renderOrganization,listFooterRenderer:this.renderFooter,pluralItemDescription:"organizations"})},n}(e.Component);t.Organizations=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(3),r=n(1578),o=n(21),s=function(t){function n(e){var n=t.call(this,e)||this;return n.state=n.getDefaultState(),n}return a.__extends(n,t),n.prototype.componentDidUpdate=function(e,t){this.state.editedEmailAddress!=t.editedEmailAddress&&this.checkAndWarnAboutChangedEmail()},n.prototype.checkAndWarnAboutChangedEmail=function(){this.state.editedEmailAddress&&(console.log("edited email changed."),o.PageMessages.warning("Your new email address needs to be confirmed via the link we sent to your new address before it takes effect."))},n.prototype.getDefaultState=function(){var e=this;return{onEditClick:this.onEditClick.bind(this),onSaveClick:this.onSaveClick.bind(this),onCancelClick:this.onCancelClick.bind(this),onUnlinkClick:this.onUnlinkClick.bind(this),onChangePasswordClick:this.onChangePasswordClick.bind(this),onCancelPasswordClick:this.onCancelPasswordClick.bind(this),onSavePasswordClick:this.onSavePasswordClick.bind(this),attributesForm:function(t){return e.attributesForm=t},changePasswordForm:function(t){return e.changePasswordForm=t},isEditing:!1,logins:[]}},n.prototype.getFormData=function(e){var t={};return i.each(i(e).serializeArray(),function(e,n){t[n.name]=n.value}),t},n.prototype.onChangePasswordClick=function(){this.setState({isShowingChangePassword:!0})},n.prototype.onCancelPasswordClick=function(){this.setState({isShowingChangePassword:!1})},n.prototype.onSavePasswordClick=function(){var e=this;i.ajax({url:"https://"+window.location.hostname+"/"+this.props.userName+"/password.json/",type:"PUT",data:this.getFormData(this.changePasswordForm)}).done(function(t){t.success?(e.setState({isShowingChangePassword:!1}),o.PageMessages.success("Your password has been changed.")):o.PageMessages.error("The current password is incorrect or the new password is invalid.")})},n.prototype.onEditClick=function(){this.setState({isEditing:!0,validation:[]})},n.prototype.onSaveClick=function(){var e=this;o.PageMessages.clear(),i.ajax({url:"/"+this.props.userName+"/account.json",type:"PUT",data:this.getFormData(this.attributesForm)}).done(function(t){e.setState(i.extend({isEditing:!1},t),function(){return e.checkAndWarnAboutChangedEmail()}),o.PageMessages.success("Your account settings have been changed.")}).fail(function(t){403===t.status?e.setState({validation:JSON.parse(t.responseText)}):o.PageMessages.error("An error has occurred. Please try again.")})},n.prototype.onCancelClick=function(){this.setState({isEditing:!1})},n.prototype.onUnlinkClick=function(e){var t=this;i.ajax({url:"/"+this.props.userName+"/account/link/"+e.loginProviderName.toLowerCase()+"/"+e.loginId+".json",type:"delete"}).done(function(e){t.setState(e),o.PageMessages.add(e.pageMessages)})},n.prototype.componentDidMount=function(){var e=this;i.get("/"+this.props.userName+"/account.json").done(function(t){return e.setState(t)})},n.prototype.render=function(){return e.createElement(r.Account,i.extend({},this.state,this.props))},n}(e.Component);t.AccountContainer=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(9),r=n(82),o=n(1579),s=n(8),l=["Facebook","Google","Yahoo"],c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.getFormattedDateOfBirth=function(){if(this.props.dateOfBirth){var e=this.props.dateOfBirth;return e.substring(0,4)+"/"+e.substring(5,7)+"/"+e.substring(8,10)}return null},n.prototype.getValidationMessage=function(e){return this.props.validation?(this.props.validation.filter(function(t){return t.key===e})[0]||{}).error:null},n.prototype.getIdentityProviders=function(){var e=this.props.logins.map(function(e){return e.loginProviderName});return l.filter(function(t){return e.indexOf(t)<0})},n.prototype.renderTitleBarRightSide=function(){return this.props.isEditing?e.createElement("div",{className:"account__multiple-button-container"},e.createElement("a",{className:"account__edit--cancel",onClick:this.props.onCancelClick},"cancel"),e.createElement("div",{className:"account__edit",onClick:this.props.onSaveClick},"Save")):e.createElement("div",{className:"account__edit",onClick:this.props.onEditClick},"Edit")},n.prototype.renderPhoneVerificationContent=function(){return this.props.isSmsVerified?"Verified":e.createElement("a",{href:this.props.verifyAccountUrl,className:"account__verify-account",title:"Verify you account"},"Not verified ")},n.prototype.renderAccountInfo=function(){var t=this;return e.createElement("form",{ref:function(e){return t.props.attributesForm(e)}},e.createElement(i.ContentBox,{title:this.props.userId?"Account (User ID "+this.props.userId+")":" ",titleBarRightSide:this.renderTitleBarRightSide()},e.createElement(o.AccountAttribute,{label:"User Name",value:this.props.userName,description:"Your username cannot be changed."}),e.createElement(o.AccountAttribute,{label:"Display Name",value:this.props.displayName,isEditing:this.props.isEditing,fieldName:"displayName",validationMessage:this.getValidationMessage("DisplayName"),description:"The name users will see publicly. We recommend using your full name."}),e.createElement(o.AccountAttribute,{label:"Date of Birth",isEditing:this.props.isEditing,fieldName:"dateOfBirth",validationMessage:this.getValidationMessage("DateOfBirth"),value:this.getFormattedDateOfBirth()}),e.createElement(o.AccountAttribute,{label:"Email Address",value:this.props.editedEmailAddress||this.props.emailAddress,validationMessage:this.getValidationMessage("EmailAddress"),isEditing:this.props.isEditing,fieldName:"emailAddress",description:this.props.editedEmailAddress?"Note: Your active email address is still "+this.props.emailAddress+" until you confirm your new email.":null}),e.createElement(o.AccountAttribute,{label:"Phone Verification",value:this.renderPhoneVerificationContent()}),e.createElement("div",{className:"account__item"},e.createElement("label",null,"Email Preferences"),e.createElement("div",null,e.createElement(r.Checkbox,{isChecked:this.props.isSubscribedToMailingList,text:"Subscribe to mailing list for competition updates",isEditable:this.props.isEditing,textIsClickable:!0,formInputName:"isSubscribedToMailingList"}))),e.createElement("div",{className:"account__item"},e.createElement("a",{className:"account__close-account",href:"/account/delete"},"Close account..."))))},n.prototype.renderChangePassword=function(){var t=this;return this.props.isShowingChangePassword?e.createElement("form",{ref:function(e){return t.props.changePasswordForm(e)},className:"account__change-password"},e.createElement("div",null,e.createElement("label",null,"Current password"),e.createElement("p",null,e.createElement("input",{type:"password",name:"currentPassword"}))),e.createElement("div",null,e.createElement("label",null,"New password"),e.createElement("p",null,e.createElement("input",{type:"password",name:"newPassword"}))),e.createElement("div",null,e.createElement("label",null,"Confirm new password"),e.createElement("p",null,e.createElement("input",{type:"password",name:"confirmPassword"}))),e.createElement("span",{className:"account__change-password-buttons"},e.createElement("a",{onClick:this.props.onCancelPasswordClick},"Cancel"),e.createElement("a",{onClick:this.props.onSavePasswordClick},"Save"))):null},n.prototype.renderKaggleLogin=function(t,n){return e.createElement("div",{className:"account__login account__login--active",key:n},e.createElement("div",{className:"account__login-image--kaggle"}),e.createElement("div",null,e.createElement("div",null,e.createElement("h3",null,"Kaggle username"),e.createElement("p",null,this.props.userName||this.props.displayName," ",this.props.isShowingChangePassword?null:e.createElement("a",{onClick:this.props.onChangePasswordClick},"Changepassword")),this.renderChangePassword())))},n.prototype.renderSocialLogin=function(t,n){var a=this;return e.createElement("div",{className:"account__login account__login--active",key:n},e.createElement("div",{className:"account__login-image--"+t.loginProviderName.toLowerCase()}),e.createElement("div",null,e.createElement("div",null,e.createElement("h3",null,t.loginProviderName," ",t.emailFromProvider?"email":"username"),e.createElement("p",null,t.emailFromProvider||t.loginIdentifier," ",e.createElement("a",{onClick:function(){return a.props.onUnlinkClick(t)}},"Unlink")))))},n.prototype.renderLogins=function(){var t=this;return e.createElement(i.ContentBox,{title:"My logins"},e.createElement("div",{className:"account__item"},e.createElement("h2",null,"Active logins"),this.props.logins.map(function(e,n){return"Kaggle"===e.loginProviderName?t.renderKaggleLogin(e,n):t.renderSocialLogin(e,n)})),s.Current.isAdmin?null:e.createElement("div",{className:"account__item"},e.createElement("h2",null,"Add additional logins"),e.createElement("p",null,"Link your profile to one or more of the services below for faster login and automatic bio information. We'll never share anything to your networks without your permission."),this.getIdentityProviders().map(function(n,a){return e.createElement("div",{className:"account__login",key:a},e.createElement("div",{className:"account__login-image--"+n.toLowerCase()}),e.createElement("a",{href:"/"+t.props.userName+"/account/link/"+n,className:"account__login-link--"+n.toLowerCase()},"Link to your ",n," account"))})))},n.prototype.render=function(){return e.createElement("div",{className:"account"},this.renderAccountInfo(),this.renderLogins())},n}(e.Component);t.Account=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.getStringValue=function(){return this.props.value},n.prototype.render=function(){return e.createElement("div",{className:"account__item"},e.createElement("label",null,this.props.label),this.props.isEditing&&this.props.fieldName?e.createElement("p",null,e.createElement("input",{type:"text",name:this.props.fieldName,defaultValue:this.getStringValue()})):e.createElement("p",{className:"account__attribute-value"},this.props.value,""),this.props.children,this.props.validationMessage&&this.props.isEditing?e.createElement("p",{className:"account__attribute-description account__attribute-description--error"},this.props.validationMessage):e.createElement("p",{className:"account__attribute-description"},this.props.description))},n}(e.Component);t.AccountAttribute=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(3),r=n(1581),o=function(t){function n(e){var n=t.call(this,e)||this;return n.onBioMarkdownChanged=function(e){n.bio=e},n.onBioEditCancelled=function(){n.setState({isEditingBio:!1})},n.onBioEditToggled=function(e){n.state.isEditingBio&&void 0!==n.bio?i.ajax({context:n,url:n.props.userUrl+"/bio.json",type:"PUT",contentType:"application/json",data:JSON.stringify({bio:n.bio}),success:function(e){n.setState({isEditingBio:!1,bio:n.bio})}}):n.setState({isEditingBio:!n.state.isEditingBio})},n.state={onBioMarkdownChanged:n.onBioMarkdownChanged,onBioEditToggled:n.onBioEditToggled,onBioEditCancelled:n.onBioEditCancelled,onProfileTabChanged:n.props.onProfileTabChanged},n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(r.Home,i.extend({},this.props,this.state))},n}(e.Component);t.HomeContainer=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(9),r=n(180),o=n(299),s=n(59),l=n(94),c=n(90),u=n(60),p=n(690),d=n(441),m=(d(),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderSummary=function(t){return e.createElement("div",{className:"profile__home__medal-summary"},e.createElement(o.AchievementSummary,a.__assign({},t,{onProfileTabChanged:this.props.onProfileTabChanged})))},n.prototype.renderEditToggleButton=function(){return this.props.canEdit?e.createElement(c.EditStateToggleButton,{isEditing:this.props.isEditingBio,sectionName:"Bio",cancelPropName:"cancel",cancelCallback:this.props.onBioEditCancelled,toggleCallback:this.props.onBioEditToggled}):null},n.prototype.render=function(){var t=this,n=this.props,o=(n.onBioMarkdownChanged,n.onBioEditToggled,n.onBioEditCancelled,n.isEditingBio,n.onProfilePropChanged,n.onProfileEditingStateCancelled,n.onProfileEditingStateChanged,n.updatePageMessages,n.onUpdateProfileImage,n.onFollowUser,n.onUnfollowUser,n.userTier,n.activeTab,n.isEditingHeader,n.menuLinks,n.overflowMenuLinks,a.__rest(n,["onBioMarkdownChanged","onBioEditToggled","onBioEditCancelled","isEditingBio","onProfilePropChanged","onProfileEditingStateCancelled","onProfileEditingStateChanged","updatePageMessages","onUpdateProfileImage","onFollowUser","onUnfollowUser","userTier","activeTab","isEditingHeader","menuLinks","overflowMenuLinks"])),c=this.props.canEdit&&(!this.props.bio||""==this.props.bio.trim());return e.createElement("div",{className:"profile__home"},e.createElement(s.MediaQuery,{minWidth:s.Breakpoints.desktopMin},e.createElement("div",{className:"profile__home__medals"},this.renderSummary(this.props.competitionsSummary),this.renderSummary(this.props.scriptsSummary),this.renderSummary(this.props.discussionsSummary))),this.props.canEdit||this.props.bio?e.createElement(i.ContentBox,{title:"Bio",titleBarRightSide:this.renderEditToggleButton()},e.createElement("div",{className:"profile__home__bio"},this.props.isEditingBio?e.createElement("div",{className:"profile__home__bio-editor"},e.createElement(l.MarkdownEditor,{defaultValue:this.props.bio,alwaysShowToolbar:!0,shouldSanitizeHtml:!0,minRows:3,onChangeCallback:this.props.onBioMarkdownChanged})):e.createElement("div",{className:"profile__home__bio-text"},c?e.createElement("div",{onClick:function(){t.props.onBioEditToggled("Bio")},className:"profile__home__bio-add"},"Click to add bio..."):e.createElement(u.MarkdownConverter,{content:this.props.bio,insertNofollow:!0,mimeType:"text/markdown"})))):null,e.createElement(s.MediaQuery,{minWidth:0,maxWidth:s.Breakpoints.tabletMax},e.createElement("div",{className:"profile__home__medals"},this.renderSummary(this.props.competitionsSummary),this.renderSummary(this.props.scriptsSummary),this.renderSummary(this.props.discussionsSummary))),this.props.canSeeFollowers?e.createElement(s.MediaQuery,{minWidth:s.Breakpoints.desktopMin},e.createElement(p.FollowersContainer,a.__assign({},o,{limitTo:9,largeComponent:!1}))):null,e.createElement(s.MediaQuery,{minWidth:s.Breakpoints.desktopMin},e.createElement(i.ContentBox,{title:"Activity"},e.createElement(r.ActivityCalendar,{username:this.props.userName,tier:this.props.performanceTier}))))},n}(e.Component));t.Home=m}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(6),r=n(9),o=n(46),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return this.props.isComponentVisible?e.createElement(r.ContentBox,{title:this.props.title},this.props.isHeaderVisible?this.renderHeader():null,this.renderData(),!this.props.isShowMoreButtonVisible&&this.props.activeList.maxCountReached?this.renderMaxResultHint():null,this.props.isShowMoreButtonVisible?this.renderFooter():null):null},n.prototype.renderHeader=function(){var t=this;return e.createElement("div",{className:"followers__header"},this.props.isFollowersVisible?e.createElement("div",{className:i("followers__header-item",{"followers__header-active":"followers"==this.props.activeTab}),onClick:function(){t.props.onTabChanged("followers")}},"Followers (",this.props.followers.count,")"):null,this.props.isFollowingVisible?e.createElement("div",{className:"followers__header-item "+("following"==this.props.activeTab?"followers__header-active":""),onClick:function(){t.props.onTabChanged("following")}},"Following (",this.props.following.count,")"):null)},n.prototype.renderData=function(){var t=this,n=this.props.activeList.list;return this.props.showCount>=0&&(n=this.props.activeList.list.slice(0,this.props.showCount)),e.createElement("div",{className:"followers__content"},n.map(function(e){return t.renderItem(e)}),0==n.length&&e.createElement("div",{className:"followers__empty"},"followers"==this.props.activeTab?e.createElement("div",null,"No followers yet"):e.createElement("div",null,"Not following anyone yet")))},n.prototype.renderMaxResultHint=function(){return e.createElement("div",{className:"followers__maxresults"},"Looks like there many results in this list. We've limited results to the first ",this.props.activeList.count,".")},n.prototype.renderFooter=function(){var t=this;return e.createElement("div",{className:"followers__footer",onClick:function(){return t.props.onShowMore()}},"Show More")},n.prototype.renderItem=function(t){return e.createElement("a",{className:"followers__item",href:t.userUrl,key:t.userId},e.createElement("div",{className:"followers__avatar"},e.createElement(o.Avatar,{id:t.userId,thumbnailUrl:t.thumbnailUrl,userUrl:t.userUrl,displayName:t.displayName,tier:t.tier,width:45})),e.createElement("div",{className:"followers__name"},t.displayName))},n}(e.Component);t.Followers=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(57),r=n(73),o=n(132),s=n(35),l=n(20),c=n(8),u=n(122),p=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.selectionGroups=[{label:"Competitions",value:"competitions"},{label:"Kernels",value:"kernels"},{label:"Discussion",value:"discussion"}],e}return a.__extends(n,t),n.prototype.getRankText=function(t){return t.currentRanking?t.currentRanking:e.createElement("span",{className:"leaderboards__rank-text"},"unranked")},n.prototype.getCurrentCategory=function(){return this.category||this.props.group||this.selectionGroups[0].value},n.prototype.onSelectionsChanged=function(e,t){this.category=t},n.prototype.renderListHeaderCount=function(t,n){return e.createElement("div",{key:n,className:"leaderboards__list-header-count leaderboards__list-header-count--"+t.tier},e.createElement("img",{src:"/static/images/tiers/"+t.tier+"@96.png"}),e.createElement("div",null,e.createElement("div",null,r.numberWithCommas(t.count)),e.createElement("div",null,i(t.tier,t.count))))},n.prototype.renderListHeader=function(t,n){var a=n.data;return e.createElement("div",null,e.createElement("div",{className:"leaderboards__list-header"},a.counts.map(this.renderListHeaderCount)),e.createElement("div",{className:"leaderboards__item-wrapper leaderboards__item-wrapper--header"},e.createElement("div",{className:"leaderboards__rank"},"Rank"),e.createElement("div",{className:"leaderboards__tier"},"Tier"),e.createElement("div",{className:"leaderboards__avatar"},e.createElement("div",{className:"leaderboards__user-label"},"User")),e.createElement("div",{className:"leaderboards__name"}),e.createElement("div",{className:"leaderboards__medals"},e.createElement("div",{className:"leaderboards__medals-label"},"Medals")),e.createElement("div",{className:"leaderboards__points"},"Points")),a.userRanking&&(a.userRanking.currentRanking>5||!a.userRanking.currentRanking)?this.renderItem(a.userRanking,-1):null)},n.prototype.renderListFooter=function(t,n){var a=n.data,i=a.counts.filter(function(e){return["contributor","novice"].indexOf(e.tier)>=0}).map(function(e){return e.count}).reduce(function(e,t){return e+t});return e.createElement("div",null,e.createElement("div",{className:"leaderboards__list-footer"},r.numberWithCommas(i)," unranked Contributors and Novices"))},n.prototype.renderItem=function(t,n){return e.createElement(s.BlockLink,{key:n,href:t.userUrl},e.createElement("div",{className:"leaderboards__item-wrapper "+(t.userId===c.Current.userId?"leaderboards__item-wrapper--you":null)},e.createElement("div",{className:"leaderboards__rank"},this.getRankText(t)),e.createElement("div",{className:"leaderboards__tier"},e.createElement("img",{src:"/static/images/tiers/"+t.tier+"@96.png",title:t.tier})),e.createElement("div",{className:"leaderboards__avatar"},e.createElement("a",{href:t.userUrl},e.createElement("img",{src:t.thumbnailUrl}))),e.createElement("div",{className:"leaderboards__name"},e.createElement("p",null,e.createElement("a",{href:t.userUrl},t.displayName)),e.createElement("p",{className:"leaderboards__name-joined"},"joined ",e.createElement(l.TimeAgo,{time:t.joined}))),e.createElement("div",{className:"leaderboards__medals"},e.createElement("div",{className:"leaderboards__medal--gold"},e.createElement("div",{className:"leaderboards__medals-item"},e.createElement("img",{src:"/static/images/medals/"+this.getCurrentCategory()+"/GoldL@1x.png"})),e.createElement("div",{className:"leaderboards__medals-item"},e.createElement("span",null,t.totalGoldMedals))),e.createElement("div",{className:"leaderboards__medal--silver"},e.createElement("div",{className:"leaderboards__medals-item"},e.createElement("img",{src:"/static/images/medals/"+this.getCurrentCategory()+"/SilverL@1x.png"})),e.createElement("div",{className:"leaderboards__medals-item"},e.createElement("span",null,t.totalSilverMedals))),e.createElement("div",{className:"leaderboards__medal--bronze"},e.createElement("div",{className:"leaderboards__medals-item"},e.createElement("img",{src:"/static/images/medals/"+this.getCurrentCategory()+"/BronzeL@1x.png"})),e.createElement("div",{className:"leaderboards__medals-item"},e.createElement("span",null,t.totalBronzeMedals)))),e.createElement("div",{className:"leaderboards__points"},r.numberWithCommas(Math.round(t.points)))))},n.prototype.renderProgressionLink=function(){return e.createElement("a",{className:"leaderboards__learn-more-link",href:"/progression"},"Learn more about rankings ")},n.prototype.render=function(){return e.createElement("div",{className:"leaderboards"},e.createElement(u.Banner,{title:"Kaggle Rankings",bannerImageClassName:"leaderboards__banner-image"}),e.createElement("div",{className:"leaderboards__wrapper"},e.createElement(o.SmartListContainer,{titleResolver:function(e,t){return r.numberWithCommas(t.data.totalUsers)+" users"},pluralItemDescription:"users",groups:this.selectionGroups,dataUrl:"/rankings.json",dataPathToList:"list",data:this.props,itemRenderer:this.renderItem.bind(this),listHeaderRenderer:this.renderListHeader.bind(this),listFooterRenderer:this.renderListFooter.bind(this),onSelectionsChanged:this.onSelectionsChanged.bind(this),titleBarRightSide:this.renderProgressionLink(),selectionGroupInTitle:!0,values:{group:this.props.group}})))},n}(e.Component);t.Leaderboards=p}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(3),r=n(4),o=n(1585),s=n(21),l=function(t){function n(e){var n=t.call(this,e)||this;n.onProfileEditingStateChanged=function(e){if(!n.state.isSaving){var t={isSaving:!1},a=!n.state["isEditing"+e];if(t["isEditing"+e]=a,a)return void n.setState(t);var r=n.getValidationPageMessages();if(s.PageMessages.clear(),s.PageMessages.add(r),!(r.length>0)){var o={city:n.state.city,country:n.state.country,displayName:n.state.displayName,gitHubUserName:n.state.gitHubUserName,linkedInUrl:n.state.linkedInUrl,region:n.state.region,slug:n.state.slug,thumbnailImageUrl:n.state.thumbnailImageUrl,twitterUserName:n.state.twitterUserName,websiteUrl:n.state.websiteUrl,datasetMaxFileSizeMegabytes:n.state.datasetMaxFileSizeMegabytes};n.setState({isSaving:!0},function(){s.PageMessages.clear(),n.props.isNew?(o.overview=n.state.overview,i.ajax({context:n,url:"/organizations",type:"POST",contentType:"application/json",data:JSON.stringify(o),success:function(e){n.setState({twitterUserName:e.twitterUserName,gitHubUserName:e.gitHubUserName,isSaving:!1}),window.location.replace("/"+n.state.slug)},error:function(e){n.setState({isSaving:!1}),s.PageMessages.error({htmlMessage:'There was a problem saving your profile changes. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.',type:"error"});for(var t=0,a=JSON.parse(e.responseText);t<a.length;t++){var i=a[t];s.PageMessages.error(i.error)}}})):i.ajax({context:n,url:n.props.slug+".json",type:"PUT",contentType:"application/json",data:JSON.stringify(o),success:function(e){t.twitterUserName=e.twitterUserName,t.gitHubUserName=e.gitHubUserName,n.setState(t);var a="/"+n.state.slug;a!=window.location.pathname&&window.location.replace(a),s.PageMessages.success("Changes to your profile have been saved.")},error:function(e){n.setState(t),s.PageMessages.error({htmlMessage:'There was a problem saving your profile changes. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.',type:"error"});for(var a=0,i=JSON.parse(e.responseText);a<i.length;a++){var r=i[a];s.PageMessages.error(r.error)}}})})}}},n.onProfileEditingStateCancelled=function(e,t){var i={},r={};i["isEditing"+e]=!1;for(var o=0,l=t;o<l.length;o++){var c=l[o];r[c]=n.props[c]}n.setState(a.__assign({},i,r),function(){s.PageMessages.clear()})},n.onProfilePropChanged=function(e,t){var a={};a[e]=t,n.setState(a)},n.onTabClicked=function(e){n.setState({activeTab:e},function(){return n.updateUrlForTab(e)})},n.onOverviewSaveClicked=function(e){return i.ajax({type:"PUT",url:n.props.slug+"/overview",contentType:"application/json",processData:!1,data:JSON.stringify({overview:e})})},n.onUserAddClicked=function(){i.ajax({contentType:"application/json",data:JSON.stringify({userName:n.state.userInput.value}),type:"POST",url:"/"+n.props.slug+"/users"}).fail(function(e){404==e.status&&(s.PageMessages.clear(),s.PageMessages.error("We had trouble locating the requested username or organization."))}).done(function(e){s.PageMessages.clear(),n.setState({users:e.users}),n.state.userInput.value=""})},n.onUserInputElementMounted=function(e){n.setState({userInput:e})},n.onUserRemoveClicked=function(e){i.ajax({url:"/"+n.props.slug+"/users/"+e,type:"DELETE"}).done(function(e){n.setState({activeTab:e.activeTab,canEdit:e.canEdit,users:e.users}),n.setState({menuLinks:n.getMenuLinks()})})},n.getMenuLinks=function(){var e=[],t=function(e){return{href:"/"+n.props.slug+"/"+e.toLowerCase(),title:e,text:e,tab:e.toLowerCase()}};if(e.push(t("Home")),!n.props.isNew){var a=n.state.canEdit;(a||n.props.competitions.length>0)&&e.push(t("Competitions")),(a||n.props.datasets.length>0)&&e.push(t("Datasets")),(a||n.state.users.length>0)&&e.push(t("People"))}return e},n.getValidationPageMessages=function(e){var t=[];return n.validationRules.forEach(function(n){var a=t.filter(function(e){return e.id==n.id}).length>0;(n.isValid()&&a||!n.isValid()&&a&&!e)&&(t=t.filter(function(e){return e.id!=n.id})),n.isValid()||e||t.push({type:"error",id:n.id,message:n.message()})}),t},n.replaceUrlForTab=function(e){if(!n.props.isNew){var t=window.history.state||{},a="/"+n.props.slug;"home"!=e.toLowerCase()&&(a+="/"+e.toLowerCase()),history.replaceState(t,"",a)}},n.updateUrlForTab=function(e){if(!n.props.isNew){var t={};t.profileTabState={activeTab:e};var a="/"+n.props.slug;"home"!=e.toLowerCase()&&(a+="/"+e.toLowerCase()),history.pushState(t,"",a)}},n.onWindowPopState=function(e){e.state&&e.state.profileTabState&&n.setState(e.state.profileTabState)},n.validationRules=[{isValid:function(){return n.state.displayName&&n.state.displayName.trim()},id:"organization-profile-no-name",message:function(){return"Please enter a display name."}},{isValid:function(){return n.state.displayName&&n.state.displayName.trim().length>=2&&n.state.displayName.trim().length<=50},id:"organization-profile-display-name-length",message:function(){return"Your display name must be between 2 and 50 characters in length."}},{isValid:function(){return!n.state.websiteUrl||r.isValidUrl(n.state.websiteUrl)},id:"organization-profile-website-format",message:function(){return"Please enter a valid website URL."}},{isValid:function(){return!n.state.linkedInUrl||r.isValidUrl(n.state.linkedInUrl)},id:"organization-profile-linkedin-format",message:function(){return"Please enter a valid LinkedIn URL."}},{isValid:function(){return n.state.thumbnailImageUrl&&n.state.thumbnailImageUrl.trim()},id:"organization-profile-no-thumbnail",message:function(){return"Please select a profile photo."}},{isValid:function(){return n.state.slug===n.props.slug||n.state.slug&&n.state.slug.trim()&&(n.props.isAdmin||n.state.slug.length>=6&&n.state.slug.length<=20)},id:"organization-profile-no-slug",message:function(){return"Please enter a permanent URL between 6 and 20 characters."}}],n.onOpenImageUploader=function(){n.setState({isEditingImage:!0})},n.onCloseImageUploader=function(){n.setState({isEditingImage:!1})},n.onUpdateImages=function(e,t){e.append("imageLeft",t[0].left),e.append("imageTop",t[0].top),e.append("imageWidth",t[0].width),e.append("imageHeight",t[0].height);var a=n.props.isNew?"/organizations/images":"/"+n.props.slug+"/image";return i.ajax({context:n,url:a,type:"POST",dataType:"json",contentType:!1,processData:!1,data:e,success:function(e){n.setState({isEditingImage:!1,thumbnailImageUrl:e.thumbnailImageUrl+"?r="+(new Date).getMilliseconds()}),s.PageMessages.success("The organization's profile image has been updated.")}})};var o,l=e.canEdit;switch(null==e.activeTab?"home":e.activeTab.toLowerCase()){case"competitions":o=l||e.competitions.length>0?"competitions":"home";break;case"datasets":o=l||e.datasets.length>0?"datasets":"home";break;case"people":o=l||e.users.length>0?"people":"home";break;default:o="home"}n.replaceUrlForTab(o);var c=n.props,u=(c.children,a.__rest(c,["children"]));return n.state=a.__assign({},u,{activeTab:o,canEdit:n.props.canEdit,isSaving:!1,users:n.props.users}),n.state=a.__assign({},n.state,{menuLinks:n.getMenuLinks()}),n.helpers={onCloseImageUploader:n.onCloseImageUploader,onOpenImageUploader:n.onOpenImageUploader,onOverviewSaveClicked:n.onOverviewSaveClicked,onProfileEditingStateCancelled:n.onProfileEditingStateCancelled,onProfileEditingStateChanged:n.onProfileEditingStateChanged,onProfilePropChanged:n.onProfilePropChanged,onTabClicked:n.onTabClicked,onUpdateImages:n.onUpdateImages,onUserAddClicked:n.onUserAddClicked,onUserInputElementMounted:n.onUserInputElementMounted,onUserRemoveClicked:n.onUserRemoveClicked},n}return a.__extends(n,t),n.prototype.componentWillMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1)},n.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1)},n.prototype.render=function(){var t=this.props,n=(t.children,a.__rest(t,["children"]));return e.createElement(o.OrganizationProfile,a.__assign({},n,this.state,this.helpers))},n}(e.Component);t.OrganizationProfileContainer=l}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function a(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(t)?t:null}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(35),o=n(37),s=n(155),l=n(186),c=n(9),u=n(691),p=n(679),d=n(90),m=n(93),h=n(446),g=n(60),f=n(41),v=n(1586),_=n(135),b=n(20),E=n(1587),y=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderCompetitionTeaserItem=function(t,n){return e.renderTeaserItem(t.competitionUrl,t.thumbnailImageUrl,t.competitionTitle,t.deadline,n)},e.renderDatasetTeaserItem=function(t,n){return e.renderTeaserItem(t.datasetUrl,t.thumbnailImageUrl,t.title,t.dateUpdated,n)},e.renderPersonTeaserItem=function(t,n){return e.renderTeaserItem("."+t.slug,t.imageUrl,t.name,t.joinDate,n)},e}return i.__extends(n,t),n.prototype.getCityDescription=function(){var e=u.getCountryNameByCode(this.props.country)||this.props.country;return[this.props.city,this.props.region,e].filter(Boolean).join(", ")},n.prototype.renderActiveTab=function(){switch(this.props.activeTab.toLowerCase()){case"home":return this.renderHome();case"competitions":return this.renderCompetitions();case"datasets":return this.renderDatasets();case"people":return this.renderPeople();default:return null}},n.prototype.renderTeaserItem=function(t,n,a,i,o){return e.createElement(r.BlockLink,{href:t,key:o},e.createElement("div",{className:"organization-profile__home-teaser-item"},e.createElement("div",null,e.createElement("img",{src:n,title:a,className:"organization-profile__home-teaser-thumbnail"})),e.createElement("div",{className:"organization-profile__home-teaser-title"},e.createElement("div",null,e.createElement("a",{href:t},a)),e.createElement("div",{className:"organization-profile__home-teaser-time"},e.createElement(b.TimeAgo,{time:i,futureDateMessage:"In progress"})))))},n.prototype.renderHome=function(){var t=this;return e.createElement("div",{className:"organization-profile__profile-wrapper"},e.createElement("div",{className:"organization-profile__profile-row"},this.props.canEditSlug?e.createElement("div",{className:"organization-profile__power-settings"},e.createElement(c.ContentBox,{title:this.props.isNew?"Choose a Permanent URL":"Power settings",titleBarRightSide:e.createElement(d.EditStateToggleButton,{sectionName:"Description",cancelPropName:"description",isEditing:this.props.isEditingHeader,toggleCallback:function(){return t.props.onProfileEditingStateChanged("Header")},cancelCallback:function(){return t.props.onProfileEditingStateCancelled("Header",[])}})},e.createElement("section",{className:"organization-profile__section"},"https://www.kaggle.com/",this.props.isEditingHeader?e.createElement(m.InlineTextEditor,{className:"organization-profile__inline-slug-editor",value:this.props.slug,rejectedCharacterRegExp:/[^A-Za-z0-9-]+/g,onChangeCallback:function(e){return t.props.onProfilePropChanged("slug",e)}}):this.props.slug),this.props.isAdmin?e.createElement("section",{className:"organization-profile__section"},"Maximum dataset size (Mb):",this.props.isEditingHeader?e.createElement(m.InlineTextEditor,{className:"organization-profile__inline-slug-editor",value:(this.props.datasetMaxFileSizeMegabytes||"").toString(),rejectedCharacterRegExp:/[^0-9]+/g,onChangeCallback:function(e){return t.props.onProfilePropChanged("datasetMaxFileSizeMegabytes",a(e))}}):this.props.datasetMaxFileSizeMegabytes||"Default"):null)):null,e.createElement("div",{className:"organization-profile__description"},e.createElement(h.MarkdownContentBox,{content:this.props.overview,canEdit:this.props.canEdit&&!this.props.isNew,contentBoxTitle:"About "+(this.props.isNew?"your organization":this.props.displayName),contentClassName:"organization-profile__description-content",isEditing:this.props.isNew,mimeType:g.MarkdownConverterMimeTypes.Markdown,onChangeCallback:this.props.isNew?function(e){return t.props.onProfilePropChanged("overview",e)}:null,onSaveClicked:this.props.isNew?null:this.props.onOverviewSaveClicked})),this.props.users&&this.props.users.length>0?e.createElement("div",{className:"organization-profile__home-teaser organization-profile__home-teaser--people"},e.createElement(c.ContentBox,{title:e.createElement(f.Pluralize,{count:this.props.users.length,word:"people"}),onTitleClick:function(){return t.props.onTabClicked("people")},titleBarRightSide:e.createElement("span",{className:"fa fa-chevron-right"})},e.createElement("div",{className:"organization-profile__home-teaser-wrapper"},e.createElement(_.TeaserList,{minItemHeight:1,listItems:this.props.users.slice(0,3),emptyListMessage:"",listItemRenderer:this.renderPersonTeaserItem})))):null),e.createElement("div",{className:"organization-profile__profile-row"},this.props.competitions&&this.props.competitions.length>0?e.createElement("div",{className:"organization-profile__home-teaser organization-profile__home-teaser--competitions"},e.createElement(c.ContentBox,{title:e.createElement(f.Pluralize,{count:this.props.competitions.length,word:"competition"}),onTitleClick:function(){return t.props.onTabClicked("competitions")},titleBarRightSide:e.createElement("span",{className:"fa fa-chevron-right"})},e.createElement("div",{className:"organization-profile__home-teaser-wrapper"},e.createElement(_.TeaserList,{minItemHeight:1,listItems:this.props.competitions.slice(0,3),emptyListMessage:"",listItemRenderer:this.renderCompetitionTeaserItem})))):null,this.props.datasets&&this.props.datasets.length>0?e.createElement("div",{className:"organization-profile__home-teaser organization-profile__home-teaser--datasets"},e.createElement(c.ContentBox,{title:e.createElement(f.Pluralize,{count:this.props.datasets.length,word:"dataset"}),onTitleClick:function(){return t.props.onTabClicked("datasets")},titleBarRightSide:e.createElement("span",{className:"fa fa-chevron-right"})},e.createElement("div",{className:"organization-profile__home-teaser-wrapper"},e.createElement(_.TeaserList,{minItemHeight:1,listItems:this.props.datasets.slice(0,3),emptyListMessage:"",listItemRenderer:this.renderDatasetTeaserItem})))):null))},n.prototype.renderCompetitions=function(){return e.createElement(c.ContentBox,{title:e.createElement(f.Pluralize,{count:this.props.competitions.length,word:"competition"})},this.props.competitions.map(function(t,n){return e.createElement(l.CompetitionCard,{key:n,competition:t})}))},n.prototype.renderDatasets=function(){return e.createElement(c.ContentBox,{title:e.createElement(f.Pluralize,{count:this.props.datasets.length,word:"dataset"})},this.props.datasets.map(function(t,n){return e.createElement(p.DatasetListItem,{key:n,dataset:t,hideOwnerAvatar:!0})}),this.props.canEdit?e.createElement("div",{className:"dataset-list-item organization-profile__new-dataset-container"},e.createElement(o.Button,{href:"/datasets/new?owner="+this.props.slug,text:"Create new dataset"})):null)},n.prototype.renderPeople=function(){var t=this;return e.createElement(c.ContentBox,{title:e.createElement(f.Pluralize,{count:this.props.users.length,word:"person"})},e.createElement("div",{className:"organization-profile__user-cards"},this.props.users.map(function(n){return e.createElement(E.UserCard,i.__assign({},n,{canEdit:t.props.canEdit,onRemoveClicked:t.props.onUserRemoveClicked,key:n.slug}))}),this.props.canEdit?e.createElement("div",{className:"organization-profile__user-editor"},e.createElement("i",{className:"organization-profile__user-editor-image fa fa-user"}),e.createElement("div",{className:"organization-profile__user-editor-info"},e.createElement("span",{className:"organization-profile__user-editor-header"},"Add a person to this organization"),e.createElement("input",{className:"organization-profile__user-editor-input",placeholder:"Enter username",ref:this.props.onUserInputElementMounted,type:"text"}),e.createElement("span",{className:"organization-profile__user-editor-button"},e.createElement(o.Button,{isSmall:!0,onClick:this.props.onUserAddClicked,text:"Add person"})))):null))},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"organization-profile"},e.createElement(v.ProfileHeader,{modifier:"organization",displayName:this.props.displayName,avatarUrl:this.props.thumbnailImageUrl?this.props.thumbnailImageUrl:"https://i0.wp.com/kaggle2.blob.core.windows.net/avatars/thumbnails/default-thumb.png?ssl=1",twitterUserName:this.props.twitterUserName,gitHubUserName:this.props.gitHubUserName,linkedInUrl:this.props.linkedInUrl,websiteUrl:this.props.websiteUrl,activeTab:this.props.activeTab,menuLinks:this.props.menuLinks,onProfilePropChanged:this.props.onProfilePropChanged,onProfileTabChanged:function(e){return t.props.onTabClicked(e)},rightThumbnailUrl:"/static/images/profile-organization.svg",rightThumbnailLabel:"Organization",hideWebsiteUrl:!0,canEdit:this.props.canEdit,isEditingHeader:this.props.isEditingHeader,isEditingImage:this.props.isEditingImage,onOpenImageUploader:this.props.onOpenImageUploader,onCloseImageUploader:this.props.onCloseImageUploader,onUpdateImages:this.props.onUpdateImages,renderAdminCallToAction:function(){return t.props.isEditingHeader?e.createElement("div",{className:"organization-profile__cta-area"},t.props.isNew||t.props.isSaving?null:e.createElement("a",{className:"organization-profile__editing-cancel",onClick:function(){return t.props.onProfileEditingStateCancelled("Header",["city","country","displayName","gitHubUserName","linkedInUrl","region","thumbnailImageUrl","twitterUserName","websiteUrl"])}},"cancel"),e.createElement("a",{className:t.props.isSaving?"organization-profile__save-button pageheader__calltoaction--muted":"pageheader__calltoaction--active",onClick:function(){return t.props.onProfileEditingStateChanged("Header")},title:"Save Profile"},"Save Profile")):e.createElement("div",{className:"organization-profile__cta-area"},e.createElement("a",{className:"pageheader__calltoaction",onClick:function(){return t.props.onProfileEditingStateChanged("Header")},title:"Edit Profile"},"Edit Profile"))}},this.props.canEdit&&this.props.isEditingHeader?e.createElement("div",null,e.createElement("div",{className:"organization-profile__city-select"},e.createElement(s.CityLookup,{city:this.props.city,region:this.props.region,country:this.props.country,onChange:function(e,n,a){t.props.onProfilePropChanged("city",e),t.props.onProfilePropChanged("region",n),t.props.onProfilePropChanged("country",a)}}))):e.createElement("div",null,this.getCityDescription().length>0?e.createElement("span",{className:"organization-profile__info"},this.getCityDescription()):null,e.createElement("span",{className:"organization-profile__info"},"Joined ",e.createElement(b.TimeAgo,{time:this.props.joinDate})),e.createElement("span",{className:"organization-profile__info"},e.createElement("a",{href:this.props.websiteUrl,rel:"nofollow",className:"organization-profile__website-url"},this.props.websiteUrl)))),e.createElement("div",{className:"organization-profile__wrapper"},this.renderActiveTab()))},n}(e.Component);t.OrganizationProfile=y}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(51),r=n(93),o=n(123),s=n(59),l=n(297),c=n(69),u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderDisplayName=function(){var t=this;return this.props.isEditingHeader&&this.props.canEdit?e.createElement(r.InlineTextEditor,{className:"profile-header__display-name--input",value:this.props.displayName,placeholder:"Enter display name",onChangeCallback:function(e){return t.props.onProfilePropChanged("displayName",e)}}):e.createElement("span",null,this.props.displayName," ",this.props.genieUrl?e.createElement("a",{href:this.props.genieUrl,className:"profile__genie-link"},"Genie!"):null)},n.prototype.renderSocialLinks=function(){var t=this;return this.props.isEditingHeader?e.createElement("ul",{className:"profile__social-links--editing"},e.createElement("li",{className:"profile__social-link--editing"},e.createElement("span",{className:"fa fa-github"}),e.createElement(r.InlineTextEditor,{className:"profile__social-link--input",value:this.props.gitHubUserName,placeholder:"GitHub Username",onChangeCallback:function(e){return t.props.onProfilePropChanged("gitHubUserName",e)}})),e.createElement("li",{className:"profile__social-link--editing"},e.createElement("span",{className:"fa fa-twitter"}),e.createElement(r.InlineTextEditor,{className:"profile__social-link--input",value:this.props.twitterUserName,placeholder:"Twitter Username",onChangeCallback:function(e){return t.props.onProfilePropChanged("twitterUserName",e)}})),e.createElement("li",{className:"profile__social-link--editing"},e.createElement("span",{className:"fa fa-linkedin"}),e.createElement(r.InlineTextEditor,{className:"profile__social-link--input",value:this.props.linkedInUrl,placeholder:"LinkedIn URL",onChangeCallback:function(e){return t.props.onProfilePropChanged("linkedInUrl",e)}})),e.createElement("li",{className:"profile__social-link--editing"},e.createElement("span",{className:"fa fa-globe"}),e.createElement(r.InlineTextEditor,{className:"profile__social-link--input",value:this.props.websiteUrl,placeholder:"Website URL",onChangeCallback:function(e){return t.props.onProfilePropChanged("websiteUrl",e)}}))):e.createElement("ul",{className:"profile__social-links"},this.props.gitHubUserName&&this.props.gitHubUserName.length?e.createElement("li",{className:"profile__social-link"},e.createElement("a",{href:"https://github.com/"+this.props.gitHubUserName,rel:"nofollow"},e.createElement("span",{className:"fa fa-github"}))):null,this.props.twitterUserName&&this.props.twitterUserName.length?e.createElement("li",{className:"profile__social-link"},e.createElement("a",{href:"https://twitter.com/"+this.props.twitterUserName,rel:"nofollow"},e.createElement("span",{className:"fa fa-twitter"}))):null,this.props.linkedInUrl&&this.props.linkedInUrl.length?e.createElement("li",{className:"profile__social-link"},e.createElement("a",{href:this.props.linkedInUrl,rel:"nofollow"},e.createElement("span",{className:"fa fa-linkedin"}))):null,this.props.websiteUrl&&this.props.websiteUrl.length&&!this.props.hideWebsiteUrl?e.createElement("li",{className:"profile__social-link"},e.createElement("a",{href:this.props.websiteUrl,className:"profile__social-link--url",rel:"nofollow"},this.props.websiteUrl)):null)},n.prototype.renderAvatarOverlay=function(){var t=e.createElement(l.ImageUploader,{title:"Upload Organization Profile Image",imageSettings:[new l.ImageSetting("profile image","Select an area of the image to use for this organization's profile",new l.Size(200,200),new l.Rectangle(new l.Point(0,0),new l.Size(0,0)))],originalImageUrl:null,containerSize:new l.Size(500,300),selectorBorderWidth:1,onCancel:this.props.onCloseImageUploader,onUpdateImages:this.props.onUpdateImages,hiResScale:2}),n=e.createElement(c.Modal,{buttonClassName:"pageheader__imageuploaderbutton",modalClassName:"pageheader__imageuploadermodal",modalContent:t,modalIsShown:this.props.isEditingImage,onShow:this.props.onOpenImageUploader,onClose:this.props.onCloseImageUploader});return e.createElement("div",{className:"profile__avatar-overlay"},n,e.createElement("p",{className:"profile__avatar-text",onClick:this.props.onOpenImageUploader},"Change Organization Profile Photo"))},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"profile-header"},e.createElement("div",{className:"profile-header__header--"+this.props.modifier},e.createElement(i.PageHeader,null,e.createElement(i.PageHeaderTopRow,{modifier:"profile",title:this.renderDisplayName(),subtitle:"",isEditingHeaderInfo:this.props.isEditingHeader,canEdit:this.props.canEdit,titleUrl:null},e.createElement(i.PageHeaderThumbnail,{classNameElement:"avatar",classNameModifier:"profile",imageUrl:this.props.avatarUrl,targetUrl:"",thumbnailOverlay:this.props.isEditingHeader?this.renderAvatarOverlay():null}),e.createElement(s.MediaQuery,{minWidth:s.Breakpoints.tabletMax},e.createElement("div",{className:"profile-header__right-thumbnail profile-header__right-thumbnail--"+this.props.modifier},e.createElement("a",{href:this.props.rightThumbnailLinkUrl},e.createElement("p",null,e.createElement("img",{src:this.props.rightThumbnailUrl,height:"92px",width:"92px"})),e.createElement("p",null,this.props.rightThumbnailLabel)))),e.createElement("div",{className:"profile-header__metadata"},this.props.children),this.renderSocialLinks()))),e.createElement("div",{className:"profile__wrapper"},e.createElement(i.PageHeaderBottomRow,null,e.createElement(o.OverflowX,null,e.createElement(i.PageHeaderNav,{activeTab:this.props.activeTab,classNameModifier:"profile",menuLinks:this.props.menuLinks,changeActiveTab:function(e){return t.props.onProfileTabChanged(e)}}),e.createElement(s.MediaQuery,{minWidth:s.Breakpoints.desktopMin},this.props.canEdit?this.props.renderAdminCallToAction():null)))))},n}(e.Component);t.ProfileHeader=u}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(35),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement(i.BlockLink,{className:"organization-user-card",href:this.props.slug},e.createElement("img",{className:"organization-user-card__image",src:this.props.imageUrl,alt:this.props.name}),e.createElement("div",{className:"organization-user-card__info"},e.createElement("span",{className:"organization-user-card__name"},this.props.name,this.props.canEdit?e.createElement("a",{className:"organization-user-card__remove-link",onClick:function(){return t.props.onRemoveClicked(t.props.id)}},e.createElement("i",{className:"fa fa-remove"})," Remove"):null),e.createElement("span",{className:"organization-user-card__title"},this.props.occupation?this.props.organization?this.props.occupation+" at "+this.props.organization:this.props.occupation:""),e.createElement("span",{className:"organization-user-card__location"},this.props.location?this.props.location:"")))},n}(e.Component);t.UserCard=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(1589),r=function(t){function n(e){var n=t.call(this,e)||this;return n.state=n.props,n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(i.Newsfeed,this.state)},n}(e.Component);t.NewsfeedContainer=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(132),r=n(9),o=n(1590),s=n(35),l=n(20),c=n(46),u=n(1591),p=n(1592),d=n(1593),m=n(1594),h=n(1595),g=n(1596),f=n(1597),v=n(1598),_=n(1599),b=n(1600),E=n(1601),y=n(1602),w=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderStoryContent=function(t){switch(t.storyType){case"blogPost":return e.createElement(p.NewsfeedBlog,a.__assign({},t));case"forumMessage":case"datasetMessage":case"competitionMessage":case"kernelMessage":case"forumTopic":case"datasetTopic":case"competitionTopic":return e.createElement(g.NewsfeedMessage,a.__assign({},t));case"kernel":case"kernelRun":case"kernelUpvote":return e.createElement(h.NewsfeedKernel,a.__assign({},t));case"competitionStarted":case"competitionEnded":case"competitionFinalized":return e.createElement(d.NewsfeedCompetition,a.__assign({},t));case"dataset":case"datasetVersion":case"datasetFeature":case"datasetUpvote":case"datasetTrending":return e.createElement(m.NewsfeedDataset,a.__assign({},t));case"blogPost":return e.createElement(p.NewsfeedBlog,a.__assign({},t));default:return null}},n.renderStory=function(t){return e.createElement("div",{className:"newsfeed__story-container",key:t.storyType+"-"+t.storyItemId},"kernel"!=t.storyType&&"kernelRun"!=t.storyType&&"kernelUpvote"!=t.storyType||t.kernel.kernelVisualizationUrl?e.createElement("div",{className:"newsfeed__story"},e.createElement(u.NewsfeedStoryHeader,a.__assign({},t)),e.createElement("div",{className:"newsfeed__story-content"},n.renderStoryContent(t))):e.createElement(u.NewsfeedStoryHeader,a.__assign({},t,{borderless:!0})))},n}return a.__extends(n,t),n.prototype.getStoryLink=function(e){switch(e.storyType){case"forumMessage":case"competitionMessage":case"datasetMessage":case"forumTopic":case"datasetTopic":case"competitionTopic":return e.discussion.topicUrl;case"kernelMessage":case"kernel":case"kernelRun":return e.kernel.kernelUrl;case"competitionStarted":case"competitionEnded":case"competitionFinalized":return e.competition.competitionUrl;case"dataset":case"datasetVersion":case"datasetFeature":case"datasetUpvote":case"datasetTrending":return e.dataset.datasetUrl;case"blogPost":return e.blog.blogUrl;default:return null}},n.prototype.render=function(){return e.createElement("div",{className:"newsfeed"},e.createElement("div",{className:"newsfeed__main-content"},e.createElement("div",{className:"newsfeed__story-list"},e.createElement(i.SmartListContainer,{dataUrl:"/newsfeed.json",data:this.props,dataPathToList:"stories",pluralItemDescription:"stories",itemRenderer:this.renderStory,isUnstyled:!0,pageSize:10})),e.createElement("div",{className:"newsfeed__sidebar-list"},e.createElement(r.ContentBox,null,e.createElement(s.BlockLink,{href:this.props.userUrl,className:"newsfeed__profile"},e.createElement("div",{className:"newsfeed__profile-avatar"},e.createElement(c.Avatar,{tier:this.props.userTier,width:50,thumbnailUrl:this.props.avatarUrl,displayName:this.props.userName,userUrl:this.props.userUrl})),e.createElement("div",{className:"newsfeed__profile-info"},e.createElement("div",{className:"newsfeed__profile-name"},e.createElement("a",{href:this.props.userUrl},this.props.userName)),e.createElement("div",{className:"newsfeed__profile-label"},"Joined ",e.createElement(l.TimeAgo,{time:this.props.userJoinDate})))),e.createElement("div",{className:"newsfeed__progression"},e.createElement(f.NewsfeedProgression,a.__assign({},this.props.progression)))),null!=this.props.banneredJob?e.createElement(r.ContentBox,null,e.createElement(s.BlockLink,{href:this.props.banneredJob.postUrl,className:"newsfeed__bannered-job",borderless:!0},e.createElement("div",null,e.createElement("img",{src:this.props.banneredJob.imageUrl,className:"newsfeed__bannered-job-image"})),e.createElement("div",{className:"newsfeed__bannered-job-text"},e.createElement("div",{className:"newsfeed__bannered-job-company"},this.props.banneredJob.company," is hiring"),e.createElement("div",{className:"newsfeed__bannered-job-position"},this.props.banneredJob.position),e.createElement("div",{className:"newsfeed__bannered-job-location"},e.createElement("span",{className:"fa fa-map-marker"})," ",this.props.banneredJob.location)))):null,e.createElement(o.SidebarContent,{title:"my"==this.props.competitionSidebarType?"My Competitions":"Recommended Competitions"},e.createElement("div",{className:"newsfeed__competitions-sidebar"},this.props.competitionSidebarList.map(function(t,n){return e.createElement(v.NewsfeedCompetitionSidebar,a.__assign({},t,{key:n}))}))),e.createElement(o.SidebarContent,{title:"recent"==this.props.datasetSidebarType?"Recent Datasets":"Recommended Datasets",titleRightText:"All datasets",titleRightHref:"/datasets"},e.createElement("div",{className:"newsfeed__datasets-sidebar"},this.props.datasetSidebarList.map(function(t,n){return e.createElement(_.NewsfeedDatasetSidebar,a.__assign({},t,{key:n}))}))),e.createElement(o.SidebarContent,{title:"my"==this.props.kernelSidebarType?"My Kernels":"Recommended Kernels",titleRightText:"All kernels",titleRightHref:"/kernels"},e.createElement("div",{className:"newsfeed__datasets-sidebar"},this.props.kernelSidebarList.map(function(t,n){return e.createElement(b.NewsfeedKernelSidebar,a.__assign({},t,{key:n}))}))),e.createElement(o.SidebarContent,{title:"recent"==this.props.topicSidebarType?"Recent Topics":"Recommended Topics"},e.createElement("div",{className:"newsfeed__topics-sidebar"},this.props.topicSidebarList.map(function(t,n){return e.createElement(y.NewsfeedTopicSidebar,a.__assign({},t,{key:n}))}))),e.createElement(o.SidebarContent,{title:"Recent Jobs",titleRightText:"All jobs",titleRightHref:"/jobs"},e.createElement("div",{className:"newsfeed__jobs-sidebar"},this.props.jobsBoardSidebarList.map(function(t,n){return e.createElement(E.NewsfeedJobSidebar,a.__assign({},t,{key:n}))}))))))},n}(e.Component);t.Newsfeed=w}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"sidebar-content"},this.props.title?e.createElement("div",{className:"sidebar-content__title-container"},e.createElement("div",{className:"sidebar-content__title"},this.props.title),this.props.titleRightText?e.createElement("div",{className:"sidebar-content__title-right"},this.props.titleRightHref?e.createElement("a",{href:this.props.titleRightHref},this.props.titleRightText):this.props.titleRightText):null):null,e.createElement("div",{className:"sidebar-content__content"},this.props.children),this.props.footerText?e.createElement("div",{className:"sidebar-content__footer"},this.props.footerHref?e.createElement("a",{href:this.props.footerHref},this.props.footerText):this.props.footerText):null)},n}(e.Component);t.SidebarContent=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(20),r=n(46),o=n(107),s=n(8),l=n(6),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderLink=function(t,n){var a=this;return e.createElement("a",{onClick:function(){return a.recordActionLinkClicked()},href:t},n)},n.prototype.renderCommentLink=function(t,n){return 0===n?null:this.renderLink(t,e.createElement("span",{className:"newsfeed-story-header__comments"},e.createElement("i",{className:"fa fa-comment"})," ",n))},n.prototype.recordActionLinkClicked=function(){s.Current.isSiteAdminOrTvc||ga("send","event","newsfeed","story-"+this.props.storyType+"-action-clicked",this.props.storyItemId)},n.prototype.recordUserLinkClicked=function(){s.Current.isSiteAdminOrTvc||ga("send","event","newsfeed","story-"+this.props.storyType+"-user-clicked",this.props.storyItemId)},n.prototype.renderActionText=function(){switch(this.props.storyType){case"forumMessage":case"competitionMessage":case"datasetMessage":return e.createElement("span",null," replied to ",this.renderLink(this.props.discussion.messageUrl,this.props.discussion.topicName));case"forumTopic":case"datasetTopic":case"competitionTopic":return e.createElement("span",null," created topic ",this.renderLink(this.props.discussion.topicUrl,this.props.discussion.topicName));case"kernelMessage":return e.createElement("span",null," commented on kernel ",this.renderLink(this.props.discussion.messageUrl,this.props.kernel.kernelName));case"competitionStarted":return e.createElement("span",null," launched competition ",this.renderLink(this.props.competition.competitionUrl,this.props.competition.competitionName));case"competitionEnded":return e.createElement("span",null,"'s competition concluded ",this.renderLink(this.props.competition.competitionUrl,this.props.competition.competitionName));case"competitionFinalized":return e.createElement("span",null,"'s competition finalized ",this.renderLink(this.props.competition.competitionUrl,this.props.competition.competitionName));case"kernel":case"kernelRun":return e.createElement("span",null," ran kernel ",this.renderLink(this.props.kernel.kernelUrl,this.props.kernel.kernelName));case"kernelUpvote":return e.createElement("span",null," upvoted kernel ",this.renderLink(this.props.kernel.kernelUrl,this.props.kernel.kernelName));case"dataset":return e.createElement("span",null," posted new dataset ",this.renderLink(this.props.dataset.datasetUrl,this.props.dataset.datasetTitle));case"datasetVersion":return e.createElement("span",null," updated dataset ",this.renderLink(this.props.dataset.datasetUrl,this.props.dataset.datasetTitle));case"datasetFeature":return e.createElement("span",null,"'s dataset ",this.renderLink(this.props.dataset.datasetUrl,this.props.dataset.datasetTitle)," is now featured");case"datasetTrending":return e.createElement("span",null,"'s dataset ",this.renderLink(this.props.dataset.datasetUrl,this.props.dataset.datasetTitle)," is currently trending");case"datasetUpvote":return e.createElement("span",null," upvoted dataset ",this.renderLink(this.props.dataset.datasetUrl,this.props.dataset.datasetTitle));case"blogPost":return e.createElement("span",null," posted blog ",this.renderLink(this.props.blog.blogUrl,this.props.blog.blogTitle));default:return null}},n.prototype.renderGrandParentText=function(){switch(this.props.storyType){case"forumMessage":case"competitionMessage":case"datasetMessage":case"forumTopic":case"datasetTopic":case"competitionTopic":return e.createElement("span",null," in ",this.renderLink(this.props.discussion.forumUrl,this.props.discussion.forumName),this.renderCommentLink(this.props.comments.commentsUrl,this.props.comments.commentCount));case"kernel":case"kernelRun":return e.createElement("span",null," on ",this.props.kernel.kernelHasMultipleDataSources?e.createElement("span",null,this.renderLink(this.props.kernel.kernelDataUrl,"multiple data sources")):this.props.competition.competitionName?e.createElement("span",null,"competition ",this.renderLink(this.props.competition.competitionUrl,this.props.competition.competitionName)):e.createElement("span",null,"dataset ",this.renderLink(this.props.dataset.datasetUrl,this.props.dataset.datasetTitle)),e.createElement("span",null,"  "),this.renderCommentLink(this.props.comments.commentsUrl,this.props.comments.commentCount));case"kernelUpvote":return e.createElement("span",null,e.createElement("span",null,"  "),e.createElement("span",null," by ",this.renderLink(this.props.upvotedItemAuthor.userUrl,this.props.upvotedItemAuthor.userDisplayName)," "),e.createElement("span",null," on ",this.props.kernel.kernelHasMultipleDataSources?e.createElement("span",null,this.renderLink(this.props.kernel.kernelDataUrl,"multiple data sources")):this.props.competition.competitionName?e.createElement("span",null,"competition ",this.renderLink(this.props.competition.competitionUrl,this.props.competition.competitionName)):e.createElement("span",null,"dataset ",this.renderLink(this.props.dataset.datasetUrl,this.props.dataset.datasetTitle))),e.createElement("span",null,"  "),this.renderCommentLink(this.props.comments.commentsUrl,this.props.comments.commentCount));case"datasetUpvote":return e.createElement("span",null,e.createElement("span",null,"  "),e.createElement("span",null," by ",this.renderLink(this.props.upvotedItemAuthor.userUrl,this.props.upvotedItemAuthor.userDisplayName)," "));default:return null}},n.prototype.render=function(){var t=this;return e.createElement("div",{className:l("newsfeed-story-header",this.props.borderless?"newsfeed-story-header--borderless":"newsfeed-story-header--bordered")},this.props.vote?e.createElement("div",{className:"newsfeed-story-header__vote-button-container"},e.createElement(o.VoteButton,{voteUpUrl:this.props.vote.upvoteUrl,canDownvote:this.props.vote.canDownvote,canUpvote:this.props.vote.canUpvote,hasAlreadyVotedUp:this.props.vote.hasAlreadyUpvoted,hasAlreadyVotedDown:this.props.vote.hasAlreadyDownvoted,totalVotes:this.props.vote.voteCount,voteDownUrl:this.props.vote.downvoteUrl,analyticsEventLabel:"newsfeed"})):null,e.createElement("div",{className:l("newsfeed-story-header__avatar-container",this.props.vote?null:"newsfeed-story-header__avatar-container--no-voting")},e.createElement(r.Avatar,{tier:this.props.user.userTier,displayName:this.props.user.userDisplayName,thumbnailUrl:this.props.user.userAvatarUrl,userUrl:this.props.user.userUrl,analyticsEventLabel:"newsfeed"})),e.createElement("div",{className:"newsfeed-story-header__text-container"},e.createElement("div",{className:"newsfeed-story-header__label"},e.createElement("a",{onClick:function(){return t.recordUserLinkClicked()},href:this.props.user.userUrl},this.props.user.userDisplayName),this.renderActionText()),e.createElement("div",{className:"newsfeed-story-header__sublabel"},e.createElement(i.TimeAgo,{condense:!0,time:this.props.date}),this.renderGrandParentText())))},n}(e.Component);t.NewsfeedStoryHeader=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"newsfeed-blog"},e.createElement("img",{className:"newsfeed-blog__image",src:this.props.blog.blogImageUrl}),e.createElement("div",{className:"newsfeed-blog__summary",dangerouslySetInnerHTML:{__html:this.props.blog.blogSummary}}))},n}(e.Component);t.NewsfeedBlog=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(300),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"newsfeed-competition"},e.createElement("div",{className:"newsfeed-competition__content"},e.createElement("img",{src:this.props.competition.competitionImageUrl,className:"newsfeed-competition__image"}),e.createElement("div",{className:"newsfeed-competition__content-text-container"},e.createElement("a",{className:"newsfeed-competition__content-title",href:this.props.competition.competitionUrl},this.props.competition.competitionName),e.createElement("div",{className:"newsfeed-competition__content-overview"},this.props.competition.competitionOverview))),"competitionStarted"!=this.props.storyType?e.createElement("div",{className:"newsfeed-competition__results-container"},e.createElement("div",{className:"newsfeed-competition__results-label"},"competitionEnded"==this.props.storyType?"Preliminary Results":"Final Results"),this.props.competition.teams.map(function(t){return e.createElement("div",{className:"newsfeed-competition__results-team-container"},e.createElement("div",{className:"newsfeed-competition__results-team-rank"},e.createElement(i.FormatPlace,{number:t.rank})),1==t.users.length?e.createElement("a",{className:"newsfeed-competition__results-team-link",href:t.users[0].url},t.users[0].name):e.createElement("div",{className:"newsfeed-competition__results-team-group"},t.name," ",e.createElement("span",{className:"newsfeed-competition__results-team-user-list"},"(",t.users.map(function(n,a){return e.createElement("span",null,e.createElement("a",{className:"newsfeed-competition__results-team-user",href:n.url},n.name),a<t.users.length-1?", ":"")}),")")))}),"competitionEnded"==this.props.storyType?e.createElement("div",{className:"newsfeed-competition__preliminary-label"},"This reflects the preliminary standings - results will become final after the competition organizers verify the results."):null):null)},n}(e.Component);t.NewsfeedCompetition=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(60),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"newsfeed-dataset"},e.createElement("div",{className:"newsfeed-dataset__content"},e.createElement("a",{className:"newsfeed-dataset__content-imagelink",href:this.props.dataset.datasetUrl},e.createElement("img",{src:this.props.dataset.datasetImageUrl,className:"newsfeed-dataset__image"})),e.createElement("div",{className:"newsfeed-dataset__content-text-container"},e.createElement("a",{className:"newsfeed-dataset__content-title",href:this.props.dataset.datasetUrl},this.props.dataset.datasetTitle),e.createElement("div",{className:"newsfeed-dataset__content-overview"},this.props.dataset.datasetOverview))),"datasetVersion"==this.props.storyType?e.createElement("div",{className:"newsfeed-dataset__version-notes-container"},e.createElement("div",{className:"newsfeed-dataset__version-notes-label"},"Version notes"),e.createElement(i.MarkdownConverter,{contentClassName:"newsfeed-dataset__version-notes-text",content:this.props.dataset.datasetVersionNotes,mimeType:"text/markdown",insertNofollow:!0})):null)},n}(e.Component);t.NewsfeedDataset=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"newsfeed-kernel"},this.props.kernel.kernelVisualizationUrl?e.createElement("div",{className:"newsfeed-kernel__image-container"},e.createElement("a",{href:this.props.kernel.kernelUrl},e.createElement("img",{className:"newsfeed-kernel__image",src:this.props.kernel.kernelVisualizationUrl}))):null)},n}(e.Component);t.NewsfeedKernel=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(127),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"newsfeed-message"},e.createElement("div",{className:"newsfeed-message__content"},e.createElement(i.ForumMessageContent,{rawMarkdown:this.props.discussion.messageRawMarkdown,rawHtml:this.props.discussion.messageRawHtml})))},n}(e.Component);t.NewsfeedMessage=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(300),r=n(6),o=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderChecklistItem=function(t,n,a){return e.createElement("div",{className:r("newsfeed-progression__item","newsfeed-progression__item--"+(t.isComplete?"checked":"unchecked"),"newsfeed-progression__item--"+n),key:a},t.name)},n}return a.__extends(n,t),n.prototype.toTitleCase=function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},n.prototype.renderTierList=function(t,n,a,o,s,l){var c=this;return e.createElement("div",{className:"newsfeed-progression"},e.createElement("a",{href:"grandmaster"==n?"/rankings?group="+t.toLowerCase():"/progression#"+s,className:r("newsfeed-progression__header","newsfeed-progression__header--"+n)},t," ",this.toTitleCase(n)),e.createElement("div",{className:"newsfeed-progression__list-container"},"grandmaster"==n?e.createElement("div",{className:"newsfeed-progression__ranking"},o?e.createElement("span",null,"Ranked ",e.createElement(i.FormatPlace,{number:o})):"Unranked"):l.map(function(e,t){return c.renderChecklistItem(e,n,t)})))},n.prototype.render=function(){var t=this;return this.props.isContributorOrHigher?e.createElement("div",null,this.renderTierList("Competitions",this.props.currentCompetitionTier,"competition",this.props.currentCompetitionRanking,this.props.nextCompetitionTier,this.props.competitionChecklist),this.renderTierList("Kernels",this.props.currentKernelTier,"scripts",this.props.currentKernelRanking,this.props.nextKernelTier,this.props.kernelChecklist),this.renderTierList("Discussion",this.props.currentDiscussionTier,"discussions",this.props.currentDiscussionRanking,this.props.nextDiscussionTier,this.props.discussionChecklist)):e.createElement("div",{className:"newsfeed-progression"},e.createElement("div",{className:"newsfeed-progression__header newsfeed-progression__header--novice"},"Novice"),e.createElement("div",null,this.props.contributorChecklist.map(function(e,n){return t.renderChecklistItem(e,"novice",n)})))},n}(e.Component);t.NewsfeedProgression=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(20),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"newsfeed-competition-sidebar"},e.createElement("div",{className:"newsfeed-competition-sidebar__container"},e.createElement("a",{href:this.props.competitionUrl},e.createElement("img",{src:this.props.imageUrl,className:"newsfeed-competition-sidebar__image"})),e.createElement("div",{className:"newsfeed-competition-sidebar__text-container"},e.createElement("div",{className:"newsfeed-competition-sidebar__title"},e.createElement("a",{href:this.props.competitionUrl},this.props.title)),e.createElement("div",{className:"newsfeed-competition-sidebar__sub-content"},e.createElement("div",{className:"newsfeed-competition-sidebar__hover-links"},e.createElement("ul",null,e.createElement("li",null,e.createElement("a",{href:this.props.leaderboardUrl},"Leaderboard")),e.createElement("li",null,e.createElement("a",{href:this.props.forumUrl},"Forum")),e.createElement("li",null,e.createElement("a",{href:this.props.submissionsUrl},"Submissions")))),e.createElement("div",{className:"newsfeed-competition-sidebar__remaining"},e.createElement("ul",null,this.props.ranking?e.createElement("li",null,this.props.ranking," of ",this.props.totalTeams):null,e.createElement("li",null,e.createElement(i.TimeAgo,{time:this.props.deadline,toGoOverride:"remaining"}))))))))},n}(e.Component);t.NewsfeedCompetitionSidebar=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(41),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"newsfeed-dataset-sidebar"},e.createElement("div",{className:"newsfeed-dataset-sidebar__container"},e.createElement("a",{href:this.props.datasetUrl},e.createElement("img",{src:this.props.imageUrl,className:"newsfeed-dataset-sidebar__image"})),e.createElement("div",{className:"newsfeed-dataset-sidebar__text-container"},e.createElement("div",{className:"newsfeed-dataset-sidebar__title"},e.createElement("a",{href:this.props.datasetUrl},this.props.title)),e.createElement("div",{className:"newsfeed-dataset-sidebar__sub-content"},this.props.kernelCount>0?e.createElement("a",{href:this.props.kernelsUrl},e.createElement(i.Pluralize,{count:this.props.kernelCount,word:"kernels"})):null,this.props.kernelCount>0&&this.props.topicCount>0?e.createElement("span",null,"  "):null,this.props.topicCount>0?e.createElement("a",{href:this.props.forumUrl},e.createElement(i.Pluralize,{count:this.props.topicCount,word:"topics"})):null))))},n}(e.Component);t.NewsfeedDatasetSidebar=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(20),r=n(41),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"newsfeed-kernel-sidebar"},e.createElement("div",{className:"newsfeed-kernel-sidebar__container"},e.createElement("a",{href:this.props.kernelUrl},e.createElement("img",{src:this.props.imageUrl,className:"newsfeed-kernel-sidebar__image"})),e.createElement("div",{className:"newsfeed-kernel-sidebar__text-container"},e.createElement("div",{className:"newsfeed-kernel-sidebar__title"},e.createElement("a",{href:this.props.kernelUrl},this.props.title)),e.createElement("div",{className:"newsfeed-kernel-sidebar__sub-content"},e.createElement("ul",null,e.createElement("li",null,e.createElement(i.TimeAgo,{time:this.props.lastRunDate})),e.createElement("li",null,e.createElement(r.Pluralize,{count:this.props.voteCount,word:"votes"})),e.createElement("li",null,e.createElement("a",{href:this.props.commentsUrl},e.createElement(r.Pluralize,{count:this.props.commentCount,word:"comments"}))))))))},n}(e.Component);t.NewsfeedKernelSidebar=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"newsfeed-job-sidebar"},e.createElement("div",{className:"newsfeed-job-sidebar__container"},e.createElement("a",{href:this.props.postUrl},e.createElement("img",{src:this.props.imageUrl,className:"newsfeed-job-sidebar__image"})),e.createElement("div",{className:"newsfeed-job-sidebar__text-container"},e.createElement("div",{className:"newsfeed-job-sidebar__title"},e.createElement("a",{href:this.props.postUrl},this.props.position)),e.createElement("div",{className:"newsfeed-job-sidebar__sub-content"},this.props.company," ",e.createElement("span",null,"  "),e.createElement("span",{className:"fa fa-map-marker"})," ",this.props.location))))},n}(e.Component);t.NewsfeedJobSidebar=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(20),r=n(41),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"newsfeed-topic-sidebar"},e.createElement("div",{className:"newsfeed-topic-sidebar__container"},e.createElement("a",{href:this.props.topicUrl},e.createElement("img",{src:this.props.avatarUrl,className:"newsfeed-topic-sidebar__image"})),e.createElement("div",{className:"newsfeed-topic-sidebar__text-container"},e.createElement("div",{className:"newsfeed-topic-sidebar__title"},e.createElement("a",{href:this.props.topicUrl},this.props.topicName)),e.createElement("div",{className:"newsfeed-topic-sidebar__sub-content"},e.createElement("ul",null,e.createElement("li",null,e.createElement(i.TimeAgo,{time:this.props.lastUserMessageDate})),e.createElement("li",null,e.createElement("a",{href:this.props.topicUrl},e.createElement(r.Pluralize,{count:this.props.totalPosts,word:"comments"}))))))))},n}(e.Component);t.NewsfeedTopicSidebar=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(4),r=function(t){function n(n){var a=t.call(this,n)||this;return a.renderTitle=function(t,n){if(n.isLoadingMoreData)return" ";var r="competition",o="";switch(n.values.group){case"active":r="active competition";break;case"entered":o="you've entered";break;case"hosted":o="you've hosted"}var s=n.data?n.data.totalCompetitions:a.props.totalCompetitions;return n.data?e.createElement("span",null,e.createElement(i.Pluralize,{count:s,word:r,formatNumber:!0})," ",o):" "},a.renderCompetition=function(t,n,a){return e.createElement(i.CompetitionCard,{key:t.competitionId,competition:t,onClick:a})},a.filters=[{placeholder:"Segment",parameter:"segment",options:a.props.hostSegmentOptions}],a}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"view-competition-list"},e.createElement(i.Banner,{callToActionText:"Learn more",callToActionUrl:"/about/competitions",callToActionText2:this.props.canSeeNewWorldInClassCreation&&e.createElement("span",null,e.createElement("span",{className:"fa fa-graduation-cap"})," InClass"),callToActionUrl2:this.props.canSeeNewWorldInClassCreation&&"/about/inclass/overview",title:"Competitions",infoTitle:"Welcome to Kaggle Competitions",infoSubtitle:"Challenge yourself with real-world machine learning problems",infoBanner:this.props.banner,bannerImageClassName:"view-competition-list__banner-image",panels:[{imageSrc:"/static/images/comps-1-new.png",title:"New to Data Science?",description:e.createElement("span",null,"Get started with a tutorial on our most popular competition for beginners,",e.createElement("span",null," "),e.createElement("a",{href:"/c/titanic",className:"view-competition-list__banner_link"},"Titanic: Machine Learning from Disaster"),".")},{imageSrc:"/static/images/comps-2-build.png",title:"Build a Model",description:"Get the data & use whatever tools or methods you prefer to make predictions."},{imageSrc:"/static/images/comps-3-submit.png",title:"Make a Submission",description:"Upload your prediction file for real-time scoring & a spot on the leaderboard."}]}),e.createElement("div",{className:"view-competition-list__wrapper"},e.createElement(i.SmartListContainer,{titleResolver:this.renderTitle,data:this.props,dataUrl:"/competitions.json",dataPathToList:"competitions",groups:this.props.selectionGroupOptions,sortOptions:this.props.sortByOptions,itemRenderer:this.renderCompetition,pluralItemDescription:"competitions",mobileSortUpperBound:i.Breakpoints.tabletMax,filtersOptions:this.filters,searchIndex:"competitions",values:this.props.values,groupDefaultSortBys:[{group:"active",sortBy:"prize"},{group:"all",sortBy:"deadline"},{group:"unlaunched",sortBy:"recentlyCreated"}],searchableGroups:["active","all"],groupSearchRedirects:[{searchedGroup:"active",redirectToGroup:"all"}],listHeaderRenderer:function(t,n){return"inClass"==n.values.segment&&("all"==n.values.group||"active"==n.values.group)&&e.createElement("div",{className:"view-competition-list__inclass-header"},e.createElement("div",{className:"view-competition-list__inclass-header-title"},e.createElement("div",null,"InClass"),e.createElement("div",null,"Competitions")),e.createElement("div",{className:"view-competition-list__inclass-header-overview"},e.createElement("div",null,"Host a free competition for your students to"),e.createElement("div",null,"apply machine learning to real problems.")),e.createElement("div",{className:"view-competition-list__inclass-header-button-container"},e.createElement("a",{className:"view-competition-list__inclass-header-button",href:"/about/inclass/overview"},"More Information")))}})))},n}(e.Component);t.ViewCompetitionList=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(32),o=n(1605),s=n(4),l=500,c=function(t){function n(e){var n=t.call(this,e)||this;return n.queuedTimer=new s.Timer,n.runningTimer=new s.Timer,n.initState=function(){var e=(n.props.script.id||n.props.script.scriptId)<=0;n.state={script:{projectId:n.props.scriptProject.projectId,forkParentScriptVersionId:n.props.script.forkParentScriptVersionId,newText:n.props.scriptVersion.text,newTitle:n.props.scriptVersion.title,scriptId:n.props.script.id,scriptLanguageName:n.props.scriptVersion.languageName.toLowerCase(),isLanguageTemplate:n.props.script.isLanguageTemplate,isPrivate:n.props.script.isPrivate||e,dataSources:n.props.dataSources||[]},scriptUrl:n.props.urls.script,isUnsavedPrivateKernel:e,tab:null,scriptVersionId:n.props.scriptVersion.id,status:null,outputLog:[],outputFiles:null,runInfo:{},isEditingTitle:!1,versionNumber:n.props.scriptVersion.thisScriptVersionNumber,orphanedDataSources:[],onLanguageChange:n.onLanguageChange,onDataSourceAdded:n.onDataSourceAdded,onDataSourceRemoved:n.onDataSourceRemoved,onRunStart:r.debounce(n.onRunStart,500),onRunEnd:n.onRunEnd,onRunCancel:n.onRunCancel,onScriptChange:n.onScriptChange,onTabChange:n.onTabChange,onTitleFocus:n.onTitleFocus,onTitleBlur:n.onTitleBlur,onTitleChange:n.onTitleChange,onToggleOutputPreview:n.onToggleOutputPreview,onUploadScriptClick:n.onUploadScriptClick,onDownloadScriptClick:n.onDownloadScriptClick,onSubmitCode:n.onSubmitCode,onChangeToPublic:n.onChangeToPublic,onMetadataChange:n.props.urls.submitToCompUrl||n.props.urls.scriptProject&&-1!==n.props.urls.scriptProject.indexOf("/c/")?null:n.updateInputFileMetadata}},n.initTimerCallbacks=function(){n.queuedTimer.setDisplayCallback(function(e){s.PageMessages.info("Queued - Queue Time: "+e,{clear:!0,faIcon:"fa-cog fa-spin"})}),n.runningTimer.setDisplayCallback(function(e){s.PageMessages.info("Running - Run Time: "+e,{clear:!0,faIcon:"fa-refresh fa-spin"})})},n.setScriptState=function(e){var t=i.__assign({},n.state.script,e);n.setState({script:t})},n.fetchStatus=function(){return a.get(n.props.urls.versionStatus+"?id="+n.state.scriptVersionId+"&existingStatus="+n.state.status).done(function(e){var t=e.status;switch(t){case"complete":case"error":n.onRunEnd(e);break;case"running":n.queuedTimer.stopTimer(),n.runningTimer.isRunning()||n.runningTimer.startTimer()}var a={status:t};e.thisScriptVersionNumber&&(a.versionNumber=e.thisScriptVersionNumber),n.setState(a)}).fail(n.onError)},n.fetchOutput=function(){var e={scriptRun:{id:n.state.scriptVersionId,status:n.subs.status,streams:{stdout:n.subs.stdout,stderr:n.subs.stderr}}};return a.ajax({url:"/redis/sub",type:"POST",data:JSON.stringify(e),processData:!1,contentType:"application/json",dataType:"json"}).done(function(e){var t=r.chain(e.Result).pluck("Position").max().value(),a=function(a){n.subs[a]=t;var i=n.state.outputLog.concat(e.Result.map(function(e,t){return{stream_name:a,data:e.Value,time:e.Position.toFixed(1),lineNo:n.state.outputLog.length+t+1}}));n.setState({outputLog:i})};switch(e.Key){case"streams:stdout":a("stdout");break;case"streams:stderr":a("stderr");break;case"status":n.subs.status=t}}).fail(n.onError)},n.startPolling=function(){n.poll(n.fetchStatus),n.poll(n.fetchOutput)},n.poll=function(e){return i.__awaiter(n,void 0,void 0,function(){var t=this;return i.__generator(this,function(n){switch(n.label){case 0:return this.shouldPoll?[4,e()]:[2];case 1:return n.sent(),window.setTimeout(function(){return t.poll(e)},l),[2]}})})},n.mapOutputFiles=function(e){var t=e.slice();return t.forEach(function(e){e.fileName===o.RMARKDOWN_OUTPUT_FILE_NAME&&(e.filePreviewUrl=e.fileUrl)}),t},n.downloadFile=function(e,t){var n=window.document.createElement("a");n.href=window.URL.createObjectURL(new Blob([e],{type:"text/plain"})),n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)},n.onDataSourceAdded=function(e){return n.state.script.dataSources.push(e),n.props.scriptVersion.id?s.addDataSource(e,n.props.scriptVersion.id).then(function(e){return e&&n.setState({dataSources:e})}):n.fetchDataSources()},n.onChangeToPublic=function(){n.setScriptState({isPrivate:!1})},n.onDataSourceRemoved=function(e){return n.state.script.dataSources=r.filter(n.state.script.dataSources,function(t){return t.sourceId!==e.sourceId}),n.props.scriptVersion.id?s.removeDataSource(e,n.props.scriptVersion.id).then(function(e){return n.setState({dataSources:e})}):n.fetchDataSources()},n.fetchDataSources=function(){return s.getDataSources(n.state.script.dataSources).then(function(e){return n.setState({dataSources:e,script:n.state.script})})},n.onKeyDown=function(e){e.shiftKey&&13==e.keyCode&&(n.onRunStart(),e.preventDefault())},n.onUploadScriptClick=function(e){var t=e.target.files[0],a=new FileReader;a.onload=function(e){n.setScriptState({newText:a.result})},a.readAsText(t)},n.onDownloadScriptClick=function(){var e=n.props.scriptProject.availableLanguagesWithTemplates.filter(function(e){return e.languageName.toLowerCase()===n.state.script.scriptLanguageName})[0].defaultFileName;n.downloadFile(n.state.script.newText,e)},n.onError=function(){n.runningTimer.setToZero(),n.queuedTimer.setToZero(),s.PageMessages.error("An error has occurred. Please try rerunning the script.",{clear:!0})},n.onTitleFocus=function(){n.setState({isEditingTitle:!0})},n.onTitleBlur=function(e){n.state.script.newTitle?(s.PageMessages.clear(),n.setState({isEditingTitle:!1})):s.PageMessages.error("Script title cannot be empty",{clear:!0})},n.onTitleChange=function(e){n.setScriptState({newTitle:e.target.value})},n.onLanguageChange=function(e){var t=n.props.scriptProject.availableLanguagesWithTemplates,a=t.some(function(e){return e.template===n.state.script.newText}),i=a?t.filter(function(t){return t.languageName.toLowerCase()===e})[0].template:n.state.script.newText;n.setScriptState({scriptLanguageName:e,newText:i})},n.onScriptChange=function(e){n.setScriptState({newText:e})},n.onTabChange=function(e){return new Promise(function(t,a){n.setState({tab:e},t)})},n.onToggleOutputPreview=function(e){e.expanded=!e.expanded,n.setState({outputFiles:n.state.outputFiles})},n.onRunStart=function(){return n.runningTimer.setToZero(),n.queuedTimer.setToZero(),n.queuedTimer.startTimer(),a.ajax({type:"POST",url:n.props.urls.saveVersion,contentType:"application/json",dataType:"json",data:JSON.stringify(n.state.script)}).then(function(e){var t=e.versionId,a=e.status,i=e.scriptId;"error"===a?(n.queuedTimer.stopTimer(),s.PageMessages.error(e.message,{clear:!0})):(e.newUrl&&history.replaceState({},null,e.newUrl+"/edit"),n.subs={stdout:-1,stderr:-1,status:0},n.shouldPoll=!0,n.setScriptState({scriptId:i}),n.setState({outputLog:[],tab:"log",runInfo:{},outputFiles:[],isUnsavedPrivateKernel:!1,scriptUrl:e.newUrl||n.state.scriptUrl,scriptVersionId:t,status:a},function(){return n.startPolling()}),window.Intercom("trackEvent","run_script",{script_id:i}),n.props.isDataset?window.Intercom("trackEvent","run_dataset_script",{script_id:i}):window.Intercom("trackEvent","run_comp_script",{script_id:i}))})},n.onRunError=function(){s.PageMessages.error({htmlMessage:'<span class="script-editor__page-message">Run Failed - Run Time: '+n.runningTimer.getElapsedTimeString()+'<a href="'+n.state.scriptUrl+'">View Completed Script (Exit Editor) <i class="fa fa-angle-double-right" /></a></span>'},{clear:!0})},n.onRunComplete=function(e){"rmarkdown"===n.state.script.scriptLanguageName?n.setState({tab:"html"}):e.length>0&&n.setState({tab:"output"}),s.PageMessages.success({htmlMessage:'<span class="script-editor__page-message">Run Successful - Run Time: '+n.runningTimer.getElapsedTimeString()+' <a href="'+n.state.scriptUrl+'">View Completed Script (Exit Editor) <i class="fa fa-angle-double-right" /></a></span>'},{clear:!0})},n.onRunEnd=function(e){n.queuedTimer.stopTimer(),n.runningTimer.stopTimer(),n.shouldPoll=!1;var t=e.consoleOutput?JSON.parse(e.consoleOutput):[],a=n.mapOutputFiles(e.outputFiles);n.setState({runInfo:e.runInfo,outputLog:t,outputFiles:a},function(){switch(e.status){case"complete":n.onRunComplete(a);break;case"error":n.onRunError()}})},n.onRunCancel=function(){n.queuedTimer.stopTimer(),n.runningTimer.stopTimer(),s.PageMessages.clear(),a.ajax({url:n.props.urls.cancel,type:"POST",data:{scriptVersionId:n.state.scriptVersionId}}).then(function(){n.shouldPoll=!1,n.setState({status:"cancelled"})})},n.onSubmitCode=function(){var e=a.extend({isCodeSubmission:!0},n.state.script);a.post(n.props.urls.saveVersion,e,null,"json").then(function(e){e.message?s.PageMessages.error(e.message,{clear:!0}):window.location.href=e.submitRedirectUrl}).fail(function(e){var t=a.parseJSON(e.responseText);t&&t.details?s.PageMessages.error(t.details,{clear:!0}):n.onError()})},n.updateInputFileMetadata=function(e,t,i){if(!n.props.urls.submitToCompUrl&&-1===n.props.urls.scriptProject.indexOf("/c/")){var r={fileName:e,columns:[{fileName:e,columnIndex:t,description:i.description,dataType:i.harmonizedDataType}]},o=n.props.urls.scriptProject+"/datadictionary.json";a.ajax({context:n,url:o,type:"PATCH",processData:!1,contentType:"application/json",dataType:"text",data:JSON.stringify(r),success:function(e){e&&s.PageMessages.error("Your description could not be saved: "+e,{clear:!0})},error:function(){s.PageMessages.error("Sorry, there was a problem saving your update.",{clear:!0})}})}},n.initState(),n.initTimerCallbacks(),n}return i.__extends(n,t),n.prototype.componentDidMount=function(){document.addEventListener("keydown",this.onKeyDown,!1)},n.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.onKeyDown,!1)},n.prototype.render=function(){var t=i.__assign({},this.props,this.state);return e.createElement(o.ScriptEditor,t)},n}(e.Component);t.ScriptEditorContainer=c}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(1606);n(1610),n(1611),n(1612),n(1613),n(1614),n(1619),n(1620);var r=n(4),o=n(296),s=n(674),l=n(9),c=n(8),u=n(442);t.RMARKDOWN_OUTPUT_FILE_NAME="__results__.html";var p=function(n){function p(p){var d=n.call(this,p)||this;return d.noOutputLines=0,d.allTabs=[{title:"Code",text:"Code",actionCallback:function(){return d.props.onTabChange("code")}},{title:"Input",text:"Data",actionCallback:function(){return d.props.onTabChange("input")}},{title:"Output",text:"Output",actionCallback:function(){return d.props.onTabChange("output")}},{title:"Log",text:"Log",actionCallback:function(){return d.props.onTabChange("log")}},{title:"HTML",text:"HTML",actionCallback:function(){return d.props.onTabChange("html")}},{title:"Info",text:"Info",actionCallback:function(){return d.props.onTabChange("info")}}],d.checkAddDataSourceModal=function(){return a.__awaiter(d,void 0,void 0,function(){var e;return a.__generator(this,function(t){switch(t.label){case 0:return e=this.props.dataSources&&this.props.dataSources.length>0&&this.props.dataSources[0],e||0!==this.props.scriptVersionId?[3,2]:[4,this.props.onTabChange("input")];case 1:t.sent(),this.addDataSourceBanner.showModal(),t.label=2;case 2:return[2]}})})},d.fixHorizontalScrollbar=function(){var e=document.createEvent("Event");e.initEvent("resize",!0,!0),window.dispatchEvent(e)},d.tailLog=function(){d.props.outputLog&&d.props.outputLog.length!==d.noOutputLines&&d.logContainer&&(d.logContainer.scrollTop=d.logContainer.scrollHeight,d.noOutputLines=d.props.outputLog.length)},d.getLanguageMode=function(){return"rmarkdown"===d.props.script.scriptLanguageName?"markdown":d.props.script.scriptLanguageName},d.getLanguageOptions=function(){return d.props.scriptProject.availableLanguagesWithTemplates.filter(function(e){return-1===e.languageName.indexOf("Notebook")}).map(function(e){return{label:e.languageName,value:e.languageName.toLowerCase(),aceMode:e.aceLanguageName}})},d.getTabs=function(e){var t=d.allTabs;return e||(t=t.filter(function(e){return"Code"!==e.title})),d.props.outputFiles&&d.getHtmlOutputFile()||(t=t.filter(function(e){return"HTML"!==e.title})),t},d.getHtmlOutputFile=function(){return d.props.outputFiles.filter(function(e){return e.fileName===t.RMARKDOWN_OUTPUT_FILE_NAME})[0]},d.getActiveTab=function(e){return d.props.tab?d.props.tab:"desktop"===e?"input":"code"},d.getTabSelectOptions=function(){return d.getTabs(!0).map(function(e){return{label:e.title,value:e.title.toLowerCase()}})},d.getVisualizationFiles=function(){return d.props.outputFiles?d.props.outputFiles.filter(function(e){return[".png",".jpg",".gif",".svg"].indexOf(e.fileType)>-1}):null},d.getNonVisualizationFiles=function(){return d.props.outputFiles?d.props.outputFiles.filter(function(e){return-1==[".png",".jpg",".gif",".svg"].indexOf(e.fileType)}):null},d.passUpExpandedDataSourcesState=function(e){d.setState({initialExpandedDataSourcesState:{activeFile:e.activeFile,activeDataSource:e.activeDataSource,expandedDataSources:e.expandedDataSources,isShowingDataSourcePreview:e.isShowingDataSourcePreview}})},d.shouldShowOutputPreviewList=function(){return d.props.outputFiles&&d.getNonVisualizationFiles().length>0||!d.shouldShowVisualizationsBox()},d.shouldShowVisualizationsBox=function(){return d.props.outputFiles&&d.getVisualizationFiles().length>0},d.renderVisualizationsBox=function(){return e.createElement("div",null,(d.getVisualizationFiles()||[]).length>0?d.getVisualizationFiles().map(function(t){return e.createElement("img",{className:"script-editor__visualization",src:t.fileUrl})}):d.renderNoOutputMessage())},d.renderNoOutputMessage=function(){return e.createElement("div",{className:"script-editor__no-output"},e.createElement(l.ContentBox,null,"No output"))},d.renderTabbedContent=function(t){switch(d.getActiveTab(t)){case"code":return d.renderEditor(t);case"log":return e.createElement("div",{className:"script-editor__log",ref:function(e){return d.logContainer=e}},e.createElement(s.ScriptLogSection,{logLineData:d.props.outputLog,withContentBox:!1}));case"input":if(d.props.dataSources&&0===d.props.dataSources.length)return e.createElement("div",{className:"script-editor__add-data-source-banner"},e.createElement(u.AddDataSourceBanner,{ref:function(e){return d.addDataSourceBanner=e},onDataSourceAdded:d.props.onDataSourceAdded}));if(d.props.inputFiles&&d.props.inputFiles.length>0||d.props.dataSources&&d.props.dataSources.length>0)return e.createElement(r.FilePreviewList,{files:d.props.inputFiles,dataSources:d.props.dataSources||null,initialExpandedDataSourcesState:d.state.initialExpandedDataSourcesState,userCanEditMetadata:!c.Current.isAnonymous&&d.props.onMetadataChange,onMetadataChange:d.props.onMetadataChange,onDataSourceAdded:d.props.onDataSourceAdded,onDataSourceRemoved:d.props.onDataSourceRemoved,passUpExpandedDataSourcesState:d.passUpExpandedDataSourcesState});case"output":return e.createElement("div",{className:"script-editor__output"},d.shouldShowVisualizationsBox()&&d.renderVisualizationsBox(),d.shouldShowOutputPreviewList()&&(d.getNonVisualizationFiles()||[]).length>0?e.createElement(r.FilePreviewList,{initialExpandedDataSourcesState:d.state.initialExpandedDataSourcesState,files:d.getNonVisualizationFiles(),scriptVersionId:d.props.scriptVersionId,showSubmitToCompButtons:"code"!==d.props.scriptProject.competitionType,submitToCompUrl:d.props.urls.submitToCompUrl,competitionName:d.props.scriptProject.displayName,passUpExpandedDataSourcesState:d.passUpExpandedDataSourcesState}):d.renderNoOutputMessage());case"html":var n=d.getHtmlOutputFile().filePreviewUrl;return n&&e.createElement("iframe",{className:"script-editor__html_iframe",src:n});case"info":return e.createElement(s.ScriptRunInfoSection,a.__assign({},d.props.runInfo,{withContentBox:!1}));default:return null}},d.renderEditor=function(t){return window.setTimeout(function(){return d.fixHorizontalScrollbar()}),e.createElement(i.default,{name:"script-editor",mode:d.getLanguageMode(),value:d.props.script.newText,onChange:d.props.onScriptChange,theme:"monokai",enableBasicAutocompletion:!0,editorProps:{$blockScrolling:1/0},className:"script-editor__ace-editor",showPrintMargin:!1,setOptions:{maxLines:1/0,fontSize:"14px"},height:"auto",width:"auto",tabSize:4})},d.renderTitle=function(){return e.createElement("div",{className:"script-editor__title-area"},e.createElement("input",{className:"script-editor__title-input script-editor__title-input--"+(d.props.isEditingTitle?"focused":"unfocused"),placeholder:"Title",value:d.props.script.newTitle,onChange:d.props.onTitleChange,onFocus:d.props.onTitleFocus,onBlur:d.props.onTitleBlur,autoFocus:!d.props.script.newTitle}))},d.renderTabs=function(t,n){return e.createElement("div",{className:"script-editor__tabs"},e.createElement(r.PageHeaderNav,{classNameModifier:"script-editor",menuLinks:d.getTabs(n),activeTab:d.getActiveTab(t)}))},d.renderRunButton=function(t){return e.createElement("div",{className:"script-editor__call-to-action-area"},"running"!==d.props.status?e.createElement("div",{onClick:d.props.onRunStart,title:"Run Script",className:"pageheader__calltoaction pageheader__calltoaction"},e.createElement("i",{className:"fa fa-play"})," Run"):e.createElement("div",{onClick:d.props.onRunCancel,title:"Cancel Run",className:"pageheader__calltoaction pageheader__calltoaction--muted pageheader__calltoaction"},"Cancel"))},d.renderConvertButton=function(e,t){return null},d.renderLanguageSelectBox=function(t){return e.createElement("div",{className:"script-editor__language-area"},e.createElement(r.SelectBox,{className:"script-editor__language-select-box "+("phone"===t&&"KaggleBoxlessSelect"),options:d.getLanguageOptions(),onChange:d.props.onLanguageChange,value:d.props.script.scriptLanguageName,searchable:!1}))},d.renderScriptProjectThumbnail=function(){var t=d.props.dataSources,n=null,a=null,i=null;switch(t.length){case 0:i="/static/images/no-datasource.png";break;case 1:i=t[0].imageUrl,n=t[0].sourceUrl,a=t[0].title;break;default:i="/static/images/multiple-datasource.png"}return e.createElement("div",{className:"script-editor__project-thumbnail"},e.createElement("a",{href:n,title:a,target:"_blank"},e.createElement("img",{src:i})))},d.renderPrivacyToggle=function(){return e.createElement("div",{className:"script-editor__privacy-toggle"},e.createElement(o.PrivacyToggle,{kernelType:"Script",displayMode:"SelectBox",isPrivate:d.props.script.isPrivate,scriptId:d.props.script.scriptId,onChangeToPublic:d.props.onChangeToPublic}))},d.renderSubmitButton=function(){return"code"===d.props.scriptProject.competitionType&&"python"===d.props.script.scriptLanguageName&&e.createElement("div",{onClick:d.props.onSubmitCode,title:"Submit",className:"pageheader__calltoaction pageheader__calltoaction--secondary"},"Submit")},d.renderDesktopEditor=function(){return e.createElement("div",{className:"script-editor"},e.createElement("div",{className:"script-editor__left-pane"},e.createElement("div",{className:"script-editor__left-pane-header script-editor__full-pane-header"},d.renderScriptProjectThumbnail(),d.renderTitle(),e.createElement("div",{className:"script-editor__upload-button"},e.createElement("label",{htmlFor:"script-file-upload"},e.createElement("i",{className:"fa fa-cloud-upload",title:"Upload script"})),e.createElement("input",{type:"file",id:"script-file-upload",style:{display:"none"},onChange:d.props.onUploadScriptClick})),e.createElement("div",{className:"script-editor__download-button"},e.createElement("i",{className:"fa fa-cloud-download",title:"Download script",onClick:d.props.onDownloadScriptClick})),d.renderLanguageSelectBox("desktop"),d.renderPrivacyToggle(),d.renderConvertButton(!1,"script-editor__convert-to-notebook"),d.renderRunButton("desktop"),d.renderSubmitButton()),e.createElement("div",{className:"script-editor__left-pane-container"},e.createElement("div",{className:"script-editor__page-messages"},e.createElement(r.PageHeaderBottomRow,null)),d.renderEditor("desktop"))),e.createElement("div",{className:"script-editor__right-pane script-editor__right-pane--"+d.props.tab},e.createElement("div",{className:"script-editor__right-pane-header"},d.renderTabs("desktop",!1),e.createElement("div",{className:"script-editor__version-number"},"Version ",d.props.versionNumber),d.props.script.isPrivate?null:e.createElement("div",{className:"script-editor__license-info"},"This script ",d.props.script.scriptId>0?"has been":"will be"," released under the ",e.createElement("a",{target:"_blank",href:"http://www.apache.org/licenses/LICENSE-2.0"},"Apache 2.0")," open source license.")),e.createElement("div",{className:"script-editor__right-pane-content script-editor__right-pane-content--"+d.props.tab},d.renderTabbedContent("desktop"))))},d.renderTabletEditor=function(){return e.createElement("div",{className:"script-editor"},e.createElement("div",{className:"script-editor__full-pane"},e.createElement("div",{className:"script-editor__full-pane-header script-editor__full-pane-header"},d.renderScriptProjectThumbnail(),d.renderTitle(),d.renderTabs("tablet",!0),d.renderLanguageSelectBox("tablet"),d.renderPrivacyToggle(),d.renderConvertButton(!0,"script-editor__convert-to-notebook"),d.renderRunButton("tablet"),d.renderSubmitButton()),e.createElement("div",{className:"script-editor__full-pane-container script-editor__full-pane-container--"+d.props.tab},e.createElement("div",{className:"script-editor__page-messages"},e.createElement(r.PageHeaderBottomRow,null)),d.renderTabbedContent("tablet"))))},d.renderPhoneEditor=function(){return e.createElement("div",{className:"script-editor"},e.createElement("div",{className:"script-editor__full-pane"},e.createElement("div",{className:"script-editor__full-pane-header script-editor__full-pane-header"},d.renderTitle(),e.createElement(r.SelectBox,{options:d.getTabSelectOptions(),onChange:d.props.onTabChange,value:d.getActiveTab("phone"),className:"script-editor__tab-select-box KaggleBoxlessSelect",searchable:!1}),d.renderLanguageSelectBox("phone"),d.renderConvertButton(!0,"script-editor--options"),d.renderRunButton("phone"),d.renderSubmitButton()),e.createElement("div",{className:"script-editor__full-pane-container"},e.createElement("div",{className:"script-editor__page-messages"},e.createElement(r.PageHeaderBottomRow,null)),d.renderTabbedContent("phone"))))},d.state={initialExpandedDataSourcesState:!1},d}return a.__extends(p,n),p.prototype.componentDidMount=function(){this.fixHorizontalScrollbar(),this.checkAddDataSourceModal()},p.prototype.componentDidUpdate=function(){this.tailLog()},p.prototype.render=function(){return e.createElement("div",null,e.createElement(r.MediaQuery,{minWidth:1381},this.renderDesktopEditor()),e.createElement(r.MediaQuery,{minWidth:831,maxWidth:1380},this.renderTabletEditor()),e.createElement(r.MediaQuery,{minWidth:0,maxWidth:830},this.renderPhoneEditor()))},p}(e.Component);t.ScriptEditor=p}).call(t,n(0))},,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){function a(e,t){var n=t.type,a=(t.payload,t.meta),i=a?a.path:null;switch(n){case l:return r.__assign({},e,{editing:e.editing.setIn(i,!1)});case c:return r.__assign({},e,{editing:e.editing.setIn(i,!0)});case u:return r.__assign({},e,{editing:e.editing.setIn(i,!1)});default:return e}}function i(e){return s.createStore(a,e,s.applyMiddleware(p))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(11),s=(n(1622),n(221)),l="COMPETITION_SAVE",c="COMPETITION_EDIT",u="COMPETITION_CANCEL",p=function(t){return function(t){return function(n){var a=(n.type,n.payload);if("FETCH_API"!==n.type)return t(n);var i=n.meta,r=i.url,s=i.method;o(r,"url must exist to fetch"),o(s,"method must be specified to fetch"),e(r,{method:s,headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(e){i.response=e,t(n)})}}};t.createStore=i}).call(t,n(36))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e?new Date(e.toString()).getTime():null}Object.defineProperty(t,"__esModule",{value:!0}),t.resolveTime=a},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(711),r=n(715),o=n(1712),s=n(1713),l=n(716),c=n(1727),u=n(1733),p=n(217),d=n(1735),m=n(1736),h=n(1737),g=n(1741),f=n(1744),v=n(1746),_=n(1748),b=n(439),E=n(455),y=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.onNewKernelClicked=function(){return n.newKernelModalRef.show()},n.renderRouterRoutes=function(){var t=n.props,o=(t.activePane,t.canEdit),p=t.isCompetitionHost,h=t.isCreatingCompetition,_=t.competitionUrl;if(h)return null;var b=function(e){return _+"/"+e};return e.createElement(i.Switch,null,e.createElement(i.Route,{path:b("data"),render:function(t){return e.createElement(c.CompetitionDataContainer,a.__assign({},n.props))}}),e.createElement(i.Route,{path:b("rules"),render:function(t){return e.createElement(u.CompetitionRulesContainer,a.__assign({},n.props))}}),e.createElement(i.Route,{path:b("discussion"),render:function(t){return e.createElement(d.CompetitionDiscussion,a.__assign({},n.props))}}),e.createElement(i.Route,{path:b("kernels"),render:function(t){return e.createElement(m.CompetitionKernels,a.__assign({},n.props))}}),e.createElement(i.Route,{path:b("team"),render:function(t){return e.createElement(v.CompetitionTeamContainer,a.__assign({},n.props))}}),e.createElement(i.Route,{path:b("submissions"),render:function(t){return e.createElement(f.CompetitionSubmissionsContainer,a.__assign({},n.props))}}),e.createElement(i.Route,{path:b("submit"),render:function(t){return e.createElement(g.CompetitionSubmissionContainer,a.__assign({},n.props))}}),o||p?e.createElement(i.Route,{path:b("host"),render:function(t){return e.createElement(l.CompetitionHostContainer,a.__assign({},n.props))}}):null,o?e.createElement(i.Route,{path:b("admin"),render:function(t){return e.createElement(r.CompetitionAdminContainer,a.__assign({},n.props))}}):null,e.createElement(i.Route,{render:function(t){return e.createElement(s.CompetitionOverviewContainer,a.__assign({},n.props))}}))},n.renderChildRoutes=function(){var t=n.props,i=t.activePane,o=t.canEdit,p=t.isCompetitionHost,h=t.isCreatingCompetition;t.competitionUrl;if(h)return null;switch(i){case"overview":return e.createElement(s.CompetitionOverviewContainer,a.__assign({},n.props));case"data":return e.createElement(c.CompetitionDataContainer,a.__assign({},n.props));case"rules":return e.createElement(u.CompetitionRulesContainer,a.__assign({},n.props));case"discussion":return e.createElement(d.CompetitionDiscussion,a.__assign({},n.props));case"kernels":return e.createElement(m.CompetitionKernels,a.__assign({},n.props));case"team":return e.createElement(v.CompetitionTeamContainer,a.__assign({},n.props));case"submissions":return e.createElement(f.CompetitionSubmissionsContainer,a.__assign({},n.props));case"submit":return e.createElement(g.CompetitionSubmissionContainer,a.__assign({},n.props));case"host":return o||p?e.createElement(l.CompetitionHostContainer,a.__assign({},n.props)):null;case"admin":return o?e.createElement(r.CompetitionAdminContainer,a.__assign({},n.props)):null}return null},n}return a.__extends(n,t),n.prototype.refreshPublicLeaderboard=function(){this.leaderboardRef.triggerPublicLeaderboardReload()},n.prototype.render=function(){var t=this,n=this.props,i=n.activePane,r=(n.canEdit,n.isCompetitionHost,n.isCreatingCompetition);return e.createElement("div",{className:"competition"},e.createElement(o.CompetitionHeader,a.__assign({},this.props,{onNewKernelClicked:this.onNewKernelClicked})),this.props.mostRecentSubmissionStatus&&("leaderboard"==i||"submissions"==i||"submit"==i)&&e.createElement(E.CompetitionScoringBannerContainer,a.__assign({key:this.props.mostRecentSubmissionStatus.id},this.props.mostRecentSubmissionStatus,{jumpToLeaderboardPosition:this.props.jumpToLeaderboardPosition})),r?e.createElement(_.CompetitionCreatorContainer,a.__assign({},this.props)):this.renderChildRoutes(),!r&&e.createElement(h.CompetitionLeaderboardContainer,a.__assign({},this.props,{ref:function(e){t.leaderboardRef=e,t.props.setLeaderboardRef(e)}})),!r&&e.createElement(p.CompetitionRulesModal,{show:this.props.showRulesModal&&!this.props.hasAcceptedRules,onClose:function(){return t.props.onCompetitionStateChanged("showRulesModal",!1)},onAcceptCompetitionRules:function(){return t.props.onAcceptCompetitionRules()},competitions:[{competitionId:this.props.competitionId,title:this.props.competitionTitle,rulesUrl:this.props.competitionUrl+"/rules"}]}),!r&&e.createElement(b.NewKernelModal,{ref:function(e){return t.newKernelModalRef=e},competitionId:this.props.competitionId}))},n}(e.Component);t.Competition=y}).call(t,n(0))},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(9),r=n(1705),o=n(1706),s=n(1707),l=n(1708),c=n(1709),u=n(1710),p=n(1711),d=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props.activeAdminTab;return e.createElement("div",{className:"competition-admin"},e.createElement(i.ContentBox,{title:"Competition Setup"},e.createElement("div",{className:"competition-admin__nav-content-container"},e.createElement(r.CompetitionAdminNav,a.__assign({},this.props)),"basics"==t?e.createElement(o.CompetitionAdminBasics,a.__assign({},this.props)):"attributes"==t?e.createElement(s.CompetitionAdminAttributes,a.__assign({},this.props)):"scoring"==t?e.createElement(l.CompetitionAdminScoring,a.__assign({},this.props)):"manage-hosts"==t?e.createElement(c.CompetitionAdminHosts,a.__assign({},this.props)):"email-participants"==t?e.createElement(u.CompetitionAdminContact,a.__assign({},this.props)):"clone"==t?e.createElement(p.CompetitionAdminClone,a.__assign({},this.props)):null)))},n}(e.Component);t.CompetitionAdmin=d}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(163),r=n(51),o=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.adminPageNames=["attributes","basics","scoring","manage-hosts","email-participants","clone"],e}return a.__extends(n,t),n.prototype.scrollToTop=function(){if(window.innerWidth>=768){var e=this.navRef.getBoundingClientRect().top+window.scrollY-44;e<window.scrollY&&window.scrollTo(window.scrollX,e)}},n.prototype.render=function(){for(var t=this,n=[],a=0,o=this.adminPageNames;a<o.length;a++){var s=o[a],l="/c/"+this.props.competitionSlug+"/admin#"+s;n.push(r.buildLink(s,i.deslugify(s),l))}return e.createElement("div",{ref:function(e){return t.navRef=e},className:"competition-admin__nav-wrapper"},e.createElement("nav",{className:"competition-admin__nav"},n.map(function(n,a){return e.createElement("a",{className:t.props.activeAdminTab==n.title?"competition-admin__nav-item--selected":"competition-admin__nav-item",href:n.href,key:"competition-admin-nav-"+a,onClick:function(e){return t.props.onAdminTabChanged(n.title,e)},title:n.title},n.text)})))},n}(e.Component);t.CompetitionAdminNav=o;!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}a.__extends(n,t),n.prototype.scrollToTop=function(){if(window.innerWidth>=768){var e=this.navRef.getBoundingClientRect().top+window.scrollY-44;e<window.scrollY&&window.scrollTo(window.scrollX,e)}},n.prototype.render=function(){var t=this,n=this.props.activeOverviewTab.toLowerCase();return e.createElement("div",{ref:function(e){return t.navRef=e},className:"competition-overview__nav-wrapper"},e.createElement("nav",{className:"competition-overview__nav"},this.props.localPages.map(function(a,i){var o=a.name.replace(/-+/g," "),s="/c/"+t.props.competitionSlug+("overview"!=a.name?"#"+a.name:""),l=r.buildLink(a.name,o,s);return e.createElement("a",{className:(n==l.tab.toLowerCase()?"competition-overview__nav-item competition-overview__nav-item--selected":"competition-overview__nav-item")+(a.isPublished?"":" competition-overview__nav-item--unpublished"),href:l.href,key:"overview-nav-"+i,onClick:function(e){t.scrollToTop(),t.props.onOverviewTabChanged(l.tab,e)},title:l.title},l.text)}),this.props.isEditingOverview?e.createElement("a",{className:"competition-overview__nav-add",onClick:function(){return t.props.onAddOverviewPage()}},e.createElement("span",{className:"fa fa-plus"})," Add Page"):null))}}(e.Component)}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(83),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.competitionHasEnded,a=t.competitionHasLaunched,r=t.onToggleDeadlineConfirmationModal,o=t.onLaunchCompetition,s=t.onSetDeadlineToNow,l=t.showDeadlineConfirmationModal;return e.createElement("div",{className:"competition-settings__section"},e.createElement("div",{className:"competition-setting__field-group competition-setting__field-group--labels-top"},e.createElement("label",{className:"competition-setting__field-label"},"Status"),a?a&&!n?e.createElement("div",{className:"competition-admin__attribute-status"},e.createElement("span",{className:"competition-admin__attribute-status-header--launched"},"Competition is launched and in progress"),e.createElement("a",{onClick:r,className:"competition__text-link"},e.createElement("span",{className:"fa fa-calendar"})," Set deadline to now")):n?e.createElement("div",{className:"competition-admin__attribute-status"},e.createElement("span",{className:"competition-admin__attribute-status-header--closed"},"Competition deadline has passed")):null:e.createElement("div",{className:"competition-admin__attribute-status"},e.createElement("span",{className:"competition-admin__attribute-status-header--unlaunched"},"Competition is not launched"),e.createElement("a",{onClick:o,className:"competition__text-link"},e.createElement("span",{className:"fa fa-rocket"})," Launch competition by setting enabled time to now and ensure forum exists"))),e.createElement(i.Confirm,{cancelText:"Cancel",confirmText:"I'm Sure",isShown:l,onCancel:r,onConfirm:s,title:"Are you sure you want to set the deadline to now? This reveals the private leaderboard."}))},n}(e.Component);t.CompetitionAdminBasics=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(4),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"competition-settings__section"},e.createElement(i.AutoFormContainer,{id:this.props.competitionId,onSuccessCallback:this.props.fetchCompetitionJson,typeName:"Competition"}))},n}(e.Component);t.CompetitionAdminAttributes=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(24),r=n(82),o=n(188),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.onRescoreErrored,a=t.onRescorePending,s=t.onRescoreCompleted,l=t.onRescoreCompletedWithoutDetails,c=t.onRescoreAll,u=t.onRescoreManual,p=t.onRescoreManualTextChange,d=t.onRecalculateLeaderboard,m=t.onChangeLeftTeamId,h=t.onChangeRightTeamId,g=t.mergeLeftTeamId,f=t.mergeRightTeamId,v=t.onMergeTeams,_=t.submissionsToRescore,b=t.shouldForceMerge,E=t.onChangeForceMerge;return e.createElement("div",{className:"competition-settings__section"},e.createElement("div",{className:"competition-setting__field-group competition-setting__field-group--labels-top"},e.createElement("label",{className:"competition-setting__field-label"},"Bulk Rescore"),e.createElement("div",{className:"competition-admin__attribute-status"},e.createElement("a",{onClick:function(){return n()},className:"competition__text-link"},"Errored Submissions ",e.createElement("span",{className:"fa fa-angle-double-right"})),e.createElement("a",{onClick:function(){return a()},className:"competition__text-link"},"Pending Submissions ",e.createElement("span",{className:"fa fa-angle-double-right"})),e.createElement("a",{onClick:function(){return s()},className:"competition__text-link"},"All Completed Submissions ",e.createElement("span",{className:"fa fa-angle-double-right"})),e.createElement("a",{onClick:function(){return l()},className:"competition__text-link"},"Completed Submissions Without Additional Details ",e.createElement("span",{className:"fa fa-angle-double-right"})),e.createElement("a",{onClick:function(){return c()},className:"competition__text-link"},"All Submissions ",e.createElement("span",{className:"fa fa-angle-double-right"})))),e.createElement("div",{className:"competition-setting__field-group competition-setting__field-group--labels-top"},e.createElement("label",{className:"competition-setting__field-label",htmlFor:"competition-manual-rescore"},"Manual Rescore"),e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement(o.default,{defaultValue:_.join(","),onChange:function(e){return p(e)},className:"competition-setting__field-control-input",placeholder:"Enter comma-separated submissions to rescore"}),e.createElement("div",{className:"competition-setting__field-action-button"},e.createElement(i.ButtonAutoWidth,{onClick:function(){return u()},text:"Rescore"}))))),e.createElement("div",{className:"competition-setting__field-group competition-setting__field-group--labels-top"},e.createElement("label",{className:"competition-setting__field-label"},"Recalculate"),e.createElement("div",{className:"competition-admin__attribute-status"},e.createElement("a",{onClick:d,className:"competition__text-link"},"Recalculate Leaderboard ",e.createElement("span",{className:"fa fa-angle-double-right"})))),e.createElement("div",{className:"competition-setting__field-group competition-setting__field-group--labels-top"},e.createElement("label",{className:"competition-setting__field-label",htmlFor:"competition-merge-team-1"},"Merge Teams"),e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("div",{className:"competition-setting__field-checkbox"},e.createElement(r.Checkbox,{text:"Force merge",isChecked:b,isEditable:!0,onChange:E,textIsClickable:!0})),e.createElement("div",{className:"competition-admin__teams"},e.createElement("div",{className:"competition-admin__edit-team"},e.createElement("input",{className:"competition-setting__field-control-input",onChange:m,placeholder:"Team ID",value:g})),e.createElement("p",{className:"competition-admin__merge-team-amp"},"&"),e.createElement("div",{className:"competition-admin__edit-team"},e.createElement("input",{className:"competition-setting__field-control-input",onChange:h,placeholder:"Team ID",value:f})),e.createElement("div",{className:"competition-admin__merge-team-button"},e.createElement(i.ButtonAutoWidth,{onClick:function(){return v()},text:"Merge"})))))))},n}(e.Component);t.CompetitionAdminScoring=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(46),r=n(35),o=n(243),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.onAddNewHost,s=t.onRemoveHost,l=t.onChangeHostQuery,c=t.onGetHostsList,u=t.hostsList,p=t.isLoadingHostsList,d=t.isLoadingSearchResults,m=t.onSearchForUsers,h=t.userSearchResults;return e.createElement("div",{className:"competition-settings__section"},e.createElement("div",{className:"competition-setting__field-group competition-setting__field-group--labels-top"},e.createElement("label",{className:"competition-setting__field-label"},"Hosts",e.createElement("a",{className:"competition-admin__hosts-refresh",onClick:c},e.createElement("span",{className:"competition-admin__hosts-refresh-icon"},e.createElement("span",{className:"fa fa-refresh"+(p?" fa-spin":"")})))),e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("div",null,u.length>0?u.map(function(t,n){return e.createElement(r.BlockLink,{className:"competition-admin__host",href:t.userUrl,key:"competition-host-"+n},e.createElement(i.Avatar,a.__assign({},t,{width:55})),e.createElement("a",{className:"competition-admin__host-name",href:t.userUrl},t.displayName),e.createElement("a",{className:"competition-admin__host-remove",onClick:function(){return s(t.id)}},e.createElement("span",{className:"fa fa-times"})," Remove"))}):e.createElement("div",{className:"competition-admin__host-empty"},"There doesn't seem to be anything here..."))))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label",htmlFor:"competition-admin-search-users"},"Search Users"),e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement(o.InputGroupInline,{buttonClassName:"competition-setting__field-action-button-inline",clearAfterSubmit:!0,inputClassName:"competition-setting__field-control-input",inputId:"competition-admin-search-users",onInputChange:l,onSubmit:m,placeholder:"Display Name, User Name, or Email Address",buttonChildren:e.createElement("span",null,"SearchUsers"),wrapperClassName:"competition-admin__user-search-wrapper"}))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label"},"Search Results"),e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("div",null,d?e.createElement("div",{className:"competition-admin__hosts-loading"},e.createElement("span",{className:"competition-admin__hosts-refresh-icon"},e.createElement("span",{className:"fa fa-circle-o-notch fa-spin"})),"Fetching Results. Hang tight."):h.length>0?h.map(function(t,a){return e.createElement(r.BlockLink,{className:"competition-admin__host",href:t.profileUrl,key:"competition-host-result-"+a},e.createElement(i.Avatar,{thumbnailUrl:t.thumbnailUrl,displayName:t.displayName,userUrl:t.profileUrl,id:t.id,width:55}),e.createElement("a",{className:"competition-admin__host-name",href:t.profileUrl},t.displayName),e.createElement("a",{className:"competition-admin__host-add",onClick:function(){return n(t.id)}},e.createElement("span",{className:"fa fa-plus"})," Add"))}):e.createElement("div",{className:"competition-admin__host-empty"},"..."))))))},n}(e.Component);t.CompetitionAdminHosts=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(24),r=n(8),o=n(94),s=n(44),l=n(715),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.emailLeaderboardFilter,a=t.emailFrom,c=t.emailSubject,u=t.emailBody,p=t.onChangeEmailLeaderboardFilter,d=t.onChangeEmailFrom,m=t.onChangeEmailSubject,h=t.onChangeEmailBody,g=t.onEmailParticipants,f=[{label:"Submitted",value:l.CompetitionAdminContactLeaderboardFilters[l.CompetitionAdminContactLeaderboardFilters.Submitted]},{label:"Accepted Rules",value:l.CompetitionAdminContactLeaderboardFilters[l.CompetitionAdminContactLeaderboardFilters.AcceptedRules]},{label:"Accepted Rules, Not Submitted",value:l.CompetitionAdminContactLeaderboardFilters[l.CompetitionAdminContactLeaderboardFilters.AcceptedRulesUnsubmitted]}];return e.createElement("div",{className:"competition-settings__section"},e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label",htmlFor:"competition-leaderboard-filter"},"Leaderboard Filter"),e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement(s.SelectBox,{className:"competition-setting__field-dropdown",onChange:p,options:f,searchable:!1,value:n}))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label",htmlFor:"competition-contact-from"},"From"),e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement("input",{className:"competition-setting__field-control-input",name:"competition-contact-from",onChange:d,value:a}))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label",htmlFor:"competition-contact-subject"},"Subject"),e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement("input",{className:"competition-setting__field-control-input",name:"competition-contact-subject",onChange:m,value:c}))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label"},"Message"),e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement("div",{className:"competition-admin__contact-message-wrapper"},e.createElement("div",{className:"competition-admin__contact-message"},e.createElement(o.MarkdownEditor,{alwaysShowToolbar:!0,onChangeCallback:h,minRows:5,shouldSanitizeHtml:!0,defaultValue:u})),e.createElement("div",{className:"competition-admin__contact-actions"},e.createElement(i.ButtonAutoWidth,{classNames:"competition-admin__contact-action",onClick:function(){return g(!0)},text:"Preview Email"}),e.createElement(i.ButtonAutoWidth,{classNames:"competition-admin__contact-action",onClick:function(){return g()},text:"Send Email"}),r.Current.userEmail?e.createElement("a",{className:"competition-admin__contact-test-link",onClick:function(){return g(void 0,!0)}},"Send sample email to ",r.Current.userEmail):null)))))},n}(e.Component);t.CompetitionAdminContact=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(243),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.onCloneCompetition,a=t.onChangeCloneInput;return e.createElement("div",{className:"competition-settings__section"},e.createElement("div",{className:"competition-setting__field-group competition-setting__field-group--labels-top"},e.createElement("label",{className:"competition-setting__field-label",htmlFor:"competition-admin-clone"},"Clone from..."),e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement(i.InputGroupInline,{buttonClassName:"competition-setting__field-action-button-inline",inputClassName:"competition-setting__field-control-input",inputId:"competition-admin-clone",onInputChange:a,onSubmit:n,placeholder:"Competition ID",buttonChildren:e.createElement("span",null,"Clone Competition")}),e.createElement("p",{className:"competition-admin__clone-info"},"You will clone the data and pages FROM the above competition INTO the current competition. The current competition will be overwritten.")))))},n}(e.Component);t.CompetitionAdminClone=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(8),r=n(51),o=n(123),s=n(20),l=n(73),c=n(59),u=n(235),p=function(t){return e.createElement("div",{className:"competition-header__classification-icon-wrapper"},e.createElement("div",{className:"competition-header__classification-icon"},e.createElement(d,a.__assign({},t))))},d=function(t){switch(t.hostSegment){case"featured":return e.createElement("span",{className:"fa fa-trophy"});case"research":return e.createElement("span",{className:"fa fa-flask"});case"recruitment":case"prospect":return e.createElement("span",{className:"fa fa-trophy"});case"getting started":return e.createElement("span",{className:"fa fa-university"});case"masters":return e.createElement("span",{className:"fa fa-trophy"});case"playground":return e.createElement("span",{className:"fa fa-bicycle"});default:return e.createElement("span",{className:"fa fa-trophy"})}},m=function(t){function n(e){var n=t.call(this,e)||this;n.buildLink=function(e,t,a){void 0===t&&(t=null),void 0===a&&(a=null);var r="/c/"+n.props.competitionSlug+"/"+e.toLowerCase(),o=e.toLowerCase();return"Team"==e&&(n.props.needsPhoneVerification&&(r="/account/phone/number?returnUrl="+n.props.competitionUrl,o=null),i.Current.userName||(r="/account/set-username?returnUrl="+n.props.competitionUrl,o=null)),{count:null==a?null:l.numberWithCommas(a),href:r,title:e.toLowerCase(),text:t||e,tab:o}};var a=(e.hasHost,e.hasKernels),r=e.discussion,o=e.hasLeaderboard,s=e.canEdit,c=(e.submissions,e.rewardTypeName),u=e.isCompetitionHost,p=e.isCompetitionPending,d=[];u&&p&&d.push(n.buildLink("Host")),d.push(n.buildLink("Overview")),d.push(n.buildLink("Data")),a&&d.push(n.buildLink("Kernels")),r&&d.push(n.buildLink("Discussion")),o&&d.push(n.buildLink("Leaderboard")),n.competitionOverflowMenuLinks=[],d.push(n.buildLink("Rules")),n.props.team&&d.push(n.buildLink("Team")),u&&!p&&d.push(n.buildLink("Host")),s&&d.push(n.buildLink("Admin"));return d.length>8?(n.competitionMenuLinks=d.filter(function(e,t){return t<7}),n.competitionOverflowMenuLinks=d.filter(function(e,t){return t>=7})):n.competitionMenuLinks=d,n.competitionMenuLinksRight=[],!n.props.team||n.props.needsPhoneVerification||!i.Current.userName||n.props.submissionsAreDisabled&&!n.props.mySubmissionsCount||n.competitionMenuLinksRight.push(n.buildLink("Submissions","My Submissions")),n.isMonetaryReward=["USD","AUD","EUR"].indexOf(c)>=0,n}return a.__extends(n,t),n.prototype.renderDetails=function(t){var n=[],a="alternate"==t;return a&&this.props.rewardQuantity>0&&this.isMonetaryReward&&n.push("$"+l.numberWithCommas(this.props.rewardQuantity)),!a&&this.props.organizationId&&n.push(e.createElement("span",{className:"competition-header__org"},e.createElement("a",{className:"competition-header__org-thumbnail",href:"/"+this.props.organizationSlug},e.createElement("img",{className:"competition-header__org-thumbnail-image",src:this.props.organizationThumbnailUrl})),e.createElement("span",{className:"competition-header__organization-name"},e.createElement("a",{href:"/"+this.props.organizationSlug},this.props.organizationName)))),this.props.totalTeams&&n.push(l.numberWithCommas(this.props.totalTeams)+" teams"),this.props.competitionHasLaunched&&n.push(e.createElement("span",null,e.createElement(s.TimeAgo,{time:this.props.deadline}),this.props.hasMergerDeadline&&!this.props.mergerDeadlineHasPassed&&e.createElement("span",null," (",e.createElement(s.TimeAgo,{time:this.props.mergerDeadline})," until merger deadline)"))),a&&this.props.isPrivate&&n.push(e.createElement("span",null,e.createElement("span",{className:"fa fa-eye-slash"})," Private")),i.Current.isAdmin&&n.push(e.createElement("span",null,"ID ",this.props.competitionId)),e.createElement("div",{className:"competition-header__details"+(a?"--alt":this.props.organizationId?"":"--no-org")},e.createElement(u.HorizontalList,{list:n}))},n.prototype.renderTop=function(){var t=this.props.hostSegment;return e.createElement("div",{className:"competition-header__top"},e.createElement("div",{className:"competition-header__top-image",style:{backgroundImage:"url("+this.props.competitionHeaderImageUrl+")"}}),e.createElement(r.PageHeaderTopRowSafe,null,e.createElement("div",{className:"competition-header__classification"},e.createElement(p,{hostSegment:t}),e.createElement("p",{className:"competition-header__classification-text"},this.props.hostSegmentTitle," ",this.props.competitionType," Competition",this.props.isPrivate?e.createElement("span",null,"  ",e.createElement("span",{className:"fa fa-eye-slash"})," Private"):null)),e.createElement("div",{className:"competition-header__meta"},e.createElement("div",{className:"competition-header__info"},e.createElement("h1",{className:"competition-header__title"},this.props.competitionTitle),e.createElement("h2",{className:"competition-header__subtitle"},this.props.briefDescription)),this.props.rewardQuantity>0&&this.isMonetaryReward?e.createElement("div",{className:"competition-header__prize"},e.createElement("span",{className:"competition-header__prize-value"},"$"+l.numberWithCommas(this.props.rewardQuantity)),e.createElement("span",{className:"competition-header__prize-text"},"Prize Money")):null),e.createElement("div",{className:"competition-header__details"+(this.props.organizationId?"":"--no-org")},this.renderDetails("standard"))))},n.prototype.renderAlternateTop=function(){return e.createElement(r.PageHeaderTopRowSafe,null,e.createElement("div",{className:"competition-header__top--alt"},e.createElement("div",{className:"competition-header__top-image-wrapper--alt"},e.createElement("a",{href:""+this.props.competitionUrl},e.createElement("img",{className:"competition-header__top-image--alt",src:this.props.competitionFrontPageImageUrl}))),e.createElement("div",{className:"competition-header__meta--alt"},e.createElement("h1",{className:"competition-header__title--alt"},this.props.competitionTitle),e.createElement("h2",{className:"competition-header__subtitle--alt"},this.props.briefDescription),this.renderDetails("alternate"))))},n.prototype.renderHeader=function(){var t=this.competitionMenuLinksRight.slice(0),n=this.props,a=n.activePane,i=n.activeTab,o=n.canParticipate,s=n.competitionHasEnded,l=n.competitionHasLaunched,c=n.competitionType,u=n.hasAcceptedRules,p=n.newScriptUrl,d=n.onCompetitionStateChanged,m=n.onCompetitionTabChanged,h=n.onCreateTopic,g=n.onNewKernelClicked,f=n.submissionsAreDisabled,v=n.team;return"kernels"==a&&(t=[]),e.createElement("div",{className:"competition-header__nav-wrapper"},e.createElement(r.PageHeaderNav,{activeTab:i,classNameModifier:"competition",changeActiveTab:function(e){return m(e)},menuLinks:this.competitionMenuLinks,overflowMenuLinks:this.competitionOverflowMenuLinks,rightMenuLinks:t.length?t:null}),"discussion"==a&&e.createElement(r.PageHeaderCallToAction,{onClick:h,text:"New Topic"}),"kernels"==a&&e.createElement(r.PageHeaderCallToAction,{onClick:g,text:"New Kernel"}),"discussion"!=a&&"kernels"!=a&&!f&&o&&l&&e.createElement(r.PageHeaderCallToAction,{isSelected:"submit"==i,href:"code"==c.toLowerCase()&&u?p:null,onClick:u?"code"!=c.toLowerCase()?function(){return m("submit")}:function(){}:function(){return d("showRulesModal",!0)},text:s?"Late Submission":v?"prediction"==c?"Submit Predictions":"Submit Model":"Join Competition"}))},n.prototype.render=function(){return this.props.isCreatingCompetition?null:e.createElement("div",{className:"competition-header__container"},e.createElement(r.PageHeader,{backgroundClass:"competition-header"},this.props.hasHeaderImage?this.renderTop():this.renderAlternateTop(),this.props.isCreatingCompetition?null:e.createElement(r.PageHeaderBottomRow,{pageMessages:this.props.pageMessages},e.createElement(c.MediaQuery,{minWidth:0,maxWidth:c.Breakpoints.tabletMax},e.createElement(o.OverflowX,null,this.renderHeader())),e.createElement(c.MediaQuery,{minWidth:c.Breakpoints.desktopMin},this.renderHeader()))))},n}(e.Component);t.CompetitionHeader=m}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(21),o=n(1714),s=function(t){function n(e){var n=t.call(this,e)||this;n.onWindowPopState=function(e){e.state&&e.state.competitionOverviewTabState&&n.setState(e.state.competitionOverviewTabState)},n.updateUrlForTab=function(e,t){void 0===t&&(t=!1);var a=n.props.pages&&n.props.pages.length>0?n.props.pages[0].name.replace("#",""):"",i={},r=e.toLowerCase().replace(/\s+/g,"-")||a,o=n.props.competitionUrl;i.competitionTabState={activePane:"overview",activeTab:"overview"},i.competitionOverviewTabState={activeOverviewTab:r},r!=a&&(o+="#"+r),t?history.replaceState(i,"",o):history.pushState(i,"",o)},n.saveOverview=function(e){return i.__awaiter(n,void 0,void 0,function(){var t,n,o,s,l,c,u,p,d,m,h;return i.__generator(this,function(i){switch(i.label){case 0:t=this.state.localPages,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,a(this.props.saveOverviewUrl,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(e)})];case 2:return n=i.sent(),[4,n.json()];case 3:if(o=i.sent(),"CONCURRENT_EDIT"===o.message)s="Changes can't be saved. "+(o.userDisplayName||"Unknown user")+" has saved an update to this page. Refresh the page to get the latest version before editing.",r.PageMessages.clear(),r.PageMessages.error(s);else if(o.pageMessages&&o.pageMessages.length>0)r.PageMessages.set(o.pageMessages);else{if(this.props.updateUnsavedChangesFlag(!1),o.pages){for(l=0,c=o.pages;l<c.length;l++)for(u=c[l],p=0,d=t;p<d.length;p++)if(m=d[p],u.name!==m.name&&u.content===m.content)return r.PageMessages.clear(),r.PageMessages.error('There was an error saving the "'+m.name+'" page. The returned version of that page does not match yours.'),[2];this.setState({localPages:o.pages})}r.PageMessages.clear(),r.PageMessages.success("Save successful.")}return[3,5];case 4:return h=i.sent(),h.pageMessages&&r.PageMessages.set(h.pageMessages),[3,5];case 5:return[2]}})})},n.onOverviewEditingStateChanged=function(e){var t=!n.state.isEditingOverview;n.setState({isEditingOverview:t},function(){if(n.props.updateUnsavedChangesFlag(t),e){var a={rewardQuantity:n.props.rewardQuantity,numPrizes:n.props.numPrizes,dateEnabled:n.props.dateEnabled,deadline:n.props.deadline,enablePreDeadline:!1,overviewPages:n.state.localPages};n.saveOverview(a)}})},n.newPageCounter=0;var o=window.location.hash.replace("#",""),s=n.props.pages?n.props.pages.map(function(e){return e.name}):[];return n.activeOverviewTab=s.indexOf(o)>=0?o:n.props.pages&&n.props.pages.length>0?n.props.pages[0].name:"",n.state={activeOverviewTab:n.activeOverviewTab,isEditingOverview:!1,localPages:n.props.pages?n.props.pages.slice():[],showOverviewPreview:!1,toggleShowOverviewPreview:function(){n.setState({showOverviewPreview:!n.state.showOverviewPreview})}},n.updateUrlForTab(n.activeOverviewTab,!0),n}return i.__extends(n,t),n.prototype.componentWillMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1)},n.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1)},n.prototype.onOverviewTabChanged=function(e,t){var n=this;t.ctrlKey||t.shiftKey||t.metaKey||t.button&&1==t.button||this.setState({activeOverviewTab:e,showOverviewPreview:!1},function(){return n.updateUrlForTab(e)})},n.prototype.onOverviewEditingStateCancelled=function(){var e=this;this.props.updateUnsavedChangesFlag(!1);var t=!1;this.props.pages.map(function(n){n.name===e.state.activeOverviewTab&&(t=!0)}),this.setState({activeOverviewTab:t?this.state.activeOverviewTab:this.props.pages[0].name,isEditingOverview:!1,localPages:this.props.pages.slice(),showOverviewPreview:!1})},n.prototype.onAddOverviewPage=function(){var e=i.__assign({},this.state);this.newPageCounter+=1;var t="Untitled "+this.newPageCounter,n={name:t,mimeType:"text/markdown",content:"Insert text here. Please use markdown."};e.localPages.push(n),e.activeOverviewTab=t,this.setState(e)},n.prototype.onPublishOverviewPage=function(e){var t=i.__assign({},this.state),n=t.localPages[e];n.isPublished=!n.isPublished,this.setState(t)},n.prototype.onRemoveOverviewPage=function(e){var t=i.__assign({},this.state);if(t.localPages.length<=1)return r.PageMessages.clear(),void r.PageMessages.error("You must keep a minimum of one page in this section.");t.localPages.splice(e,1),t.activeOverviewTab=t.localPages[0].name,this.setState(t)},n.prototype.onChangeOverviewPage=function(e,t,n){var a=i.__assign({},this.state);a.localPages[e][t]=n,a.activeOverviewTab=a.localPages[e].name,this.setState(a)},n.prototype.render=function(){var t={onOverviewTabChanged:this.onOverviewTabChanged.bind(this),onOverviewEditingStateCancelled:this.onOverviewEditingStateCancelled.bind(this),onOverviewEditingStateChanged:this.onOverviewEditingStateChanged.bind(this),onAddOverviewPage:this.onAddOverviewPage.bind(this),onPublishOverviewPage:this.onPublishOverviewPage.bind(this),onRemoveOverviewPage:this.onRemoveOverviewPage.bind(this),onChangeOverviewPage:this.onChangeOverviewPage.bind(this)},n=this.props,a=(n.children,i.__rest(n,["children"]));return e.createElement(o.CompetitionOverview,i.__assign({},a,t,this.state))},n}(e.Component);t.CompetitionOverviewContainer=s}).call(t,n(0),n(36))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(1715),r=n(51),o=n(60),s=n(73),l=n(1716),c=n(1717),u=n(1718),p=n(4),d=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.scrollToTop=function(){if(window.innerWidth>=768){var e=this.navRef.getBoundingClientRect().top+window.scrollY-44;e<window.scrollY&&window.scrollTo(window.scrollX,e)}},n.prototype.render=function(){var t=this,n=this.props.activeOverviewTab.toLowerCase();return e.createElement("div",{ref:function(e){return t.navRef=e},className:"competition-overview__nav-wrapper"},e.createElement("nav",{className:"competition-overview__nav"},this.props.localPages.map(function(a,i){var o=a.name.replace(/-+/g," "),s="/c/"+t.props.competitionSlug+("overview"!=a.name?"#"+a.name:""),l=r.buildLink(a.name,o,s);return e.createElement("a",{className:(n==l.tab.toLowerCase()?"competition-overview__nav-item competition-overview__nav-item--selected":"competition-overview__nav-item")+(a.isPublished?"":" competition-overview__nav-item--unpublished"),href:l.href,key:"overview-nav-"+i,onClick:function(e){t.scrollToTop(),t.props.onOverviewTabChanged(l.tab,e)},id:"pageheader-nav-item--"+p.slugify(l.title),title:l.title},l.text)}),this.props.isEditingOverview?e.createElement("a",{className:"competition-overview__nav-add",onClick:function(){return t.props.onAddOverviewPage()}},e.createElement("span",{className:"fa fa-plus"})," Add Page"):null))},n}(e.Component),m=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderCompetitionPage=function(t,n){var a=this,i=[{label:"HTML",value:o.mimeTypeToString(o.MarkdownConverterMimeTypes.Html)},{label:"Markdown",value:o.mimeTypeToString(o.MarkdownConverterMimeTypes.Markdown)}];return this.props.isEditingOverview?e.createElement("div",{key:"competition-overview-page-"+n},e.createElement("div",{className:"competition-overview__section-top"},e.createElement("div",{className:"competition-overview__section-meta"},e.createElement(p.InlineTextEditor,{className:"competition-overview__section-header-input",onChangeCallback:function(e){return a.props.onChangeOverviewPage(n,"name",e)},value:t.name}),e.createElement(p.SelectBox,{options:i,onChange:function(e){return a.props.onChangeOverviewPage(n,"mimeType",e.toString())},value:o.translateMimeType(t.mimeType),searchable:!1}),e.createElement("a",{className:"competition-overview__section-publish",onClick:function(){return a.props.onPublishOverviewPage(n)}},e.createElement("span",{className:"competition-overview__publish-checkbox fa "+(t.isPublished?"fa-check-square-o":"fa-square-o")})," Published?"),e.createElement("a",{className:"competition-overview__section-delete",onClick:function(){return a.props.onRemoveOverviewPage(n)}},e.createElement("span",{className:"fa fa-trash"})," Delete Page"))),e.createElement(p.MarkdownEditor,{alwaysShowToolbar:!0,shouldSanitizeHtml:!0,defaultValue:t.content?t.content:null,suffix:"-"+t.name,onChangeCallback:function(e){return a.props.onChangeOverviewPage(n,"content",e)},minRows:5,maxRows:15,renderPreview:function(n,a){return e.createElement(o.MarkdownConverter,{content:n,mimeType:t.mimeType?t.mimeType:null,insertNofollow:!0})},showPreview:this.props.showOverviewPreview})):e.createElement("div",{key:"competition-overview-page-"+n},t.isPublished?null:e.createElement("div",{className:"competition-overview__not-published"},"This page is currently not published. You're seeing this as an admin."),e.createElement(o.MarkdownConverter,{content:t.content?t.content:null,mimeType:t.mimeType?t.mimeType:null,insertNofollow:!0}))},n.prototype.renderLeaderboardTeaser=function(e,t){},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"competition-overview"},e.createElement(p.ContentBox,{title:"Overview",titleBarRightSide:this.props.canEdit||this.props.isCompetitionHost?[this.props.isEditingOverview?e.createElement("div",{className:"competition-overview__preview-button",key:"preview-button",onClick:function(){return t.props.toggleShowOverviewPreview()}},this.props.showOverviewPreview?"Edit":"Preview"):null,e.createElement(p.EditStateToggleButton,{isEditing:this.props.isEditingOverview,cancelCallback:function(){return t.props.onOverviewEditingStateCancelled()},cancelPropName:"overview",key:"edit-button",toggleCallback:function(){return t.props.onOverviewEditingStateChanged(t.props.isEditingOverview)},sectionName:"Overview"})]:null},e.createElement("div",{className:"competition-overview__nav-content-container",id:"competition-overview__nav-content-container"},e.createElement(d,a.__assign({},this.props)),e.createElement("div",{className:"competition-overview__content"},this.props.localPages.map(function(e,n){return t.props.activeOverviewTab.toLowerCase()==e.name.toLowerCase()?t.renderCompetitionPage(e,n):null})))),e.createElement("div",{className:"competition-overview__teasers"},e.createElement("div",{className:"competition-overview__teaser"},e.createElement(l.LeaderboardTeaser,{emptyListCreateNewUrl:this.props.newScriptUrl,emptyListMessage:"There are no competitors yet.",emptyListCreateNewText:"Be the first",listItems:this.props.leaderboardTeaser||[],listTitle:"Leaderboard",numItemsToShow:8,numPrizes:this.props.disablePrizeIndicator?0:this.props.numPrizes,onTitleClick:function(){return t.props.onCompetitionTabChanged("leaderboard")},rewardQuantity:this.props.rewardQuantity})),this.props.hasKernelsEnabled?e.createElement("div",{className:"competition-overview__teaser"},e.createElement(u.KernelsTeaser,{emptyListCreateNewUrl:this.props.newScriptUrl,emptyListMessage:"There are no kernels yet.",emptyListCreateNewText:"Be the first",listItems:this.props.kernelTeaser,listTitle:0===this.props.totalKernels?"Kernels":e.createElement(p.Pluralize,{word:"kernel",count:this.props.totalKernels,formatNumber:!0}),onTitleClick:function(){return t.props.onCompetitionTabChanged("kernels")}})):null,e.createElement("div",{className:"competition-overview__teaser"},e.createElement(c.DiscussionTeaser,{emptyListCreateNewAction:function(){return t.props.onCreateTopic()},emptyListMessage:"There are no topics yet.",emptyListCreateNewText:"Start one",listItems:this.props.discussionTeaser,listTitle:e.createElement(p.Pluralize,{word:"discussion topic",count:this.props.totalDiscussions,formatNumber:!0}),onTitleClick:function(){return t.props.onCompetitionTabChanged("discussion")}}))),e.createElement(p.ContentBox,null,this.props.dateEnabled&&this.props.deadline?e.createElement(i.HorizontalTimeline,{startDate:this.props.dateEnabled,startLabel:e.createElement("span",{className:"competition-overview__milestone-title"},"Launch"),endDate:this.props.deadline,endLabel:e.createElement("span",{className:"competition-overview__milestone-title"},"Close"),milestoneDates:[{details:e.createElement("p",{className:"competition-overview__milestone-name"},"Rules Acceptance Deadline"),date:this.props.mergerDeadline}]}):e.createElement("p",null,"The timeline for this competition will appear once there is a valid start date and deadline.")),e.createElement("div",{className:"competition-overview__stats-section"},this.props.totalTeams?e.createElement("div",{className:"competition-overview__stats"},e.createElement("div",{className:"competition-overview__stat"},e.createElement("p",{className:"competition-overview__stat-number"},e.createElement(s.FormatNumber,{number:this.props.totalTeams})),e.createElement("p",{className:"competition-overview__stat-label"},"Teams")),e.createElement("div",{className:"competition-overview__stat"},e.createElement("p",{className:"competition-overview__stat-number"},e.createElement(s.FormatNumber,{number:this.props.totalCompetitors})),e.createElement("p",{className:"competition-overview__stat-label"},"Competitors")),this.props.totalEntries?e.createElement("div",{className:"competition-overview__stat"},e.createElement("p",{className:"competition-overview__stat-number"},e.createElement(s.FormatNumber,{number:this.props.totalEntries})),e.createElement("p",{className:"competition-overview__stat-label"},"Entries")):null):null,e.createElement("div",{className:"competition-overview__progression-info"},e.createElement("div",{className:"competition-overview__progression-info-item"},e.createElement("p",{className:"competition-overview__progression-info-label"},"Points"),e.createElement("p",{className:"competition-overview__progression-info-text"},"This competition ",this.props.countsTowardsRanking?(this.props.competitionHasEnded?"awarded":"awards")+" "+(this.props.userRankMultiplier<1?this.props.userRankMultiplier+"X":""):this.props.competitionHasEnded?"did not award ":"does not award "," standard ",e.createElement("a",{href:"https://www.kaggle.com/progression"},"ranking points"))),e.createElement("div",{className:"competition-overview__progression-info-item"},e.createElement("p",{className:"competition-overview__progression-info-label"},"Tiers"),e.createElement("p",{className:"competition-overview__progression-info-text"},"This competition ",this.props.countsTowardsTiers?this.props.competitionHasEnded?"counted ":"counts ":this.props.competitionHasEnded?"did not count ":"does not count "," towards ",e.createElement("a",{href:"https://www.kaggle.com/progression"},"tiers"))))),"inClass"==this.props.hostSegment&&e.createElement("div",{className:"competition-overview__inclass-banner"},e.createElement("div",null,"This is a Kaggle InClass competition provided free to academics."),e.createElement("a",{href:"/about/inclass/overview"},"Find out about hosting your own InClass competition ")))},n}(e.Component);t.CompetitionOverview=m}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(20),r=n(40),o=n(27),s=function(t){function n(e){var n=t.call(this,e)||this;return n.startMS=new Date(n.props.startDate.toString()).getTime(),n.endMS=new Date(n.props.endDate.toString()).getTime(),n.nowMS=(new Date).getTime(),n.startTillEnd=n.endMS-n.startMS,n.startTillNow=n.nowMS-n.startMS,n}return a.__extends(n,t),n.prototype.renderMilestone=function(t,n){var a=new Date(t.date.toString()).getTime()-this.startMS,s=a/this.startTillEnd,l=(100*s).toString()+"%";return s>0&&s<1?e.createElement("div",{className:"horizontal-timeline__milestone-placeholder",key:"timeline-point-"+n},e.createElement("div",{className:a>this.startTillNow?"horizontal-timeline__point--future":"horizontal-timeline__point",style:{left:l}},e.createElement("div",{className:"horizontal-timeline__point-details",style:{left:l}},e.createElement("p",{className:"horizontal-timeline__milestone-date"},e.createElement(i.TimeAgo,{time:t.date,hideToGo:!0})),t.details),e.createElement("div",{className:"horizontal-timeline__point-tooltip-wrapper"},e.createElement(r.ToolTip,{className:"horizontal-timeline__point-tooltip-wrapper",alignLeft:s<.5,tipText:o(t.date).format("ll")})))):null},n.prototype.render=function(){var t=this,n=this.startTillNow/this.startTillEnd,a=0<n&&n<1?(this.startTillNow/this.startTillEnd*100).toString()+"%":"100%";return e.createElement("div",{className:"horizontal-timeline__wrapper"},e.createElement("div",{className:"horizontal-timeline"},e.createElement("div",{className:"horizontal-timeline__line"}),e.createElement("div",{className:"horizontal-timeline__progress-bar",style:{width:a}}),e.createElement("div",{className:this.startTillNow>0?"horizontal-timeline__point":"horizontal-timeline__point--future"},e.createElement("div",{className:"horizontal-timeline__point-label--start",style:{left:0}},this.props.startLabel?this.props.startLabel:null,e.createElement(i.TimeAgo,{time:this.props.startDate,hideToGo:!0})),e.createElement("div",{className:"horizontal-timeline__point-tooltip-wrapper"},e.createElement(r.ToolTip,{className:"horizontal-timeline__point-tooltip-wrapper",alignLeft:!0,tipText:o(this.props.startDate).format("ll")}))),this.props.milestoneDates.map(function(e,n){return t.renderMilestone(e,n)}),e.createElement("div",{className:this.startTillEnd>this.startTillNow?"horizontal-timeline__point--future":"horizontal-timeline__point",style:{left:"100%"}},e.createElement("div",{className:"horizontal-timeline__point-label--end",style:{right:0}},this.props.endLabel?this.props.endLabel:null,e.createElement(i.TimeAgo,{time:this.props.endDate,hideToGo:!0})),e.createElement("div",{className:"horizontal-timeline__point-tooltip-wrapper"},e.createElement(r.ToolTip,{className:"horizontal-timeline__point-tooltip-wrapper",tipText:o(this.props.endDate).format("ll")})))))},n}(e.Component);t.HorizontalTimeline=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(9),r=n(135),o=function(t){function n(e){var n=t.call(this,e)||this;n.placeholders=[];var a=n.props.listItems.length;if(a<n.props.numItemsToShow)for(var i=1;i<=n.props.numItemsToShow-a;i++)n.placeholders.push({rank:i+a,teamName:"-"});return n}return a.__extends(n,t),n.prototype.renderLeaderboardTeaserItem=function(t,n){return e.createElement("div",{className:"leaderboard-teaser__item",key:"leaderboard-teaser-item-"+n},t.rank<=this.props.numPrizes&&this.props.rewardQuantity>0?e.createElement("div",{className:"leaderboard-teaser__item-rank--reward"},t.rank):e.createElement("div",{className:"leaderboard-teaser__item-rank"},t.rank),e.createElement("p",{className:"leaderboard-teaser__item-name",title:t.teamName},t.teamName))},n.prototype.render=function(){var t=this,n=this.props.listItems.concat(this.placeholders);return e.createElement(i.ContentBox,{contentClassName:"leaderboard-teaser__items",growVertically:this.props.growVertically||!0,title:this.props.listTitle,onTitleClick:function(){return t.props.onTitleClick()},titleBarRightSide:e.createElement("span",{className:"fa fa-chevron-right"})},e.createElement("div",{className:"leaderboard-teaser__content"},e.createElement(r.TeaserList,{minItemHeight:this.props.numItemsToShow,listItems:n,listItemRenderer:function(e,n){return t.renderLeaderboardTeaserItem(e,n)},emptyListCreateNewUrl:this.props.emptyListCreateNewUrl,emptyListMessage:this.props.emptyListMessage,emptyListCreateNewText:this.props.emptyListCreateNewText})))},n}(e.Component);t.LeaderboardTeaser=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(9),r=n(135),o=n(41),s=n(20),l=n(35),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderDiscussionTeaserItem=function(t,n){return e.createElement(l.BlockLink,{key:"competition-discussion-teaser-item-"+n,href:t.itemUrl},e.createElement("div",{className:"discussion-teaser__item"},e.createElement("div",{className:"discussion-teaser__item-title"},e.createElement("a",{href:t.itemUrl,title:t.title},t.title)),e.createElement("div",{className:"discussion-teaser__item-details"},e.createElement(o.Pluralize,{word:"reply",count:t.totalReplies}),"  ",e.createElement(s.TimeAgo,{time:t.date}))))},n.prototype.render=function(){var t=this;return e.createElement(i.ContentBox,{contentClassName:"discussion-teaser__items",growVertically:this.props.growVertically||!0,title:this.props.listTitle,onTitleClick:function(){return t.props.onTitleClick()},titleBarRightSide:e.createElement("span",{className:"fa fa-chevron-right"})},e.createElement(r.TeaserList,{minItemHeight:this.props.minItemHeight||4,listItems:this.props.listItems,listItemRenderer:function(e,n){return t.renderDiscussionTeaserItem(e,n)},emptyListCreateNewAction:this.props.emptyListCreateNewAction,emptyListMessage:this.props.emptyListMessage,emptyListCreateNewText:this.props.emptyListCreateNewText}))},n}(e.Component);t.DiscussionTeaser=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(9),r=n(135),o=n(41),s=n(20),l=n(35),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderKernelsTeaserItem=function(t,n){return e.createElement(l.BlockLink,{key:"kernels-teaser-item-"+n,href:t.itemUrl},e.createElement("div",{className:"kernels-teaser__item"},e.createElement("div",{className:"kernels-teaser__item-title"},e.createElement("a",{href:t.itemUrl,title:t.title},t.title)),e.createElement("div",{className:"kernels-teaser__item-details"},e.createElement(o.Pluralize,{word:"vote",count:t.totalVotes}),"  ",e.createElement(s.TimeAgo,{time:t.date}))))},n.prototype.render=function(){var t=this;return e.createElement(i.ContentBox,{contentClassName:"kernels-teaser__items",growVertically:this.props.growVertically||!0,title:this.props.listTitle,onTitleClick:function(){return t.props.onTitleClick()},titleBarRightSide:e.createElement("span",{className:"fa fa-chevron-right"})},e.createElement(r.TeaserList,{minItemHeight:this.props.minItemHeight||4,listItems:this.props.listItems,listItemRenderer:function(e,n){return t.renderKernelsTeaserItem(e,n)},emptyListCreateNewUrl:this.props.emptyListCreateNewUrl,emptyListMessage:this.props.emptyListMessage,emptyListCreateNewText:this.props.emptyListCreateNewText}))},n}(e.Component);t.KernelsTeaser=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(9),r=n(1720),o=n(1721),s=n(1722),l=n(1723),c=n(1724),u=n(1725),p=n(1726);t.default=function(t){var n=t.activeHostTab,d=t.onCompetitionPropsChanged,m=["settings","images","privacy","all-submissions","playground-submissions","launch-competition"];return e.createElement("div",{className:"competition-host"},e.createElement(i.ContentBox,{title:"Host Controls"},e.createElement("div",{className:"competition-host__nav-content-container"},e.createElement(r.CompetitionHostNav,a.__assign({},t,{hostPageNames:m})),"settings"==n?e.createElement(s.CompetitionHostSettings,a.__assign({},t)):"images"==n?e.createElement(l.CompetitionHostImages,a.__assign({},t)):"privacy"==n?e.createElement(c.CompetitionPrivacy,a.__assign({},t)):"all-submissions"==n?e.createElement(u.CompetitionAllSubmissions,a.__assign({},t)):"playground-submissions"==n?e.createElement(p.CompetitionPlaygroundSubmissions,a.__assign({},t)):"launch-competition"==n?e.createElement(o.CompetitionHostChecklistContainer,{competitionHasLaunched:t.competitionHasLaunched,competitionId:t.competitionId,dateEnabled:t.dateEnabled,onCompetitionPropsChanged:d}):e.createElement(s.CompetitionHostSettings,a.__assign({},t,{activeHostTab:"settings"})))))}}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(163),r=n(51),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){for(var t=this.props,n=t.activeHostTab,a=t.competitionSlug,o=t.hostPageNames,s=t.onHostTabChanged,l=[],c=0,u=o;c<u.length;c++){var p=u[c],d="/c/"+a+"/host#"+p,m="launch-competition"!=p||this.props.isCompetitionPending?i.deslugify(p):"Competition Checklist";l.push(r.buildLink(p,m,d))}return e.createElement("div",{className:"competition-host__nav-wrapper"},e.createElement("nav",{className:"competition-host__nav"},l.map(function(t,a){return e.createElement("a",{className:n==t.title?"competition-host__nav-item--selected":"competition-host__nav-item",href:t.href,key:"competition-host-nav-"+a,onClick:function(e){return s(t.title,e)},title:t.title},t.text)})))},n}(e.Component);t.CompetitionHostNav=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(24),o=n(301),s=n(243),l=n(21),c=n(112),u=e.ReactCompetitions.GetHostChecklist,p=n(27),d=function(t){function n(n){var a=t.call(this,n)||this;return a.mounted=!1,a.update=function(e){void 0===e&&(e=null),a.mounted&&a.setState(e||{hostChecklist:null})},a.launchCompetition=function(t){var n={id:a.props.competitionId};return t&&(n.futureDate=t.toDate().toJSON()),e.Competitions.launchCompetitionJson(n).then(function(e){if(e.dateEnabled){var t={competitionHasLaunched:!0,competitionId:a.props.competitionId,dateEnabled:e.dateEnabled};a.props.onCompetitionPropsChanged(t)}e.pageMessages&&l.PageMessages.set(e.pageMessages)})},a.state={hostChecklist:null,message:null},a}return i.__extends(n,t),n.prototype.componentDidMount=function(){this.mounted=!0},n.prototype.componentWillUnmount=function(){this.mounted=!1},n.prototype.render=function(){var e=this,t=this.props,n=t.competitionHasLaunched,i=t.dateEnabled,r=this.state,o=r.message,s=r.hostChecklist;return s?a.createElement(m,{competitionHasLaunched:n,dateEnabled:i,hostChecklist:s,message:o,onSubmit:function(t){return e.launchCompetition(p.utc(t)).then(function(t){return e.update(t)})}}):a.createElement(u,{route:this.props,placeholder:a.createElement(c.Spinner,null),children:function(t){return e.update({hostChecklist:t}),null}})},n}(a.Component);t.CompetitionHostChecklistContainer=d;var m=function(e){var t=e.competitionHasLaunched,n=e.dateEnabled,i=e.hostChecklist,l=e.onSubmit,c=e.message,u=i.isCompetitionPending,d=i.children;return a.createElement(o.Checklist,{children:d,okHeader:u?a.createElement("div",{className:"competition-host__checklist-header"},a.createElement("section",null,a.createElement("header",null,"Your competition passes our automated checks."),a.createElement("div",{className:"competition-host__checklist-header-note"},t?"You're competition has already been launched":"You may launch the competition when you are ready.")),t?null:a.createElement("aside",null,c?a.createElement("h3",null,c):a.createElement("div",{className:"competition-host__checklist-launch"},a.createElement("div",{className:"competition-host__checklist-launch-date"},a.createElement(s.InputGroupInline,{dateValidator:function(e){return e.isAfter(p().subtract(1,"day"))},buttonChildren:"Set Future Launch Date",onSubmit:l,type:"date",initialDate:n})),a.createElement("div",null,a.createElement(r.ButtonAutoWidth,{classNames:"competition-host__checklist-action-button",text:"Launch Competition Now",onClick:function(){return l()}}))))):a.createElement("div",null,a.createElement("section",null,a.createElement("header",null,"Your competition is active."))),notOkHeader:a.createElement("div",{className:"competition-host__checklist-header"},a.createElement("section",null,a.createElement("header",null,"Your competition is not ready for launch."),a.createElement("div",{className:"competition-host__checklist-header-note"},"Please correct these issues.")))})}}).call(t,n(23),n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(4),r=n(82),o=n(8),s=n(93),l=n(44),c=n(124),u=n(27),p=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderOrganization=function(t){return e.createElement("div",{className:"competition-creator__org-select-item"},t.thumbnailUrl&&e.createElement("img",{className:"competition-creator__org-select-item-thumbnail",src:t.thumbnailUrl,alt:t.label+" organization thumbnail"}),e.createElement("p",null,t.label))},n}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.updatedDeadline,a=t.getOrganizations,p=t.isSavingCompetitionSettings,d=t.onChangeBriefDescription,m=t.onChangeCompetitionSlug,h=t.onChangeCompetitionTitle,g=t.onChangeDeadline,f=t.onChangeMaxDailySubmissions,v=t.onChangeMaxTeamSize,_=t.onChangeScoredPrivateSubmissions,b=t.onSaveSettings,E=t.onSelectCategory,y=t.onSelectOrganization,w=t.onToggleAllowAnonymousTeams,C=t.onToggleCountsTowardsRanking,S=t.onToggleCountsTowardsTiers,N=t.onToggleAllowTeamMergers,T=t.onToggleUnlimitedTeamSize,k=t.selectedCategory,x=t.selectedOrganizationId,M=t.unlimitedTeamSize,I=t.updatedAllowAnonymousTeams,D=t.updatedCountsTowardsRanking,P=t.updatedCountsTowardsTiers,O=t.updatedAllowTeamMergers,U=t.updatedCompetitionTitle,A=t.updatedCompetitionSlug,L=t.updatedBriefDescription,R=t.updatedMaxDailySubmissions,F=t.updatedMaxTeamSize,B=t.updatedScoredPrivateSubmissions,j=(t.useTitleForSlug,t.validationPageMessages),H=this.props.hostSegments;return e.createElement("div",{className:"competition-settings__section"},e.createElement("h1",{className:"competition-setting__divider-heading"},"Basics"),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label"},"Title"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("input",{className:"competition-setting__field-control-input",onChange:h,value:U}))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("h2",{className:"competition-setting__field-label"},"Competition URL"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("div",{className:"competition-setting__field-control-inline"},e.createElement("label",{className:"competition-setting__field-inline-label"},"http://www.kaggle.com/c/"),e.createElement(s.InlineTextEditor,{className:"competition-setting__field-control-input",rejectedCharacterRegExp:/[^A-Za-z0-9-]+/g,onChangeCallback:function(e){return m(e)},placeholder:"your-unique-url",value:A})),e.createElement("div",{className:"competition-setting__field-note"},"Choose a short URL. All links to your competition pages will start with this URL."))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label"},"Brief Description"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("input",{className:"competition-setting__field-control-input",onChange:d,value:L}))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("h2",{className:"competition-setting__field-label"},"Organization"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement(l.SelectBoxAsync,{className:"competition-setting__field-dropdown",loadOptions:a,onChange:function(e){return y(e)},optionRenderer:this.renderOrganization,placeholder:"Search Organizations...",value:x?x.toString():"",valueRenderer:this.renderOrganization}))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("h2",{className:"competition-setting__field-label"},"Category"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement(l.SelectBox,{className:"competition-setting__field-dropdown",onChange:E,options:H,placeholder:"Select Category...",value:k}))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("h2",{className:"competition-setting__field-label"},"Deadline"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("div",{className:"competition-setting__field-centered",style:{maxWidth:"264px"}},e.createElement(c.DateTimePicker,{closeOnSelect:!0,onBlur:function(e){return g(u.utc(e))},onChange:g,utc:!0,value:n})),e.createElement("div",{className:"competition-setting__field-note"},"Competitions typically last two to four months. Date and time are in UTC."))),e.createElement("h1",{className:"competition-setting__divider-heading"},"Teams"),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label"},"Max Team Size"),e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement("input",{className:"competition-setting__field-control-input competition-setting__field-control-input--short-number",maxLength:5,onChange:v,value:F}),e.createElement("div",{className:"competition-setting__field-checkbox-modifier"},e.createElement(r.Checkbox,{text:"Unlimited",textIsClickable:!0,isChecked:M,isEditable:!0,onChange:T})))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("h2",{className:"competition-setting__field-label"},"Team Mergers"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("div",{className:"competition-setting__field-checkbox"},e.createElement(r.Checkbox,{text:"Allow Team Mergers",textIsClickable:!0,isChecked:O,isEditable:!0,onChange:N})))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("h2",{className:"competition-setting__field-label"},"Anonymous Teams"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("div",{className:"competition-setting__field-checkbox"},e.createElement(r.Checkbox,{text:"Allow Anonymous Teams",textIsClickable:!0,isChecked:I,isEditable:!0,onChange:w})))),e.createElement("h1",{className:"competition-setting__divider-heading"},"Submissions"),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label"},"Maximum Daily Submissions"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("input",{className:"competition-setting__field-control-input competition-setting__field-control-input--short-number",onChange:f,value:R}),e.createElement("div",{className:"competition-setting__field-note"},"Participants will need to wait until the next UTC day after submitting the maximum number of daily submissions."))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label"},"Scored Private Submissions"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("input",{className:"competition-setting__field-control-input competition-setting__field-control-input--short-number",onChange:_,value:B}),e.createElement("div",{className:"competition-setting__field-note"},"The number of submissions eligible for the final private leaderboard. Users can hand-select the eligible submissions, or will otherwise default to the best public scoring submissions."))),o.Current.isAdmin&&e.createElement("h1",{className:"competition-setting__divider-heading"},"Points"),o.Current.isAdmin&&e.createElement("div",{className:"competition-setting__field-group"},e.createElement("h2",{className:"competition-setting__field-label"},e.createElement("span",{className:"fa fa-lock",title:"Admin setting"})," Ranking"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("div",{className:"competition-setting__field-checkbox"},e.createElement(r.Checkbox,{text:"Counts Toward Ranking",textIsClickable:!0,isChecked:D,isEditable:!0,onChange:C})))),o.Current.isAdmin&&e.createElement("div",{className:"competition-setting__field-group"},e.createElement("h2",{className:"competition-setting__field-label"},e.createElement("span",{className:"fa fa-lock",title:"Admin setting"})," Tiers"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("div",{className:"competition-setting__field-checkbox"},e.createElement(r.Checkbox,{text:"Counts Toward Tiers",textIsClickable:!0,isChecked:P,isEditable:!0,onChange:S})))),e.createElement("div",{className:"competition-settings__save-button-wrapper"},e.createElement("div",{className:"competition-settings__save-button"},e.createElement(i.ButtonAutoWidth,{isDisabled:j.length>0,onClick:b,text:"Save Competition"}),p&&e.createElement("div",{className:"competition-settings__save-spinner"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})))))},n}(e.Component);t.CompetitionHostSettings=p}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(297),r=n(69),o=n(692),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderHeaderImageUploader=function(){var t=this.props,n=t.competitionHeaderImageUrl,a=t.onToggleImageUploader,s=t.onUploadCompetitionImage,l=t.isAddingHeaderImage;return e.createElement(r.Modal,{modalContent:e.createElement(i.ImageUploader,{uploaderKey:"Header",title:"Upload a Competition Image",imageSettings:[new i.ImageSetting("cover image","Select an area of the image to use as the cover image for this competitionss homepage.",new i.Size(950,200),new i.Rectangle(new i.Point(0,0),new i.Size(100,100)))],originalImageUrl:n,containerSize:new i.Size(500,300),selectorBorderWidth:1,onCancel:function(){return a(o.CompetitionImageType.Header)},onUpdateImages:s,hiResScale:2,step1Html:"Upload an image by clicking the button below.<br/>If you need inspiration, <a href='http://www.unsplash.com' target='_blank'>unsplash.com</a> has a great library of public domain images."}),modalIsShown:l,onShow:null,onClose:function(){return a(o.CompetitionImageType.Header)}})},n.prototype.renderThumbnailImageUploader=function(){var t=this.props,n=t.competitionThumbnailImageUrl,a=t.onToggleImageUploader,s=t.onUploadCompetitionImage,l=t.isAddingThumbnailImage;return e.createElement(r.Modal,{modalContent:e.createElement(i.ImageUploader,{uploaderKey:"Thumbnail",title:"Upload a Competition Image",imageSettings:[new i.ImageSetting("thumbnail","Select an area of the image to use as a thumbnail for this competition.",new i.Size(200,200),new i.Rectangle(new i.Point(0,0),new i.Size(100,100)))],originalImageUrl:n,containerSize:new i.Size(500,300),selectorBorderWidth:1,onCancel:function(){return a(o.CompetitionImageType.Thumbnail)},onUpdateImages:s,hiResScale:2,step1Html:"Upload an image by clicking the button below.<br/>If you need inspiration, <a href='http://www.unsplash.com' target='_blank'>unsplash.com</a> has a great library of public domain images."}),modalIsShown:l,onShow:null,onClose:function(){return a(o.CompetitionImageType.Thumbnail)}})},n.prototype.render=function(){var t=this.props,n=(t.competitionHasEnded,t.competitionHasLaunched,t.competitionHeaderImageUrl),a=t.competitionThumbnailImageUrl,i=t.onToggleImageUploader;return e.createElement("div",{className:"competition-settings__section"},e.createElement("div",{className:"competition-setting__field-group competition-setting__field-group--images"},e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("div",{className:"competition-setting__image-item"},e.createElement("div",{className:"competition-host__preview-image-container"},e.createElement("img",{src:n,alt:"Header Image",className:"competition-host__preview-image competition-host__preview-image--header",onClick:function(){return i(o.CompetitionImageType.Header)}})),e.createElement("a",{onClick:function(){return i(o.CompetitionImageType.Header)},className:"competition__text-link competition-host__preview-image-link"},e.createElement("span",{className:"fa fa-camera"}),e.createElement("br",null),"Upload Competition Header Image",e.createElement("br",null),e.createElement("span",{className:"competition-host__preview-image-link__subtitle"},"(1900x400)"))),e.createElement("div",{className:"competition-setting__image-item"},e.createElement("div",{className:"competition-host__preview-image-container"},e.createElement("img",{src:a,alt:"Listing Image",className:"competition-host__preview-image competition-host__preview-image--thumbnail",onClick:function(){return i(o.CompetitionImageType.Thumbnail)}})),e.createElement("a",{onClick:function(){return i(o.CompetitionImageType.Thumbnail)},className:"competition__text-link competition-host__preview-image-link"},e.createElement("span",{className:"fa fa-camera"}),e.createElement("br",null),"Upload Competition Listing Image",e.createElement("br",null),e.createElement("span",{className:"competition-host__preview-image-link__subtitle"},"(400x400)")))))),this.renderHeaderImageUploader(),this.renderThumbnailImageUploader())},n}(e.Component);t.CompetitionHostImages=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(24),r=n(83),o=n(302),s=n(243),l=n(44),c=n(40),u=n(8),p=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.onSelectPrivacySetting,a=t.competitionPrivacy,p=t.onCopyMagicLink,d=t.onRegenerateMagicLink,m=t.copyMagicLinkToolTip,h=t.showMagicLinkChangeWarning,g=t.onCancelMagicLinkRegeneration,f=t.privacyOptions,v=t.validationPageMessages,_=(t.onSaveSettings,t.onSavePrivacy),b=(t.isSavingCompetitionSettings,t.isSavingCompetitionPrivacy),E=t.shareToken,y=t.onChangeWhitelistUsers,w=e.createElement(r.Confirm,{cancelText:"Cancel",confirmText:"I'm Sure",isShown:h,onCancel:g,onConfirm:d,subtitle:"Regenerating this link will render the old link unusable.",title:"Are you sure?"}),C="inClass"!=this.props.hostSegment;return e.createElement(o.ConfusedTravolta,{title:"Don't look so confused",subtitle:"This will be available soon."},e.createElement("div",{className:"competition-settings__section"},e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label"},"Privacy"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement(l.SelectBox,{onChange:n,options:f.filter(function(e){return"private"!=e.value||C}),searchable:!1,value:a}),"public"==a&&e.createElement("p",{className:"competition-setting__field-note"},"This competition is public and anyone can join. To restrict entry to ",C?e.createElement("span",null,"or visibility of "):null,"this competition please change to a limited ",C?e.createElement("span",null,"or private "):null,"competition."),"limited"==a&&e.createElement("p",{className:"competition-setting__field-note"},"Participation of this competition is restricted to those with access to the link below, or to those included in the whitelist below. Note that anyone is still able to view the details of this competition."),"private"==a&&e.createElement("p",{className:"competition-setting__field-note"},"This competition is private and can only be accessed by those who have the link below, or to those included in the whitelist below."))),"public"!=a&&e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label"},"URL for Sharing"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("div",null,e.createElement("div",{className:"competition-host__magic-link-wrapper"},e.createElement(s.InputGroupInline,{buttonChildren:e.createElement("span",{className:"fa fa-clone"}),buttonToolTip:m,copyToClipboardOnSubmit:!0,value:"https://www.kaggle.com/t/"+E,inputClassName:"competition-host__magic-link-input",inputId:"competition-magic-link",onSubmit:p,readOnly:!0}),e.createElement("div",{className:"competition-host__magic-link-action"},e.createElement(c.ToolTip,{tipText:"Regenerate link"},e.createElement(i.ButtonAutoWidth,{onClick:d,text:e.createElement("span",{className:"fa fa-refresh"})})))),e.createElement("p",{className:"competition-setting__field-note"},"This is a URL that can be shared around and re-used. Anyone who visits this link will be able to participate in the competition.")))),u.Current.isAdmin&&e.createElement("div",{className:"competition-setting__field-group competition-setting__field-group--labels-top"},e.createElement("label",{className:"competition-setting__field-label"},e.createElement("span",{className:"fa fa-lock"})," Whitelist users"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("div",null,e.createElement("textarea",{className:"competition-host__whitelist",onChange:y}),e.createElement("p",{className:"competition-setting__field-note"},"Enter a list of user IDs (delimited by anything) to grant access to this competition. Note: any users from this list will be added to any existing users that already have access, and cannot be removed once whitelisted.")))),e.createElement("div",{className:"competition-settings__save-button-wrapper"},e.createElement("div",{className:"competition-settings__save-button"},e.createElement(i.ButtonAutoWidth,{isDisabled:v.length>0,onClick:_,text:"Save Competition"}),b&&e.createElement("div",{className:"competition-settings__save-spinner"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})))),w))},n}(e.Component);t.CompetitionPrivacy=p}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(24),r=n(83),o=n(82),s=n(69),l=n(41),c=n(40),u=n(128),p=n(716),d=n(27),m=n(57),h=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){for(var t=this.props,n=(t.canSeeNewWorldInClassCreation,t.isLoadingAllTeams),a=t.teams,h=t.onSelectTeam,g=t.onSelectAllTeams,f=t.onCancelSelectAllTeams,v=t.onExpandTeam,_=t.onChangeTeamFilter,b=t.teamFilter,E=t.onSearchTeams,y=t.onClearTeamFilter,w=t.onSelectSubmission,C=t.onDeselectAllSubmissions,S=t.onDeselectAllTeams,N=t.onCollapseAll,T=t.onDownloadSubmissions,k=t.onRescoreSubmissions,x=t.onInvalidateSubmissions,M=t.onHideSubmissions,I=t.onUnhideSubmissions,D=t.showSelectAllTeamsWarning,P=t.showRescoreProgressModal,O=t.showInvalidationProgressModal,U=t.showTeamHidingProgressModal,A=t.showTeamUnhidingProgressModal,L=0,R=0,F=!0,B=0,j=a;B<j.length;B++){var H=j[B];if(H.isChecked)L+=H.entries,R++;else{F=!1;for(var K=0,V=H.submissions;K<V.length;K++){V[K].isChecked&&L++}}}var z=e.createElement(r.Confirm,{cancelText:"Cancel",confirmText:"Select All",isShown:D,onCancel:f,onConfirm:function(){return g(!1)},subtitle:"Performing actions on all teams can be very slow.",title:"Are you Sure?"}),W=this.props.teams.reduce(function(e,t){return e+t.entries},0);return e.createElement("div",{className:"competition-allsubmissions"},e.createElement("div",{className:"competition-allsubmissions__header"},e.createElement(s.Modal,{modalIsShown:P,onClose:function(){}},e.createElement("div",{className:"competition-allsubmissions__progress-modal"},e.createElement("p",{className:"competition-allsubmissions__progress-modal-text"},"Rescoring Submissions"),e.createElement(u.TaskProgress,{taskTrigger:p.rescoreSubmissionsTrigger}))),e.createElement(s.Modal,{modalIsShown:O,onClose:function(){}},e.createElement("div",{className:"competition-allsubmissions__progress-modal"},e.createElement("p",{className:"competition-allsubmissions__progress-modal-text"},"Invalidating Submissions"),e.createElement(u.TaskProgress,{taskTrigger:p.invalidateSubmissionsTrigger}))),e.createElement(s.Modal,{modalIsShown:U,onClose:function(){}},e.createElement("div",{className:"competition-allsubmissions__progress-modal"},e.createElement("p",{className:"competition-allsubmissions__progress-modal-text"},"Hiding Teams"),e.createElement(u.TaskProgress,{taskTrigger:p.hideTeamsTrigger}))),e.createElement(s.Modal,{modalIsShown:A,onClose:function(){}},e.createElement("div",{className:"competition-allsubmissions__progress-modal"},e.createElement("p",{className:"competition-allsubmissions__progress-modal-text"},"Unhiding Teams"),e.createElement(u.TaskProgress,{taskTrigger:p.unhideTeamsTrigger}))),e.createElement("div",{className:"competition-allsubmissions__metadata"},a.length?e.createElement(l.Pluralize,{word:"team",count:a.length,formatNumber:!0}):e.createElement("span",{className:"fa fa-circle-o-notch fa-spin"}),W?e.createElement("span",null,e.createElement("span",null,","),e.createElement(l.Pluralize,{word:"submission",count:W,formatNumber:!0})):null,e.createElement("form",{className:"competition-allsubmissions__filter-wrapper",onSubmit:function(e){e.preventDefault(),E()}},b.length>0&&e.createElement("a",{className:"competition-allsubmissions__filter-clear",onClick:y},e.createElement("span",{className:"fa fa-times"})," clear"),e.createElement("input",{className:"competition-allsubmissions__filter",onChange:_,placeholder:"Filter by team name...",value:b}),e.createElement("button",{className:"competition-allsubmissions__filter-button",title:"Filter Teams",type:"submit"},e.createElement("span",{className:"fa fa-search"})))),L>0&&e.createElement("div",{className:"competition-allsubmissions__batch"},e.createElement("p",null,L," submissions selected"),e.createElement(c.ToolTip,{tipText:"Download the selected "+m("submission",L)},e.createElement(i.ButtonAutoWidth,{classNames:"competition-allsubmissions__batch-button",onClick:T,text:"Download",size:"s"})),e.createElement(c.ToolTip,{tipText:"Rescore the selected "+m("submission",L)+". This will reinstate a submission that was manually invalidated."},e.createElement(i.ButtonAutoWidth,{classNames:"competition-allsubmissions__batch-button",onClick:k,text:"Rescore",size:"s"})),e.createElement(c.ToolTip,{tipText:"Remove the selected "+m("submission",L)+" from the leaderboard"},e.createElement(i.ButtonAutoWidth,{classNames:"competition-allsubmissions__batch-button",onClick:x,text:"Invalidate",size:"s"})),e.createElement("a",{className:"competition-allsubmissions__batch-deselect",onClick:C},"Deselect Submissions")),R>0&&e.createElement("div",{className:"competition-allsubmissions__batch"},e.createElement("p",null,R," teams selected"),e.createElement(c.ToolTip,{tipText:"Remove the selected "+m("team",R)+" and their submissions from the competition."},e.createElement(i.ButtonAutoWidth,{classNames:"competition-allsubmissions__batch-button",onClick:M,text:"Hide",size:"s"})),e.createElement(c.ToolTip,{tipText:"Reinstate the selected "+m("team",R)+" and their submissions in the competition."},e.createElement(i.ButtonAutoWidth,{classNames:"competition-allsubmissions__batch-button",onClick:I,text:"Unhide",size:"s"})),e.createElement("a",{className:"competition-allsubmissions__batch-deselect",onClick:S},"Deselect Teams"))),e.createElement("table",{className:"competition-allsubmissions__teams-table"},e.createElement("thead",null,e.createElement("tr",{className:"competition-allsubmissions__teams-th-row"},e.createElement("th",{className:"competition-allsubmissions__teams-th-checkbox"},e.createElement("a",{className:"competition-allsubmissions__teams-th-checked"},e.createElement(o.Checkbox,{isChecked:F,isEditable:!0,onChange:function(){return g(F)},text:""}))),e.createElement("th",{className:"competition-allsubmissions__teams-th-rank"},"#"),e.createElement("th",{className:"competition-allsubmissions__teams-th-team"},"Team Name"),e.createElement("th",{className:"competition-allsubmissions__teams-th-entries"},"Entries"),e.createElement("th",{className:"competition-allsubmissions__teams-th-score"},"Top Score"),e.createElement("th",{className:"competition-allsubmissions__teams-th-models"},"Models"),e.createElement("th",{className:"competition-allsubmissions__teams-th-actions"},e.createElement("a",{className:"competition-allsubmissions__teams-refresh",onClick:y,title:"Refresh teams"},e.createElement("span",{className:"fa fa-refresh"})),e.createElement("a",{className:"competition-allsubmissions__teams-collapse-all",onClick:N,title:"Collapse all teams"},e.createElement("span",{className:"fa fa-compress"}))))),e.createElement("tbody",null,n?e.createElement("tr",{className:"competition-allsubmissions__loading"},e.createElement("div",{className:"competition-allsubmissions__loading-spinner"},e.createElement("span",{className:"fa fa-circle-o-notch fa-spin"})),a.length<500?"Don't worry, this shouldn't take long.":a.length<1500?"Sit tight, this might take a little bit.":"Get comfortable, this is going to be a while."):a.length>0?a.map(function(t,n){var a=0;if(t.isChecked)a+=t.entries;else for(var i=0,r=t.submissions;i<r.length;i++){var s=r[i];s.isChecked&&a++}return e.createElement("tr",{className:"competition-allsubmissions__teams-td-row-wrapper",key:"team-"+t.id},e.createElement("div",{className:"competition-allsubmissions__teams-td-row"+(t.rank?"":"--hidden")+(t.isExpanded?"--expanded":""),onClick:function(){return v(t,n)}},e.createElement("td",{className:"competition-allsubmissions__teams-td-checkbox"},t.isPartiallyChecked?e.createElement("span",{className:"competition-allsubmissions__teams-td-partially-checked",onClick:function(e){e.stopPropagation(),h(t,n)}},e.createElement("span",{className:"fa fa-square"})):e.createElement(o.Checkbox,{isChecked:t.isChecked,isEditable:!0,isGreedy:!0,onChange:function(){return h(t,n)},text:""})),e.createElement("td",{className:"competition-allsubmissions__teams-td-rank"},t.rank||e.createElement("span",{className:"fa fa-eye-slash",title:"Hidden from Leaderboard"})),e.createElement("td",{className:"competition-allsubmissions__teams-td-team",title:t.name},t.name),e.createElement("td",{className:"competition-allsubmissions__teams-td-entries"},t.entries),e.createElement("td",{className:"competition-allsubmissions__teams-td-score",title:t.score},t.score),e.createElement("td",{className:"competition-allsubmissions__teams-td-models"},t.downloadTeamModelUrl&&e.createElement("a",{className:"competition-allsubmissions__teams-td-model-download",href:t.downloadTeamModelUrl,onClick:function(e){return e.stopPropagation()}},e.createElement("span",{className:"fa fa-file-code-o"}))),e.createElement("td",{className:"competition-allsubmissions__teams-td-actions"},a>0&&e.createElement("span",null,a," of ",t.entries," selected"))),t.isExpanded&&e.createElement("div",{className:"competition-allsubmissions__teams-td-row-inner"},t.submissions.length>0?e.createElement("table",{className:"competition-allsubmissions__submissions-table"},e.createElement("caption",{className:"competition-allsubmissions__submissions-table-caption"},e.createElement("span",{className:"competition-allsubmissions__submissions-table-selected-note"},"User-selected submissions in green"),e.createElement("span",{className:"competition-allsubmissions__submissions-table-errored-note"},"Errored submissions in red")),e.createElement("thead",null,e.createElement("tr",{className:"competition-allsubmissions__submissions-th-row"},e.createElement("th",{className:"competition-allsubmissions__submissions-th-checkbox"}),e.createElement("th",{className:"competition-allsubmissions__submissions-th-id"},"ID"),e.createElement("th",{className:"competition-allsubmissions__submissions-th-name"},"Submission"),e.createElement("th",{className:"competition-allsubmissions__submissions-th-details"},"Details"),e.createElement("th",{className:"competition-allsubmissions__submissions-th-public"},"Public"),e.createElement("th",{className:"competition-allsubmissions__submissions-th-private"},"Private"),e.createElement("th",{className:"competition-allsubmissions__submissions-th-date"},"Date"))),e.createElement("tbody",null,t.submissions.map(function(a,i){var r=a.isSelected,s=!(a.privateScore||a.publicScore);return e.createElement("tr",{className:"competition-allsubmissions__submissions-td-row"+(r?"--selected":s?"--errored":""),key:"submission-"+a.id},e.createElement("td",{className:"competition-allsubmissions__submissions-td-checkbox"},e.createElement(o.Checkbox,{isChecked:a.isChecked,isEditable:!0,isGreedy:!0,onChange:function(){return w(t,a,n,i)},text:""})),e.createElement("td",{className:"competition-allsubmissions__submissions-td-id"},a.id),e.createElement("td",{className:"competition-allsubmissions__submissions-td-name"},e.createElement("a",{className:"competition-allsubmissions__submission-link",href:a.url,title:a.name},a.name)),e.createElement("td",{className:"competition-allsubmissions__submissions-td-details",title:a.details},a.details),e.createElement("td",{className:"competition-allsubmissions__submissions-td-public"},a.publicScore||"-"),e.createElement("td",{className:"competition-allsubmissions__submissions-td-private"},a.privateScore||"-"),e.createElement("td",{className:"competition-allsubmissions__submissions-td-date",title:d(a.date).format("llll")},d(a.date).format("M/DD/YY H:mm")))}))):e.createElement("p",null,"No submissions found.")))}):e.createElement("tr",{className:"competition-allsubmissions__none"},"Sorry, nothing to see here!"))),z)},n}(e.Component);t.CompetitionAllSubmissions=h}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(4),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement("div",{className:"competition-playground"},e.createElement(r.FileUploader,{autoRemoveOnComplete:!0,entityName:"submissions",onFileUploadFinished:function(e,n,i){return a.Competitions.postPlaygroundSubmission.withHeaders(r.withAntiForgeryHeader())({id:t.props.competitionId,blobFileToken:n}).then(function(){return location.reload()})},mode:"single"}),e.createElement(r.FlexTable,{className:"competition-playground__table"},e.createElement(r.FlexRow,null,["Submitted","Filename","Status","Public Score","Private Score","Options"]),this.props.playgroundSubmissions.map(function(n){return e.createElement(r.FlexRow,{key:n.id},[e.createElement(r.TimeAgo,{key:0,time:n.dateSubmitted}),n.fileName,n.status,n.publicScore,n.privateScore,e.createElement("a",{key:5,className:"competition-playground__rescore-link",onClick:function(){return a.Competitions.rescorePlaygroundSubmission.withHeaders(r.withAntiForgeryHeader())({id:t.props.competitionId,submissionId:n.id}).then(function(){return location.reload()})}},"Rescore")])})))},n}(e.Component);t.CompetitionPlaygroundSubmissions=o}).call(t,n(0),n(23))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(21),o=n(1728),s=function(t){function n(e){var n=t.call(this,e)||this;return n.onCompetitionDataDownload=function(e){if(!n.props.hasAcceptedRules){e.preventDefault();var t=e.target.href;n.props.onShowRulesModal(function(){return window.location.href=t})}},n.onCompetitionDataIntroSaved=function(e,t){var o={page:{content:e,mimeType:t}};return n.props.updateUnsavedChangesFlag(!1),a.ajax({type:"POST",url:n.props.saveDataUrl,contentType:"application/json",dataType:"json",data:JSON.stringify(o),success:function(e){n.setState({dataIntro:i.__assign({},n.state.dataIntro,o.page)},function(){e.pageMessages&&e.pageMessages.length>0?r.PageMessages.set(e.pageMessages):(r.PageMessages.clear(),r.PageMessages.success("Save successful."))})},error:function(e){e.pageMessages&&e.pageMessages.length>0?r.PageMessages.set(e.pageMessages):(r.PageMessages.clear(),r.PageMessages.error("Save unsuccessful."))}})},n.state={dataIntro:e.dataIntro},n}return i.__extends(n,t),n.prototype.render=function(){var t={onCompetitionDataDownload:this.onCompetitionDataDownload,onCompetitionDataIntroSaved:this.onCompetitionDataIntroSaved},n=this.props,a=(n.children,i.__rest(n,["children"]));return e.createElement(o.CompetitionData,i.__assign({},a,this.state,t))},n}(e.Component);t.CompetitionDataContainer=s}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(9),o=n(92),s=n(91),l=n(60),c=n(446),u=n(112),p=n(1729),d=n(4),m=e.ReactCompetitions.GetBenchmarks;!function(e){e[e.CurrentFiles=0]="CurrentFiles",e[e.NewFiles=1]="NewFiles"}(t.FileListIndex||(t.FileListIndex={}));var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.render=function(){var e=this;return a.createElement(r.ContentBox,{title:"Additional Files"},d.Current.isAdmin||this.props.isCompetitionHost?a.createElement(s.FileUploader,{autoRemoveOnComplete:!0,className:"competition-data__uploader",filesClassName:"competition-data__uploader-files",mode:"multiple",entityName:"competition-data-files",onFileUploadFinished:this.props.onCompetitionDataFileAdded}):null,a.createElement(o.FilePreviewList,{files:this.props.files.map(function(t){return{showSubmitToCompButton:!1,submitToCompUrl:null,downloadCallback:e.props.onCompetitionDataDownload,description:t.description,fileName:t.name,filePreviewUrl:t.previewUrl,fileType:t.fileType||t.name.split(".")[t.name.split(".").length-1],fileUrl:t.url,size:t.totalBytes,fullPath:t.relativePath,canDelete:t.id&&!t.datasetSlug&&(e.props.isCompetitionHost||d.Current.isAdmin),onDelete:function(){return e.props.onCompetitionDataFileDeleted(t.id)},hideFilePreview:!0}})}))},t}(a.Component),g=function(t){function n(n){var a=t.call(this,n)||this;a.onToggle=function(){var e=a.props,t=e.isEditing,n=e.onSave,i=e.onEdit;t?n(a.state):i()},a.onUploadStarted=function(e){var t=a.state.benchmarks;a.setState({benchmarks:t.concat([{name:e,placeholder:!0}])})},a.onUploadFinished=function(t,n,i){var r=a.props,o=r.competitionId,s=(r.benchmarkSubmitUrl,{blobFileTokens:[n],submissionDescription:t}),l=JSON.stringify(s);e.Competitions.postBenchmark({id:o},l).then(function(e){var n=a.state.benchmarks;a.setState({benchmarks:n.filter(function(e){return!e.placeholder}).concat([{name:t}])})})},a.deleteBenchmark=function(t){e.Admin.hardDeleteSubmission({submissionId:t},null).then(function(e){var n=a.state.benchmarks;a.setState({benchmarks:n.filter(function(e){return e.id!==t})})})};var r=(n.isEditing,n.onSave,n.onEdit,n.onCancel,i.__rest(n,["isEditing","onSave","onEdit","onCancel"]));return a.state=r,a}return i.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props,o=(n.isEditing,n.onCancel,n.benchmarkUploadUrl,this.state.benchmarks);return a.createElement(r.ContentBox,{title:"Benchmarks"},a.createElement("div",{className:"competition-data__benchmarks-edit"},a.createElement("section",null,"Click or drag benchmark files below to provide them to your competitors and feature the scores on the leaderboard."),a.createElement("section",null,o.map(function(e,n){return a.createElement("div",{key:n},a.createElement("span",null,n+1),a.createElement("span",null,e.placeholder?a.createElement(u.Spinner,null):a.createElement("input",{type:"text",defaultValue:e.details||e.name,onChange:function(e){var a=o.map(function(t,a){return a===n?i.__assign({},t,{details:e.currentTarget.value,dirty:!0}):t});t.setState({benchmarks:a})},disabled:void 0===e.id})),a.createElement("span",null,e.name),e.id?a.createElement("span",null,a.createElement("a",{onClick:function(n){t.deleteBenchmark(e.id),n.preventDefault()}},"Remove")):a.createElement("span",null,a.createElement("a",{href:"",onClick:function(){return window.location.reload()}},"Refresh to edit")))})),a.createElement(s.FileUploader,{mode:"multiple",overrideUpload:function(n){var a=n;return e.Competitions.postBenchmark({id:t.props.competitionId},a.html5File)},onFileUploadStarted:this.onUploadStarted,onFileUploadFinished:this.onUploadFinished,singleFileButtonLabel:"Upload Files"})))},n}(a.Component),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t}return i.__extends(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this,t=this.props.competitionId;this.state;return this.state?a.createElement(g,i.__assign({competitionId:t},this.state)):a.createElement(m,{route:this.props,placeholder:a.createElement(u.Spinner,null),children:function(t){var n=t.benchmarks;return e.setState({benchmarks:n}),null}})},t}(a.Component);t.BenchmarksContainer=f;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.renderVersionNotes=function(e,t,n){return a.createElement(l.MarkdownConverter,{key:"version-"+t,contentClassName:"dataset-home__version-notes",content:e,insertNofollow:!0})},t.prototype.render=function(){var e=this,t=this.props.competitionId;return a.createElement("div",{className:"competition-data"},this.props.hasHostEnabled&&a.createElement(p.EvaluationContainer,{competitionId:this.props.competitionId}),a.createElement(h,i.__assign({},this.props)),this.props.hasHostEnabled&&a.createElement(f,{competitionId:t}),a.createElement(c.MarkdownContentBox,{canEdit:this.props.canEdit||this.props.isCompetitionHost,canEditMimeType:!0,content:this.props.dataIntro?this.props.dataIntro.content:null,mimeType:this.props.dataIntro?l.stringToMimeType(this.props.dataIntro.mimeType):null,contentBoxTitle:"Data Introduction",contentClassName:"competition-data__content",onEditClicked:function(){return e.props.updateUnsavedChangesFlag(!0)},onCancelClicked:function(){return e.props.updateUnsavedChangesFlag(!1)},onSaveClicked:function(t,n){return e.props.onCompetitionDataIntroSaved(t,n)}}))},t}(a.Component);t.CompetitionData=v}).call(t,n(23),n(0))},function(e,t,n){"use strict";(function(e){function a(e,t){if(t===s.StepStatus.Init&&e!==s.StepStatus.Init&&e!==s.StepStatus.Warn)throw new Error("Must warn before changing status to init (obliterate): "+e+" => "+t);if(t===s.StepStatus.Warn&&e===s.StepStatus.Init)throw new Error("Cannot jump to warn from StepStatus Init")}function i(e){switch(e){case s.StepStatus.Init:return C.Color.KaggleYellow;case s.StepStatus.Ok:return C.Color.KaggleBlueDark;case s.StepStatus.Processing:return C.Color.KaggleBlue;case s.StepStatus.Warn:return C.Color.KaggleRed;case s.StepStatus.Error:return C.Color.KaggleRedDark;case s.StepStatus.Disabled:return C.Color.GrayLighter;default:throw new Error("Unmapped status color: "+e)}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(0),s=n(717),l=n(110),c=n(718),u=n(9),p=n(44),d=n(90),m=n(91),h=n(83),g=n(133),f=n(187),v=n(719),_=n(128),b=n(129),E=n(112),y=n(1731),w=n(28),C=n(111),S=n(11),N=n(720),T=e.ReactAdmin.GetEvaluation,k=o.createElement(N.WarnButton,{style:{marginLeft:"auto"}},o.createElement("i",{className:"fa fa-times"})," Remove"),x=function(e){return o.cloneElement(k,{onClick:e})},M=N.largeButton(N.Button),I=N.disableButton(M),D=function(e){return e!==s.StepStatus.Init&&e!==s.StepStatus.Error};t.EvaluationContainer=function(e){return o.createElement(T,{route:{id:e.competitionId},placeholder:o.createElement(u.ContentBox,{title:"Evaluation"},o.createElement(E.Spinner,{style:{marginTop:24,marginBottom:24}}))},function(t,n){return o.createElement(O,r.__assign({},t.evaluation,e))})};var P=(ie=["\n    display: flex;\n    flex-flow: column nowrap;\n    font-size: 14px;\n    line-height: 22px;\n    margin:0 24px;\n"],ie.raw=["\n    display: flex;\n    flex-flow: column nowrap;\n    font-size: 14px;\n    line-height: 22px;\n    margin:0 24px;\n"],w.default.div(ie)),O=function(e){function t(t){var n=e.call(this,t)||this;return n.setEditing=function(e){return void 0===e&&(e=!0),n.setState({editing:e})},n.setDisabled=function(e){return void 0===e&&(e=!0),n.setState({disabled:e})},n.state={editing:!1,disabled:!1},n}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=this.state,n=t.editing,a=t.disabled;return o.createElement(u.ContentBox,{title:"Evaluation",titleBarRightSide:o.createElement(d.EditStateToggleButton,{sectionName:"Evaluation",cancelPropName:"evaluation",isEditing:n,disabled:a,toggleCallback:function(){return e.setEditing(!n)},saveButtonText:"Done"})},o.createElement(ae,r.__assign({},this.props,{editing:n,disabled:a,setEditing:this.setEditing,setDisabled:this.setDisabled})))},t}(o.Component),U=(re=["\n    align-items: flex-start;\n    border-bottom: 1px solid rgba(222,223,224,0.5);\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n    align-items: center;\n    padding: 24px 0;\n    width: 100%;\n    &:last-child {\n        border-bottom:0;\n    }\n"],re.raw=["\n    align-items: flex-start;\n    border-bottom: 1px solid rgba(222,223,224,0.5);\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n    align-items: center;\n    padding: 24px 0;\n    width: 100%;\n    &:last-child {\n        border-bottom:0;\n    }\n"],w.default.section(re)),A=(oe=["\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: flex-start;\n    align-items: center;\n    flex: 0 0 calc(25% - 24px);\n    padding: 9px 0;\n    color: ",";\n"],oe.raw=["\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: flex-start;\n    align-items: center;\n    flex: 0 0 calc(25% - 24px);\n    padding: 9px 0;\n    color: ",";\n"],w.default.div(oe,C.Color.TextLight)),L=(se=["\n    display: flex;\n    flex-flow: column;\n    justify-content: space-between;\n    align-items: flex-start;\n    padding: 0;\n    flex: 1 0 calc(75% - 10px);\n    .KaggleSelect {\n        width:100%;\n    }\n"],se.raw=["\n    display: flex;\n    flex-flow: column;\n    justify-content: space-between;\n    align-items: flex-start;\n    padding: 0;\n    flex: 1 0 calc(75% - 10px);\n    .KaggleSelect {\n        width:100%;\n    }\n"],w.default.div(se)),R=function(e){return{competitionId:e.competitionId,step:e.step,status:e.status,taskTrigger:e.taskTrigger,obliterates:e.obliterates,confirmStep:e.confirmStep,setStatus:e.setStatus,obliterate:e.obliterate,solutionInfo:e.solutionInfo}},F=(le=["\n    margin-top:9px;\n"],le.raw=["\n    margin-top:9px;\n"],w.default(v.FullWidth)(le)),B=function(e){return o.createElement(U,{style:{borderBottomWidth:e.hideBorder?0:1,paddingBottom:e.hideBorder?0:24}},o.createElement(A,null,e.title),o.Children.only(e.children))},j=(ce=["\n    font-weight: 700;\n"],ce.raw=["\n    font-weight: 700;\n"],w.default.span(ce)),H=(ue=["\n    text-decoration: none;\n    font-weight: 700;\n    color: ",";\n    &:hover {\n        color: ",";\n    }\n"],ue.raw=["\n    text-decoration: none;\n    font-weight: 700;\n    color: ",";\n    &:hover {\n        color: ",";\n    }\n"],w.default.a(ue,C.Color.KaggleBlueDark,C.Color.KaggleBlueDarkest)),K=function(t){var n=t.competitionId,a=t.step,i=t.status,r=t.solutionInfo;switch(a){case"solution":if(!r.hasRaw)return o.createElement(j,null,"No Solution");var s=e.Admin.downloadRawSolution.getUrl({competitionId:n}),l=r.hasDerived?e.Admin.downloadDerivedSolution.getUrl({competitionId:n}):null;return o.createElement(v.Sequenced,null,o.createElement(H,{href:s,alt:r.rawFileName},"Download Raw Zip"),l&&o.createElement(H,{href:l,alt:r.derivedFileName},"Download Derived CSV"));case"submission":return o.createElement(j,null,D(i)?"submission.csv":"No Submission");default:throw new Error("Evaluation step "+a+" does not have file state.")}},V=function(e){function t(t){var n=e.call(this,t)||this;return n.save=function(){return r.__awaiter(n,void 0,void 0,function(){var e,t,n,a,i,o,l,c,u,p,d,m;return r.__generator(this,function(r){switch(r.label){case 0:return e=this.props,t=e.step,n=e.status,a=e.taskTrigger,i=e.setStatus,o=e.upload,l=e.obliterate,c=this.state,u=c.fileName,p=c.blob,[4,i(t,s.StepStatus.Init)];case 1:return r.sent(),u&&p?[4,o(u,p)]:[3,4];case 2:return d=r.sent(),m=d.errors&&d.errors.length?s.StepStatus.Error:s.StepStatus.Ok,[4,i(t,m)];case 3:r.sent(),this.lastStatus=m,r.label=4;case 4:return[2]}})})},n.lastStatus=t.status,n.state={fileName:null,blob:null},n}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.competitionId,a=t.step,i=t.status,l=t.taskTrigger,c=t.confirmStep,u=t.setStatus,p=(t.upload,t.obliterate),d=(t.obliterates,t.solutionInfo),h=t.updateStateFromServer,g=![s.StepStatus.Init,s.StepStatus.Warn,s.StepStatus.Error].includes(i);if(void 0===l)return null;var f=(R(this.props),this.props.disabled?I:M);return o.createElement(L,null,o.createElement(v.FullWidth,null,o.createElement(_.TaskProgress,{taskTrigger:l},o.createElement(v.Spread,null,o.createElement(m.SimpleFileUploader,{hide:g,type:a,disabled:this.props.disabled,upload:function(t){return r.__awaiter(e,void 0,void 0,function(){var e,n,i=this;return r.__generator(this,function(o){if(Array.isArray(t))throw new Error("single "+a+" file required");return e=t.compressedName||t.name,n=t.html5File,this.setState({fileName:e,blob:n},function(){return r.__awaiter(i,void 0,void 0,function(){return r.__generator(this,function(e){switch(e.label){case 0:return[4,c(a)];case 1:return e.sent()?[4,this.save()]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}})})}),[2]})})}},o.createElement(f,null,o.createElement("i",{className:"fa fa-upload"}),"Upload a ",this.props.step," file")),g&&o.createElement(K,{competitionId:n,step:a,status:i,solutionInfo:d}),i===s.StepStatus.Ok&&o.createElement(N.HoverVisibility,null,x(function(){return r.__awaiter(e,void 0,void 0,function(){return r.__generator(this,function(e){switch(e.label){case 0:return[4,c(a)];case 1:return e.sent()?(this.setState({fileName:null,blob:null}),[4,p()]):[3,5];case 2:return e.sent(),[4,u(a,s.StepStatus.Init)];case 3:return e.sent(),[4,h()];case 4:e.sent(),e.label=5;case 5:return[2]}})})}))))))},t}(o.Component);t.EvaluationUploadStep=V;var z=function(e){function t(t){var n=e.call(this,t)||this;return n.save=function(){return r.__awaiter(n,void 0,void 0,function(){var e,t,n,a,i,o,l,c,u,p;return r.__generator(this,function(r){switch(r.label){case 0:return e=this.props,t=e.step,n=e.status,a=e.taskTrigger,i=e.setStatus,o=e.update,l=e.obliterate,c=this.state.mappingState,[4,i(t,s.StepStatus.Init)];case 1:return r.sent(),c?[4,o(c)]:[3,4];case 2:return u=r.sent(),p=u.errors&&u.errors.length?s.StepStatus.Error:s.StepStatus.Ok,[4,i(t,p)];case 3:r.sent(),this.lastStatus=p,r.label=4;case 4:return[2]}})})},n.lastStatus=t.status,n.state={mappingState:null},n}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.step,a=t.status,i=t.confirmStep,s=(t.setStatus,t.columnMapping),l=t.taskTrigger,c=(t.update,t.predefinedValidationSets),u=t.solutionInfo;R(this.props);return o.createElement(L,null,o.createElement(v.FullWidth,null,o.createElement(_.TaskProgress,{taskTrigger:l},s&&s.columnMappings&&o.createElement(y.ColumnMappings,r.__assign({},s,{step:n,solutionInfo:"solutionMapping"===n?u:null,status:a,onSave:function(t){return r.__awaiter(e,void 0,void 0,function(){var e=this;return r.__generator(this,function(a){return this.setState({mappingState:t},function(){return r.__awaiter(e,void 0,void 0,function(){return r.__generator(this,function(e){switch(e.label){case 0:return[4,i(n)];case 1:return e.sent()?[4,this.save()]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}})})}),[2]})})},predefinedValidationSets:"submissionMapping"===n?c:null})))))},t}(o.Component);t.EvaluationMappingStep=z;var W=(pe=["\n    color: #da5957;\n    cursor: default;\n    padding: 10px 14px;\n    & i {\n        opacity:.5;\n        margin-right:8px;\n    }\n    &:hover {\n        color: #c63a38;\n        background-color: #f6f6f6;\n    }\n"],pe.raw=["\n    color: #da5957;\n    cursor: default;\n    padding: 10px 14px;\n    & i {\n        opacity:.5;\n        margin-right:8px;\n    }\n    &:hover {\n        color: #c63a38;\n        background-color: #f6f6f6;\n    }\n"],w.default.div(pe)),q=(de=["\n    position: relative;\n    display: inline-flex;\n    flex-flow: row nowrap;\n    width: 100%;\n    margin: 0;\n\n    & > span {\n        display: inline-flex;\n        flex-flow: row nowrap;\n        flex: 0 0 auto;\n        align-self: flex-start;\n        margin-right:1em;\n    }\n"],de.raw=["\n    position: relative;\n    display: inline-flex;\n    flex-flow: row nowrap;\n    width: 100%;\n    margin: 0;\n\n    & > span {\n        display: inline-flex;\n        flex-flow: row nowrap;\n        flex: 0 0 auto;\n        align-self: flex-start;\n        margin-right:1em;\n    }\n"],w.default.span(de)),G=function(e){switch(e){case C.Color.KaggleYellow:return C.Color.KaggleBlackLight;default:return e}},J=e.Admin,Y=J.queueSolutionUpdate,Q=J.queueSolutionMappingUpdate,X=J.queueSubmissionUpdate,$=J.queueSubmissionMappingUpdate,Z=b.createTaskTrigger(Y),ee=b.createTaskTrigger(Q),te=b.createTaskTrigger(X),ne=b.createTaskTrigger($),ae=function(t){function n(n){var l=t.call(this,n)||this;return l.taskTriggers={metric:void 0,parameter:void 0,solution:Z,solutionMapping:ee,submission:te,submissionMapping:ne},l.mounted=!1,l.getEvaluationStatusFromProps=function(){var e=l.props,t=e.metric,n=e.parameters,a=e.solutionInfo,i=e.solutionColumnMapping,r=e.submissionColumnMapping,o=a.totalSolutionRows,c={};return c.metric=t?s.StepStatus.Ok:s.StepStatus.Init,c.parameter=c.metric!==s.StepStatus.Ok||!n&&t.parameters&&t.parameters.length?s.StepStatus.Init:s.StepStatus.Ok,c.solution=c.parameter===s.StepStatus.Ok&&o&&i?s.StepStatus.Ok:s.StepStatus.Init,c.solutionMapping=c.solution===s.StepStatus.Ok&&o&&i?s.StepStatus.Ok:s.StepStatus.Init,c.submission=c.solutionMapping===s.StepStatus.Ok&&r?s.StepStatus.Ok:s.StepStatus.Init,c.submissionMapping=c.submission===s.StepStatus.Ok&&r?s.StepStatus.Ok:s.StepStatus.Init,c},l.onMetricConfirmed=function(){return r.__awaiter(l,void 0,void 0,function(){var t,n,a,i;return r.__generator(this,function(r){switch(r.label){case 0:return t=this.props.competitionId,n=this.state.metricId,[4,this.setStatus("metric",s.StepStatus.Init)];case 1:return r.sent(),[4,e.Admin.setEvaluationMetric({competitionId:t,id:n})];case 2:return r.sent(),[4,e.Admin.getEvaluationMetric({id:n})];case 3:return a=r.sent(),i=this.hasParameter(),this.setState({metric:a,solutionColumnMapping:null,submissionColumnMapping:null}),[4,this.setStatus("metric",s.StepStatus.Ok)];case 4:return r.sent(),i?[3,6]:[4,this.setStatus("parameter",s.StepStatus.Ok)];case 5:r.sent(),r.label=6;case 6:return[2]}})})},l.onParametersConfirmed=function(){return r.__awaiter(l,void 0,void 0,function(){var t;return r.__generator(this,function(n){switch(n.label){case 0:return t=this.props.competitionId,[4,this.setStatus("parameter",s.StepStatus.Init)];case 1:return n.sent(),[4,this.setStatus("parameter",s.StepStatus.Processing)];case 2:return n.sent(),[4,e.Admin.setEvaluationMetricParameters({competitionId:t},{nameValuePairs:this.state.parameters})];case 3:return n.sent(),[4,this.setStatus("parameter",s.StepStatus.Ok)];case 4:return n.sent(),this.setState({parametersDirty:!1}),[2]}})})},l.getStepId=function(e){return l.props.steps.indexOf(e)},l.setStatus=function(e,t){var n=l.props,i=(n.competitionId,n.steps,l.state),o=l.state.stepsStatus;l.getStepId(e),o[e],l.hasState(e);return new Promise(function(n,c){for(var u=r.__assign({},o,(_={},_[e]=t,_)),p=l.getErrorSteps(),d=0,m=p;d<m.length;d++){u[m[d]]=s.StepStatus.Init}for(var h=l.getObliterateSteps(e),g=0,f=h;g<f.length;g++){var v=f[g];a(u[v],t),u[v]=t}l.undoLastStatusChange=function(){return new Promise(function(e){return l.setState(i,e)})},l.setState({stepsStatus:u},n);var _})},l.renderMetricSelect=function(e){var t=e.label.split("|||"),n=t[0],a=t[1];return o.createElement(q,null,o.createElement("span",{style:{fontWeight:700}},n),n!==a&&o.createElement("span",{style:{opacity:.5}},a))},l.getStepProps=function(t,n){var a=l.props,i=a.competitionId,r=(a.steps,l.state.solutionInfo),o=l.state,s=(o.metric,o.parameters,o.solutionColumnMapping,o.submissionColumnMapping,o.stepsStatus),c=l.getStepId(t),u=s[t],p=l.taskTriggers[t],d=l.getObliterateSteps(t),m=function(){return e.Admin.obliterateEvaluationFromStep({competitionId:i,stepId:c})};return{competitionId:i,step:t,status:u,taskTrigger:p,obliterates:d,confirmStep:n,setStatus:l.setStatus,obliterate:m,solutionInfo:r}},l.getPrevStep=function(e){return l.props.steps[l.getStepId(e)-1-("solution"!==e||l.hasParameter()?0:1)]},l.getNextStep=function(e){return l.props.steps[l.getStepId(e)+1+("metric"!==e||l.hasParameter()?0:1)]},l.getObliterateSteps=function(e){for(var t=(l.props.steps,[]);e;)l.hasState(e)&&t.push(e),e=l.getNextStep(e);return t},l.getErrorSteps=function(){for(var e=l.props.steps,t=[],n=e[0];n;)l.hasError(n)&&t.push(n),n=l.getNextStep(n);return t},l.getStepsProps=function(){var e=l.props.steps,t=l.state.metric,n=t&&t.parameters&&t.parameters.length?[]:e.map(function(e,t){return{step:e,id:t}}).filter(function(e){return"parameter"===e.step}).map(function(e){return e.id});return{stepsStatus:Object.entries(l.state.stepsStatus).reduce(function(e,t,a){var o=t[0],s=t[1];if(n.includes(a))return e;var l=(c.getStepTitle(o),G(i(s)));return r.__assign({},e,(u={},u[o]=l,u));var u},{})}},l.hasParameter=function(){return l.state.metric&&l.state.metric.parameters&&l.state.metric.parameters.length>0},l.hasError=function(e,t){return void 0===t&&(t=l.state.stepsStatus),!("parameter"===e&&!l.hasParameter())&&t[e]===s.StepStatus.Error},l.prevStepHasState=function(e,t){void 0===t&&(t=l.state.stepsStatus);var n=l.getPrevStep(e);S(n,"No previous step found for step "+e);var a=t[n];return D(a)},l.hasState=function(e,t){if(void 0===t&&(t=l.state.stepsStatus),"parameter"===e&&!l.hasParameter())return!1;var n=t[e];return D(n)},l.updateStateFromServer=function(){return r.__awaiter(l,void 0,void 0,function(){var t,n,a,i,o;return r.__generator(this,function(r){switch(r.label){case 0:return t=this.props.competitionId,[4,Promise.all([e.Admin.getSolutionColumnMapping({competitionId:t}),e.Admin.getSubmissionColumnMapping({competitionId:t}),e.Admin.getSolutionInfo({competitionId:t})])];case 1:return n=r.sent(),a=n[0].solutionColumnMapping,i=n[1].submissionColumnMapping,o=n[2],this.setState({solutionColumnMapping:a,submissionColumnMapping:i,solutionInfo:o}),[2]}})})},l.entityMoniker={entityId:n.competitionId,entityName:"competitions"},l.state={tasksProgress:b.emptyTasksProgress,stepsStatus:l.getEvaluationStatusFromProps(),metric:n.metric,metricId:n.metric?n.metric.id:null,parameters:n.parameters?n.parameters.reduce(function(e,t){return r.__assign({},e,(n={},n[t.name]=t.value,n));var n},{}):{},solutionColumnMapping:n.solutionColumnMapping,submissionColumnMapping:n.submissionColumnMapping,solutionInfo:n.solutionInfo},l}return r.__extends(n,t),n.prototype.componentDidMount=function(){this.mounted=!0},n.prototype.componentWillUnmount=function(){this.mounted=!1},n.prototype.render=function(){var e=this,t=this.props,n=t.editing,a=t.setEditing,i=(t.disabled,t.setDisabled),c=t.competitionId,u=(t.steps,t.metrics),d=this.props.predefinedValidationSets,m=this.state,_=m.metric,b=m.parameters,y=m.solutionColumnMapping,w=m.submissionColumnMapping,C=m.stepsStatus,S=m.solutionInfo,T=S.totalSolutionRows,k=S.totalSolutionPrivateRows,x=S.totalSolutionPublicRows;Object.values(C).some(function(e){return e===s.StepStatus.Processing});if(!n){var M=!!_&&_.abbreviation.replace(" ","")!==_.name.replace(" ","");return o.createElement(P,null,o.createElement(B,{title:"Scoring Metric"},o.createElement(L,null,o.createElement(F,null,_?o.createElement(v.Sequenced,null,o.createElement("strong",{style:{fontWeight:500,display:"block"}},M?_.abbreviation:_.name),M?_.name:null):o.createElement(W,{onClick:function(){return a(!0)}},o.createElement("i",{className:"fa fa-warning"}),"Requires metric")))),o.createElement(B,{title:"Solution File",hideBorder:!!T},o.createElement(L,null,o.createElement(F,null,this.hasState("solution")&&this.hasState("solutionMapping")?"Your submission should have "+T+" rows, each with "+(y&&y.columnDefinitions?y.columnDefinitions.length:-1)+" columns.":o.createElement(W,{onClick:function(){return a(!0)}},o.createElement("i",{className:"fa fa-warning"}),"Requires solution file")))),T&&o.createElement(B,{title:"Sampling Split"},o.createElement(l.FlexTable,null,o.createElement(l.FlexRow,null,["Type","Rows","Percentage"]),o.createElement(l.FlexRow,null,["Public Leaderboard",x,Math.round(x/T*1e3)/10+"%"]),o.createElement(l.FlexRow,null,["Private Leaderboard",k,Math.round(k/T*1e3)/10+"%"]),o.createElement(l.FlexRow,null,["Total",T,"100.0%"]))),o.createElement(B,{title:"Sample Submission"},o.createElement(L,null,this.hasState("submission")&&this.hasState("submissionMapping")?o.createElement(F,null,o.createElement(j,null,"sample-submission.csv")):o.createElement(W,{onClick:function(){return a(!0)}},o.createElement("i",{className:"fa fa-warning"}),this.hasState("submission")?"Requires submission mapping":"Requires submission file"))))}return o.createElement(h.ConfirmCallback,{style:{marginTop:24}},function(t){var n=function(n){return r.__awaiter(e,void 0,void 0,function(){var e,a,i,o;return r.__generator(this,function(r){switch(r.label){case 0:return this.state.stepsStatus[n]===s.StepStatus.Init?[2,!0]:[4,this.setStatus(n,s.StepStatus.Warn)];case 1:return r.sent(),(e=this.getObliterateSteps(n),a="This operation will clear any subsequent evaluation settings you have made",e.length<2)?(o=!0,[3,4]):[3,2];case 2:return[4,t(a)];case 3:o=r.sent(),r.label=4;case 4:return i=o,i?[3,6]:[4,this.undoLastStatusChange()];case 5:r.sent(),r.label=6;case 6:return[2,i]}})})};return o.createElement(P,null,o.createElement(f.DevOnly,null,function(){return o.createElement(g.Steps,r.__assign({},e.getStepsProps()))}),o.createElement(B,{title:"Scoring Metric"},o.createElement(L,null,o.createElement(v.FullWidth,null,o.createElement(v.Stack,null,C.metric===s.StepStatus.Processing?o.createElement(E.Spinner,null):o.createElement(p.SelectBox,{options:u.map(function(e){return{value:e.id,label:e.abbr+"|||"+e.name}}),optionRenderer:e.renderMetricSelect,valueRenderer:e.renderMetricSelect,onChange:function(t){return r.__awaiter(e,void 0,void 0,function(){var e;return r.__generator(this,function(a){switch(a.label){case 0:return i(!0),e=parseInt(t),this.setState({metricId:e}),[4,n("metric")];case 1:return a.sent()?[4,this.onMetricConfirmed()]:[3,3];case 2:a.sent(),a.label=3;case 3:return[4,this.updateStateFromServer()];case 4:return a.sent(),i(!1),[2]}})})},searchable:!1,placeholder:"Choose a scoring metric to use...",value:_?_.id:null}))))),e.hasParameter()&&e.prevStepHasState("parameter")&&o.createElement(B,{title:"Parameters"},o.createElement(L,null,o.createElement(v.FullWidth,null,o.createElement(v.Stack,null,o.createElement(l.FlexTable,null,o.createElement(l.FlexRow,null,["Name","Type","Value"]),_.parameters.map(function(t,n){var a=b?b[t.name]||t.value:t.value,i=o.createElement("input",{key:2,type:"text",placeholder:"Choose a parameter...",defaultValue:a,onChange:function(n){e.setState({parametersDirty:!0,parameters:r.__assign({},e.state.parameters,(a={},a[t.name]=n.target.value,a))});var a}});return o.createElement(l.FlexRow,{key:n},[t.name,t.type,i])})),e.state.parametersDirty&&o.createElement(N.Button,{style:{marginLeft:"auto"},onClick:function(t){return r.__awaiter(e,void 0,void 0,function(){return r.__generator(this,function(e){switch(e.label){case 0:return i(!0),[4,n("parameter")];case 1:return e.sent()?[4,this.onParametersConfirmed()]:[3,3];case 2:e.sent(),e.label=3;case 3:return[4,this.updateStateFromServer()];case 4:return e.sent(),i(!1),[2]}})})}},"Update Parameters"))))),o.createElement(B,{title:"Solution File",hideBorder:e.hasState("solution")},o.createElement(V,r.__assign({},e.getStepProps("solution",n),{disabled:!e.prevStepHasState("solution"),updateStateFromServer:e.updateStateFromServer,upload:function(t,n){return r.__awaiter(e,void 0,void 0,function(){var e;return r.__generator(this,function(a){switch(a.label){case 0:return i(!0),[4,Z({competitionId:c,fileName:t},n)];case 1:return e=a.sent(),[4,this.updateStateFromServer()];case 2:return a.sent(),i(!1),[2,e]}})})}}))),e.prevStepHasState("solutionMapping")&&o.createElement(B,{title:"Solution Mapping"},o.createElement(z,r.__assign({},e.getStepProps("solutionMapping",n),{update:function(t){return r.__awaiter(e,void 0,void 0,function(){var e;return r.__generator(this,function(n){switch(n.label){case 0:return i(!0),[4,ee({competitionId:c},t)];case 1:return e=n.sent(),[4,this.updateStateFromServer()];case 2:return n.sent(),i(!1),[2,e]}})})},columnMapping:y,predefinedValidationSets:null}))),e.prevStepHasState("solutionMapping")&&!e.hasState("solutionMapping")&&T&&!S.usageColumnName&&o.createElement(B,{title:"Sampling Split"},o.createElement(L,null,o.createElement(v.Stack,null,o.createElement(v.Stack,null,o.createElement(v.Text,null,"Your solution file has ",o.createElement("strong",null,T," rows")," and can be sampled into a public and private leaderboard set."),o.createElement(v.Text,null,"The public sample will be used for the competition while it's in progress. The private sample will be used for the final score. These samples do not intersect."),o.createElement(v.Text,null,o.createElement("strong",null,'You may supply a "Usage" column with values of "Public" or "Private" for precise control of leaderboard sampling.')))))),o.createElement(B,{title:"Sample Submission",hideBorder:e.hasState("submission")},o.createElement(V,r.__assign({},e.getStepProps("submission",n),{disabled:!e.prevStepHasState("submission"),updateStateFromServer:e.updateStateFromServer,upload:function(t,n){return r.__awaiter(e,void 0,void 0,function(){var e;return r.__generator(this,function(a){switch(a.label){case 0:return i(!0),[4,te({competitionId:c,fileName:t},n)];case 1:return e=a.sent(),[4,this.updateStateFromServer()];case 2:return a.sent(),i(!1),[2,e]}})})}}))),e.prevStepHasState("submissionMapping")&&o.createElement(B,{title:"Sample Mapping"},o.createElement(z,r.__assign({},e.getStepProps("submissionMapping",n),{update:function(t){return r.__awaiter(e,void 0,void 0,function(){var e;return r.__generator(this,function(n){switch(n.label){case 0:return i(!0),[4,ne({competitionId:c},t)];case 1:return e=n.sent(),[4,this.updateStateFromServer()];case 2:return n.sent(),i(!1),[2,e]}})})},columnMapping:w,predefinedValidationSets:d}))))})},n}(o.Component);t.Evaluation=ae;var ie,re,oe,se,le,ce,ue,pe,de}).call(t,n(23))},function(e,t,n){"use strict";function a(e,t){r(void 0!==e&&null!==e,"propPath must exist"),r(void 0!==t&&null!==t,"source must exist");for(var n=t,a=0,i=e;a<i.length;a++){if(void 0===(n=n[i[a]]))return null}return n}function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];r(void 0!==e&&null!==e,"propPath must exist");for(var i=0,o=t.filter(function(e){return null!==e&&void 0!==e});i<o.length;i++){var s=o[i],l=a(e,s);if(null!==l)return l}return null}Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.pickPath=a,t.pickFirstExistingPath=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(0),r=n(718),o=n(717),s=n(1732),l=n(28),c=n(11),u=n(720),p=n(110),d=n(719),m=(_=["\n    font-weight: 700;\n"],_.raw=["\n    font-weight: 700;\n"],l.default.span(_),b=["\n    border: 1px solid #EBECEC;\n    border-radius: 3px;\n    height: 32px;\n    line-height: 30px;\n    box-sizing: border-box;\n    text-align: ",";\n"],b.raw=["\n    border: 1px solid #EBECEC;\n    border-radius: 3px;\n    height: 32px;\n    line-height: 30px;\n    box-sizing: border-box;\n    text-align: ",";\n"],l.default.input(b,function(e){return"number"===e.type?"right":"left"})),h=(E=["\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    width: 100%;\n    & > * {\n        margin-left: 10px;\n    }\n"],E.raw=["\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    width: 100%;\n    & > * {\n        margin-left: 10px;\n    }\n"],l.default.div(E),y=["\n    align-items: center;\n    > div {\n        flex: 0 0 50%;\n    }\n"],y.raw=["\n    align-items: center;\n    > div {\n        flex: 0 0 50%;\n    }\n"],l.default(d.FullWidth)(y)),g=(w=["\n    color: rgba(0,0,0,0.4);\n    padding-right:12px;\n    text-align: right;\n"],w.raw=["\n    color: rgba(0,0,0,0.4);\n    padding-right:12px;\n    text-align: right;\n"],l.default(d.Half)(w)),f=function(e){return s.ValidatorInput.validatorConstraint.test(e)},v=function(e){function t(t){var n=e.call(this,t)||this;n.cancel=function(){var e=r.getMappedColumnNames(n.props.columnMappings),t=r.getMappedValidationSets(n.props.columnMappings);n.setState({mappedColumnNames:e,mappedValidationSets:t})},n.onColumnMappingChangeFactory=function(e){return function(t){var a=[(o={},o[e]=t.currentTarget.value,o),n.state.mappedColumnNames],i=r.getMappedColumnNames.apply(r,[n.props.columnMappings].concat(a));n.setState({mappedColumnNames:i,dirty:!0});var o}},n.onValidatorChangeFactory=function(e){return function(t){var i=[(c={},c[e]=t,c),n.state.mappedValidationSets],o=r.getMappedValidationSets.apply(r,[n.props.columnMappings].concat(i)),s=f(t),l=a.__assign({},n.state.mappedValidates,(u={},u[e]=s,u));n.setState({mappedValidationSets:o,mappedValidates:l,dirty:!0});var c,u}},n.hasValidators=function(){return Object.values(n.props.columnMappings).some(function(e){return!(!e.validationSet||!e.validationSet.type)})},n.getDisplayType=function(){return"solutionMapping"===n.props.step?"Solution":"submissionMapping"===n.props.step?"Submission":"Unknown"},c(["solutionMapping","submissionMapping"].includes(t.step),"unsupported step for <ColumnMappings />: "+t.step),c(t.columnMappings,"columnMappings are required");var i=r.getMappedColumnNames(t.columnMappings),o=r.getMappedValidationSets(t.columnMappings),s=t.solutionInfo||{},l=s.samplingMethod,u=s.samplingPercentage;return n.state={mappedColumnNames:i,mappedValidationSets:o,mappedValidates:{},samplingMethod:l,samplingPercentage:u},n}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.step,a=t.status,l=t.columnMappings,c=t.columnDefinitions,f=t.onSave,v=t.children,_=(t.entityMoniker,t.solutionInfo),b=t.predefinedValidationSets,E=this.state,y=E.mappedColumnNames,w=(E.mappedValidationSets,E.mappedValidates),C=(E.samplingMethod,E.samplingPercentage),S=this.getDisplayType(),N=(this.hasValidators(),r.getOrderedColumnKeys(l)),T=Object.values(w).some(function(e){return!1===e}),k=[];return N.map(function(t,n){var a=l[t],o=[t];if(t===r.USAGE_INDICATOR_COLUMN?o.push(i.createElement("em",{key:1,style:{opacity:.5}},"Usage indicator column")):o.push(i.createElement("select",{key:1,name:t,value:y[t]||"",onChange:e.onColumnMappingChangeFactory(t)},i.createElement("option",{value:""},"(not mapped)"),c.map(function(e,t){return i.createElement("option",{key:t,value:e.name},e.name," (",e.parsingDataType,")")}))),b){var u=a.validationSet&&a.validationSet.name?a.validationSet.encoded:"",p=w[t];o.push(i.createElement(s.ValidatorInput,{key:2,defaultValidator:u,validators:b,validates:void 0===p||p,onChange:e.onValidatorChangeFactory(t)}))}k.push(o)}),i.createElement(d.Stack,null,i.createElement(p.FlexTable,null,i.createElement(p.FlexRow,null,[S+" Column","Expected Column",b?"Validator":null].filter(function(e){return null!==e})),k.map(function(e,t){return i.createElement(p.FlexRow,{key:t},e)})),v,"solutionMapping"===n&&!_.usageColumnName&&i.createElement(h,null,i.createElement(g,null,"Public Leaderboard Percentage"),i.createElement(d.Half,null,i.createElement(m,{type:"number",min:"0",max:"100",defaultValue:("number"==typeof C?C:NaN).toString(),onChange:function(t){var n=parseInt(t.currentTarget.value);e.setState({samplingPercentage:n,dirty:!0})}}))),this.state.dirty||a===o.StepStatus.Init?i.createElement(u.Button,{disabled:T,style:{marginLeft:"auto",opacity:T?.3:1},onClick:function(){T||(f(e.state),e.setState({dirty:!1}))}},"Set ",r.getStepTitle(n)):null)},t}(i.Component);t.ColumnMappings=v;var _,b,E,y,w},function(e,t,n){"use strict";function a(e,t){return t&&t.length&&!e.includes(t)}function i(e,t){void 0===t&&(t=null);var n=e.defaultValidator,i=e.validators,r=(t?t.validator:null)||n;return{custom:t&&t.custom||a(i,r),validator:r}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(0),s=n(28),l=n(111),c=(function(){function e(){}}(),m=["\n    display: inline-flex;\n    flex-flow: column nowrap;\n    width: 100%;\n    padding: 0 !important;\n"],m.raw=["\n    display: inline-flex;\n    flex-flow: column nowrap;\n    width: 100%;\n    padding: 0 !important;\n"],s.default.div(m)),u=(h=["\n    display: inline-flex;\n    flex-flow: column nowrap;\n    font-size: ","px;\n"],h.raw=["\n    display: inline-flex;\n    flex-flow: column nowrap;\n    font-size: ","px;\n"],s.default.div(h,function(e){return e.size})),p=(g=["\n    position: relative;\n    z-index: 1;\n    align-self: flex-end;\n    right: 15px;\n    top: -19px;\n    width: 0;\n    height: 0;\n    &:before {\n      font-family: FontAwesome;\n      position: absolute;\n      left: 0;\n      top: 0;\n      color: "," !important;\n      content: '","';\n    };\n"],g.raw=["\n    position: relative;\n    z-index: 1;\n    align-self: flex-end;\n    right: 15px;\n    top: -19px;\n    width: 0;\n    height: 0;\n    &:before {\n      font-family: FontAwesome;\n      position: absolute;\n      left: 0;\n      top: 0;\n      color: "," !important;\n      content: '","';\n    };\n"],s.default.i(g,function(e){return e.color},function(e){return e.color===l.Color.KaggleGreen?"\\f058":"\\f057"})),d=function(e){function t(n){var a=e.call(this,n)||this;return a.handleSelectChange=function(e){var n=e.currentTarget.value;if(n===t.CUSTOM_VALUE)a.setState({validator:"",custom:!0});else{var r=i(a.props,{validator:n,custom:!1});a.setState(r)}},a.handleInputChange=function(e){var t=e.currentTarget.value,n=i(a.props,r.__assign({},a.state,{validator:t}));a.setState(n)},a.state=i(n),a}return r.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){if(this.props.validators.length!==e.validators.length||this.props.validators!==e.defaultValidator){var t=i(e,this.state);this.setState(t)}},t.prototype.componentDidUpdate=function(e,t){var n=this.state.validator;n!==t.validator&&this.props.onChange(n)},t.prototype.render=function(){var e=this.props,n=e.validators,a=e.validates,i=this.state,r=i.custom,s=i.validator;n.includes(s);return o.createElement(c,null,o.createElement(u,{size:r?11:14},o.createElement("select",{value:r?t.CUSTOM_VALUE:s,onChange:this.handleSelectChange},o.createElement("option",{value:""},"(No Validation)"),o.createElement("option",{value:t.CUSTOM_VALUE},"(Custom)"),n.map(function(e,t){return o.createElement("option",{key:t,value:e},e)})),r&&o.createElement("input",{placeholder:"<Name> = <Validation Set>",value:s,onChange:this.handleInputChange})),r&&o.createElement(p,{color:a?l.Color.KaggleGreen:l.Color.KaggleRed}))},t.CUSTOM_VALUE="custom",t.validatorConstraint=/([a-z0-9 ]+) = (.+)/i,t}(o.PureComponent);t.ValidatorInput=d;var m,h,g},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(21),o=n(1734),s=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.onCompetitionRulesSaved=function(t,n){var o={page:{content:t,name:"Rules",mimeType:n}};return e.props.updateUnsavedChangesFlag(!1),a.ajax({type:"POST",url:e.props.saveRulesUrl,contentType:"application/json",dataType:"json",data:JSON.stringify(o),success:function(a){a.pageMessages&&a.pageMessages.length>0?r.PageMessages.set(a.pageMessages):(r.PageMessages.clear(),r.PageMessages.success("Save successful.")),e.props.onCompetitionStateChanged("rules",i.__assign({},e.props.rules,{content:t,mimeType:n}))},error:function(e){e.pageMessages&&e.pageMessages.length>0?r.PageMessages.set(e.pageMessages):(r.PageMessages.clear(),r.PageMessages.error("Save unsuccessful."))}})},e}return i.__extends(n,t),n.prototype.render=function(){var t={onCompetitionRulesSaved:this.onCompetitionRulesSaved};return e.createElement(o.CompetitionRules,i.__assign({},this.props,t))},n}(e.Component);t.CompetitionRulesContainer=s}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(24),r=n(9),o=n(446),s=n(60),l=function(t){function n(e){var n=t.call(this,e)||this;return n.onAcceptCompetitionRules=function(){n.setState({isProcessingRulesAcceptance:!0}),n.props.onAcceptCompetitionRules().then(function(){return n.setState({isProcessingRulesAcceptance:!1})})},n.state={isProcessingRulesAcceptance:!1},n}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement("div",{className:"competition-rules"},e.createElement(o.MarkdownContentBox,{canEdit:this.props.canEdit||this.props.isCompetitionHost,canEditMimeType:!0,content:this.props.rules?this.props.rules.content:null,mimeType:this.props.rules?s.stringToMimeType(this.props.rules.mimeType):null,contentBoxTitle:"Rules",contentClassName:"competition-rules__content",onEditClicked:function(){return t.props.updateUnsavedChangesFlag(!0)},onCancelClicked:function(){return t.props.updateUnsavedChangesFlag(!1)},onSaveClicked:function(e,n){return t.props.onCompetitionRulesSaved(e,n)}}),e.createElement(r.ContentBox,{title:"Rules acceptance"},this.props.hasAcceptedRules?e.createElement("div",{className:"competition-rules__acceptance"},e.createElement("p",{className:"competition-rules__accepted-text"},e.createElement("span",{className:"competition-rules__acceptance-icon"},e.createElement("span",{className:"fa fa-check-circle-o"})),"You have accepted the rules for this competition. Good luck!")):this.props.canParticipate?e.createElement("div",{className:"competition-rules__acceptance"},e.createElement("p",{className:"competition-rules__acceptance-text"},'By clicking on the "I understand and accept" button below, you are indicating that you agree to be bound with the above rules.'),e.createElement("div",{className:"competition-rules__acceptance-actions"},e.createElement("a",{className:"competition-rules__decline"},"I Do Not Accept"),e.createElement(i.ButtonAutoWidth,{classNames:"competition-rules__accept",onClick:function(){return t.props.onAcceptCompetitionRules()},text:"I Understand and Accept"}),this.state.isProcessingRulesAcceptance?e.createElement("div",{className:"competition-rules__is-processing"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null)):e.createElement("div",{className:"competition-rules__acceptance"},e.createElement("p",null,"This is a limited-participation competition. Only invited users may participate."))))},n}(e.Component);t.CompetitionRules=l}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(4),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(i.Forum,a.__assign({},a.__assign({},this.props.discussion,this.props.newTopic),{isNew:this.props.isNewTopic,onTopicClicked:this.props.onTopicClicked,topicSubmitted:this.props.onTopicSubmitted,topicId:this.props.topicId}))},n}(e.Component);t.CompetitionDiscussion=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(24),r=n(69),o=n(213),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement("div",{className:"competition-kernels"},e.createElement(o.ScriptList,{listTitle:"Kernels",banner:null,showFilters:!0,sourceBaseUrl:"/kernels/c/"+this.props.competitionId+"/",languagesMetadataUrl:"/kernels/alllang",outputTypesMetadataUrl:"/kernels/allouttypes",loginAndReturnUrl:"/account/login",newNotebookUrl:null,newScriptUrl:null,showScriptProjectName:!1,showHiddenSelectionGroup:this.props.canEdit}),e.createElement(r.Modal,{onClose:function(){return t.props.onCompetitionStateChanged("showRulesModal",!1)},onShow:function(){},modalIsShown:this.props.showRulesModal&&!this.props.hasAcceptedRules},e.createElement("div",{className:"competition-rules__acceptance"},e.createElement("p",{className:"competition-rules__acceptance-text"},'By clicking on the "I understand and accept" button below, you are indicating that you agree to be bound with the above rules.'),e.createElement("div",{className:"competition-rules__acceptance-actions"},e.createElement("a",{className:"competition-rules__decline",onClick:function(){return t.props.onCompetitionStateChanged("showRulesModal",!1)}},"I Do Not Accept"),e.createElement(i.ButtonAutoWidth,{classNames:"competition-rules__accept",onClick:function(){return t.props.onAcceptCompetitionRules()},text:"I Understand and Accept"})))))},n}(e.Component);t.CompetitionKernels=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a,i){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(1738),s=function(t){function n(e){var n=t.call(this,e)||this;n.getUserScore=function(e){var t=e.nearUser&&e.nearUser.filter(function(t){return t.rank===e.userRanking})[0];return t&&t.score},n.triggerPublicLeaderboardReload=function(){n.setState({isLoadingPublicData:!0},function(){return n.fetchPublicLeaderboard()})},n.triggerPrivateLeaderboardReload=function(){n.setState({isLoadingPrivateData:!0},function(){return n.fetchPrivateLeaderboard()})},n.fetchPublicLeaderboard=function(){var e=n.state,t=e.includeBeforeUserPublic,r=e.includeAfterUserPublic,o=a.Deferred();return i.ajax({context:n,url:"/c/"+n.props.competitionId+"/leaderboard.json?includeBeforeUser="+t+"&includeAfterUser="+r,method:"GET",success:function(e){n.setState({publicData:e,isLoadingPublicData:!1,isLoadingBeforeUserPublic:!1,isLoadingAfterUserPublic:!1},function(){o.resolve()})},error:function(){return n.setState({publicData:{submissions:[]},isLoadingPublicData:!1,isLoadingBeforeUserPublic:!1,isLoadingAfterUserPublic:!1})}}),o},n.fetchPrivateLeaderboard=function(){var e=n.state,t=e.includeBeforeUserPrivate,r=e.includeAfterUserPrivate,o=a.Deferred();return i.ajax({context:n,url:"/c/"+n.props.competitionId+"/leaderboard.json?includeBeforeUser="+t+"&includeAfterUser="+r+"&type=private",method:"GET",success:function(e){n.setState({privateData:e,isLoadingPrivateData:!1,isLoadingBeforeUserPrivate:!1,isLoadingAfterUserPrivate:!1},function(){o.resolve()})},error:function(){return n.setState({privateData:{submissions:[]},isLoadingPrivateData:!1,isLoadingBeforeUserPrivate:!1,isLoadingAfterUserPrivate:!1})}}),o},n.onChangeTab=function(e){n.setState({activeLeaderboardTab:e})},n.onLoadBeforeUser=function(e){"Private"==e?n.setState({includeBeforeUserPrivate:!0,isLoadingBeforeUserPrivate:!0},n.fetchPrivateLeaderboard):n.setState({includeBeforeUserPublic:!0,isLoadingBeforeUserPublic:!0},n.fetchPublicLeaderboard)},n.onLoadAfterUser=function(e){"Private"==e?n.setState({includeAfterUserPrivate:!0,isLoadingAfterUserPrivate:!0},n.fetchPrivateLeaderboard):n.setState({includeAfterUserPublic:!0,isLoadingAfterUserPublic:!0},n.fetchPublicLeaderboard)};var r="Public";return n.props.competitionHasEnded&&(r="Private"),n.state={activeLeaderboardTab:r,isLoadingPublicData:!0,isLoadingPrivateData:!0,includeBeforeUserPublic:!1,includeBeforeUserPrivate:!1,includeAfterUserPublic:!1,includeAfterUserPrivate:!1},n}return r.__extends(n,t),n.prototype.componentDidMount=function(){this.fetchPublicLeaderboard(),this.props.allowPrivateLeaderboardDisplay&&this.fetchPrivateLeaderboard()},n.prototype.render=function(){var t={onLeaderboardTabChanged:this.onChangeTab,onLoadBeforeUser:this.onLoadBeforeUser,onLoadAfterUser:this.onLoadAfterUser,getUserScore:this.getUserScore,triggerPublicLeaderboardReload:this.triggerPublicLeaderboardReload,triggerPrivateLeaderboardReload:this.triggerPrivateLeaderboardReload};return e.createElement(o.CompetitionLeaderboard,r.__assign({},this.props,t,this.state))},n}(e.Component);t.CompetitionLeaderboardContainer=s}).call(t,n(0),n(3),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(46),r=n(9),o=n(20),s=n(40),l=n(21),c=n(41),u=n(1739),p=n(1740),d=function(t){function n(n){var a=t.call(this,n)||this;return a.renderLeaderboardItem=function(t,n,r,l){var c=t.rank&&r===t.rank,p=[],d=t.teamMembers.length-4>1,m=[];d?(p=t.teamMembers.slice(0,3),m=t.teamMembers.slice(3)):p=t.teamMembers;var h=t.rank&&!a.props.disablePrizeIndicator&&t.rank<=a.props.numPrizes&&a.props.rewardQuantity>0,g=!(!t.medal||!a.props.countsTowardsTiers)&&t.medal;return e.createElement("tr",{className:(t.rank?"competition-leaderboard__row":"competition-leaderboard__benchmark-row")+" "+(c&&a.isScoredOverlay()&&"competition-leaderboard__row--user-scored")+" "+(g?"competition-leaderboard__row--medal-"+g:"")+" "+(h?"competition-leaderboard__row--in-the-money":""),key:"leaderboard-row-"+n},c&&a.renderUserOverlay(t,l),c&&e.createElement("td",null,e.createElement("a",{href:"#score",id:"score"})),e.createElement("td",{className:"competition-leaderboard__td-rank","data-th":"Rank"},t.rank?t.rank:e.createElement("span",{className:"fa fa-map-marker"})),e.createElement("td",{className:"competition-leaderboard__td-change","data-th":"Change"},t.rank?e.createElement(u.PositionChange,{change:t.change}):null),e.createElement("td",{className:t.medal&&a.props.countsTowardsTiers?"competition-leaderboard__td-team--"+t.medal:"competition-leaderboard__td-team","data-th":"Team Name",title:t.teamName},e.createElement("span",null,t.teamName)),e.createElement("td",{className:"competition-leaderboard__td-kernel","data-th":"Kernel"},t.sourceKernelUrl&&t.sourceKernelName?e.createElement("a",{className:t.rank?"competition-leaderboard__td-kernel-link":"competition-leaderboard__td-benchmark-kernel-link",href:t.sourceKernelUrl,title:t.sourceKernelName},e.createElement("span",{className:"fa fa-code"}),t.sourceKernelName):null),e.createElement("td",{className:"competition-leaderboard__td-members","data-th":"Team Members"},p.map(function(t,n){return e.createElement("span",{className:"competition-leaderboard__team-member",key:n},e.createElement(i.Avatar,{displayName:t.displayName,tierMargin:1e-4,tier:t.tier,thumbnailUrl:t.thumbnailUrl,userUrl:t.profileUrl,width:25}))}),d?e.createElement(s.ToolTip,{tipText:""+m.map(function(e){return e.displayName}).join(", ")},e.createElement("a",{className:"competition-leaderboard__team-more-button"},"+",m.length)):null),e.createElement("td",{className:"competition-leaderboard__td-score","data-th":"Score"},c&&a.props.mostRecentSubmissionStatus&&"pending"==a.props.mostRecentSubmissionStatus.submissionStatus?"Processing":t.score),e.createElement("td",{className:"competition-leaderboard__td-entries","data-th":"Number of Entries"},t.rank?t.entries:null),e.createElement("td",{className:"competition-leaderboard__td-last","data-th":"Last Entry"},t.rank?e.createElement(o.TimeAgo,{time:t.lastSubmission,condense:!0,hideAgo:!0}):null))},a.renderMedal=function(t){return e.createElement("div",{className:"competition-leaderboard__legend competition-leaderboard__legend--"+t.toLowerCase()},t)},a.renderLegends=function(){var t=!a.props.disablePrizeIndicator&&a.props.rewardQuantity>0,n=a.props.countsTowardsTiers;return e.createElement("div",{className:"competition-leaderboard__legends"},t&&e.createElement("div",{className:"competition-leaderboard__legend competition-leaderboard__legend--in-the-money"},"In the money"),n&&a.renderMedal("Gold"),n&&a.renderMedal("Silver"),n&&a.renderMedal("Bronze"))},a.leaderboardNavItems=[{title:"Public",text:"Public Leaderboard",tab:"Public"},{title:"Private",text:"Private Leaderboard",tab:"Private"}],a}return a.__extends(n,t),n.prototype.componentWillMount=function(){this.props.competitionHasLaunched&&this.props.competitionHasEnded&&!this.props.finalLeaderboardHasBeenVerified&&(l.PageMessages.clear(),this.props.witholdFinalLeaderboardUntilItHasBeenVerified?l.PageMessages.warning("This competition has completed. The results will become available after they're verified by the competition organizers."):l.PageMessages.warning("This competition has completed. This leaderboard reflects preliminary final standings. The result will become final after the competition organizers verify the results."))},n.prototype.areContiguous=function(e,t,n){return e.length>0&&t.length>0&&e.slice(-1)[0].rank+1===t[0].rank||n&&n.length>0&&e.slice(-1)[0].rank+1===n[0].rank},n.prototype.renderLeaderboardHeader=function(){var t=this,n=this.props.activeLeaderboardTab;return e.createElement("nav",{className:"competition-leaderboard__nav"},this.leaderboardNavItems.map(function(a,i){return e.createElement("a",{className:n==a.tab?"competition-leaderboard__nav-item--selected":"competition-leaderboard__nav-item",key:i,onClick:function(){return t.props.onLeaderboardTabChanged(a.tab)},title:a.title+" Leaderboard"},a.text)}))},n.prototype.isScoredOverlay=function(){return this.props.mostRecentSubmissionStatus&&"complete"==this.props.mostRecentSubmissionStatus.submissionStatus},n.prototype.renderUserOverlay=function(t,n){var a=this.props,i=a.publicData,r=a.scoringIsMax,o=this.props.getUserScore(i),s=this.props.mostRecentSubmissionStatus&&this.props.mostRecentSubmissionStatus.previousBestPublicScoreFormatted,l=!r&&s>o||r&&o>s,u=this.props.mostRecentSubmissionStatus?this.props.previousRank-this.props.mostRecentSubmissionStatus.rank:0;return this.isScoredOverlay()&&"Private"!=n?l?e.createElement("td",{className:"competition-leaderboard__row-user-overlay competition-leaderboard__row-user-overlay--better"},e.createElement("div",{className:"competition-leaderboard__row-user-overlay-description"},e.createElement("div",{className:"competition-leaderboard__row-user-overlay-title"},"Your Best Entry ",e.createElement("i",{className:"fa fa-arrow-up"})),u>0?e.createElement("p",null,"You advanced ",e.createElement(c.Pluralize,{word:"place",count:u,formatNumber:!0})," on the leaderboard!"):null,e.createElement("div",null,"Your submission scored ",this.props.mostRecentSubmissionStatus.publicScoreFormatted,s?e.createElement("span",null,", which is an improvement of your previous score of ",s,". Great job!"):null,e.createElement(p.LeaderboardTweet,{competitionUrl:"https://kaggle.com"+this.props.competitionUrl,positionChange:t.change,userRank:t.rank})))):e.createElement("td",{className:"competition-leaderboard__row-user-overlay competition-leaderboard__row-user-overlay--worse"},e.createElement("div",{className:"competition-leaderboard__row-user-overlay-description"},e.createElement("div",{className:"competition-leaderboard__row-user-overlay-title"},"Your Best Entry ",e.createElement("i",{className:"fa fa-arrow-up"})),e.createElement("div",null,"Your submission scored ",this.props.mostRecentSubmissionStatus.publicScoreFormatted,", which is not an improvement of your best score. Keep trying!"))):e.createElement("td",{className:"competition-leaderboard__row-user-overlay"})},n.prototype.renderLoadMoreButton=function(t,n,a,i){var r=n-t;return r>0&&e.createElement("tr",{className:"competition-leaderboard__load-more-wrapper"},e.createElement("td",{onClick:a,className:"competition-leaderboard__load-more-button"},e.createElement("span",{className:"competition-leaderboard__load-more-numbers"},t,"-",n),e.createElement("span",{className:"competition-leaderboard__load-more-count"},e.createElement("i",{className:"fa fa-plus-square"})," Load ",r+1," More"),i?e.createElement("span",{className:"competition-leaderboard__loading-spinner"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null))},n.prototype.renderLeaderboardItems=function(t,n){var a=this,i=t.beforeUser,r=t.nearUser,o=t.afterUser,s=t.userRanking;return s?e.createElement("tbody",null,i.map(function(e,t){return a.renderLeaderboardItem(e,t,s,n)}),i.length>0&&!this.areContiguous(i,r,o)&&this.renderLoadMoreButton(i.length+1,r[0].rank-1,function(){return a.props.onLoadBeforeUser(n)},"Private"==n?this.props.isLoadingBeforeUserPrivate:this.props.isLoadingBeforeUserPublic),r.map(function(e,t){return a.renderLeaderboardItem(e,t,s,n)}),r.length>0&&!this.areContiguous(r,o,null)&&this.renderLoadMoreButton(r.slice(-1)[0].rank+1,t.totalRankings,function(){return a.props.onLoadAfterUser(n)},"Private"==n?this.props.isLoadingAfterUserPrivate:this.props.isLoadingAfterUserPublic),o.map(function(e,t){return a.renderLeaderboardItem(e,t,s,n)})):e.createElement("tbody",null,i.map(function(e,t){return a.renderLeaderboardItem(e,t,s,n)}),i.length>0&&!this.areContiguous(i,r,o)&&this.renderLoadMoreButton(i.length+1,t.totalRankings,function(){return a.props.onLoadBeforeUser(n)},"Private"==n?this.props.isLoadingBeforeUserPrivate:this.props.isLoadingBeforeUserPublic),o.map(function(e,t){return a.renderLeaderboardItem(e,t,s,n)}))},n.prototype.renderLeaderboard=function(t,n,a){return e.createElement("table",{className:"competition-leaderboard__table"},e.createElement("thead",null,e.createElement("tr",{className:"competition-leaderboard__header-row"},e.createElement("th",{className:"competition-leaderboard__th-rank",title:"Rank"},"#"),e.createElement("th",{className:"competition-leaderboard__th-change",title:"Private"==a&&this.props.privateLeaderboardIsPublic?"Change from public rank":this.props.privateLeaderboardIsPublic?"Change from private rank":"Change from last week"},"Private"==a&&this.props.privateLeaderboardIsPublic?"pub":this.props.privateLeaderboardIsPublic?"priv":"1w"),e.createElement("th",{className:"competition-leaderboard__th-team",title:"Team Name"},"Team Name"),e.createElement("th",{className:"competition-leaderboard__th-kernel",title:"Kernel"},"Kernel"),e.createElement("th",{className:"competition-leaderboard__th-members",title:"Team Members"},"Team Members"),e.createElement("th",{className:"competition-leaderboard__th-score",title:"Score"},e.createElement(s.ToolTip,{tipText:this.props.evaluationAlgorithm?this.props.evaluationAlgorithm.name:"No Evaluation Metric"},e.createElement("span",null,"Score",e.createElement("span",{className:"competition-leaderboard__th-score-q"},e.createElement("span",{className:"fa fa-question-circle"}))))),e.createElement("th",{className:"competition-leaderboard__th-entries",title:"Number of Entries"},"Entries"),e.createElement("th",{className:"competition-leaderboard__th-last",title:"Last Submission"},"Last"))),n?e.createElement("tbody",null,e.createElement("tr",null,e.createElement("td",{className:"competition-leaderboard__loading-text"},e.createElement("span",{className:"competition-leaderboard__loading-spinner"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})),"Fetching the latest data. Hold tight!"))):t.submissions&&t.submissions.length?this.renderLeaderboardItems(t,a):e.createElement("tbody",null,e.createElement("tr",null,e.createElement("td",{className:"competition-leaderboard__loading-text"},"There are currently no entries for this competition"))))},n.prototype.render=function(){var t=this,n=100-this.props.leaderboardPercentage+"%",a=this.props.leaderboardPercentage+"%";!!this.props.deadline&&(new Date(this.props.deadline.toString()).getTime(),(new Date).getTime());return e.createElement("div",{className:"competition-leaderboard",style:{display:"leaderboard"!=this.props.activePane?"none":""}},e.createElement(r.ContentBox,{title:this.renderLeaderboardHeader()},"Private"==this.props.activeLeaderboardTab?e.createElement("div",null,e.createElement("div",{className:"competition-leaderboard__message"},e.createElement("div",{className:"competition-leaderboard__note"},this.props.privateLeaderboardMessage?this.props.privateLeaderboardMessage:100-this.props.leaderboardPercentage==0?e.createElement("p",null,"The private leaderboard is calculated over the same rows as the public leaderboard in this competition."):100-this.props.leaderboardPercentage==100?e.createElement("p",null,"The private leaderboard is calculated with all of the test data"):e.createElement("p",null,"The private leaderboard is calculated with approximately ",n," of the test data."),this.props.finalLeaderboardHasBeenVerified?e.createElement("p",null,"This competition has completed. This leaderboard reflects the final standings."):null),this.props.allowPrivateLeaderboardDisplay?e.createElement("a",{className:"competition-leaderboard__refresh",onClick:function(){return t.props.triggerPrivateLeaderboardReload()}},e.createElement("span",{className:"competition-leaderboard__refresh-icon"},e.createElement("span",{className:"fa fa-refresh"})),e.createElement("span",null,"Refresh")):null),this.renderLegends(),this.props.allowPrivateLeaderboardDisplay?this.renderLeaderboard(this.props.privateData,this.props.isLoadingPrivateData,"Private"):e.createElement("div",{className:"competition-leaderboard__private-message"},e.createElement("div",{className:"competition-leaderboard__private-image"},e.createElement("span",{className:"fa fa-trophy"})),e.createElement("h3",{className:"competition-leaderboard__private-header"},"The private leaderboard will be available after the competition ends."),e.createElement("div",{className:"competition-leaderboard__private-text"},"Your team, rank, and medal will display here after the competition closes. Compete to build your reputation, complement your resume, and explore your data science future."))):e.createElement("div",null,e.createElement("div",{className:"competition-leaderboard__message"},e.createElement("div",{className:"competition-leaderboard__note"},this.props.publicLeaderboardMessage?this.props.publicLeaderboardMessage:0==this.props.leaderboardPercentage?e.createElement("p",null,"This leaderboard is identical to the private leaderboard in this competition."):100==this.props.leaderboardPercentage?e.createElement("p",null,"This leaderboard is calculated with all of the test data."):e.createElement("div",null,e.createElement("p",null,"This leaderboard is calculated with approximately ",a," of the test data."),e.createElement("p",null,"The final results will be based on the other ",n,", so the final standings may be different."))),e.createElement("div",{className:"competition-leaderboard__actions"},this.props.rawDataUrl?e.createElement("a",{className:"competition-leaderboard__download-raw-data",href:this.props.rawDataUrl},"Raw Data"):null,e.createElement("a",{className:"competition-leaderboard__refresh",onClick:function(){return t.props.triggerPublicLeaderboardReload()}},e.createElement("span",{className:"competition-leaderboard__refresh-icon"},e.createElement("span",{className:"fa fa-refresh"})),e.createElement("span",null,"Refresh")))),this.renderLegends(),this.renderLeaderboard(this.props.publicData,this.props.isLoadingPublicData,"Public"))))},n}(e.Component);t.CompetitionLeaderboard=d}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("span",{className:this.props.wrapperClassName},this.props.change<0?e.createElement("span",{className:"position-change__fallen"},e.createElement("span",{className:"fa fa-caret-down"})," ",Math.abs(this.props.change)):this.props.change>0?e.createElement("span",{className:"position-change__risen"},e.createElement("span",{className:"fa fa-caret-up"})," ",this.props.change):0==this.props.change?e.createElement("span",{className:"position-change__none"},""):e.createElement("span",{className:"position-change__new"},"new"))},n}(e.Component);t.PositionChange=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(57),r=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.topSpotMessages=["View's great from the top of the #kaggle leaderboard. #WishYouWereHere "+e.props.competitionUrl,"First. #kaggle - "+e.props.competitionUrl,"It's lonely here at the top. #kaggle - "+e.props.competitionUrl,'"Overfitting"? Nay, it\'s called #winning. #kaggle - '+e.props.competitionUrl],e.topTenMessages=["Hold my calls. Top 10 on #kaggle - "+e.props.competitionUrl,"Top 10 on #kaggle? Life can wait. "+e.props.competitionUrl,"All the teams above me are overfitting. #kaggle - "+e.props.competitionUrl,"Top 10 on #kaggle and I'm not even ensembling. "+e.props.competitionUrl,"Whether boosting or bagging, I'm top 10 and #bragging. #kaggle "+e.props.competitionUrl,"Top 10! Is this what they call #superintelligence? #kaggle "+e.props.competitionUrl,"Like the SVM, I intend to maximize my (winning) margins. #kaggle "+e.props.competitionUrl],e.firstSubmissionMessages=["I just made my first #kaggle submission to "+e.props.competitionUrl,"I am a giant nerd, but that's okay. #kaggle - "+e.props.competitionUrl,"Made my first #kaggle submission and all I got was this lousy tweet. "+e.props.competitionUrl,"You too should spend your free time on competitive predictive modeling. #kaggle - "+e.props.competitionUrl,"#MachineLearning: so easy I can do it. #kaggle - "+e.props.competitionUrl,"Why did nobody tell me #datascience was this easy? #kaggle - "+e.props.competitionUrl,"Doing my part to bring about the singularity. #MachineLearning #kaggle - "+e.props.competitionUrl,"Teaching robots to learn #MachineLearning #kaggle - "+e.props.competitionUrl,"Causing #superintelligence, one submission at a time #kaggle - "+e.props.competitionUrl,"No hyperplanes were harmed in the making of this submission. #kaggle - "+e.props.competitionUrl,"When not mining bitcoins, I prefer to waste computer cycles on #kaggle - "+e.props.competitionUrl,"#kaggle - because this RAM isn't going to use itself. "+e.props.competitionUrl,"#kaggle - spend even more time in front of a computer than you already do! "+e.props.competitionUrl,"Data scientist is the sexiest job of this century. *winks* #kaggle - "+e.props.competitionUrl],e.movedUpMessages=["Moved up "+e.props.positionChange+" "+i("spot",e.props.positionChange)+" "+e.props.competitionUrl,e.props.positionChange+" "+i("spot",e.props.positionChange)+" up, just a few more to go. #kaggle - "+e.props.competitionUrl,"Moved up "+e.props.positionChange+" "+i("spot",e.props.positionChange)+" on #kaggle. I'm not addicted. I can quit when I want. "+e.props.competitionUrl,"Jumped "+e.props.positionChange+" "+i("spot",e.props.positionChange)+" on #kaggle. I'll sleep when I'm dead. "+e.props.competitionUrl,"Moved up "+e.props.positionChange+" "+i("spot",e.props.positionChange)+". Soon the robots will have my job. #kaggle - "+e.props.competitionUrl,e.props.positionChange+" "+i("spot",e.props.positionChange)+" up. Is anybody else even trying? #kaggle - "+e.props.competitionUrl,e.props.positionChange+" "+i("place",e.props.positionChange)+" up. A small price to pay for my social life. #kaggle - "+e.props.competitionUrl,e.props.positionChange+" "+i("place",e.props.positionChange)+" up. Not unlike my electricity bill. #kaggle - "+e.props.competitionUrl,e.props.positionChange+" "+i("place",e.props.positionChange)+" up. Now accepting donations for more RAM. #kaggle - "+e.props.competitionUrl],e}return a.__extends(n,t),n.prototype.render=function(){var t,n=this.props,a=n.userRank,i=n.positionChange;if(!a)return null;t=1==a?this.topSpotMessages:a>=1&&a<=10?this.topTenMessages:i>=1?this.movedUpMessages:this.firstSubmissionMessages;var r=t[Math.floor(Math.random()*t.length)];return e.createElement("div",{className:"leaderboard-tweet__button-wrapper"},e.createElement("a",{className:"leaderboard-tweet__button",href:"https://twitter.com/intent/tweet?text="+encodeURIComponent(r),target:"_blank"},e.createElement("span",{className:"leaderboard-tweet__button-icon"},e.createElement("span",{className:"fa fa-twitter"})),e.createElement("span",{className:"leaderboard-tweet__button-text"},"Tweet this!")))},n}(e.Component);t.LeaderboardTweet=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(1742),o=n(21),s=function(t){function n(e){var n=t.call(this,e)||this;return n.validationRules=[{isValid:function(){return!(n.state.submissionDescription&&n.state.submissionDescription.trim().length>2e3)},id:"submission-description-length",message:function(){return"Your description must be fewer than 2,000 characters."}},{isValid:function(){return n.state.submissionToken&&n.state.submissionToken.trim().length>0},id:"submission-no-file-token",message:function(){return"You must upload a file for your submission."}}],n.onSubmissionSubmit=function(){if(n.props.submissionsAreDisabled)return o.PageMessages.clear(),void o.PageMessages.error("Submissions are currently disabled for this competition.");if(n.state.submissionPending)return n.setState({autoSubmitPendingSubmission:!0}),void o.PageMessages.add([{type:"info",message:"Your submission will be automatically submitted once it has finished uploading."}]);var e=n.getValidationPageMessages();if(e.length>0)return void o.PageMessages.add(e);n.props.showPendingSubmission(),o.PageMessages.clear(),n.setState({isSubmittingSubmission:!0},function(){return a.ajax({context:n,url:n.props.submissionSubmitUrl,type:"POST",contentType:"application/json",data:JSON.stringify({blobFileTokens:[n.state.submissionToken],submissionDescription:n.state.submissionDescription}),success:function(e){n.setState({isSubmittingSubmission:!1,submissionDescription:"",submissionFileName:"",submissionToken:"",submissionTotalBytes:0},function(){e.pageMessages&&e.pageMessages.length>0&&(o.PageMessages.set(e.pageMessages),n.props.clearMostRecentSubmissionStatus())})},error:function(e){n.setState({isSubmittingSubmission:!1,submissionFileName:"",submissionToken:"",submissionTotalBytes:0},function(){try{n.props.clearMostRecentSubmissionStatus();var t=JSON.parse(e.responseText);t.pageMessages&&t.pageMessages.length>0?o.PageMessages.set(t.pageMessages):(o.PageMessages.clear(),o.PageMessages.error({htmlMessage:"Your submission was unsuccessful. Please try again, and if you continue to have issues, please let us know the details of your submission and competition on the <a href='https://www.kaggle.com/product-feedback'>Product Feedback forum</a>."}))}catch(e){o.PageMessages.clear(),o.PageMessages.error({htmlMessage:"Your submission was unsuccessful. Please try again, and if you continue to have issues, please let us know the details of your submission and competition on the <a href='https://www.kaggle.com/product-feedback'>Product Feedback forum</a>."})}})}})})},n.onSubmissionUploadFinished=function(e,t,a){n.setState({submissionFileName:e,submissionToken:t,submissionTotalBytes:a},function(){n.state.autoSubmitPendingSubmission&&n.onSubmissionSubmit()})},n.state={isSubmittingSubmission:!1},n}return i.__extends(n,t),n.prototype.componentWillMount=function(){if(this.props.submissionsAreDisabled)return o.PageMessages.clear(),void o.PageMessages.error("Submissions are currently disabled for this competition.")},n.prototype.getValidationPageMessages=function(e){var t=[];return this.validationRules.forEach(function(n){var a=t.filter(function(e){return e.id==n.id}).length>0;(n.isValid()&&a||!n.isValid()&&a&&!e)&&(t=t.filter(function(e){return e.id!=n.id})),n.isValid()||e||t.push({type:"error",id:n.id,message:n.message()})}),t},n.prototype.onSubmissionDescriptionChanged=function(e){this.setState({submissionDescription:e})},n.prototype.onSubmissionFilePendingUpdated=function(e,t){0==e&&0==t&&o.PageMessages.clear(),this.setState({submissionPending:e>0,autoSubmitPendingSubmission:this.state.autoSubmitPendingSubmission&&!(0==e&&0==t)})},n.prototype.render=function(){var t={onSubmissionSubmit:this.onSubmissionSubmit.bind(this),onSubmissionDescriptionChanged:this.onSubmissionDescriptionChanged.bind(this),onSubmissionUploadFinished:this.onSubmissionUploadFinished.bind(this),onSubmissionFilePendingUpdated:this.onSubmissionFilePendingUpdated.bind(this)},n=this.props,a=(n.children,i.__rest(n,["children"]));return e.createElement(r.CompetitionSubmission,i.__assign({},a,t,this.state))},n}(e.Component);t.CompetitionSubmissionContainer=s}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(8),r=n(24),o=n(9),s=n(91),l=n(94),c=n(20),u=n(41),p=n(1743),d=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props.submissionsAreDisabled;return i.Current.userName?this.props.needsPhoneVerification?e.createElement(o.ContentBox,{title:"Make a Submission"},e.createElement("div",{className:"competition-submission__intro"},"This competition requires that you verify your account via SMS. ",e.createElement("a",{href:"/account/phone/number?returnUrl="+this.props.competitionUrl},"Click here")," to verify your account.")):this.props.mostRecentSubmissionStatus&&"pending"==this.props.mostRecentSubmissionStatus.submissionStatus?e.createElement(o.ContentBox,null,e.createElement("div",{className:"competition-submission__scoring-caption"},"We are scoring your submission..."),e.createElement("div",{className:"competition-submission__scoring-cog"},e.createElement("span",{className:"fa fa-cog fa-spin"}))):e.createElement(o.ContentBox,{title:"Make a Submission"},e.createElement("div",{className:"competition-submission__intro"},this.props.team&&this.props.team.name?e.createElement("h1",{className:"competition-submission__lead-in"},"Make a submission for ",e.createElement("a",{onClick:function(){return t.props.onCompetitionTabChanged("team")}},this.props.team.name)):null,null!=this.props.remainingDailySubmissions&&this.props.maxDailySubmissionsResetDate?this.props.remainingDailySubmissions>0?e.createElement("p",{className:"competition-submission__info"},e.createElement("strong",null,"You have ",e.createElement(u.Pluralize,{count:this.props.remainingDailySubmissions,word:"submission",formatNumber:!0})," remaining today. "),"This resets ",e.createElement(c.TimeAgo,{time:this.props.maxDailySubmissionsResetDate,hideToGo:!0})," from now (00: 00 UTC)."):e.createElement("div",{className:"competition-submission__info"},e.createElement("p",null,e.createElement("strong",null,"You have no more submissions remaining for today. "),"This resets in:"),e.createElement("p",{className:"competition-submission__countdown"},e.createElement(p.Countdown,{time:this.props.maxDailySubmissionsResetDate,onBlastoff:this.props.onReenableSubmssion}))):null),0!=this.props.remainingDailySubmissions?e.createElement("div",null,e.createElement(s.FileUploader,{createBlobUrl:this.props.submissionUploadUrl,mode:"single",onFileUploadFinished:this.props.onSubmissionUploadFinished,singleFileButtonLabel:"Upload Submission File",onFilesPendingUpdated:this.props.onSubmissionFilePendingUpdated}),e.createElement("div",{className:"competition-submission__details"},e.createElement("div",{className:"competition-submission__detail"},e.createElement("h3",{className:"competition-submission__detail-subheader"},"File Format"),e.createElement("p",{className:"competition-submission__detail-text"},"Your submission should be in CSV format. You can upload this in a zip/gz/rar/7z archive, if you prefer.")),e.createElement("div",{className:"competition-submission__detail"},e.createElement("h3",{className:"competition-submission__detail-subheader"},"Number of Predictions"),e.createElement("p",{className:"competition-submission__detail-text"},"We expect the solution file to have ",this.props.totalSolutionRows," prediction rows. This file should have a header row. Please see sample submission file on the ",e.createElement("a",{onClick:function(){return t.props.onCompetitionTabChanged("data")}},"data page"),"."))),e.createElement("div",{className:"competition-submission__description-editor"},e.createElement(l.MarkdownEditor,{alwaysShowToolbar:!0,minRows:3,onChangeCallback:function(e){return t.props.onSubmissionDescriptionChanged(e)},placeholder:"Briefly describe your submission.",shouldSanitizeHtml:!0})),e.createElement("div",{className:"competition-submission__submit-wrapper"},e.createElement("div",{className:"competition-submission__submit-button"},e.createElement(r.ButtonAutoWidth,{onClick:function(){return t.props.onSubmissionSubmit()},isDisabled:n||this.props.isSubmittingSubmission,text:this.props.isSubmittingSubmission?e.createElement("span",null,"Processing Submission ",e.createElement("span",{className:"fa fa-spin fa-spinner"})):"Make Submission"})))):null):e.createElement(o.ContentBox,{title:"Make a Submission"},e.createElement("div",{className:"competition-submission__intro"},"You must set a user name before making submissions to a competition. ",e.createElement("a",{href:"/account/set-username?returnUrl="+this.props.competitionUrl},"Click here")," to set your user name."))},n}(e.Component);t.CompetitionSubmission=d}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(27),r=function(t){function n(e){var n=t.call(this,e)||this;return n.state={msRemaining:n.getMsRemaining()},n.timer=window.setInterval(function(){var e=n.getMsRemaining();e<=0&&(window.clearInterval(n.timer),n.props.onBlastoff&&n.props.onBlastoff()),n.setState({msRemaining:e})},1e3),n}return a.__extends(n,t),n.prototype.getMsRemaining=function(){return new Date(this.props.time).getTime()-(new Date).getTime()},n.prototype.render=function(){var t=i.duration(this.state.msRemaining);return e.createElement("span",null,(t.hours()?t.hours()+" hours, ":"")+(t.hours()||t.minutes()?t.minutes()+" minutes, and ":"")+" "+t.seconds()+" seconds")},n}(e.Component);t.Countdown=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(21),o=n(1745),s=function(t){function n(e){var n=t.call(this,e)||this;return n.onSetFinalSubmissions=function(e,t){var i=n.state.finalSubmissionIds.slice(),o=i.indexOf(t);return o>=0?i.splice(o,1):i.push(t),a.ajax({type:"POST",url:n.props.setFinalScoreSubmissionsUrl,contentType:"application/json",data:JSON.stringify(i),success:function(e){n.props.refetchMySubmissions(),n.setState({finalSubmissionIds:i},function(){r.PageMessages.set(e.pageMessages)})},error:function(e){n.props.refetchMySubmissions(),r.PageMessages.set(JSON.parse(e.responseText).pageMessages)}})},n.onSaveDescription=function(e,t){a.ajax({type:"POST",url:n.props.updateSubmissionUrl,contentType:"application/json",data:JSON.stringify({submissionId:e,newDescription:t}),success:function(e){r.PageMessages.set([{type:"success",message:"Your submission description has been saved."}])},error:function(e){r.PageMessages.set([{type:"error",message:"Your submission description could not be saved."}])}})},n.state={isGettingSubmissions:!0,finalSubmissionIds:n.props.finalSubmissionIds},n}return i.__extends(n,t),n.prototype.render=function(){var t={onSetFinalSubmissions:this.onSetFinalSubmissions,onSaveDescription:this.onSaveDescription},n=this.props,a=(n.children,i.__rest(n,["children"]));return e.createElement(o.CompetitionSubmissions,i.__assign({},a,t,this.state))},n}(e.Component);t.CompetitionSubmissionsContainer=s}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(4),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderSubmissionScore=function(t){return"complete"==t.status?t.publicScore:"pending"==t.status?e.createElement("span",{className:"competition-submissions__score-pending"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):"error"==t.status?e.createElement("span",{className:"competition-submissions__score-error",title:t.errorDetails||"No additional details provided for this error."},"Error"):null},n.prototype.renderHeader=function(){return e.createElement("div",{className:"competition-submissions__list-header"},e.createElement("div",{className:"competition-submissions__info"},"Submission and Description"),this.props.allowPrivateLeaderboardDisplay?e.createElement("div",{className:"competition-submissions__score"},"Private Score"):null,e.createElement("div",{className:"competition-submissions__score"},"Public Score"),e.createElement("div",{className:"competition-submissions__use"},"Use for Final Score"))},n.prototype.renderItem=function(t,n){var a=this;new Date(t.date.toString());return e.createElement("div",{key:"submission-"+n,className:"competition-submissions__list-item "+(t.isSelected?"competition-submissions__list-item--selected":"")},e.createElement("div",{className:"competition-submissions__info"},t.name?e.createElement("div",{className:"competition-submissions__info-name",title:t.name},e.createElement("a",{className:"competition-submissions__info-link",href:t.url},t.name),t.version?e.createElement("span",null,"(version ",t.version,"/",t.latestVersion,")"):null):null,e.createElement("p",{className:"competition-submissions__info-time"},e.createElement(i.TimeAgo,{time:t.date})," by ",e.createElement("a",{href:t.submittedByUrl},t.submittedBy)),e.createElement(i.InlineTextEditor,{className:"competition-submissions__info-text",readOnlyClassName:"competition-submissions__info-text",placeholder:"add submission details",onSaveCallback:function(e){return a.props.onSaveDescription(t.id,e)},value:t.details,isToggleable:!0})),this.props.allowPrivateLeaderboardDisplay?e.createElement("div",{className:"competition-submissions__score"},t.privateScore):null,e.createElement("div",{className:"competition-submissions__score"},this.renderSubmissionScore(t)),e.createElement("div",{className:"competition-submissions__use competition-submissions__use--checkbox"},e.createElement(i.Checkbox,{onChange:function(){return a.props.onSetFinalSubmissions(n,t.id)},isChecked:t.isSelected,text:"",isEditable:-1==["error","pending"].indexOf(t.status)||t.isSelected})))},n.prototype.render=function(){var t=this,n=e.createElement("span",null,this.props.mySubmissionsCount," submissions for",e.createElement("a",{className:"competition-submissions__team-link",onClick:function(){return t.props.onCompetitionTabChanged("Team")}},this.props.team.name));return e.createElement("div",null,e.createElement(i.ContentBox,{contentClassName:"competition-submissions__intro-container"},e.createElement("p",{className:"competition-submissions__intro"},"You can select up to ",e.createElement(i.Pluralize,{count:this.props.numScoredSubmissions,word:"submission"})," to be used to calculate your final leaderboard score. If ",e.createElement(i.Pluralize,{count:this.props.numScoredSubmissions,word:"submission"})," are not selected, they will be chosen based on your best submission scores on the public leaderboard."),e.createElement("p",{className:"competition-submissions__intro"},"Your final score may not be based on the same exact subset of data as the public leaderboard, but rather a different private data subset of your full submission  your public score is only a rough indication of what your final score is."),e.createElement("p",{className:"competition-submissions__intro"},"You should thus choose submissions that will most likely be best overall, and not necessarily on the public subset.")),e.createElement(i.SmartListContainer,{ref:function(e){return t.props.setMySubmissionsSmartListRef(e)},dataUrl:"/c/"+this.props.competitionId+"/submissions.json",itemRenderer:this.renderItem.bind(this),pluralItemDescription:"submissions",listHeaderRenderer:this.renderHeader.bind(this),mobileSortUpperBound:i.Breakpoints.tabletMax,values:{page:this.props.submissionsPage,group:this.props.submissionsGroup,sortBy:this.props.submissionsSortBy},title:n,sortOptions:[{label:"Most recent",value:"date"},{label:"Name",value:"name"},this.props.allowPrivateLeaderboardDisplay?{label:"Private Score",value:"privateScore"}:null,{label:"Public Score",value:"publicScore"}],groups:[{label:"All",value:"all"},{label:"Successful",value:"successful"},{label:"Selected",value:"selected"}],disableClearResultsOnUpdate:!0}))},n}(e.Component);t.CompetitionSubmissions=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(32),o=n(21),s=n(4),l=n(1747),c=n(3),u=function(t){function n(e){var n=t.call(this,e)||this;return n.totalSearchCount=0,n.currentSearchCount=0,n.state={isSavingTeamName:!1,isSendingMergeRequest:!1,teamModelFile:n.props.modelFile,teamNameToMerge:""},n}return i.__extends(n,t),n.prototype.onSaveTeamName=function(e){var t=this;e.trim().length>0||(o.PageMessages.clear(),o.PageMessages.error("Your team's display name must not be empty.")),this.setState({isSavingTeamName:!0},function(){c.ajax({type:"POST",url:t.props.setTeamNameUrl,contentType:"application/json",data:JSON.stringify({name:e}),success:function(n){t.setState({isSavingTeamName:!1},function(){n.pageMessages&&n.pageMessages.length>0?o.PageMessages.set(n.pageMessages):(o.PageMessages.clear(),o.PageMessages.success("You have successfully updated your team name.")),t.props.updateTeamName(e)})},error:function(e){var n=JSON.parse(e.responseText);t.setState({isSavingTeamName:!1},function(){o.PageMessages.set(n.pageMessages)})}})})},n.prototype.onSendMergeRequest=function(){var e=this;this.state.teamIdToMerge||(o.PageMessages.clear(),o.PageMessages.error("Could not find the requested team.")),this.setState({isSendingMergeRequest:!0},function(){a.Teams.requestMerge.withHeaders(s.withAntiForgeryHeader())({parentTeamId:e.props.team.id},e.state.teamIdToMerge).then(function(){e.setState({isSendingMergeRequest:!1},function(){o.PageMessages.clear(),o.PageMessages.success("You have successfully sent a merge request to "+e.state.teamNameToMerge+"."),window.location.reload()})},function(t){e.setState({isSendingMergeRequest:!1},function(){t.pageMessages&&t.pageMessages.length>0?o.PageMessages.set(t.pageMessages):(o.PageMessages.clear(),o.PageMessages.error({htmlMessage:'There was a problem processing your request. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'}))})})})},n.prototype.onSetTeamLeader=function(e){var t=this;this.setState({isSettingTeamLeader:!0,newTeamLeaderId:e},function(){return c.ajax({type:"POST",url:t.props.setLeaderUrl,contentType:"application/json",data:JSON.stringify({userId:e}),success:function(e){t.setState({isSettingTeamLeader:!1},function(){t.props.onCompetitionStateChanged("team",e.data),e.pageMessages&&e.pageMessages.length>0?o.PageMessages.set(e.pageMessages):(o.PageMessages.clear(),o.PageMessages.success("You have successfully set a new team leader."))})},error:function(e){t.setState({isSettingTeamLeader:!1},function(){var t=JSON.parse(e.responseText);t.pageMessages&&t.pageMessages.length>0?o.PageMessages.set(t.pageMessages):(o.PageMessages.clear(),o.PageMessages.error({htmlMessage:'There was a problem processing your request. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'}))})}})})},n.prototype.onRejectMergeRequest=function(e){var t=this;this.setState({isRejectingMergeRequest:!0,rejectedMergeRequestId:e},function(){a.Teams.rejectMerge.withHeaders(s.withAntiForgeryHeader())({id:e}).then(function(){t.setState({isRejectingMergeRequest:!1},function(){o.PageMessages.clear(),o.PageMessages.success("The request has successfully been rejected / revoked."),window.location.reload()})}).catch(function(){t.setState({isRejectingMergeRequest:!1},function(){o.PageMessages.clear(),o.PageMessages.error({htmlMessage:'There was a problem processing your request. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'})})})})},n.prototype.onTeamSearchClick=function(e,t){this.setState({teamIdToMerge:e,teamNameToMerge:t,searchedTeams:[]})},n.prototype.onTeamSearchBlur=function(){var e=this;window.setTimeout(function(){return e.setState({searchedTeams:[]})},300)},n.prototype.onTeamSearchChange=function(e){var t=this;this.setState({teamNameToMerge:e},e.length>=3?r.debounce(function(){t.totalSearchCount+=1;var n=t.totalSearchCount;a.Teams.searchTeams({competitionId:t.props.competitionId},e).then(function(a){if(n>t.currentSearchCount){var i=a.find(function(t){return t.name==e}),r=i?i.id:null;r&&(a=[]),t.currentSearchCount=n,t.setState({searchedTeams:a,teamIdToMerge:r})}})},1e3,!0):null)},n.prototype.onAcceptMergeRequest=function(e){var t=this;this.setState({isAcceptingMergeRequest:!0,acceptedMergeRequestId:e},function(){return a.Teams.acceptMerge.withHeaders(s.withAntiForgeryHeader())({id:e}).then(function(){t.setState({isAcceptingMergeRequest:!1},function(){o.PageMessages.clear(),o.PageMessages.success("The request has successfully been accepted."),window.location.reload()})}).catch(function(){t.setState({isAcceptingMergeRequest:!1},function(){o.PageMessages.clear(),o.PageMessages.error({htmlMessage:'There was a problem processing your request. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'})})})})},n.prototype.onDisbandTeam=function(){var e=this;return c.ajax({type:"POST",url:this.props.disbandTeamUrl,contentType:"application/json",success:function(t){e.props.onCompetitionStateChanged("team",t.data),o.PageMessages.success("Your team has been disbanded.",{clear:!0})},error:function(e){var t=JSON.parse(e.responseText);t.pageMessages&&t.pageMessages.length>0?o.PageMessages.set(t.pageMessages):o.PageMessages.error({htmlMessage:'There was a problem processing your request. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'},{clear:!0})}})},n.prototype.onModelFileUpload=function(e,t,n){var a=this;return c.ajax({type:"POST",url:this.props.acceptModelUrl+"?blobFileToken="+t,contentType:"application/json",success:function(e){e.pageMessage&&o.PageMessages.set([e.pageMessage]),a.setState({showUploadNewModel:!1,teamModelFile:e.modelFile})},error:function(e){var t=JSON.parse(e.responseText);t.pageMessages&&t.pageMessages.length>0?o.PageMessages.set(t.pageMessages):(o.PageMessages.clear(),o.PageMessages.error({htmlMessage:'There was a problem processing your request. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'}))}})},n.prototype.onToggleUploadNewModel=function(){this.setState({showUploadNewModel:!this.state.showUploadNewModel})},n.prototype.render=function(){var t={onSaveTeamName:this.onSaveTeamName.bind(this),onTeamSearchBlur:this.onTeamSearchBlur.bind(this),onTeamSearchChange:this.onTeamSearchChange.bind(this),onTeamSearchClick:this.onTeamSearchClick.bind(this),onSendMergeRequest:this.onSendMergeRequest.bind(this),onSetTeamLeader:this.onSetTeamLeader.bind(this),onRejectMergeRequest:this.onRejectMergeRequest.bind(this),onAcceptMergeRequest:this.onAcceptMergeRequest.bind(this),onDisbandTeam:this.onDisbandTeam.bind(this),onModelFileUpload:this.onModelFileUpload.bind(this),onToggleUploadNewModel:this.onToggleUploadNewModel.bind(this)},n=this.props,a=(n.children,i.__rest(n,["children"]));return e.createElement(l.CompetitionMyTeam,i.__assign({},a,t,this.state))},n}(e.Component);t.CompetitionTeamContainer=u}).call(t,n(0),n(23))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(6),r=n(46),o=n(24),s=n(9),l=n(8),c=n(243),u=n(41),p=n(91),d=n(92),m=n(81),h=function(e){e.columns,e.csvData,e.error,e.maxKBytesToReturn,e.noPreviewAvailable,e.textData;return a.__rest(e,["columns","csvData","error","maxKBytesToReturn","noPreviewAvailable","textData"])},g=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props.team.members.filter(function(e){return 1==e.isTeamLeader})[0].userId;return e.createElement("div",null,e.createElement(s.ContentBox,{title:"Manage Team"},e.createElement("div",{className:"competition-myteam__naming-section"},e.createElement("div",{className:"competition-myteam__naming"},e.createElement("label",{className:"competition-myteam__section-title",htmlFor:"competition-team-name"},"Team Name"),e.createElement(c.InputGroupInline,{defaultValue:this.props.team.name,isSubmitting:this.props.isSavingTeamName,inputClassName:"competition-myteam__naming-input",inputId:"competition-team-name",onSubmit:function(e){return t.props.onSaveTeamName(e)},placeholder:"Team Name",buttonChildren:"Save Team Name"}),e.createElement("p",{className:"competition-myteam__naming-help"},"This name will appear on your team's leaderboard position.")),this.props.team.canDisband&&e.createElement("a",{className:"competition-myteam__disband",onClick:this.props.onDisbandTeam},"Disband ",e.createElement("span",{className:"fa fa-angle-double-right"}))),e.createElement("div",{className:"competition-myteam__member-section"},e.createElement("h2",{className:"competition-myteam__section-title"},"Team Members ",this.props.maxTeamSize?"("+this.props.team.members.length+" of "+this.props.maxTeamSize+" maximum)":null),e.createElement("ul",{className:"competition-myteam__members"},this.props.team.members.map(function(a,i){return e.createElement("li",{className:"competition-myteam__member"+(a.userId==l.Current.userId?"--active":""),key:"member-"+i},e.createElement("img",{className:"competition-myteam__member-tier",src:"staff"==a.tier?"/static/images/tiers/staff@96.png":"/static/images/tiers/"+a.tier+"@48.png",title:a.tier}),e.createElement("img",{className:"competition-myteam__member-avatar",src:a.avatarUrl,title:a.displayName+" Avatar"}),e.createElement("div",{className:"competition-myteam__member-name"},e.createElement("a",{className:"competition-myteam__member-link",href:a.userUrl},a.displayName),a.userId==l.Current.userId?e.createElement("span",null,"(you)"):null),e.createElement("p",{className:"competition-myteam__member-role"},a.isTeamLeader?"Leader":"Member"),e.createElement("div",{className:"competition-myteam__member-action-wrapper"},a.isTeamLeader||l.Current.userId!=n?null:e.createElement("a",{className:"competition-myteam__member-action",onClick:function(){return t.props.onSetTeamLeader(a.userId)}},"Make Leader"),t.props.isSettingTeamLeader&&t.props.isSettingTeamLeader&&t.props.newTeamLeaderId==a.userId?e.createElement("div",{className:"competition-myteam__action-spinner"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null))})))),this.props.canSubmitModel?e.createElement(s.ContentBox,{title:"Your Model",titleBarRightSide:this.props.teamModelFile?this.props.showUploadNewModel?e.createElement("div",{className:"competition-myteam__model-upload-cancel"},e.createElement("a",{onClick:this.props.onToggleUploadNewModel,className:""},"cancel")):e.createElement(m.ButtonRoundEdged,{className:"",onClick:this.props.onToggleUploadNewModel,text:"Upload New File"}):null},this.props.teamModelFile&&!this.props.showUploadNewModel?e.createElement("div",{className:"competition-myteam__model-file"},e.createElement(d.FilePreviewContainer,a.__assign({},h(this.props.teamModelFile)))):e.createElement("div",null,e.createElement("div",{className:"competition-myteam__model-intro"},"Here you can upload a zip archive containing team-related files. Usually this will be a model. In certain situations, we may also use this page to collect other types of files (e.g. a resume, or other team information). You may upload multiple times, but we will only keep the latest file. If you have multiple files, place them in one single archive."),e.createElement(p.FileUploader,{autoRemoveOnComplete:!0,mode:"single",createBlobUrl:"/blobs/inbox/team-model-files",onFileUploadFinished:this.props.onModelFileUpload}))):null,e.createElement(s.ContentBox,{title:"Invite Others"},e.createElement("div",{className:"competition-myteam__invite-creation"},e.createElement("div",{className:"competition-myteam__invite-wrapper"},e.createElement("label",{className:"competition-myteam__section-title",htmlFor:"competition-merge-request"},e.createElement("span",{className:"fa fa-code-fork competition-myteam__section-title-icon"}),"Merge with other Kaggle teams"),!this.props.team.canCreateMerger||this.props.teamOutboundMergeRequests&&this.props.teamOutboundMergeRequests.length?e.createElement("div",null,this.props.teamOutboundMergeRequests&&this.props.teamOutboundMergeRequests.length?"You can only have one pending merge request at a time.":"You are unable to merge with other teams on this competition."):[e.createElement("input",{className:"competition-myteam__team-search",disabled:this.props.isSendingMergeRequest,onBlur:function(){return t.props.onTeamSearchBlur()},onChange:function(e){return t.props.onTeamSearchChange(e.target.value)},placeholder:"Team Name",type:"text",value:this.props.teamNameToMerge}),e.createElement("button",{className:i("competition-myteam__request-merge",this.props.isSendingMergeRequest||!this.props.teamIdToMerge?"competition-myteam__request-merge--disabled":null),disabled:this.props.isSendingMergeRequest||!this.props.teamIdToMerge,onClick:function(){return t.props.onSendMergeRequest()},type:"submit"},"Request Merge"),this.props.searchedTeams&&this.props.searchedTeams.length?e.createElement("div",{className:"competition-myteam__searched-teams"},this.props.searchedTeams.map(function(n){return e.createElement("div",{className:"competition-myteam__searched-team",onClick:function(){return t.props.onTeamSearchClick(n.id,n.name)}},n.name)})):null]))),e.createElement(s.ContentBox,{title:"Pending Merge Requests"},this.props.teamOutboundMergeRequests&&this.props.teamOutboundMergeRequests.length?e.createElement("div",{className:"competition-myteam__invite-container"},e.createElement("p",{className:"competition-myteam__invite-intro"},"You have proposed a merge with ",e.createElement(u.Pluralize,{count:this.props.teamOutboundMergeRequests.length,word:"team"}),":"),e.createElement("div",{className:"competition-myteam__invites"},this.props.teamOutboundMergeRequests.map(function(n,a){var i=n.members.filter(function(e){return 1==e.isTeamLeader})[0];return e.createElement("div",{className:"competition-myteam__invite",key:"outbound-invite-"+a},e.createElement("div",{className:"competition-myteam__invite-td-members"},n.members.map(function(t,n){return e.createElement("div",{className:"competition-myteam__invite-td-member",key:"outbound-invite-"+a+"-"+n},e.createElement(r.Avatar,{tier:t.tier,thumbnailUrl:t.avatarUrl,displayName:t.displayName,userUrl:t.userUrl}))})),e.createElement("div",{className:"competition-myteam__invite-td-info"},e.createElement("a",{href:"#"},n.name),i?e.createElement("span",null,"led by",e.createElement("a",{href:i.userUrl},i.displayName)):null),e.createElement("div",{className:"competition-myteam__invite-td-action"},e.createElement("div",null,e.createElement("div",{className:"competition-myteam__invite-action-wrapper"},t.props.isRejectingMergeRequest&&t.props.rejectedMergeRequestId==n.id?e.createElement("div",{className:"competition-myteam__action-spinner"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null,e.createElement("a",{className:"competition-myteam__invite-td-reject",onClick:function(){return t.props.onRejectMergeRequest(n.id)}},"Revoke Invite")))))}))):e.createElement("div",{className:"competition-myteam__invite-container"},e.createElement("p",{className:"competition-myteam__invite-intro"},"You currently have no pending merge requests."))),e.createElement(s.ContentBox,{title:"Teams Proposing a Merge"},this.props.teamInboundMergeRequests&&this.props.teamInboundMergeRequests.length?e.createElement("div",{className:"competition-myteam__invite-container"},e.createElement("p",{className:"competition-myteam__invite-intro"},"You have outstanding merge requests from ",e.createElement(u.Pluralize,{count:this.props.teamInboundMergeRequests.length,word:"team"}),":"),e.createElement("div",{className:"competition-myteam__invites"},this.props.teamInboundMergeRequests.map(function(n,a){var i=n.members.filter(function(e){return 1==e.isTeamLeader})[0];return e.createElement("div",{className:"competition-myteam__invite",key:"outbound-invite-"+a},e.createElement("div",{className:"competition-myteam__invite-td-members"},n.members.map(function(t,n){return e.createElement("div",{className:"competition-myteam__invite-td-member",key:"outbound-invite-"+a+"-"+n},e.createElement(r.Avatar,{tier:t.tier,thumbnailUrl:t.avatarUrl,displayName:t.displayName,userUrl:t.userUrl}))})),e.createElement("div",{className:"competition-myteam__invite-td-info"},e.createElement("a",{className:"competition-myteam__invite-team-link",href:"#"},n.name),i?e.createElement("span",null,"led by",e.createElement("a",{href:i.userUrl},i.displayName)):null),e.createElement("div",{className:"competition-myteam__invite-td-action"},e.createElement("div",null,e.createElement("div",{className:"competition-myteam__invite-accept-wrapper"},t.props.isAcceptingMergeRequest&&t.props.acceptedMergeRequestId==n.id?e.createElement("div",{className:"competition-myteam__action-spinner"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null,e.createElement(o.ButtonAutoWidth,{onClick:function(){return t.props.onAcceptMergeRequest(n.id)},text:"Join this Team"}))),e.createElement("div",null,e.createElement("div",{className:"competition-myteam__invite-action-wrapper"},t.props.isRejectingMergeRequest&&t.props.rejectedMergeRequestId==n.id?e.createElement("div",{className:"competition-myteam__action-spinner"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null,e.createElement("a",{className:"competition-myteam__invite-td-reject",onClick:function(){return t.props.onRejectMergeRequest(n.id)}},"Reject Invite")))))}))):e.createElement("div",{className:"competition-myteam__invite-container"},e.createElement("p",{className:"competition-myteam__invite-intro"},"There are currently no teams proposing a merge with yours."))))},n}(e.Component);t.CompetitionMyTeam=g}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(1749),o=n(21),s=n(163),l=n(8),c=function(t){function n(e){var n=t.call(this,e)||this;return n.validationRules=[{isValid:function(){return n.state.newCompetitionTitle&&n.state.newCompetitionTitle.trim().length>0},id:"competition-no-title",message:function(){return"Please enter a title for your competition."}},{isValid:function(){return!n.state.newCompetitionTitle||0==n.state.newCompetitionTitle.trim().length||n.state.newCompetitionTitle.trim().length>6&&n.state.newCompetitionTitle.trim().length<50},id:"competition-title-length",message:function(){return"The title must be between 6 and 50 characters in length."},alwaysValidate:!0},{isValid:function(){return!(!n.state.newCompetitionDescription||!n.state.newCompetitionDescription.trim())},id:"competition-no-description",message:function(){return"Please enter a short description for your competition."}},{isValid:function(){return!(n.state.newCompetitionDescription&&n.state.newCompetitionDescription.trim().length>125)},id:"competition-description-length",message:function(){return"Your description must be fewer than 125 characters."}},{isValid:function(){return!(!n.state.newCompetitionSlug||!n.state.newCompetitionSlug.trim())},id:"competition-no-slug",message:function(){return"Please enter a URL for your competition."}},{isValid:function(){return!(n.state.newCompetitionSlug&&(n.state.newCompetitionSlug.trim().length<3||n.state.newCompetitionSlug.trim().length>50))},id:"competition-slug-length",message:function(){return"The URL must be between 3 and 50 characters."}}],n.onCompetitionTitleChanged=function(e){var t={newCompetitionTitle:e};n.state.useTitleForSlug&&(t.newCompetitionSlug=s.slugify(e)),n.setState(t,function(){return n.clearFixedValidations()})},n.onCompetitionSlugChanged=function(e){n.setState({newCompetitionSlug:e,useTitleForSlug:!1},function(){return n.clearFixedValidations()})},n.onCompetitionDescriptionChanged=function(e){n.setState({newCompetitionDescription:e},function(){return n.clearFixedValidations()})},n.onSelectCategoryType=function(e){n.setState({newCompetitionCategory:e})},n.onSaveNewCompetition=function(){n.setState({isSavingNewCompetition:!0,validationPageMessages:[]},function(){var e=n.getValidationPageMessages();if(e.filter(function(e){return e.type="error"}).length>0)return void n.setState({isSavingNewCompetition:!1,validationPageMessages:e});a.Competitions.createCompetition({},{title:n.state.newCompetitionTitle,slug:n.state.newCompetitionSlug,briefDescription:n.state.newCompetitionDescription,hostSegment:n.state.newCompetitionCategory,competitionType:"prediction",useKernels:!1}).then(function(e){var t=e;n.setState({isSavingNewCompetition:!1},function(){t.errors?(o.PageMessages.clear(),t.errors.map(function(e){o.PageMessages.error(e)})):window.location.href=t.competitionUrl})})})},n.state={newCompetitionCategory:l.Current.isAdmin?"featured":"inClass",newCompetitionDescription:"",newCompetitionSlug:"",newCompetitionTitle:"",isSavingNewCompetition:!1,useTitleForSlug:!0,validationPageMessages:[]},n.helperProps={onCompetitionDescriptionChanged:n.onCompetitionDescriptionChanged,onCompetitionTitleChanged:n.onCompetitionTitleChanged,onCompetitionSlugChanged:n.onCompetitionSlugChanged,onSaveNewCompetition:n.onSaveNewCompetition,onSelectCategoryType:n.onSelectCategoryType},n}return i.__extends(n,t),n.prototype.getValidationPageMessages=function(e){var t=this;return this.validationRules.filter(function(n){return!n.isValid()&&(!e||n.alwaysValidate||t.state.validationPageMessages.filter(function(e){return e.id==n.id}).length>0)}).map(function(e){return{type:e.isWarning?"warning":"error",id:e.id,message:e.message?e.message():null,htmlMessage:e.htmlMessage?e.htmlMessage():null}})},n.prototype.clearFixedValidations=function(e){this.setState({validationPageMessages:this.getValidationPageMessages(!0)},e)},n.prototype.render=function(){var t=this.props,n=(t.children,i.__rest(t,["children"]));return e.createElement(r.CompetitionCreator,i.__assign({},n,this.helperProps,this.state))},n}(e.Component);t.CompetitionCreatorContainer=c}).call(t,n(0),n(23))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(24),r=n(9),o=n(93),s=n(51),l=n(44),c=n(8),u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.newCompetitionDescription,a=t.newCompetitionSlug,u=t.newCompetitionTitle,p=t.isSavingNewCompetition,d=t.newCompetitionCategory,m=t.onCompetitionDescriptionChanged,h=t.onCompetitionTitleChanged,g=t.onCompetitionSlugChanged,f=t.onSaveNewCompetition,v=t.onSelectCategoryType,_=t.validationPageMessages,b=this.props.hostSegments;return e.createElement("div",{className:"competition-creator"},e.createElement(s.PageHeader,null,e.createElement(s.PageHeaderTopRowSafe,null,e.createElement("div",{className:"competition-creator__header"},e.createElement("div",{className:"competition-creator__header-top"},e.createElement(o.InlineTextEditor,{className:"competition-creator__header-title-input",onChangeCallback:function(e){return h(e)},placeholder:"Enter a descriptive title",value:u}),e.createElement(o.InlineTextEditor,{className:"competition-creator__header-subtitle-input",onChangeCallback:function(e){return m(e)},placeholder:"Enter a description explaining what competitors do. Keep it short!",value:n})))),e.createElement(s.PageHeaderBottomRow,{pageMessages:_})),e.createElement(r.ContentBox,{title:"Competition Setup"},e.createElement("div",{className:"competition-settings__section"},e.createElement("div",{className:"competition-setting__field-group"},e.createElement("h2",{className:"competition-setting__field-label"},"Competition URL"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("div",{className:"competition-setting__field-control-inline"},e.createElement("span",{className:"competition-setting__field-inline-label"},"http://www.kaggle.com/c/"),e.createElement(o.InlineTextEditor,{className:"competition-setting__field-control-input",rejectedCharacterRegExp:/[^A-Za-z0-9-]+/g,onChangeCallback:function(e){return g(e)},placeholder:a,value:a})),e.createElement("div",{className:"competition-setting__field-note"},"Choose a short URL. All links to your competition pages will start with this URL."))),c.Current.isAdmin&&e.createElement("div",{className:"competition-setting__field-group"},e.createElement("h2",{className:"competition-setting__field-label"},e.createElement("span",{className:"fa fa-lock",title:"Admin setting"})," Category"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement(l.SelectBox,{className:"competition-setting__field-dropdown",onChange:v,options:b,searchable:!1,value:d}))))),e.createElement("div",{className:"competition-settings__save-button-wrapper"},e.createElement("div",{className:"competition-settings__save-button"},e.createElement(i.ButtonAutoWidth,{isDisabled:_.length>0,onClick:f,text:"Create Competition"}),p&&e.createElement("div",{className:"competition-settings__save-spinner"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})))))},n}(e.Component);t.CompetitionCreator=u}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(4),r=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.runTimer=new i.Timer,e}return a.__extends(n,t),n.prototype.renderStatus=function(e){switch(e){case"initializing-or-short-wait":return"Initializing";case"in-line":return this.props.totalSubmissionsInLine?"Behind "+this.props.totalSubmissionsInLine+" others":"Next in line";case"scoring":return"Scoring";case"error":return"Failed";case"complete":return"Complete";default:return null}},n.prototype.renderProgressBar=function(t,n,a,i,r){return e.createElement("div",{className:"competition-scoring-banner__progress-bar-outer competition-scoring-banner__progress-bar-outer--"+i+" "+(a?"":"competition-scoring-banner__progress-bar-outer--hidden")},e.createElement("div",{className:"competition-scoring-banner__progress-bar-status-container"},e.createElement("div",{className:"competition-scoring-banner__progress-bar-text-container"},"complete"!=i&&"error"!=i&&e.createElement("span",{className:"fa fa-spin fa-cog competition-scoring-banner__progress-bar-spinner"}),e.createElement("span",{className:"competition-scoring-banner__progress-bar-status-text"},this.renderStatus(i))),e.createElement("div",{className:"competition-scoring-banner__progress-bar-text-container"},t&&"complete"!=i&&"error"!=i&&"initializing-or-short-wait"!=i?t<n?e.createElement("span",null,"Almost ",r?"ready":"done","..."):e.createElement("span",null,((t-n)/1e3).toFixed(0)," seconds remaining (est.)"):null)),e.createElement("div",{className:"competition-scoring-banner__progress-bar-inner competition-scoring-banner__progress-bar-inner--"+i,style:{width:("complete"==i||"error"==i?100:Math.min(t?n/t*100:0,100))+"%"}}))},n.prototype.renderMainContent=function(){var t,n=["scoring","complete","error"],a=["initializing-or-short-wait","in-line"],r=this.props,o=r.id,s=r.name,l=r.dateSubmitted,c=r.publicScoreFormatted,u=r.submissionStatus,p=r.estimatedScoreDurationMilliseconds,d=r.estimatedWaitDurationMilliseconds,m=r.ellapsedScoreDurationMilliseconds,h=r.ellapsedWaitDurationMilliseconds,g=r.totalSubmissionsInLine,f=r.forListing,v=r.competitionName,_=r.competitionUrl,b=r.userDisplayName,E=r.userUrl;return t="complete"==u?"complete":"error"==u?"error":0==o||!m&&0==g&&d<3e3?"initializing-or-short-wait":m?"scoring":"in-line",e.createElement("div",null,f&&e.createElement("div",{className:"competition-scoring-banner__listing-header"},e.createElement("a",{href:_},v)," | ",e.createElement("a",{href:E},b)),e.createElement("div",{className:"competition-scoring-banner__meta"},e.createElement("div",{className:"competition-scoring-banner__meta-header"},e.createElement("div",{className:"competition-scoring-banner__meta-name"},"Name"),e.createElement("div",{className:"competition-scoring-banner__meta-date"},"Submitted"),e.createElement("div",{className:"competition-scoring-banner__meta-wait"},"Wait time"),e.createElement("div",{className:"competition-scoring-banner__meta-execution"},"Execution time"),e.createElement("div",{className:"competition-scoring-banner__meta-score"},"Score")),e.createElement("div",{className:"competition-scoring-banner__meta-data"},e.createElement("div",{className:"competition-scoring-banner__meta-name",title:s},s),e.createElement("div",{className:"competition-scoring-banner__meta-date"},l?e.createElement(i.TimeAgo,{time:l}):null),e.createElement("div",{className:"competition-scoring-banner__meta-wait"},(h/1e3|0).toFixed(0)," seconds"),e.createElement("div",{className:"competition-scoring-banner__meta-execution"},(m/1e3|0).toFixed(0)," seconds"),e.createElement("div",{className:"competition-scoring-banner__meta-score"},c))),this.renderProgressBar(d,h,a.includes(t),t,!0),this.renderProgressBar(p,m,n.includes(t),t,!1),"error"==t||"complete"==t||f?null:e.createElement("div",{className:"competition-scoring-banner__message"},this.props.scoringMessage),"error"==t&&this.props.error?e.createElement("pre",{className:"competition-scoring-banner__error"},this.props.error):null,"complete"==t&&this.props.jumpToLeaderboardPosition?e.createElement("div",{className:"competition-scoring-banner__leaderboard-link",onClick:this.props.jumpToLeaderboardPosition},"Jump to your position on the leaderboard ",e.createElement("span",{className:"fa fa-caret-down"})):null)},n.prototype.render=function(){return this.props.forListing?this.renderMainContent():e.createElement(i.ContentBox,{contentClassName:"competition-scoring-banner",title:"Your most recent submission"},this.renderMainContent())},n}(e.Component);t.CompetitionScoringBanner=r}).call(t,n(0))},,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(1758),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(i.AdminHome,{})},n}(e.Component);t.AdminHomeContainer=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(24),r=n(9),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"admin-home"},e.createElement(r.ContentBox,{titleBarRightSide:e.createElement("a",{className:"admin-home__text-link",href:"/admin"},"Old admin ",e.createElement("span",{className:"fa fa-angle-double-right"})),title:"Welcome to the New Admin Home!"},e.createElement("div",{className:"admin-home__content"},e.createElement(i.ButtonAutoWidth,{href:"/admin/submissions",text:"Recent / Pending Submissions"})),e.createElement("div",{className:"admin-home__content"},e.createElement(i.ButtonAutoWidth,{href:"/admin/db",text:"Database Info"})),e.createElement("div",{className:"admin-home__content"},e.createElement(i.ButtonAutoWidth,{href:"/admin/react",text:"React Component Docs"})),e.createElement("div",{className:"admin-home__content"},e.createElement(i.ButtonAutoWidth,{href:"/admin/niko",text:"Niko Calendar"}))))},n}(e.Component);t.AdminHome=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(1760),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=(t.children,a.__rest(t,["children"]));return e.createElement(i.default,a.__assign({},this.state,n))},n}(e.Component);t.default=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(4),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(i.JobListContainer,{isActive:!0})},n}(e.Component);t.default=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(4),r=function(t){function n(e){var n=t.call(this,e)||this;return n.state={id:e.typeName?e.id:null,typeName:e.typeName},n}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement("div",{className:"autoform-page"},e.createElement("div",{className:"autoform-page__selectors"},e.createElement(i.SelectBox,{addLabelText:"Type",className:"autoform-page__type-selector",onChange:function(e){return t.setState({id:null,typeName:e})},options:this.props.typeNames.map(function(e){return{label:e,value:e}}),searchable:!1,value:this.state.typeName}),e.createElement("input",{className:"autoform-page__id-selector",disabled:!this.state.typeName,onChange:function(e){return t.setState({id:parseInt(e.target.value)})},placeholder:this.state.typeName?this.state.typeName+" Id":"Please select an entity type",type:"number",value:this.state.id})),this.state.id&&this.state.typeName?e.createElement(i.AutoFormContainer,{id:this.state.id,typeName:this.state.typeName}):null)},n}(e.Component);t.AutoForm=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(1763),r=n(1765),o=n(1770),s=n(500),l=function(t){function n(n,a){var s=t.call(this,n)||this;return s.baseUrl="/about/inclass",s.tabs=[{title:"Overview",slug:"overview"},{title:"How it Works",slug:"how-it-works"},{title:"FAQs",slug:"faqs"},{title:"Forum",slug:"forum",redirect:"/inclass-forum"}],s.cta={title:"Create new Competition",slug:"create-new-competition",redirect:"/competitions/new"},s.pages=[e.createElement(i.AboutInClassHome,null),e.createElement(r.AboutInClassHowItWorks,null),e.createElement(o.AboutInClassFAQs,null)],s}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(s.AboutPage,{baseUrl:this.baseUrl,cta:this.cta,pages:this.pages,tabs:this.tabs})},n}(e.Component);t.AboutInClass=l}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(96),r=n(1764),o=n(723),s=function(t){function n(e){var n=t.call(this,e)||this;return n.header={heading:"Kaggle InClass competitions make machine learning fun.",subheading:"Use our free, self-service platform to create classroom competitions that engage and inspire your students.",background:"/static/images/about/inclass/header-background@2x.png"},n.actionRow=[{image:"howitworks@2x.png",heading:"How it Works",text:"Start here to learn how to setup your first competition and how to best take advantage of the platform.",link:"/about/inclass/how-it-works"},{image:"faqs@2x.png",heading:"FAQs",text:"We've compiled the feedback and wisdom of other InClass hosts so you don't have to reinvent the bell curve.",link:"/about/inclass/faqs"},{image:"forums@2x.png",heading:"Forums",text:"Ask questions, share lesson plans, and swap strategies with other machine learning educators.",link:"/discussion"}],n.logos=[{image:"berkeley.png",width:117,link:"https://berkeley.edu"},{image:"uoc.png",width:105,link:"https://www.universityofcalifornia.edu"},{image:"ucl.png",width:107,link:"https://www.ucl.ac.uk"},{image:"columbia.png",width:115,link:"https://www.columbia.edu/"},{image:"cornell.png",width:78,link:"https://www.cornell.edu/"},{image:"erasmus.png",width:88,link:"https://www.eur.nl/english/"},{image:"harvard.png",width:101,link:"https://www.harvard.edu/"},{image:"unimelb.png",width:120,link:"https://www.unimelb.edu.au"},{image:"michigan.png",width:72,link:"https://umich.edu/"},{image:"oxford.png",width:91,link:"https://www.ox.ac.uk/"},{image:"stanford.png",width:102,link:"https://www.stanford.edu/"},{image:"toronto.png",width:123,link:"https://www.utoronto.ca/"}],n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page"},e.createElement(i.AboutHeader,a.__assign({},this.header)),e.createElement("div",{className:"about-page__section"},e.createElement("div",{className:"about-page__section-inside"},e.createElement(o.AboutActionRow,{actionRow:this.actionRow}),e.createElement("div",{className:"about-page__cta-bar"},e.createElement("a",{href:"/competitions/new",className:"button"},"Create new Competition")),e.createElement(r.AboutLogos,{title:this.logosTitle,logos:this.logos}))))},n}(e.Component);t.AboutInClassHome=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page__logos"},e.createElement("div",{className:"about-page__logos-heading"},this.props.title),e.createElement("div",{className:"about-page__logos-logos"},this.props.logos.map(function(t,n){return e.createElement("a",{className:"about-page__logo",key:n,href:t.link,target:"__blank"},e.createElement("img",{width:t.width,src:"/static/images/about/inclass/logos/"+t.image}))})))},n}(e.Component);t.AboutLogos=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(96),r=n(1766),o=n(1767),s=n(1768),l=n(1769),c=function(t){function n(e){var n=t.call(this,e)||this;return n.header={heading:"Launching your first InClass competition is simple.",subheading:"Learn how to use our self-service platform to create a fun and engaging machine learning competition for your students.",background:"/static/images/about/inclass/header-background@2x.png"},n.switcherContent=l.switcherContent,n.features=s.features,n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page about-inclass-how"},e.createElement(i.AboutHeader,a.__assign({},this.header)),e.createElement("div",{className:"about-inclass-how__content"},e.createElement("div",{className:"about-page__section"},e.createElement("div",{className:"about-page__section-inside"},e.createElement(r.default,{tabs:this.switcherContent}),e.createElement("div",{className:"about-page__cta-bar"},e.createElement("a",{href:null,className:"button"},"Download Setup Guide"),e.createElement("a",{href:"/competitions/new",className:"button button--secondary"},"Create new Competition")),e.createElement(o.AboutFeatures,{features:this.features})))))},n}(e.Component);t.AboutInClassHowItWorks=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1);n(584);var i=function(t){function n(e){var n=t.call(this,e)||this;return n.state={currentIndex:0},n.tabsLowerBound=768,n}return a.__extends(n,t),n.prototype.handleMouseEnter=function(e){this.setState({currentIndex:e})},n.prototype.componentDidMount=function(){this.props.tabs.map(function(e){(new Image).src=e.image})},n.prototype.render=function(){var t=this;return window.innerWidth>=this.tabsLowerBound?e.createElement("div",{className:"info-switcher"},e.createElement("ul",{className:"info-switcher__tabs"},this.props.tabs.map(function(n,a){return e.createElement("li",{className:"info-switcher__tab "+(a==t.state.currentIndex&&"info-switcher__tab--active"),key:a,onMouseEnter:function(){return t.handleMouseEnter(a)}},e.createElement("h3",null,n.title),e.createElement("div",null,n.copy))})),e.createElement("div",{className:"info-switcher__images"},e.createElement("svg",{className:"info-switcher__dots",width:"638px",height:"29px",viewBox:"0 0 638 29",style:{background:"#EBEBEB"}},e.createElement("g",{fill:"#D8D8D8"},e.createElement("circle",{cx:"14.5",cy:"14.5",r:"6.5"}),e.createElement("circle",{cx:"36.5",cy:"14.5",r:"6.5"}),e.createElement("circle",{cx:"58.5",cy:"14.5",r:"6.5"}))),e.createElement("img",{className:"info-switcher__image",src:this.props.tabs[this.state.currentIndex].image}))):e.createElement("div",{className:"info-switcher-mobile"},this.props.tabs.map(function(t){return e.createElement("div",{className:"info-switcher-mobile__item"},e.createElement("img",{className:"info-switcher-mobile__image",src:t.image}),e.createElement("h3",{className:"info-switcher-mobile__title"},t.title),e.createElement("div",{className:"info-switcher-mobile__copy"},t.copy))}))},n}(e.Component);t.default=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page__logos"},e.createElement("div",{className:"about-page__logos-heading"},"Platform features"),e.createElement("div",{className:"about-page__logos-features"},this.props.features.map(function(t,n){return e.createElement("div",{className:"about-page__logos-feature",key:t.title},e.createElement("img",{src:t.image}),e.createElement("h3",null,t.title))})))},n}(e.Component);t.AboutFeatures=i}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.features=[{image:"/static/images/about/inclass/how-it-works/about-inclass-feature-selfservice@2x.png",title:"Self-Service Startup Wizard"},{image:"/static/images/about/inclass/how-it-works/about-inclass-feature-datasets@2x.png",title:"Labeled Training Datasets"},{image:"/static/images/about/inclass/how-it-works/about-inclass-feature-metrics@2x.png",title:"Preloaded Evaluation Metrics"},{image:"/static/images/about/inclass/how-it-works/about-inclass-feature-scoring@2x.png",title:"Automated Submission Scoring"},{image:"/static/images/about/inclass/how-it-works/about-inclass-feature-leaderboards@2x.png",title:"Real-time Leaderboards"},{image:"/static/images/about/inclass/how-it-works/about-inclass-feature-forums@2x.png",title:"Competition Forums"},{image:"/static/images/about/inclass/how-it-works/about-inclass-feature-kernels@2x.png",title:"Kaggle Kernels"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switcherContent=[{title:"Define",copy:"Identify a machine learning problem and a labeled dataset your students can use to train their models.",image:"/static/images/about/inclass/how-it-works/about-inclass-step-1@2x.png"},{title:"Create",copy:"Use the self-service wizard to upload your data, select an evaluation metric, and craft your problem statement.",image:"/static/images/about/inclass/how-it-works/about-inclass-step-2@2x.png"},{title:"Invite",copy:"Generate an open invite link or single-use invitations for your students to join the competition.",image:"/static/images/about/inclass/how-it-works/about-inclass-step-3@2x.png"},{title:"Launch",copy:"Once you've tested your competition, it will be submitted for a Kaggle admin to approve in 1-2 business days.",image:"/static/images/about/inclass/how-it-works/about-inclass-step-4@2x.png"}]},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(96),r=n(1771),o=n(1772),s=n(1773),l=function(t){function n(e){var n=t.call(this,e)||this;return n.header={heading:"Need help? <br/>Dont just wait to be called on. Search our FAQs today.",subheading:"Find answers to the most common questions from teachers and students about hosting and participating in Kaggle InClass competitions.",background:"/static/images/about/inclass/header-background@2x.png"},n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page about-inclass-faqs"},e.createElement(i.AboutHeader,a.__assign({},this.header)),e.createElement("div",{className:"about-inclass-faqs__content"},e.createElement(r.AboutFAQs,{faqs:o.FAQsContent}),e.createElement(s.AboutInClassFAQsSupport,null)))},n}(e.Component);t.AboutInClassFAQs=l}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(e){var n=t.call(this,e)||this;return n.state={searchTerm:""},n}return a.__extends(n,t),n.prototype.handleSearchChange=function(e){this.setState({searchTerm:e.target.value})},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"about-page__section about-faqs"},e.createElement("div",{className:"about-page__section-inside"},e.createElement("div",{className:"about-faqs__search-container"},e.createElement("i",{className:"fa fa-search"}),e.createElement("input",{className:"about-faqs__search",type:"search",onChange:this.handleSearchChange.bind(this),value:this.state.searchTerm,placeholder:"Search FAQs"})),e.createElement("div",{className:"about-faqs__qas"},this.props.faqs.map(function(n){return e.createElement(r,{key:n.type,userType:n,searchTerm:t.state.searchTerm})}))))},n}(e.Component);t.AboutFAQs=i;var r=function(t){var n=t.userType,a=t.searchTerm;return e.createElement("div",{className:"about-faqs__usertype"},e.createElement("h2",{className:"about-faqs__usertype-heading"},e.createElement("img",{className:"about-faqs__usertype-icon",src:"/static/images/about/inclass/icons/inclass-icon-"+n.type.toLowerCase()+".png"}),n.type),n.subheadings.map(function(t){return e.createElement(o,{key:t.subheading,subheading:t,searchTerm:a})}))},o=function(t){var n=t.subheading,a=t.searchTerm;return e.createElement("div",{className:"about-faqs__subsection"},e.createElement("h3",{className:"about-faqs__subheading"},n.subheading),n.questions.map(function(t,n){return e.createElement(s,{qa:t,key:n,searchTerm:a})}))},s=function(t){function n(e){var n=t.call(this,e)||this;return n.state={clickedOpen:!1,formattedQ:n.props.qa.q,formattedA:n.props.qa.a,searchFound:!1,showAnswer:!1},n}return a.__extends(n,t),n.prototype.componentWillUpdate=function(e,t){if(e.searchTerm!==this.props.searchTerm){var n=e.searchTerm,a=e.qa,i=n.length>=3&&a.q.toLowerCase().indexOf(n.toLowerCase())>=0,r=n.length>=3&&a.a.toLowerCase().indexOf(n.toLowerCase())>=0;this.setState({formattedQ:i?l(a.q,n,"about-faqs__highlight"):a.q,formattedA:r?l(a.a,n,"about-faqs__highlight"):a.a,searchFound:i||r,showAnswer:this.state.clickedOpen||i||r})}},n.prototype.handleQuestionClick=function(e){this.setState({clickedOpen:!(!this.state.clickedOpen&&this.state.showAnswer)&&!this.state.clickedOpen,showAnswer:!(!this.state.clickedOpen&&this.state.showAnswer)&&!this.state.clickedOpen})},n.prototype.render=function(){return e.createElement("dl",{className:"about-faqs__qa "+(this.state.searchFound&&"about-faqs__qa--highlighted")},e.createElement("dt",{className:"about-faqs__q",onClick:this.handleQuestionClick.bind(this)},e.createElement("i",{className:"fa "+(this.state.showAnswer?"fa-minus-circle":"fa-plus-circle")+" "}),e.createElement("span",{dangerouslySetInnerHTML:{__html:this.state.formattedQ}})),e.createElement("dd",{style:{display:this.state.showAnswer?"block":"none"},className:"about-faqs__a",dangerouslySetInnerHTML:{__html:this.state.formattedA}}))},n}(e.Component),l=function(e,t,n){var a=new RegExp("("+t+")","gi");return e.replace(a,'<span class="'+n+'">$1</span>')}}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FAQsContent=[{type:"Teachers",subheadings:[{subheading:"Creating a Competition",questions:[{q:"I launched the competition with the wrong deadline. How can I change the competition deadline?",a:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sollicitudin elit lacus. Etiam lobortis cursus nunc, at fringilla dui molestie dictum. Duis commodo nibh ipsum, eu lacinia urna sodales a. Sed eget bibendum velit. Donec nec volutpat lorem, quis gravida orci. Morbi volutpat condimentum mollis. Nam rutrum sed ligula eget condimentum. Etiam aliquam iaculis ultrices. Integer euismod ligula urna, eu auctor velit congue quis. Vivamus in cursus metus, tempor dignissim tortor. Sed dolor lacus, interdum sed ultricies volutpat, viverra quis est. Cras ullamcorper pharetra magna, et finibus nibh ullamcorper id. Nunc at facilisis lacus, nec tempor nulla."},{q:"Can I create a custom evaluation metric?",a:"Mauris et sapien vitae nisl cursus vehicula vel non lacus. Nam cursus arcu pharetra sapien venenatis varius. Nunc aliquet elit justo, eu pharetra dui posuere venenatis. Donec eu quam ultricies, lacinia diam a, pharetra velit. Sed interdum posuere faucibus. Nam orci purus, tempus eget lacinia a, tincidunt sit amet felis. Proin accumsan lectus non nibh finibus elementum. Cras eget quam diam. Ut posuere nisl vel elit ultrices posuere. Curabitur eros sem, tincidunt non nulla id, sodales lacinia metus. Nulla sodales diam eget elit volutpat, bibendum eleifend nunc ultricies. Integer cursus tellus lorem, ultricies luctus turpis tincidunt vitae. Nunc vehicula metus dignissim pretium viverra. Nam sit amet tincidunt velit."}]},{subheading:"Launching a Competition",questions:[{q:"How long will it take for my competition to launch after I submitted it?",a:"Donec sagittis rhoncus aliquam. In fringilla sem eget enim aliquam, eu efficitur augue varius. Cras arcu mauris, commodo vel arcu non, dignissim blandit tortor. Etiam finibus maximus pretium. Nullam pretium sem at posuere pretium. Maecenas non porta metus. Quisque porttitor, eros at euismod finibus, ex sapien eleifend est, quis finibus magna erat vel urna. Vivamus ac nisl sed urna mattis porta non non urna. Aliquam dictum eros in sapien pulvinar pulvinar."},{q:"Help! Can you expedite my competitions launch? I need to get it to my class by THIS date!",a:"Donec in augue elit. Etiam diam eros, tincidunt ut ultricies et, facilisis in enim. Mauris sagittis purus non turpis sodales maximus. Cras imperdiet eu ligula vel posuere. Morbi hendrerit eros sapien, et rutrum massa efficitur eget. Sed facilisis gravida mauris. Phasellus eget nulla id orci convallis congue ut sed velit. Morbi quis pretium eros. Vestibulum fermentum velit dui, sed finibus orci dapibus nec. Suspendisse sagittis interdum dapibus."}]}]},{type:"Students",subheadings:[{subheading:"Registering",questions:[{q:"A question?",a:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sollicitudin elit lacus. Etiam lobortis cursus nunc, at fringilla dui molestie dictum. Duis commodo nibh ipsum, eu lacinia urna sodales a. Sed eget bibendum velit. Donec nec volutpat lorem, quis gravida orci. Morbi volutpat condimentum mollis. Nam rutrum sed ligula eget condimentum. Etiam aliquam iaculis ultrices. Integer euismod ligula urna, eu auctor velit congue quis. Vivamus in cursus metus, tempor dignissim tortor. Sed dolor lacus, interdum sed ultricies volutpat, viverra quis est. Cras ullamcorper pharetra magna, et finibus nibh ullamcorper id. Nunc at facilisis lacus, nec tempor nulla."},{q:"Another question?",a:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sollicitudin elit lacus. Etiam lobortis cursus nunc, at fringilla dui molestie dictum. Duis commodo nibh ipsum, eu lacinia urna sodales a. Sed eget bibendum velit. Donec nec volutpat lorem, quis gravida orci. Morbi volutpat condimentum mollis. Nam rutrum sed ligula eget condimentum. Etiam aliquam iaculis ultrices. Integer euismod ligula urna, eu auctor velit congue quis. Vivamus in cursus metus, tempor dignissim tortor. Sed dolor lacus, interdum sed ultricies volutpat, viverra quis est. Cras ullamcorper pharetra magna, et finibus nibh ullamcorper id. Nunc at facilisis lacus, nec tempor nulla."}]},{subheading:"Launching a Competition",questions:[{q:"One more question?",a:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sollicitudin elit lacus. Etiam lobortis cursus nunc, at fringilla dui molestie dictum. Duis commodo nibh ipsum, eu lacinia urna sodales a. Sed eget bibendum velit. Donec nec volutpat lorem, quis gravida orci. Morbi volutpat condimentum mollis. Nam rutrum sed ligula eget condimentum. Etiam aliquam iaculis ultrices. Integer euismod ligula urna, eu auctor velit congue quis. Vivamus in cursus metus, tempor dignissim tortor. Sed dolor lacus, interdum sed ultricies volutpat, viverra quis est. Cras ullamcorper pharetra magna, et finibus nibh ullamcorper id. Nunc at facilisis lacus, nec tempor nulla."},{q:"Ok, another question?",a:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sollicitudin elit lacus. Etiam lobortis cursus nunc, at fringilla dui molestie dictum. Duis commodo nibh ipsum, eu lacinia urna sodales a. Sed eget bibendum velit. Donec nec volutpat lorem, quis gravida orci. Morbi volutpat condimentum mollis. Nam rutrum sed ligula eget condimentum. Etiam aliquam iaculis ultrices. Integer euismod ligula urna, eu auctor velit congue quis. Vivamus in cursus metus, tempor dignissim tortor. Sed dolor lacus, interdum sed ultricies volutpat, viverra quis est. Cras ullamcorper pharetra magna, et finibus nibh ullamcorper id. Nunc at facilisis lacus, nec tempor nulla."}]}]}]},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.AboutInClassFAQsSupport=function(){return e.createElement("div",{className:"about-page__section"},e.createElement("div",{className:"about-page__section-inside"},e.createElement("div",{className:"about-inclass-support"},e.createElement("h2",{className:"about-inclass-support__header"},"Support"),e.createElement("div",{className:"about-inclass-support__content"},e.createElement("p",null,"Kaggle in Class is a self-serve product. Try to resolve and troubleshoot your issues before contacting Kaggle."),e.createElement("p",null,"There are no dedicated resources for InClass support so the assistance you receive and the response time will vary considerably based on available resources."),e.createElement("p",null,"Below is a list of issues that Kaggle will try to resolve on your behalf."),e.createElement("ul",null,e.createElement("li",null,"Invalidating submissions;"),e.createElement("li",null,"Very clear bug behavior, such as students unable to make any submissions, or problems with the Leaderboard.")),e.createElement("p",null,"Do not contact support about launching your competitions. Competitions are launched in 1-2 business days and cannot be expedited."),e.createElement("p",null,"To contact support, email support@kaggle and include your competition URL. This will help us correctly find your competition and resolve the issue faster.")))))}}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1);t.InfoTabBarTab=function(t){var n=t.tab,a=t.active,i=t.handleClick,r="info-tab-bar__tab info-tab-bar__tab--"+n.slug+" "+(a?"info-tab-bar__tab--active":"");return n.redirect&&""!=n.redirect?e.createElement("a",{href:n.redirect,target:"_blank",className:r},n.title):e.createElement("div",{onClick:i,className:r},n.title)},t.InfoTabBarCta=function(t){var n=t.cta,a="button info-tab-bar__cta info-tab-bar__cta--"+n.slug;return n.redirect&&""!=n.redirect?e.createElement("a",{href:n.redirect,target:"_blank",className:a},n.title):e.createElement("div",{className:a},n.title)};var i=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return a.__extends(i,n),i.prototype.render=function(){var n=this;return e.createElement("div",{className:"info-tab-bar-container"},e.createElement("div",{className:"info-tab-bar"},e.createElement("div",{className:"info-tab-bar__tabs"},this.props.tabs.map(function(a,i){return e.createElement(t.InfoTabBarTab,{tab:a,key:a.slug,handleClick:n.props.handleClick.bind(null,a.slug),active:i==n.props.activeTabIndex})})),this.props.cta&&e.createElement(t.InfoTabBarCta,{cta:this.props.cta})))},i}(e.Component);t.InfoTabBar=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(1776),r=n(51),o=n(23),s=function(t){function n(e){var n=t.call(this,e)||this;n.handleActiveTabChange=function(e){n.setState({activeTab:e.toLowerCase()})},n.pendingMetricQueryIds={},n.pendingMetricQueryTimeout=null,n.fetchQueryData=function(){if(n.pendingMetricQueryTimeout=null,n.pendingMetricQueryIds){var e={productMetricsIds:Object.keys(n.pendingMetricQueryIds)},t={};for(var a in n.pendingMetricQueryIds)t[a]=n.pendingMetricQueryIds[a];n.pendingMetricQueryIds={},o.Admin.getProductMetricsQueries({},e).then(function(e){e.forEach(function(e){t[e.productMetricsId](e)})})}},n.handleMetricFetchRequest=function(e){return new Promise(function(t){n.pendingMetricQueryIds[e]=t,n.pendingMetricQueryTimeout||(n.pendingMetricQueryTimeout=setTimeout(n.fetchQueryData,0))})};var a=n.props.tabs.map(function(e){return e.tabName}).indexOf(n.props.activeTab)>-1;return n.state={activeTab:a?n.props.activeTab:n.props.tabs[0].tabName},n}return a.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props.tabs.map(function(e){return{tab:e.tabName,text:e.tabName.charAt(0).toUpperCase()+e.tabName.slice(1),title:e.tabName}}),a=this.props.tabs.find(function(e){return e.tabName===t.state.activeTab});return e.createElement("div",null,e.createElement(r.PageHeader,null,e.createElement(r.PageHeaderTopRow,{isEditingHeaderInfo:!1,title:"Site Metrics (beta)",subtitle:null,titleUrl:null,coverImageUrl:this.props.coverImageUrl}),e.createElement(r.PageHeaderBottomRow,null,e.createElement(r.PageHeaderNav,{menuLinks:n,activeTab:this.state.activeTab,changeActiveTab:this.handleActiveTabChange}))),e.createElement("div",{className:"product-metrics__container"},a?a.metricIds.map(function(n){return e.createElement(i.ProductMetricChartContainer,{key:"metric-"+t.state.activeTab+"-"+n,getQueryData:function(){return t.handleMetricFetchRequest(n)},showFinalDatapoint:i.FinalDatapointDisplay.ShowIfMoreThanHalfOfPeriodHasElapsed,grossUpFinalDatapoint:!1,earliestDisplayDate:new Date("2016-01-01"),finalDisplayDate:new Date("2017-09-30")})}):"No metrics to show"))},n}(e.Component);t.ProductMetricsContainer=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(1),r=n(9),o=n(724),s=n(443);!function(e){e[e.Show=0]="Show",e[e.Hide=1]="Hide",e[e.ShowIfMoreThanHalfOfPeriodHasElapsed=2]="ShowIfMoreThanHalfOfPeriodHasElapsed"}(a=t.FinalDatapointDisplay||(t.FinalDatapointDisplay={}));var l=["#1b9e77","#d95f02","#7570b3","#555","#aaa"],c=function(t){function n(e){var n=t.call(this,e)||this;return n.getPrismLanguageName=function(){return n.state.sourceDisplayType},n.state={title:"",queryData:[],numberOfSeries:0,querySource:"",editUrl:"",isShowingChart:!0,chartDataWithoutFinalLineSegments:[],finalLineSegments:[],seriesNames:[],shouldShowFinalDatapoint:!1,shouldGrossUpFinalDatapoint:!1,frequency:"weekly",targets:[]},n}return i.__extends(n,t),n.prototype.componentDidMount=function(){var e=this;this.props.getQueryData().then(function(t){e.setState({title:t.title,subTitle:t.subtitle,queryData:t.queryResult,querySource:t.source,editUrl:t.editUrl,isShowingChart:!0,chartDataWithoutFinalLineSegments:e.getChartDataWithoutFinalLineSegments(t.queryResult,t.numberOfSeries),finalLineSegments:e.getFinalLineSegments(t.queryResult,t.numberOfSeries),numberOfSeries:t.numberOfSeries,seriesNames:t.seriesNames,shouldShowFinalDatapoint:e.shouldShowFinalDatapoint(t.queryResult),sourceDisplayType:t.sourceDisplayType,frequency:t.frequency,shouldGrossUpFinalDatapoint:"daily"!==t.frequency,targets:t.targets.map(function(e){return e.map(function(e){return{x:new Date(e.time),y:e.series1}})})})})},n.prototype.componentWillReceiveProps=function(e){JSON.stringify(e)!==JSON.stringify(this.props)&&this.setState({chartDataWithoutFinalLineSegments:this.getChartDataWithoutFinalLineSegments(this.state.queryData,this.state.numberOfSeries),finalLineSegments:this.getFinalLineSegments(this.state.queryData,this.state.numberOfSeries)})},n.prototype.getChartDataWithoutFinalLineSegments=function(e,t){for(var n=[],a=0;a<t;a++)n[a]=this.getChartDataWithoutFinalLineSegment(e,a);return n},n.prototype.getFinalLineSegments=function(e,t){for(var n=[],a=0;a<t;a++)n[a]=this.getFinalLineSegment(e,a);return n},n.prototype.getChartDataWithoutFinalLineSegment=function(e,t){var n=this.getDataAndFinalIndices(e,t),a=n.data,i=(n.finalTime,n.finalIndex);n.secondFromFinalTime,n.secondFromFinalIndex;return a.splice(i,1),a},n.prototype.getFinalLineSegment=function(e,t){var n=this.getDataAndFinalIndices(e,t),a=n.data,i=n.finalTime,r=n.finalIndex,o=n.secondFromFinalTime,s=n.secondFromFinalIndex,l={x:a[r].x,y:this.props.grossUpFinalDatapoint?this.grossUpFinalNumber(i.getTime(),o.getTime(),a[r].y):a[r].y};return[a[s],l]},n.prototype.grossUpFinalNumber=function(e,t,n){var a=this.shareOfPeriodPast(e,t);return a?n/a:n},n.prototype.shareOfPeriodPast=function(e,t){var n=(new Date).getTime(),a=e+(e-t),i=1-(a-n)/(a-e);return i?i>1?1:i:0},n.prototype.getDataAndFinalIndices=function(e,t){var n=this,a=e.map(function(e){return{x:new Date(e.time),y:e["series"+(t+1)]}}).filter(function(e){return e.x>=n.props.earliestDisplayDate}),i=this.getEndpoints(a),r=i.finalTime,o=i.secondFromFinalTime;return{data:a,finalTime:r,finalIndex:a.map(function(e){return e.x.getTime()}).indexOf(r.getTime()),secondFromFinalTime:o,secondFromFinalIndex:a.map(function(e){return e.x.getTime()}).indexOf(o.getTime())}},n.prototype.getEndpoints=function(e){var t=e.map(function(e){return e.x.getTime()}),n=new Date(Math.max.apply(Math,t)),a=new Date(Math.max.apply(Math,t.filter(function(e){return e<n.getTime()})));return{finalTime:n,secondFromFinalTime:a}},n.prototype.shouldShowFinalDatapoint=function(e){switch(this.props.showFinalDatapoint){case a.Hide:return!1;case a.Show:return!0;case a.ShowIfMoreThanHalfOfPeriodHasElapsed:var t=this.getDataAndFinalIndices(e,0),n=(t.data,t.finalTime),i=(t.finalIndex,t.secondFromFinalTime);t.secondFromFinalIndex;return this.shareOfPeriodPast(n.getTime(),i.getTime())>=.5;default:return!1}},n.prototype.renderEmptyBox=function(){return e.createElement(r.ContentBox,{title:"Loading..."},e.createElement("div",{style:{height:"200px"}}))},n.prototype.downloadCsv=function(){var e=this.getCsvString(),t=new Blob([e],{type:"text/csv"});s.saveAs(t,this.state.title+".csv",!0)},n.prototype.getCsvString=function(){var e=this,t=function(t){for(var n=[t.time],a=1;a<=e.state.numberOfSeries;a++)n.push(t["series"+a]);return n};return[["PeriodEnding"].concat((this.state.seriesNames.length?this.state.seriesNames:[""+this.state.title]).map(function(e){return'"'+e+'"'})).join(",")].concat(this.state.queryData.map(function(e){return t(e).join(",")})).join("\r\n")},n.prototype.render=function(){var t=this;return 0===this.state.chartDataWithoutFinalLineSegments.length||0===this.state.chartDataWithoutFinalLineSegments[0].length?this.renderEmptyBox():e.createElement("div",{className:"product-metrics__chart"},e.createElement(r.ContentBox,null,e.createElement("div",{className:"product-metrics__chart-content"},this.state.isShowingChart?e.createElement(p,i.__assign({},this.props,this.state)):e.createElement(u,{source:this.state.querySource,prismLanguageName:this.getPrismLanguageName()}),e.createElement("div",{className:"product-metrics__action-buttons"},e.createElement("span",{className:"product-metrics__action-button fa fa-"+(this.state.isShowingChart?"code":"line-chart"),onClick:function(){t.setState({isShowingChart:!t.state.isShowingChart})},title:this.state.isShowingChart?"Show SQL query":"Show chart"}),e.createElement("span",{className:"product-metrics__action-button fa fa-edit",onClick:function(){window.open(t.state.editUrl)},title:"Edit SQL query"}),e.createElement("span",{className:"product-metrics__action-button fa fa-download",onClick:function(){t.downloadCsv()},title:"Download CSV",style:{color:"#999"}})))))},n}(e.Component);t.ProductMetricChartContainer=c;var u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.componentDidMount=function(){window.setTimeout(function(){Prism.highlightAll(!0)},0)},n.prototype.render=function(){return e.createElement("div",{className:"product-metrics__code"},e.createElement("pre",{style:{padding:"20px"}},e.createElement("code",{className:"language-"+this.props.prismLanguageName},this.props.source)))},n}(e.Component),p=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.render=function(){var t=this,n={tickLabels:{fill:"gray",fontSize:12,fontFamily:"Atlas Grotesk"},grid:{stroke:"lightgray"}};return e.createElement(o.VictoryChart,{scale:{x:"time",y:"linear"},domainPadding:10,padding:{top:this.props.subTitle?100:75,bottom:50,left:50,right:50},width:670,height:450},e.createElement(o.VictoryAxis,{style:n,domain:[this.props.earliestDisplayDate,this.props.finalDisplayDate]}),e.createElement(o.VictoryAxis,{dependentAxis:!0,style:n}),e.createElement(o.VictoryAxis,{dependentAxis:!0,orientation:"right",style:n}),e.createElement(o.VictoryLabel,{text:this.props.title,style:{fontFamily:"Atlas Grotesk",textAnchor:"start",verticalAnchor:"end",fontSize:"28px",fontWeight:"bold"},x:25,y:25}),this.props.subTitle?e.createElement(o.VictoryLabel,{text:this.props.subTitle,style:{fill:"#999",fontFamily:"Atlas Grotesk",textAnchor:"start",verticalAnchor:"end",fontSize:"15px"},x:25,y:60}):null,this.props.chartDataWithoutFinalLineSegments.map(function(n,a){return e.createElement(o.VictoryLine,{key:"v-line-"+t.props.title+"-"+a,data:n,style:{data:{stroke:l[a]}}})}),this.props.shouldShowFinalDatapoint&&this.props.finalLineSegments.length>0&&this.props.finalLineSegments[0].length>0?this.props.finalLineSegments.map(function(n,a){return e.createElement(o.VictoryLine,{key:"v-final-"+t.props.title+"-"+a,data:n,style:{data:{stroke:l[a],opacity:.5}}})}):null,this.props.numberOfSeries>1&&this.props.seriesNames&&this.props.seriesNames.length>0?e.createElement(o.VictoryLegend,{data:this.props.seriesNames.map(function(e){return{name:e}}),colorScale:l,style:{fontFamily:"Atlas Grotesk"}}):null,this.props.targets?this.props.targets.map(function(n,a){return e.createElement(o.VictoryLine,{key:"v-target-"+t.props.title+"-"+a,data:n,style:{data:{stroke:"#d02",opacity:.5}}})}):null)},n}(e.Component)}).call(t,n(0))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(2092),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page-container"},e.createElement("div",{className:"about-page"},e.createElement(i.AboutCompetitionsContent,null)))},n}(e.Component);t.AboutCompetitions=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(96),r=function(t){function n(e){var n=t.call(this,e)||this;return n.header={heading:"Find Competitions",subheading:"Whether you're brand new to data science or a seasoned expert, competitions are a great way to challenge yourself with real-world machine learning problems. Learn how they work below.",background:"/static/images/about/competitions/header-competitions-background@2x.png"},n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page about-competitions-get"},e.createElement(i.AboutHeader,a.__assign({},this.header)),e.createElement("div",{className:"about-page__section"},e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("div",{className:"about-competitions__section"},e.createElement("div",{className:"about-competitions__section-image"},e.createElement("img",{src:"https://kaggle2.blob.core.windows.net/competitions/kaggle/3333/media/find_icon.png"})),e.createElement("div",null,e.createElement("h2",null,"1. Find a competition"),e.createElement("p",null,"To find the right competition for your skill level and interests, click on the ",e.createElement("a",{href:"https://www.kaggle.com/competitions"},"competitions link")," in the upper right side of the screen and sort by category. We have several categories, each color-coded:"),e.createElement("div",{className:"about-competitions__types"},e.createElement("div",{className:"about-competitions__type-learners"},e.createElement("span",{className:"about-competitions__type-title"},"For learning:"),e.createElement("ul",{className:"about-competitions__segments"},e.createElement("li",{className:"about-competitions__segment--getting-started"},e.createElement("span",{className:"about-competitions__segment--getting-started-bullet"},e.createElement("span",{className:"fa fa-circle"})),e.createElement("p",null,e.createElement("a",{href:"https://www.kaggle.com/competitions?sortBy=deadline&group=all&page=1&segment=gettingStarted"},e.createElement("span",{className:"about-competitions__segment--getting-started-title"},"Getting Started:")),"competitions designed for people to get their feet wet learning, and test the waters of machine learning.")),e.createElement("li",{className:"about-competitions__segment--playground"},e.createElement("span",{className:"about-competitions__segment--playground-bullet"},e.createElement("span",{className:"fa fa-circle"})),e.createElement("p",null,e.createElement("a",{href:"https://www.kaggle.com/competitions?sortBy=deadline&group=all&page=1&segment=playground"},e.createElement("span",{className:"about-competitions__segment--playground-title"},"Playground:")),"competitions set up to be fun, quirky and idea-driven, rather than to solve a specific business or research problem.")))),e.createElement("div",{className:"about-competitions__pros-type"},e.createElement("span",{className:"about-competitions__type-title"},"For prizes and points:"),e.createElement("ul",{className:"about-competitions__segments"},e.createElement("li",{className:"about-competitions__segment--recruitment"},e.createElement("span",{className:"about-competitions__segment--recruitment-bullet"},e.createElement("span",{className:"fa fa-circle"})),e.createElement("p",null,e.createElement("a",{href:"https://www.kaggle.com/competitions?sortBy=deadline&group=all&page=1&segment=recruitment"},e.createElement("span",{className:"about-competitions__segment--recruitment-title"},"Recruitment:")),"competitions where the sponsors are looking to hire data scientists and use the competition to find and test potential talent.")),e.createElement("li",{className:"about-competitions__segment--featured"},e.createElement("span",{className:"about-competitions__segment--featured-bullet"},e.createElement("span",{className:"fa fa-circle"})),e.createElement("p",null,e.createElement("a",{href:"https://www.kaggle.com/competitions?sortBy=deadline&group=all&page=1&segment=featured"},e.createElement("span",{className:"about-competitions__segment--featured-title"},"Featured:")),"competitions with prize money meant to solve commercial problems.")),e.createElement("li",{className:"about-competitions__segment--research"},e.createElement("span",{className:"about-competitions__segment--research-bullet"},e.createElement("span",{className:"fa fa-circle"})),e.createElement("p",null,e.createElement("a",{href:"https://www.kaggle.com/competitions?sortBy=deadline&group=all&page=1&segment=research"},e.createElement("span",{className:"about-competitions__segment--research-title"},"Research:")),"competitions with a research/ scientific goal. These competitions tend to focus on ambitious machine learning problems at the forefront of technology, or problems with a significant social-good.")),e.createElement("li",{className:"about-competitions__segment--masters"},e.createElement("span",{className:"about-competitions__segment--masters-bullet"},e.createElement("span",{className:"fa fa-circle"})),e.createElement("p",null,e.createElement("span",{className:"about-competitions__segment--masters-title"},"Masters:"),"competitions only open to select elite Kagglers by invitation-only or special eligibility criteria. These competitions have significant commercial value or sensitive data.")))))))),e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("div",{className:"about-competitions__section"},e.createElement("div",{className:"about-competitions__section-image"},e.createElement("img",{src:"https://kaggle2.blob.core.windows.net/competitions/kaggle/3333/media/build_icon.png"})),e.createElement("div",null,e.createElement("h2",null,"2. Build your model"),e.createElement("p",null,"Once youve found a competition, head to the Data tab to access this competitions data. Important places to check out while you build your model are:"),e.createElement("span",{className:"about-competitions__resources-header"},"Helpful Kaggle Resources:"),e.createElement("ul",{className:"about-competitions__resources"},e.createElement("li",{className:"about-competitions__resource"},e.createElement("a",{href:"https://www.kaggle.com/kernels?modal=true"},e.createElement("span",{className:"about-competitions__resource-title"},"Kaggle Kernels:")),"Kaggle Kernels is our web based data science environment that is preloaded with the common data science languages, libraries, and competition data."),e.createElement("li",{className:"about-competitions__resource"},e.createElement("a",{href:"https://www.kaggle.com/kernels"},e.createElement("span",{className:"about-competitions__resource-title"},"Kernels Tab:")),"Here youll see all competitors code publically shared. Browsing this tab is a great way to discover new tools, techniques, and insightful starter analyses."),e.createElement("li",{className:"about-competitions__resource"},e.createElement("a",{href:"https://www.kaggle.com/discussion"},e.createElement("span",{className:"about-competitions__resource-title"},"Discussion Tab:")),"Here you can ask questions, share answers and learn with other data scientists."),e.createElement("li",{className:"about-competitions__resource"},e.createElement("a",{href:"https://www.kaggle.com/c/titanic/leaderboard"},e.createElement("span",{className:"about-competitions__resource-title"},"Leaderboard Tab:")),"Here you can scope out other teams and how theyve ranked so far. Once you submit a prediction, youll be on this list too."))))),e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("div",{className:"about-competitions__section"},e.createElement("div",{className:"about-competitions__section-image"},e.createElement("img",{src:"https://kaggle2.blob.core.windows.net/competitions/kaggle/3333/media/submit_icon.png"})),e.createElement("div",null,e.createElement("h2",null,"3. Submit your entry"),e.createElement("p",null,"Once youre ready to submit, make sure your submission is in the right CSV format and head back to the overview tab. Click on the Submit Predictions button and accept the competitions rules, then click on upload submission file to submit your entry.",e.createElement("br",null),e.createElement("br",null),"And, voila! Now youll see your submission ranked in the leaderboard."),e.createElement("img",{className:"about-competitions__screenshot",src:"https://kaggle2.blob.core.windows.net/competitions/kaggle/3333/media/leaderboard_example1.png",width:"606px"}))),e.createElement("div",{className:"about-page__cta-bar"},e.createElement("a",{href:"/competitions",className:"button"},"Get Competitions")))))},n}(e.Component);t.AboutCompetitionsContent=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(500),r=n(2094),o=n(2095),s=n(2096),l=function(t){function n(n,a){var i=t.call(this,n)||this;return i.baseUrl="/about/datasets",i.tabs=[{title:"Get Data",slug:"get"},{title:"Explore Data",slug:"explore"},{title:"Publish Data",slug:"publish"}],i.cta={title:"Browse Datasets",slug:"browse",redirect:"/datasets"},i.pages=[e.createElement(r.AboutDatasetsGet,null),e.createElement(o.AboutDatasetsExplore,null),e.createElement(s.AboutDatasetsPublish,null)],i}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(i.AboutPage,{baseUrl:this.baseUrl,cta:this.cta,pages:this.pages,tabs:this.tabs})},n}(e.Component);t.AboutDatasets=l}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(96),r=function(t){function n(e){var n=t.call(this,e)||this;return n.header={heading:"Get Data",subheading:"We want to help the world learn from data. To do this, Kaggles open data platform brings together the core requirements for innovation and reproducible analysis in one place: data, people, discussion, and code.",background:"/static/images/about/datasets/header-datasets-background@2x.png"},n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page about-datasets-get"},e.createElement(i.AboutHeader,a.__assign({},this.header)),e.createElement("div",{className:"about-page__section"},e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("p",null,"The header of the ",e.createElement("a",{href:"https://www.kaggle.com/datasets"},"Datasets page")," makes it simple to discover and bookmark datasets you want to use now or save for later."),e.createElement("div",{className:"about-page__box-image"},e.createElement("a",{href:"https://www.kaggle.com/datasets"},e.createElement("img",{src:"https://kaggle2.blob.core.windows.net/competitions/kaggle/3333/media/search_dataset586.gif",alt:"new kernel gif"}))),e.createElement("div",{style:{marginTop:"32px"}},e.createElement("h2",null,"Dataset Segments"),e.createElement("p",null,"Datasets are organized, searchable, and sortable across four listings.",e.createElement("br",null),"Flip between the tabs as you search to find and bookmark the data you need."),e.createElement("dl",{className:"about-datasets__segments"},e.createElement("dt",null,"Featured:"),e.createElement("dd",null,"Datasets that have been selected by the Kaggle team for being clean and well formatted for analysis.",e.createElement("br",null),"These datasets should be easy to integrate in an existing project."),e.createElement("dt",null,"All:"),e.createElement("dd",null,"Every dataset thats been published on Kaggle. You can find niche, small, or datasets lacking documentation here.",e.createElement("br",null),"These datasets may require some pre-processing before they're ready for use."),e.createElement("dt",null,"Mine:"),e.createElement("dd",null,"Datasets that youve published."),e.createElement("dt",null,"Upvoted:"),e.createElement("dd",null,"Datasets youve upvoted are saved here.",e.createElement("br",null),"You can use upvotes as bookmarks for content you want to use later."))),e.createElement("div",{style:{marginTop:"32px"}},e.createElement("h2",null,"Dataset Tags"),e.createElement("p",null,"Many of the most popular datasets have tags which describe their contents. Click on a tag to filter the dataset listing to show all datasets with that tag. For example, the ",e.createElement("a",{href:"https://www.kaggle.com/datasets?sortBy=relevance&group=featured&search=tag%3Alinguistics"},'"linguistics" tag')," will reveal many datasets perfect for natural language processing analyses."),e.createElement("p",null,"You can also search using the ",e.createElement("code",null,"tag:")," prefix in the search bar at the top of the dataset listing. For example, ",e.createElement("code",null,"tag:health"),". Use single quotes to search for tags that contain spaces, e.g., ",e.createElement("code",null,"tag:'artificial intelligence'"),"."),e.createElement("p",null,"Our tagging hierarchy and vocabulary is based on a modified version of ",e.createElement("a",{href:"https://en.wikipedia.org/wiki/Portal%3aContents/Categories",target:"_blank"},"Wikipedia's Categories")," which is made available under a ",e.createElement("a",{href:"Creative Commons Attribution-ShareAlike License",target:"_blank"},"Creative Commons Attribution-ShareAlike License"),".")),e.createElement("div",{className:"about-page__box-image"},e.createElement("img",{style:{maxWidth:"593px"},src:"/static/images/data-about/data-about-callout-download@2x.png"})),e.createElement("p",null,"Click Download at the top of any dataset to download all the included files.",e.createElement("br",null),"Or scroll down to preview each table and download individual files."),e.createElement("div",null,e.createElement("h3",null,"Dont see a specific dataset or data topic youre looking for?"),e.createElement("p",null,"Ask around or request it in the ",e.createElement("a",{href:"/data"},"forum"),"."),e.createElement("div",null,e.createElement("span",{className:"fa fa-twitter"})," Follow ",e.createElement("a",{href:"https://twitter.com/kaggledatasets",target:"_blank"},"@KaggleDatasets")," to keep up with featured datasets.")),e.createElement("div",{className:"about-page__cta-bar"},e.createElement("a",{href:"/datasets",className:"button"},"Get Datasets")))))},n}(e.Component);t.AboutDatasetsGet=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(96),r=function(t){function n(e){var n=t.call(this,e)||this;return n.header={heading:"Explore Data",subheading:"We want to help the world learn from data. To do this, Kaggles open data platform brings together the core requirements for innovation and reproducible analysis in one place: data, people, discussion, and code.",background:"/static/images/about/datasets/header-datasets-background@2x.png"},n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page about-datasets-get"},e.createElement(i.AboutHeader,a.__assign({},this.header)),e.createElement("div",{className:"about-page__section"},e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("p",null,"You can explore datasets on Kaggle through Kernels and Discussion."),e.createElement("div",{className:"about-page__box-image"},e.createElement("a",{href:"//www.kaggle.com/deepmatrix/imdb-5000-movie-dataset/kernels"},e.createElement("img",{src:"//kaggle2.blob.core.windows.net/competitions/kaggle/3333/media/kernels_datasets586.gif",alt:"new kernel gif"}))),e.createElement("h3",null,e.createElement("span",{className:"about-page__callout-number"},"1")," Kernels"),e.createElement("p",null,"Kaggle Kernels is an in-browser coding and execution environment. It support individual scripts in R, RMarkdown, and Python, as well as Jupyter Notebooks in R and Python. The code you publish with Kernels will be shared alongside the relevant dataset, as well as being listed on the Kernels tab of your profile. Go to the Kernels tab of any dataset to get started."),e.createElement("p",null,"Kernels are run in Docker containers pre-loaded with all your favorite data science packages and libraries. Want your package loaded into Kernels? Send us a note in the ",e.createElement("a",{href:"https://www.kaggle.com/forums/f/809/product-feedback"},"product feedback forum"),"."),e.createElement("p",null,"View the Kernels section of any dataset to see all of the reproducible code thats been shared on the data. You can click fork on any kernel to create an editable copy of the code for you to modify or extend."),e.createElement("h3",null,e.createElement("span",{className:"about-page__callout-number"},"2")," Discussion"),e.createElement("p",null,"The Discussion tab is a place to ask questions, share what you've learned, and connect with other data enthusiasts. On the Discussion tab, youll see all the topics and Kernels comments about the dataset and its analyses in one place."),e.createElement("div",{className:"about-page__box-image"},e.createElement("img",{style:{maxWidth:"800px"},src:"/static/images/data-about/data-about-callout-explore@2x.png"})),e.createElement("div",{className:"about-page__cta-bar"},e.createElement("a",{href:"/datasets",className:"button"},"Explore Datasets")))))},n}(e.Component);t.AboutDatasetsExplore=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(96),r=function(t){function n(e){var n=t.call(this,e)||this;return n.header={heading:"Publish Data",subheading:"We want to help the world learn from data. To do this, Kaggles open data platform brings together the core requirements for innovation and reproducible analysis in one place: data, people, discussion, and code.",background:"/static/images/about/datasets/header-datasets-background@2x.png"},n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page about-datasets-get"},e.createElement(i.AboutHeader,a.__assign({},this.header)),e.createElement("div",{className:"about-page__section"},e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("h2",null,"Who?"),e.createElement("p",null,"Data enthusiasts of all types are encouraged to share their datasets. Organizations will want to start by ",e.createElement("a",{href:"https://www.kaggle.com/organizations/new"},"creating an organization profile")," on Kaggle. So far weve seen academics, hobbyists, package authors, governments, corporations, and journalists use the open data platform to collaborate and share their work."),e.createElement("h2",null,"Why?"),e.createElement("p",null,"Its easy to join the open data movement by publishing a dataset on Kaggle. Whether youre curating a dataset or sharing one of your favorites from around the web, publishing a dataset to Kaggle gives the data new life. Read the stories of some top data publishers on Kaggle and how they are using open data to do things like ",e.createElement("a",{href:"http://blog.kaggle.com/2016/06/03/dataset-spotlight-how-isis-uses-twitter/"},"fight ISIS"),", ",e.createElement("a",{href:"http://blog.kaggle.com/2016/10/05/open-data-spotlight-horses-for-courses-luke-byrne/"},"beat the betting odds"),", ",e.createElement("a",{href:"http://blog.kaggle.com/2016/08/22/dataset-spotlight-european-soccer-database-hugo-mathien/"},"study the beautiful game"),", and ",e.createElement("a",{href:"http://blog.kaggle.com/tag/open-data-spotlight/"},"more"),"."),e.createElement("p",null,"All datasets published on Kaggles open data platform are publicly available and will appear under the ",e.createElement("a",{href:"https://www.kaggle.com/datasets?sortBy=hottest&group=all"},"All tab on the Datasets page"),". Kaggles team manually reviews datasets to hand-select well formatted and topical data for the ",e.createElement("a",{href:"https://www.kaggle.com/datasets?sortBy=hottest&group=featured"},"Featured tab"),"."),e.createElement("div",{className:"about-page__box-image"},e.createElement("img",{style:{maxWidth:"600px"},src:"/static/images/data-about/data-about-callout-create@2x.png"})),e.createElement("h2",null,"How?"),e.createElement("p",null,"If youre not sure where to start with prepping your open dataset for publishing, check out ",e.createElement("a",{href:"http://blog.kaggle.com/2016/10/21/a-guide-to-open-data-publishing-analytics/"},"our guide to open data publishing and analytics"),"."),e.createElement("p",null,"If your data is ready to go, click ",e.createElement("a",{href:"/datasets/new"},"New Dataset")," to use our simple publisher. Then youll:"),e.createElement("ol",{className:"steps-list"},e.createElement("li",null,e.createElement("dl",{className:"steps-list__item"},e.createElement("dt",null,"Choose a permanent URL"),e.createElement("dd",null,"Short, clear URLs are best."))),e.createElement("li",null,e.createElement("dl",{className:"steps-list__item"},e.createElement("dt",null,"Select an image"),e.createElement("dd",null,"If you dont have one on hand, use one from ",e.createElement("a",{href:"http://unsplash.com"},"unsplash.com")," or a similar site."))),e.createElement("li",null,e.createElement("dl",{className:"steps-list__item"},e.createElement("dt",null,"Enter a description / acknowledgments"),e.createElement("dd",null,"Detailed and compelling descriptions of how the data has been or could be used are important to driving activity on your data."))),e.createElement("li",null,e.createElement("dl",{className:"steps-list__item"},e.createElement("dt",null,"Select a dataset license"),e.createElement("dd",null,"Its important to choose the correct license as your data may be used in research or academic projects. "))),e.createElement("li",null,e.createElement("dl",{className:"steps-list__item"},e.createElement("dt",null,"Upload uncompressed files"),e.createElement("dd",null,"CSV files, SQLite databases, and JSON files are best. If you need to upload more than 20 files, you can compress them into a .zip archive. This will be uncompressed on our side to make the data available in Kernels. "))),e.createElement("li",null,e.createElement("dl",{className:"steps-list__item"},e.createElement("dt",null,"Publish a starter kernel (optional)"),e.createElement("dd",null,"Show others how to get started with your data with some simple exploratory code or publish any previous analyses performed.")))),e.createElement("p",null,"Here are a few examples of particularly well formatted datasets:"),e.createElement("ul",{className:"aboutdata-goodlist"},e.createElement("li",null,e.createElement("a",{href:"/hugomathien/soccer"},"European Soccer Database")," by ",e.createElement("a",{href:"/hugomathien"},"Hugo Mathien")),e.createElement("li",null,e.createElement("a",{href:"/IHME/us-countylevel-mortality"},"US County-level Mortality")," by ",e.createElement("a",{href:"/IHME"},"IHME")),e.createElement("li",null,e.createElement("a",{href:"/salvadordali/racingkings"},"Racing Kings (Chess Variant)")," by ",e.createElement("a",{href:"/salvadordali"},"SalvadorDali"))),e.createElement("div",{className:"about-page__cta-bar"},e.createElement("a",{href:"/datasets/new",className:"button"},"New Dataset")))))},n}(e.Component);t.AboutDatasetsPublish=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(500),r=n(2098),o=n(2099),s=n(2100),l=function(t){function n(n,a){var i=t.call(this,n)||this;return i.handleTabChange=function(e){i.setState({activeTab:e})},i.state={activeTab:window.location.href.substr(window.location.href.lastIndexOf("/")+1)||"overview"},i.baseUrl="/about/datasets-awards",i.tabs=[{title:"Overview",slug:"overview"},{title:"Kernels Award",slug:"kernels"},{title:"Datasets Award",slug:"datasets"}],i.kernelsCta={title:"New Kernel",slug:"new-kernel",redirect:"/kernels?modal=true"},i.datasetsCta={title:"New Dataset",slug:"new-dataset",redirect:"/datasets/new"},i.pages=[e.createElement(r.AboutDatasetsAwardsOverview,null),e.createElement(o.AboutDatasetsAwardsKernelsAward,null),e.createElement(s.AboutDatasetsAwardsDatasetsAward,null)],i}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(i.AboutPage,{baseUrl:this.baseUrl,cta:"kernels"==this.state.activeTab?this.kernelsCta:"datasets"==this.state.activeTab?this.datasetsCta:null,pages:this.pages,tabs:this.tabs,onTabChange:this.handleTabChange})},n}(e.Component);t.AboutDatasetsAwards=l}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(96),r=n(723),o=function(t){function n(e){var n=t.call(this,e)||this;return n.header={heading:"Kaggle Datasets Awards reward your contributions to open data science.",subheading:"Share valuable code and publish inspiring datasets to win cash prizes. Winners are selected by the Kaggle team.",background:"/static/images/about/datasets/header-datasets-background@2x.png"},n.actionRow=[{image:"top-kernel@2x.png",imageFolder:"datasets-awards",heading:"$500 Kernels Award",text:"Learn how your slick tutorial or your benchmark model could win you a cool $500 with our weekly award.",link:"/about/datasets-awards/kernels"},{image:"top-dataset@2x.png",imageFolder:"datasets-awards",heading:"$10,000 Datasets Award",text:"Find out how sharing your data can earn you a part of $10,000 in awards announced in September.",link:"/about/datasets-awards/datasets"}],n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page"},e.createElement(i.AboutHeader,a.__assign({},this.header)),e.createElement("div",{className:"about-page__section"},e.createElement("div",{className:"about-page__section-inside"},e.createElement(r.AboutActionRow,{actionRow:this.actionRow}))))},n}(e.Component);t.AboutDatasetsAwardsOverview=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(96),r=function(t){function n(e){var n=t.call(this,e)||this;return n.header={heading:"Write compelling analyses and win $500.",subheading:"Sharing your Python or R analyses with Kaggle Kernels is the best way to get an audience for your work. With our weekly cash awards for exceptional code contributions, it's also a way to help fund your passion for data science.",background:"/static/images/about/datasets/header-datasets-background@2x.png"},n}return a.__extends(n,t),n.prototype.render=function(){var t="/static/images/about/datasets-awards";return e.createElement("div",{className:"about-page"},e.createElement(i.AboutHeader,a.__assign({},this.header)),e.createElement("div",{className:"about-page__section"},e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("div",{className:"about-datasets-awards__section"},e.createElement("div",{className:"about-datasets-awards__section-image"},e.createElement("img",{src:t+"/0-winners@2x.png"})),e.createElement("div",null,e.createElement("h2",null,"How we choose winners"),e.createElement("p",null,"Every Thursday, our team selects our favorite kernel written using data from our Datasets platform that's been made public in the previous fourteen days. We look for a combination of two things when selecting a winning kernel:"),e.createElement("p",{className:"about-datasets-awards__types"},e.createElement("div",{className:"about-datasets-awards__type-winners"},e.createElement("span",{className:"about-datasets-awards__type-title"},"Quality:"),e.createElement("ul",{className:"about-datasets-awards__criteria"},e.createElement("li",{className:"about-datasets-awards__criterion"},e.createElement("p",null,"Code and narrative share valuable insights or make an impact that helps others learn.")))),e.createElement("div",{className:"about-datasets-awards__pros-type"},e.createElement("span",{className:"about-datasets-awards__type-title"},"Quantity:"),e.createElement("ul",{className:"about-datasets-awards__criteria"},e.createElement("li",{className:"about-datasets-awards__criterion"},e.createElement("p",null,"Number of upvotes, comments, and forks (copies made) of your kernel."))))),e.createElement("p",null,"Our team will announce the winners on ",e.createElement("a",{href:"https://twitter.com/kaggle",target:"_blank"},"social media")," each week using the hashtag ",e.createElement("a",{href:"https://twitter.com/search?f=tweets&q=%23KernelsAward",target:"_blank"},"#KernelsAward"),".")))),e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("div",{className:"about-datasets-awards__section"},e.createElement("div",null,e.createElement("h2",null,"Steps to get started"),e.createElement("p",null,"By choosing new winners each week, we aim to celebrate the Kaggle community's diverse contributions to the data science world. Here are the steps to get started:")))),e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("div",{className:"about-datasets-awards__section"},e.createElement("div",{className:"about-datasets-awards__section-image"},e.createElement("img",{src:t+"/1-get-started@2x.png"})),e.createElement("div",null,e.createElement("h2",null,"1. Begin with an idea or some data"),e.createElement("p",null,"What perspective or insights do you want to add to the data science community? You can answer a question using data, share your expertise through a tutorial, or showcase a new tool. This is your chance to be creative."),e.createElement("span",{className:"about-datasets-awards__resources-header"},"Inspiring examples of kernels written on Datasets:"),e.createElement("ul",{className:"about-datasets-awards__resources"},e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("a",{href:"https://www.kaggle.com/arthurtok/generation-unemployed-interactive-plotly-visuals"},e.createElement("span",{className:"about-datasets-awards__resource-title"},'"Generation Unemployed? Interactive Plotly Visuals"')),"by Anisotropic using data from ",e.createElement("a",{href:"https://www.kaggle.com/sovannt/world-bank-youth-unemployment"},"World Bank Youth Unemployment Rates")),e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("a",{href:"https://www.kaggle.com/selfishgene/analyzing-soccer-player-faces"},e.createElement("span",{className:"about-datasets-awards__resource-title"},'"Analyzing soccer player faces"')),"by SelfishGene using data from the ",e.createElement("a",{href:"https://www.kaggle.com/artimous/complete-fifa-2017-player-dataset-global"},"Complete FIFA 2017 Player Dataset")),e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("a",{href:"https://www.kaggle.com/abigaillarion/traffic-fatalities-in-2015"},e.createElement("span",{className:"about-datasets-awards__resource-title"},'"Traffic Fatalities in 2015"')),"by Abigail Larion using data from ",e.createElement("a",{href:"https://www.kaggle.com/nhtsa/2015-traffic-fatalities"},"2015 Traffic Fatalities")))))),e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("div",{className:"about-datasets-awards__section"},e.createElement("div",{className:"about-datasets-awards__section-image"},e.createElement("img",{src:t+"/2-new-kernel@2x.png"})),e.createElement("div",null,e.createElement("h2",null,"2. Create your kernel"),e.createElement("p",null,"Start your award-winning analysis by clicking ",e.createElement("a",{href:"https://www.kaggle.com/kernels?modal=true"},'"New Kernel"'),', picking a script or notebook, and selecting your data sources. Once your code and narrative are polished, flip your kernel to "public" and you\'ll automatically be considered.'),e.createElement("img",{className:"about-datasets-awards__screenshot",src:"https://kaggle2.blob.core.windows.net/competitions/kaggle/3333/media/newkernel532_mds.gif",width:"606px"})))),e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("div",{className:"about-datasets-awards__section"},e.createElement("div",{className:"about-datasets-awards__section-image"},e.createElement("img",{src:t+"/3-broadcast@2x.png"})),e.createElement("div",null,e.createElement("h2",null,"3. Broadcast your work"),e.createElement("p",null,"The best way to demonstrate the impact of your work is to share it widely. Encourage your connections to upvote, comment on, and fork your kernel."),e.createElement("span",{className:"about-datasets-awards__resources-header"},"Here are some suggestions:"),e.createElement("ul",{className:"about-datasets-awards__resources"},e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"Share on your social media accounts using the hashtags #Kaggle ",e.createElement("a",{href:"https://twitter.com/search?f=tweets&q=%23KernelsAward",target:"_blank"},"#KernelsAward"))),e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"Post your kernels on subreddits like ",e.createElement("a",{href:"https://www.reddit.com/r/datasets/",target:"_blank"},"/r/datasets")," or ",e.createElement("a",{href:"https://www.reddit.com/r/datascience/",target:"_blank"},"/r/datascience")," or the data science news aggregator, ",e.createElement("a",{href:"http://www.datatau.com/",target:"_blank"},"DataTau"))),e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"Write about creating your kernel in a blog post and share it on the dataset and via social media")))))),e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("div",{className:"about-datasets-awards__section"},e.createElement("div",null,e.createElement("h2",null,"How to be an active spectator"),e.createElement("p",null,"Even if youre not ready to share a kernel this week, you can still follow the action. Here are some ways you can participate:"),e.createElement("ul",{className:"about-datasets-awards__resources"},e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"Check out the hottest kernels in the ",e.createElement("a",{href:"https://www.kaggle.com/kernels?sortBy=hottest"},"Kernels listing")," and upvote or comment on your favorites to support the authors")),e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"Share kernels and follow what others are sharing using the ",e.createElement("a",{href:"https://twitter.com/search?f=tweets&q=%23KernelsAward"},"#KernelsAward")," hashtag")),e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,'Make a copy of the code from your favorite kernels by clicking "Fork Notebook" or "Fork Script"; experiment with some ideas by tweaking the code and before you know it youll be inspired to create your own original analysis'))))),e.createElement("div",{className:"about-page__cta-bar"},e.createElement("a",{href:"/kernels?modal=true",className:"button"},"Start a new kernel"))),e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("div",{className:"about-datasets-awards__section"},e.createElement("div",null,e.createElement("h2",null,"Eligibility"),e.createElement("p",null,"To be eligible to win a Kernels Award, you must be:"),e.createElement("ul",{className:"about-datasets-awards__resources"},e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"a registered account holder at Kaggle.com;")),e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"the older of 18 years old or the age of majority in your jurisdiction of residence;")),e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"not a resident of Crimea, Cuba, Iran, Syria, North Korea, or Sudan; and")),e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"not a person or representative of an entity under ",e.createElement("a",{href:"https://www.treasury.gov/resource-center/sanctions/Programs/Pages/Programs.aspx",target:"_blank"},"U.S. export controls or sanctions"),"."))),e.createElement("p",null,"Your kernel will only be eligible to win if it uses data from the Kaggle Datasets platform."),e.createElement("p",null,"Unfortunately employees, interns, contractors, officers and directors of Kaggle Inc., and their parent companies, are not eligible to win any Awards."))))))},n}(e.Component);t.AboutDatasetsAwardsKernelsAward=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(96),r=function(t){function n(e){var n=t.call(this,e)||this;return n.header={heading:"Share valuable, interesting data for $10,000 in awards.",subheading:"Whether you've got a unique individual project or you're part of a research lab, share your data on the Datasets platform to see what the world's largest community of data scientists can do with it.",background:"/static/images/about/datasets/header-datasets-background@2x.png"},n}return a.__extends(n,t),n.prototype.render=function(){var t="/static/images/about/datasets-awards";return e.createElement("div",{className:"about-page"},e.createElement(i.AboutHeader,a.__assign({},this.header)),e.createElement("div",{className:"about-page__section"},e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("div",{className:"about-datasets-awards__section"},e.createElement("div",{className:"about-datasets-awards__section-image"},e.createElement("img",{src:t+"/0-winners@2x.png"})),e.createElement("div",null,e.createElement("h2",null,"How we choose winners"),e.createElement("p",null,"On September 1st, 2017, our team will announce the winners of the Datasets Award. Any datasets published between August 1st and August 31st will be considered for the award. Heres what were looking for in a winning dataset:"),e.createElement("p",{className:"about-datasets-awards__types"},e.createElement("div",{className:"about-datasets-awards__type-winners"},e.createElement("span",{className:"about-datasets-awards__type-title"},"Quality and Impact:"),e.createElement("ul",{className:"about-datasets-awards__criteria"},e.createElement("li",{className:"about-datasets-awards__criterion"},e.createElement("p",null,"Well documented, robust datasets that help more people get started with your data.")),e.createElement("li",{className:"about-datasets-awards__criterion"},e.createElement("p",null,"A demonstration of how your dataset serves a community or cause, solves a problem, or helps others learn.")))),e.createElement("div",{className:"about-datasets-awards__pros-type"},e.createElement("span",{className:"about-datasets-awards__type-title"},"Quantity:"),e.createElement("ul",{className:"about-datasets-awards__criteria"},e.createElement("li",{className:"about-datasets-awards__criterion"},e.createElement("p",null,"Dataset downloads, kernels, and discussion will be considered as a marker of community engagement and interest."))))),e.createElement("p",null,"Three datasets will be ranked from first to third place based on their quality, impact, and reach. Awards will be issued as follows:"),e.createElement("ul",{className:"about-datasets-awards__resources"},e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"First Place - $5,000")),e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"Second Place - $3,000")),e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"Third Place - $2,000")))))),e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("div",{className:"about-datasets-awards__section"},e.createElement("div",null,e.createElement("h2",null,"Steps to get started")))),e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("div",{className:"about-datasets-awards__section"},e.createElement("div",{className:"about-datasets-awards__section-image"},e.createElement("img",{src:t+"/1-get-started@2x.png"})),e.createElement("div",null,e.createElement("h2",null,"1. Begin with an idea"),e.createElement("p",null,"What data do you want to share with the world? You can help more people learn from data by publishing anything from a curated personal project to your labs latest research."),e.createElement("span",{className:"about-datasets-awards__resources-header"},"Examples of inspiring datasets:"),e.createElement("ul",{className:"about-datasets-awards__resources"},e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("a",{href:"https://www.kaggle.com/keplersmachines/kepler-labelled-time-series-data"},e.createElement("span",{className:"about-datasets-awards__resource-title"},'"Exoplanet Hunting in Deep Space"')),"by W"),e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("a",{href:"https://www.kaggle.com/hugomathien/soccer"},e.createElement("span",{className:"about-datasets-awards__resource-title"},'"European Soccer Database"')),"by Hugo Mathien"),e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("a",{href:"https://www.kaggle.com/dalpozz/creditcardfraud"},e.createElement("span",{className:"about-datasets-awards__resource-title"},'"Credit Card Fraud Detection"')),"by Andrea"))))),e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("div",{className:"about-datasets-awards__section"},e.createElement("div",{className:"about-datasets-awards__section-image"},e.createElement("img",{src:t+"/2-new-dataset@2x.png"})),e.createElement("div",null,e.createElement("h2",null,"2. Publish your data"),e.createElement("p",null,"Use the ",e.createElement("a",{href:"https://www.kaggle.com/datasets/new"},"dataset publishing tool")," to create your dataset on Kaggle.",e.createElement("br",null),e.createElement("br",null),"Read ",e.createElement("a",{href:"http://blog.kaggle.com/2016/10/21/a-guide-to-open-data-publishing-analytics/",target:"_blank"},"our guide to open data publishing")," on No Free Hunch for tips on making your dataset successful on Kaggle. Heres some important best practices:"),e.createElement("ul",{className:"about-datasets-awards__resources"},e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"Make your data accessible and readable by using common open file formats like CSV")),e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"Take the time to describe your dataset thoroughly")),e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"Pick a clear, open license ensuring your dataset is reusable"))),e.createElement("p",null,"We highly recommend writing a Python or R kernel on your dataset. Doing so will help others learn how they can work with the data.")))),e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("div",{className:"about-datasets-awards__section"},e.createElement("div",{className:"about-datasets-awards__section-image"},e.createElement("img",{src:t+"/3-broadcast@2x.png"})),e.createElement("div",null,e.createElement("h2",null,"3. Broadcast your work"),e.createElement("p",null,"The best way to demonstrate the impact of your work is to share it widely. Encourage your connections to download, share, comment on, and write analyses in Kernels using your dataset."),e.createElement("span",{className:"about-datasets-awards__resources-header"},"Here are some suggestions:"),e.createElement("ul",{className:"about-datasets-awards__resources"},e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"Share on your social media accounts using the hashtags #Kaggle ",e.createElement("a",{href:"https://twitter.com/search?q=%23KaggleDatasets",target:"_blank"},"#KaggleDatasets"))),e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"Post your dataset on subreddits like ",e.createElement("a",{href:"https://www.reddit.com/r/datasets/",target:"_blank"},"/r/datasets")," or ",e.createElement("a",{href:"https://www.reddit.com/r/datascience/",target:"_blank"},"/r/datascience")," or the data science news aggregator, ",e.createElement("a",{href:"http://www.datatau.com/",target:"_blank"},"DataTau"))),e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"Write about creating your dataset in a blog post and link to it on your Dataset and via social media")))))),e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("div",{className:"about-datasets-awards__section"},e.createElement("div",null,e.createElement("h2",null,"How to be an active spectator"),e.createElement("p",null,"Even if you dont have a dataset to share, you can still play an important part in this award. To get involved:"),e.createElement("ul",{className:"about-datasets-awards__resources"},e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"Browse the ",e.createElement("a",{href:"https://www.kaggle.com/datasets?sortBy=hottest"},"Datasets listing")," and upvote or comment on the datasets you find most compelling to support their publishers.")),e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"Write kernels and share your analyses on the datasets you find most interesting; your work could earn you a ",e.createElement("a",{href:"https://staging.kaggle.com/about/datasets-awards/kernels"},"Kernels Award"),"!")),e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"Share datasets on social media and follow along using the ",e.createElement("a",{href:"https://twitter.com/search?q=%23KaggleDatasets",target:"_blank"},"#KaggleDatasets")," hashtag"))))),e.createElement("div",{className:"about-page__cta-bar"},e.createElement("a",{href:"/datasets/new",className:"button"},"Create a new dataset"))),e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("div",{className:"about-datasets-awards__section"},e.createElement("div",null,e.createElement("h2",null,"Eligibility"),e.createElement("p",null,"To be eligible to win a Dataset Award, you must be:"),e.createElement("ul",{className:"about-datasets-awards__resources"},e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"a registered account holder at Kaggle.com;")),e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"the older of 18 years old or the age of majority in your jurisdiction of residence;")),e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"not a resident of Crimea, Cuba, Iran, Syria, North Korea, or Sudan; and")),e.createElement("li",{className:"about-datasets-awards__resource"},e.createElement("p",null,"not a person or representative of an entity under ",e.createElement("a",{href:"https://www.treasury.gov/resource-center/sanctions/Programs/Pages/Programs.aspx",target:"_blank"},"U.S. export controls or sanctions"),"."))),e.createElement("p",null,"If you are entering as a representative of a company, educational institution or other legal entity, or on behalf of your employer, these rules are binding on you, individually, and/or the entity you represent or are an employee. If you are acting within the scope of your employment, as an employee, contractor, or agent of another party, you warrant that such party has full knowledge of your actions and has consented thereto, including your potential receipt of a prize. You further warrant that your actions do not violate your employers or entitys policies and procedures.",e.createElement("br",null),e.createElement("br",null),"Awards will be granted to the original publisher of the dataset, and can be issued to the person or organization designated by the publisher."),e.createElement("p",null,"Unfortunately employees, interns, contractors, officers and directors of Kaggle Inc., and their parent companies, are not eligible to win any Awards."))))))},n}(e.Component);t.AboutDatasetsAwardsDatasetsAward=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(2102),r=n(2103),o={terms:i.Terms,privacy:r.Privacy},s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page-container"},e.createElement("div",{className:"about-page-react"},o[this.props.pageSlug]))},n}(e.Component);t.AboutPage=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Terms=e.createElement("div",null,e.createElement("p",null,e.createElement("strong",null,"PLEASE NOTE THAT YOUR USE OF AND ACCESS TO OUR SERVICES (DEFINED BELOW) ARE SUBJECT TO THE FOLLOWING TERMS; IF YOU DO NOT AGREE TO ALL OF THE FOLLOWING, YOU MAY NOT USE OR ACCESS THE SERVICES IN ANY MANNER.")),e.createElement("h1",null,"Terms of Use"),e.createElement("p",null,"Effective date: August 15, 2016"),e.createElement("p",null,"Welcome to Kaggle. Please read on to learn the rules and restrictions that govern your use of our website(s), products, services and applications (the Services). If you have any questions, comments, or concerns regarding these terms or the Services, please ",e.createElement("a",{href:"/contact"},"contact us"),"."),e.createElement("p",null,"These Terms of Use (the Terms) are a binding contract between you and Kaggle, Inc. (Kaggle, we and us). You must agree to and accept all of the Terms, or you dont have the right to use the Services. Your using the Services in any way means that you agree to all of these Terms, and these Terms will remain in effect while you use the Services. These Terms include the provisions in this document, as well as those in the ",e.createElement("a",{href:"/privacy"},"Privacy Policy")," and ",e.createElement("a",{href:"/copyright-dispute-policy"},"Copyright Dispute Policy"),"."),e.createElement("h2",null,"Will these Terms ever change?"),e.createElement("p",null,"We are constantly trying to improve our Services, so these Terms may need to change along with the Services. We reserve the right to change the Terms at any time, but if we do, we will bring it to your attention by placing a notice on the www.kaggle.com website, by sending you an email, and/or by some other means."),e.createElement("p",null,"If you dont agree with the new Terms, you are free to reject them; unfortunately, that means you will no longer be able to use the Services. If you use the Services in any way after a change to the Terms is effective, that means you agree to all of the changes."),e.createElement("p",null,"Except for changes by us as described here, no other amendment or modification of these Terms will be effective unless in writing and signed by both you and us."),e.createElement("h2",null,"What about my privacy?"),e.createElement("p",null,"Kaggle takes the privacy of its users very seriously. For the current Kaggle Privacy Policy, please click ",e.createElement("a",{href:"/privacy"},"here"),"."),e.createElement("p",null,"The Childrens Online Privacy Protection Act (COPPA) requires that online service providers obtain parental consent before they knowingly collect personally identifiable information online from children who are under 13. We do not knowingly collect or solicit personally identifiable information from children under 13; if you are a child under 13, please do not attempt to register for the Services or send any personal information about yourself to us. If we learn we have collected personal information from a child under 13, we will delete that information as quickly as possible. If you believe that a child under 13 may have provided us personal information, please contact us at ",e.createElement("a",{href:"/contact"},"Kaggle Support"),"."),e.createElement("h2",null,"What are the basics of using Kaggle?"),e.createElement("p",null,"You may be required to sign up for an account, and select a password and username (Kaggle User ID). You promise to provide us with accurate, complete, and updated registration information about yourself. You may not select as your Kaggle User ID a name that you dont have the right to use, or another persons name with the intent to impersonate that person. You may not transfer your account to anyone else without our prior written permission. In the spirit of fairness, you may not have or control more than one active Kaggle User ID and participate in Competitions (defined below). If we determine, in our sole discretion, that you are operating under more than one Kaggle User ID, we may disqualify you from any Competition without notice and revoke access to your Kaggle User ID."),e.createElement("p",null,"You represent and warrant that you are of legal age to form a binding contract. If youre agreeing to these Terms on behalf of an organization or entity, you represent and warrant that you are authorized to agree to these Terms on that organization or entitys behalf and bind them to these Terms (in which case, the references to you and your in these Terms, except for in this sentence, refer to that organization or entity), but you are still required to sign up each individual user from your organization with a Kaggle User ID. For clarity, you are not allowed to allow multiple individuals to operate under one Kaggle User ID, even if you are an organization or entity."),e.createElement("p",null,"You will only use the Services for your own internal, personal, non-commercial use (e.g. a timesharing or service bureau purpose), and not on behalf of or for the benefit of any third party, and only in a manner that complies with all laws that apply to you. If your use of the Services is prohibited by applicable laws, then you arent authorized to use the Services. We cant and wont be responsible for your using the Services in a way that breaks the law."),e.createElement("p",null,"You will not share your account or password with anyone, and you must protect the security of your account and your password. Youre responsible for any activity associated with your account."),e.createElement("h2",null,"Your use of the Services is subject to the following additional restrictions:"),e.createElement("p",null,"You represent, warrant, and agree that you will not contribute any Content or User Submission (each of those terms is defined below) or otherwise use the Services or interact with the Services in a manner that:"),e.createElement("ol",null,e.createElement("li",null,"Infringes or violates the intellectual property rights or any other rights of anyone else (including Kaggle);"),e.createElement("li",null,"Violates any law or regulation, including any applicable export control laws;"),e.createElement("li",null,"Is harmful, fraudulent, deceptive, threatening, harassing, defamatory, obscene, or otherwise objectionable;"),e.createElement("li",null,"Jeopardizes the security of your Kaggle account or anyone elses (such as allowing someone else to log in to the Services as you);"),e.createElement("li",null,"Attempts, in any manner, to obtain the password, account, or other security information from any other user;"),e.createElement("li",null,"Violates the security of any computer network, or cracks any passwords or security encryption codes;"),e.createElement("li",null,"Runs Maillist, Listserv, any form of auto-responder or spam on the Services, or any processes that run or are activated while you are not logged into the Services, or that otherwise interfere with the proper working of the Services (including by placing an unreasonable load on the Services infrastructure);"),e.createElement("li",null,"Crawls, scrapes, or spiders any page, data, or portion of or relating to the Services or Content (through use of manual or automated means);"),e.createElement("li",null,"Copies or stores any significant portion of the Content;"),e.createElement("li",null,"Decompiles, reverse engineers, or otherwise attempts to obtain the source code or underlying ideas or information of or relating to the Services.")),e.createElement("p",null,"A violation of any of the foregoing is grounds for termination of your right to use or access the Services."),e.createElement("h2",null,"What are my rights in Kaggle?"),e.createElement("p",null,"The materials displayed or performed or available on or through the Services, including, but not limited to, text, graphics, data, articles, photos, images, illustrations, User Submissions, and so forth (all of the foregoing, the Content) are protected by copyright and/or other intellectual property laws. You promise to abide by all copyright notices, trademark rules, information, and restrictions contained in any Content you access through the Services, and you wont use, copy, reproduce, modify, translate, publish, broadcast, transmit, distribute, perform, upload, display, license, sell or otherwise exploit for any purpose any Content not owned by you, (i) without the prior consent of the owner of that Content or (ii) in a way that violates someone elses (including Kaggles) rights."),e.createElement("p",null,"You understand that Kaggle owns the Services. You wont modify, publish, transmit, participate in the transfer or sale of, reproduce (except as expressly provided in this Section), create derivative works based on, or otherwise exploit any of the Services."),e.createElement("p",null,"The Services may allow you to copy or download certain Content; please remember that just because this functionality exists, doesnt mean that all the restrictions above dont apply  they do!"),e.createElement("h2",null,"Who is responsible for what I see and do on the Services"),e.createElement("p",null,"Any information or content publicly posted or privately transmitted through the Services is the sole responsibility of the person from whom such content originated, and you access all such information and content at your own risk, and we arent liable for any errors or omissions in that information or content or for any damages or loss you might suffer in connection with it. We cannot control and have no duty to take any action regarding how you may interpret and use the Content or what actions you may take as a result of having been exposed to the Content, and you hereby release us from all liability for you having acquired or not acquired Content through the Services. We cant guarantee the identity of any users with whom you interact in using the Services and are not responsible for which users gain access to the Services."),e.createElement("p",null,"You are responsible for all Content you contribute, in any manner, to the Services, and you represent and warrant you have all rights necessary to do so, in the manner in which you contribute it. You will keep all your registration information accurate and current. You are responsible for all your activity in connection with the Services."),e.createElement("p",null,"The Services may contain links, information or connections to third party websites or services that are not owned or controlled by Kaggle (including, without limitation, job postings). When you access third party websites or engage with third party services, you accept that there are risks in doing so, and that Kaggle is not responsible for such risks. We encourage you to be aware when you leave the Services and to read the terms and conditions and privacy policy of each third party website or service that you visit or utilize."),e.createElement("p",null,"Kaggle has no control over, and assumes no responsibility for, the content, accuracy, privacy policies, or practices of or opinions expressed in any third party websites or by any third party that you interact with through the Services. In addition, Kaggle will not and cannot monitor, verify, censor or edit the content of any third party site or service. By using the Services, you release and hold us harmless from any and all liability arising from your use of any third party website or service."),e.createElement("p",null,"Your interactions with organizations and/or individuals found on or through the Services, including payment and delivery of goods or services, and any other terms, conditions, warranties or representations associated with such dealings, are solely between you and such organizations and/or individuals. You should make whatever investigation you feel necessary or appropriate before proceeding with any online or offline transaction with any of these third parties. You agree that Kaggle shall not be responsible or liable for any loss or damage of any sort incurred as the result of any such dealings."),e.createElement("p",null,'If there is a dispute between participants on this site, or between users and any third party, you agree that Kaggle is under no obligation to become involved. In the event that you have a dispute with one or more other users, you release Kaggle, its officers, employees, agents, and successors from claims, demands, and damages of every kind or nature, known or unknown, suspected or unsuspected, disclosed or undisclosed, arising out of or in any way related to such disputes and/or our Services. If you are a California resident, you shall and hereby do waive California Civil Code Section 1542, which says: "A general release does not extend to claims which the creditor does not know or suspect to exist in his or her favor at the time of executing the release, which, if known by him or her must have materially affected his or her settlement with the debtor."'),e.createElement("h2",null,"Competitions on Kaggle"),e.createElement("p",null,"Subject to the terms and conditions herein, a user may post (Host User) a skill-based competition or challenge on the Services (Competition) for other users to participate in such Competition (Participant User). For clarity, Competitions exclude games of chance, and you may not use or attempt to use the Service to host any such game of chance."),e.createElement("p",null,"The Host User will make available to every Participant User in a conspicuous manner the rules for participation, the data set(s) to be used by the Participant Users (Data Sets), the criteria for the Host User selecting a winner of the Competition (the Metric), the prize awarded to such winner and when such prize will be awarded, and such rules and selection criteria must comply with all applicable laws and these Terms (collectively, Competition Rules). Such Competition Rules will also include, without limitation, how and when a Participant User must submit Competition Entries (defined below) and the rights the Host User will be granted in such Competition Entry upon selecting such Competition Entry as the winner (Winning Entry). The rights granted in the Competition Entries and Winning Entries are set for the next section."),e.createElement("p",null,"The Host User must conspicuously display the Metric within the Competition Rules. The Host User must select an objective Metric and must apply that Metric impartially to each teams selected entries. In selecting a winner, the Host User must apply the Metric and select the Participant Users with the best rankings based on the Metric."),e.createElement("p",null,"The Host User and each Participant User will comply with all Competition Rules. The Host User (including any user from Host Users organization) may not compete in its hosted Competition nor cancel a Competition without first contacting us and receiving our consent to such cancellation. Any participation by a Host User (or any user from Host Users organization) in its hosted Competitions is done so on an ineligible basis (e.g. they cannot receive a prize) and will not otherwise affect the selection of the Winning Entry."),e.createElement("p",null,"Subject to the Competition Rules, Participant Users may collaborate as a team as long as each such Participant User confirms its team membership through the Service and does not participate on more than one team for a specific Competition (Team). To be clear, you may not participate on more than one team per Competition. Subject to the Competition Rules, Teams may, however, merge with other Teams, but the merged Team will be responsible for all past entries by the component Teams. If your Team wins a Competition, the prize for winning will be distributed equally amongst the members of the winning Team, unless we receive identical requests for unequal prize splits from every member of the team."),e.createElement("p",null,"You may be a Host User or a Participant User for a specific Competition (but not both!). A Competition creates a direct relationship between a Host User and a Participant User, and Kaggle shall have no liability for any actions or content of a Host User or a Participant User. Kaggle may provide a Host User with a template for the Competition Rules, but such template is provided without any warranty whatsoever and the Host User is solely responsible for its Competition Rules. It is the sole responsibility of the Host User to ensure that the Competition Rules comply with applicable law."),e.createElement("p",null,"You acknowledge and agree that Kaggle may, at any time in its sole discretion and without any liability but without any obligation to do so, remove or disqualify a Participant User, a Host User or a Competition if Kaggle believes that such Participant User, Competition or Host User are in violation these Terms or otherwise pose a risk to Kaggle, the Service or another user of the Service."),e.createElement("p",null,"Notwithstanding anything to the contrary, Participant Users acknowledge and agree that Kaggle and Host Users have no obligation to hold a Competition Entry in confidence or otherwise restrict their activities based on receipt of such Competition Entry. Kaggle has no obligation to become involved in disputes between users (for example, between a Participant User and a Host User) or between users and any third party relating the use of the Services. Kaggle does not oversee Competitions (including, without limitation, the selection of Winning Entries) and does not endorse any content users submit to the Services. When you host or participate in a Competition, you release Kaggle from claims, damages, and demands of every kind  known or unknown, suspected or unsuspected, disclosed or undisclosed  arising out of or in any way related to such disputes and the Services. All content you access or submit via the Services is at your own risk. You are solely responsible for any resulting damage or loss to any party."),e.createElement("h2",null,"Do I have to grant any licenses to Kaggle or to other users?"),e.createElement("p",null,"Anything you post, upload, share, store, or otherwise provide through the Services is your User Submission. Some User Submissions are viewable by other users. In order to display your User Submissions on the Services, and to allow other users to enjoy them (where applicable), you grant us certain rights in those User Submissions. Please note that all of the following licenses are subject to our ",e.createElement("a",{href:"/about/privacy"},"Privacy Policy")," to the extent they relate to User Submissions that are also your personally-identifiable information."),e.createElement("p",null,"For all User Submissions, you hereby grant Kaggle a license to translate, modify (for technical purposes, for example making sure your content is viewable on an iPhone as well as a computer) and reproduce and otherwise act with respect to such User Submissions, in each case to enable us to operate the Services, as described in more detail below. This is a license only  your ownership in User Submissions is not affected."),e.createElement("p",null,"If you store a User Submission in your own personal Kaggle account, in a manner that is not viewable by any other user except you (a Personal User Submission), you grant Kaggle the license above, as well as a license to display, perform, and distribute your Personal User Submission for the sole purpose of making that Personal User Submission accessible to you and providing the Services necessary to do so."),e.createElement("p",null,"If you are a Participant User and submit an entry to a Competition (Competition Entry), then you grant Kaggle the licenses above, as well as a license to display, perform, and distribute your Competition Entry for the purpose of making that Competition Entry accessible to the Host User, making that Competition Entry available to other Kaggle users as a Dataset, and providing the Services necessary to do so. Also, you grant such Host User a limited license to access and use the Competition Entry solely for the purposes of evaluating the Competition Entry pursuant to the Competition Rules. If you win a Competition, your Competition Entry for such Competition will be subject to further licensing as set forth in the Competition Rules. If the Competition Rules do not specify the rights granted in the Winning Entry to the Host User, then the Participant User hereby grants a worldwide, perpetual, irrevocable, royalty-free, transferrable, nonexclusive license to fully exploit the Winning Entry. If you share a User Submission only in a manner that only certain specified users can view (for example, a private message to one or more other users) (a Limited Audience User Submission), then you grant Kaggle the licenses above (excluding the Competition Entry and Winning Entry licenses), as well as a license to display, perform, and distribute your Limited Audience User Submission for the sole purpose of making that Limited Audience User Submission accessible to such other specified users, and providing the Services necessary to do so. Also, you grant such other specified users a license to access that Limited Audience User Submission, and to use and exercise all rights in it, as permitted by the functionality of the Services."),e.createElement("p",null,"If you share a User Submission publicly on the Services and/or in a manner that more than just you or certain specified users can view (such as a Dataset), or if you provide us (in a direct email or otherwise) with any feedback, suggestions, improvements, enhancements, and/or feature requests relating to the Services (each of the foregoing, a Public User Submission), then you grant Kaggle the licenses above (excluding the Competition Entry and Winning Entry licenses), as well as a license to display, perform, and distribute your Public User Submission for the purpose of making that Public User Submission accessible to all Kaggle users and providing the Services necessary to do so, as well as all other rights necessary to use and exercise all rights in that Public User Submission in connection with the Services for any purpose. Also, you grant all other users of the Services a license to access that Public User Submission, and to use and exercise all rights in it, as permitted by the functionality of the Services."),e.createElement("p",null,"You agree that the licenses you grant are royalty-free, perpetual, irrevocable, and worldwide."),e.createElement("p",null,"Finally, you understand and agree that Kaggle, in performing the required technical steps to provide the Services to our users (including you), may need to make changes to your User Submissions to conform and adapt those User Submissions to the technical requirements of connection networks, devices, services, or media, and the foregoing licenses include the rights to do so."),e.createElement("h2",null,"What if I see something on the Services that infringes my copyright?"),e.createElement("p",null,"You may have heard of the Digital Millennium Copyright Act (the DMCA), as it relates to online service providers, like Kaggle, being asked to remove material that allegedly violates someones copyright. We respect others intellectual property rights, and we reserve the right to delete or disable Content alleged to be infringing, and to terminate the accounts of repeat alleged infringers; to review our complete Copyright Dispute Policy and learn how to report potentially infringing content, click here ",e.createElement("a",{href:"/copyright-dispute-policy"},"Copyright Dispute Policy"),". To learn more about the DMCA, click ",e.createElement("a",{href:"http://www.copyright.gov/legislation/dmca.pdf"},"here"),"."),e.createElement("h2",null,"Will Kaggle ever change the Services?"),e.createElement("p",null,"Were always trying to improve the Services, so they may change over time. We may suspend or discontinue any part of the Services, or we may introduce new features or impose limits on certain features or restrict access to parts or all of the Services. Well try to give you notice when we make a material change to the Services that would adversely affect you, but this isnt always practical. Similarly, we reserve the right to remove any Content from the Services at any time, for any reason (including, but not limited to, if someone alleges you contributed that Content in violation of these Terms), in our sole discretion, and without notice."),e.createElement("h2",null,"Does Kaggle cost anything?"),e.createElement("p",null,"The Kaggle Services may be free or we may charge a fee for using the Services. If you are using a free version of the Services, we will notify you before any Services you are then using begin carrying a fee, and if you wish to continue using such Services, you must pay all applicable fees for such Services."),e.createElement("ol",null,e.createElement("li",null,e.createElement("strong",null,"Paid Services"),". Certain of our Services may be subject to payments now or in the future (the Paid Services). Please see our ",e.createElement("a",{href:"/paid-services"},"Paid Services page")," for a description of the current Paid Services. Please note that any payment terms presented to you in the process of using or signing up for a Paid Service are deemed part of these Terms."),e.createElement("li",null,e.createElement("strong",null,"Billing"),". We use a third-party payment processor (the Payment Processor) to bill you through a payment account linked to your Account on the Services (your Billing Account) for use of the Paid Services. The processing of payments will be subject to the terms, conditions and privacy policies of the Payment Processor in addition to these Terms. We are not responsible for error by the Payment Processor. By choosing to use Paid Services, you agree to pay us, through the Payment Processor, all charges at the prices then in effect for any use of such Paid Services in accordance with the applicable payment terms and you authorize us, through the Payment Processor, to charge your chosen payment provider (your Payment Method). You agree to make payment using that selected Payment Method. We reserve the right to correct any errors or mistakes that it makes even if it has already requested or received payment."),e.createElement("li",null,e.createElement("strong",null,"Payment Method"),". The terms of your payment will be based on your Payment Method and may be determined by agreements between you and the financial institution, credit card issuer or other provider of your chosen Payment Method. If we, through the Payment Processor, do not receive payment from you, you agree to pay all amounts due on your Billing Account upon demand."),e.createElement("li",null,e.createElement("strong",null,"Recurring Billing"),". Some of the Paid Services may consist of an initial period, for which there is a one-time charge, followed by recurring period charges as agreed to by you. By choosing a recurring payment plan, you acknowledge that such Services have an initial and recurring payment feature and you accept responsibility for all recurring charges prior to cancellation. WE MAY SUBMIT PERIODIC CHARGES (E.G., MONTHLY) WITHOUT FURTHER AUTHORIZATION FROM YOU, UNTIL YOU PROVIDE PRIOR NOTICE (RECEIPT OF WHICH IS CONFIRMED BY US) THAT YOU HAVE TERMINATED THIS AUTHORIZATION OR WISH TO CHANGE YOUR PAYMENT METHOD. SUCH NOTICE WILL NOT AFFECT CHARGES SUBMITTED BEFORE WE REASONABLY COULD ACT. TO TERMINATE YOUR AUTHORIZATION OR CHANGE YOUR PAYMENT METHOD, GO ",e.createElement("a",{href:"/recurring-billing"},"HERE"),"."),e.createElement("li",null,e.createElement("strong",null,"Current Information Required"),". YOU MUST PROVIDE CURRENT, COMPLETE AND ACCURATE INFORMATION FOR YOUR BILLING ACCOUNT. YOU MUST PROMPTLY UPDATE ALL INFORMATION TO KEEP YOUR BILLING ACCOUNT CURRENT, COMPLETE AND ACCURATE (SUCH AS A CHANGE IN BILLING ADDRESS, CREDIT CARD NUMBER, OR CREDIT CARD EXPIRATION DATE), AND YOU MUST PROMPTLY NOTIFY US OR OUR PAYMENT PROCESSOR IF YOUR PAYMENT METHOD IS CANCELED (E.G., FOR LOSS OR THEFT) OR IF YOU BECOME AWARE OF A POTENTIAL BREACH OF SECURITY, SUCH AS THE UNAUTHORIZED DISCLOSURE OR USE OF YOUR USER NAME OR PASSWORD. CHANGES TO SUCH INFORMATION CAN BE MADE ",e.createElement("a",{href:"/recurring-billing"},"HERE"),". IF YOU FAIL TO PROVIDE ANY OF THE FOREGOING INFORMATION, YOU AGREE THAT WE MAY CONTINUE CHARGING YOU FOR ANY USE OF PAID SERVICES UNDER YOUR BILLING ACCOUNT UNLESS YOU HAVE TERMINATED YOUR PAID SERVICES AS SET FORTH ABOVE."),e.createElement("li",null,e.createElement("strong",null,"Change in Amount Authorized"),". If the amount to be charged to your Billing Account varies from the amount you preauthorized (other than due to the imposition or change in the amount of state sales taxes), you have the right to receive, and we shall provide, notice of the amount to be charged and the date of the charge before the scheduled date of the transaction. Any agreement you have with your payment provider will govern your use of your Payment Method. You agree that we may accumulate charges incurred and submit them as one or more aggregate charges during or at the end of each billing cycle."),e.createElement("li",null,e.createElement("strong",null,"Auto-Renewal for Subscription Services"),". Unless you opt out of auto-renewal, which can be done through your Account Settings, any Subscription Services you have signed up for will be automatically extended for successive renewal periods of the same duration as the subscription term originally selected, at the then-current non-promotional rate. To change or resign your Subscription Services at any time, go to Account Settings . If you terminate a Subscription Service, you may use your subscription until the end of your then-current term; your subscription will not be renewed after your then-current term expires. However, you won't be eligible for a prorated refund of any portion of the subscription fee paid for the then-current subscription period."),e.createElement("li",null,e.createElement("strong",null,"Reaffirmation of Authorization"),". Your non-termination or continued use of a Paid Service reaffirms that we are authorized to charge your Payment Method for that Paid Service. We may submit those charges for payment and you will be responsible for such charges. This does not waive our right to seek payment directly from you. Your charges may be payable in advance, in arrears, per usage, or as otherwise described when you initially selected to use the Paid Service.")),e.createElement("p",null,e.createElement("strong",null,"Free Trials and Other Promotions"),". Any free trial or other promotion that provides access to a Paid Service must be used within the specified time of the trial. You must stop using a Paid Service before the end of the trial period in order to avoid being charged for that Paid Service. If you cancel prior to the end of the trial period and are inadvertently charged for a Paid Service, please contact us through ",e.createElement("a",{href:"/support"},"Kaggle Support"),"."),e.createElement("h2",null,"What if I want to stop using Kaggle?"),e.createElement("p",null,"If you do not have any active Competitions that you are hosting, then youre free to stop using the Service at any time; please refer to our ",e.createElement("a",{href:"/about/privacy"},"Privacy Policy"),", as well as the licenses above, to understand how we treat information you provide to us after you have stopped using our Services."),e.createElement("p",null,"Kaggle is also free to terminate (or suspend access to) your use of the Services or your account, for any reason in our discretion, including your breach of these Terms. Kaggle has the sole right to decide whether you are in violation of any of the restrictions set forth in these Terms."),e.createElement("p",null,"Account termination may result in destruction of any Content associated with your account, so keep that in mind before you decide to terminate your account."),e.createElement("p",null,"Provisions that, by their nature, should survive termination of these Terms shall survive termination. By way of example, all of the following will survive termination: any obligation you have to pay us or indemnify us, any limitations on our liability, any terms regarding ownership or intellectual property rights, and terms regarding disputes between us."),e.createElement("h2",null,"What else do I need to know?"),e.createElement("p",null,e.createElement("em",null,"Warranty Disclaimer.")," Neither Kaggle nor its licensors or suppliers makes any representations or warranties concerning any content contained in or accessed through the Services (including, without limitation, Competitions), and we will not be responsible or liable for the accuracy, copyright compliance, legality, or decency of material contained in or accessed through the Services. We (and our licensors and suppliers) make no representations or warranties regarding suggestions or recommendations of services or products offered or purchased through the Services. Products and services purchased or offered (whether or not following such recommendations and suggestions) through the Services are provided AS IS and without any warranty of any kind from Kaggle or others (unless, with respect to such others only, provided expressly and unambiguously in writing by a designated third party for a specific product). THE SERVICES AND CONTENT ARE PROVIDED BY KAGGLE (AND ITS LICENSORS AND SUPPLIERS) ON AN AS-IS BASIS, WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING, WITHOUT LIMITATION, IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, NON-INFRINGEMENT, OR THAT USE OF THE SERVICES WILL BE UNINTERRUPTED OR ERROR-FREE. SOME STATES DO NOT ALLOW LIMITATIONS ON HOW LONG AN IMPLIED WARRANTY LASTS, SO THE ABOVE LIMITATIONS MAY NOT APPLY TO YOU."),e.createElement("p",null,e.createElement("em",null,"Limitation of Liability"),". TO THE FULLEST EXTENT ALLOWED BY APPLICABLE LAW, UNDER NO CIRCUMSTANCES AND UNDER NO LEGAL THEORY (INCLUDING, WITHOUT LIMITATION, TORT, CONTRACT, STRICT LIABILITY, OR OTHERWISE) SHALL KAGGLE (OR ITS LICENSORS OR SUPPLIERS) BE LIABLE TO YOU OR TO ANY OTHER PERSON FOR (A) ANY INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES OF ANY KIND, INCLUDING DAMAGES FOR LOST PROFITS, LOSS OF GOODWILL, WORK STOPPAGE, ACCURACY OF RESULTS, OR COMPUTER FAILURE OR MALFUNCTION, OR (B) ANY AMOUNT, IN THE AGGREGATE, IN EXCESS OF THE GREATER OF (I) $100 OR (II) THE AMOUNTS PAID BY YOU TO KAGGLE IN CONNECTION WITH THE SERVICES IN THE TWELVE (12) MONTH PERIOD PRECEDING THIS APPLICABLE CLAIM, OR (C) ANY MATTER BEYOND OUR REASONABLE CONTROL. SOME STATES DO NOT ALLOW THE EXCLUSION OR LIMITATION OF CERTAIN DAMAGES, SO THE ABOVE LIMITATION AND EXCLUSIONS MAY NOT APPLY TO YOU."),e.createElement("p",null,e.createElement("em",null,"Indemnity"),". To the fullest extent allowed by applicable law, you agree to indemnify and hold Kaggle, its affiliates, officers, agents, employees, and partners harmless from and against any and all claims, liabilities, damages (actual and consequential), losses and expenses (including attorneys fees) arising from or in any way related to any third party claims (including from other users) relating to (a) your submissions to the Services, (b) your use of the Services (including any actions taken by a third party using your account), and (c) your violation of these Terms."),e.createElement("p",null,e.createElement("em",null,"Assignment"),". You may not assign, delegate or transfer these Terms or your rights or obligations hereunder, or your Services account, in any way (by operation of law or otherwise) without Kaggles prior written consent. We may transfer, assign, or delegate these Terms and our rights and obligations without consent."),e.createElement("p",null,e.createElement("em",null,"Choice of Law; Arbitration"),'. These Terms are governed by and will be construed under the laws of the State of California, without regard to the conflicts of laws provisions thereof. Any dispute arising from or relating to the subject matter of these Terms shall be finally settled in San Francisco County, California, in English, in accordance with the Streamlined Arbitration Rules and Procedures of Judicial Arbitration and Mediation Services, Inc. ("JAMS") then in effect, by one commercial arbitrator with substantial experience in resolving intellectual property and commercial contract disputes, who shall be selected from the appropriate list of JAMS arbitrators in accordance with such Rules. Judgment upon the award rendered by such arbitrator may be entered in any court of competent jurisdiction. Notwithstanding the foregoing obligation to arbitrate disputes, each party shall have the right to pursue injunctive or other equitable relief at any time, from any court of competent jurisdiction. For all purposes of these Terms, the parties consent to exclusive jurisdiction and venue in the state or federal courts located in, respectively, San Francisco County, California, or the Northern District of California. ',e.createElement("strong",null,"Any arbitration under these Terms will take place on an individual basis: class arbitrations and class actions are not permitted. YOU UNDERSTAND AND AGREE THAT BY ENTERING INTO THESE TERMS, YOU AND KAGGLE ARE EACH WAIVING THE RIGHT TO TRIAL BY JURY OR TO PARTICIPATE IN A CLASS ACTION.")))}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Privacy=e.createElement("div",null,e.createElement("h1",null,"Privacy Policy"),e.createElement("p",null,"Welcome, and thank you for your interest in Kaggle Inc. (Kaggle), and the Services (including the Website and everything provided through it), as described in the Kaggle terms and conditions, ",e.createElement("a",{href:"http://www.kaggle.com/pages/terms"},"http://www.kaggle.com/pages/terms")," (Terms).  This Privacy Policy is incorporated into and is a part of the Terms.  Capitalized terms used, but not defined in this policy have the meanings given to them elsewhere in the Terms."),e.createElement("p",null,"Please read this Privacy Policy carefully, as it describes what information we gather from you, and how we use and disclose that information.  By clicking accept or get started in connection with the Terms and/or by accessing or using the Services, you expressly consent to the information handling practices described in this policy. This Privacy Policy only covers Kaggle's practices regarding personal information, and not information more generally. We may use any aggregated data derived from or incorporating your Personal Information after you update or delete it, but not in a manner that would identify you personally."),e.createElement("h2",null,"The Information Kaggle Collects:"),e.createElement("p",null,e.createElement("strong",null,"Member-Provided Information:"),"  You may provide to Kaggle what is generally called personally identifiable information (such as your name, email address, postal mailing address, home/mobile telephone number) when using the Services, such as when you register for the Member Account, and when you submit Entries."),e.createElement("p",null,e.createElement("strong",null,"Cookies Information"),":  When you use the Services, we may send one or more cookies  small text files containing a string of alphanumeric characters  to your computer.  Kaggle may use both session cookies and persistent cookies.  A session cookie disappears after you close your browser.  A persistent cookie remains after you close your browser and may be used by your browser on subsequent visits to the Services.  Persistent cookies can be removed.  Please review your web browser Help file to learn the proper way to modify your cookie settings. Please note that if you delete, or choose not to accept, cookies from the Services, you may not be able to utilize the features of the Services to their fullest potential."),e.createElement("p",null,e.createElement("strong",null,"Flash Cookies Information"),":  Flash and other browser plugin applications use technology similar to cookies to enable the storage and recall of settings, preferences and usage data, and other information.  Because they are stored in separate software applications, these types of cookies are not managed through your web browsers cookie management interface.  Kaggle may employ such techniques, including Adobe Flash Cookies (also called Local Shared Objects) to track information related to your interaction with features of the Services through which Flash-based content is provided.  You can access various Flash Cookie management tools and configure certain privacy and security settings for your Flash Player from Adobes web site directly."),e.createElement("p",null,e.createElement("strong",null,"Automatically Collected Information"),":  When you use the Services or open one of our HTML emails, we may automatically record certain information from your web browser by using different types of technology, including clear gifs or web beacons.  This automatically collected information may include Internet Protocol address (IP Address) or other device address or ID, web browser and/or device type, the web pages or sites that you visit just before or just after the Services, the pages you view on the Services, and the dates and times that you visit the Services."),e.createElement("p",null,e.createElement("strong",null,"Linked Website Information"),":  When you link an account you may have on a third party service (such as your third party social networking site) to your Member Account on the Services, Kaggle may store the access credentials you provide, and will have access to and may collect any information you may have stored in connection with that account that you have configured that service to make available, including personally identifiable information and friends lists.  By linking your accounts in this manner, you are authorizing Kaggle as your agent to access and use your account on the third party service in connection with your use of the Services."),e.createElement("p",null,e.createElement("strong",null,"Third Party Web Beacons"),":  We may also implement third party content, such as advertising, on the Services that uses clear gifs, web beacons, or other similar techniques, which allow the third party content provider to read and write cookies (including Flash Cookies) to your browser, or implement similar tracking mechanisms, in connection with your viewing of that third party content displayed on the Services.  This information is collected directly by the third party, and Kaggle does not participate in that data transmission.  Information collected by third parties in this manner is subject to that third partys own data collection, use, and disclosure policies."),e.createElement("p",null,e.createElement("strong",null,"Information from Other Sources"),": We may also obtain information, including personally identifiable information, from third parties and sources other than the Services, such as advertisers, or other Members who import your email address from their address book.  We may also, at your direction, receive information from third party service that provide a mechanism to expose information you have provided to such third party through the use of an application program interface (API), such as Facebook Connect and the LinkedIn API.  If we combine or associate information from other sources with personally identifiable information that we collect through the Services, we will treat the combined information as personally identifiable information in accordance with this Privacy Policy."),e.createElement("h2",null,"The Way Kaggle Uses Information:"),e.createElement("p",null,"Kaggle uses the information you provide or that we collect to operate, maintain, enhance, and provide all of the features and services found on the Services.  We will use your email address to contact you with respect to Entries, Awards and otherwise in connection with Competitions, for any administrative and customer service purposes, to address intellectual property infringement, rights of privacy, or defamation issues, or regarding Postings."),e.createElement("p",null,"Kaggle uses all of the information that you provide or that we collect to understand and analyze the usage trends and preferences of our Members, to improve the way the Services works and looks, and to create new features and functionality. "),e.createElement("p",null,"Kaggle may use automatically collected information and cookies information to:  (a) personalize our services, such as remembering your information so that you will not have to re-enter it during your visit or the next time you visit the Services; (b) provide customized third party content, and information; (c) monitor and analyze the operation and effectiveness of the Services and related activities; (d) monitor aggregate site usage metrics such as total number of visitors and pages viewed; and (e) track your status in any Competitions or other activities. "),e.createElement("p",null,"Kaggle may use your email address or other personally identifiable information to send you i) messages about the Services or communications from other Members, ii) promotional messages related to the Services and the activities of third parties we work with, and iii) messages on behalf of other Members who think you may be interested in the Services.  You will have the ability to opt-out of receiving any such communications, either through links provided in the messages, or by updating your Member Account settings through the Services."),e.createElement("h2",null,"When Kaggle Discloses Information:"),e.createElement("p",null,"We are not in the business of selling your information.  We do, however, disclose your personally identifiable information in a variety of circumstances in connection with developing and maintaining the Services and operating or supporting the operation of Competitions.  For example:"),e.createElement("p",null,"By its nature, the Services enables Members to communicate in a variety of ways, including between Members.  Any personally identifiable information that you voluntarily choose to include in an area of the Services accessible to other Members, such as a public profile page or in a Posting will be available to other Members who access that content.  This also applies to information you choose to make available through features that connect to third party services, if applicable.  Once you make your personally identifiable information available any of these ways, it may be collected and used by the recipients without restriction.  We urge Members to exercise common sense, prudence and good judgment about what personal information to make available to others through the Services."),e.createElement("p",null,"Kaggle may disclose your personally identifiable information to the Competition Host and/or Competitors, as applicable, to enable your participation in and the operation of Competitions."),e.createElement("p",null,"Kaggle works with third party service providers to provide website hosting and maintenance as well as other services for us.  These third parties may have access to or process your personally identifiable information as a result of performing the services they were engaged to perform.  Generally, these disclosures are made under terms comparable to this policy, and the recipients are limited to using the information the purpose for which it was provided."),e.createElement("p",null,"Kaggle may enable Members to communicate directly with other Members of the Services.  Any personally identifiable information that you voluntarily choose to include in a communication with other Members, will be available to such other Members."),e.createElement("p",null,"Kaggle may also disclose your information if required to do so by law or in the good-faith belief that such action is necessary or useful to comply with applicable laws, to respond to a court order, judicial or other government subpoena or warrant, or to otherwise assist or cooperate with law enforcement activity or other similar activities in connection with internal or coordinated fraud detection and prevention, and the protection or enforcement of third party rights."),e.createElement("p",null,"Kaggle works to promote a safe and reliable service for all Members.  We reserve the right to disclose your information that we believe, in good faith, is appropriate or necessary to take precautions against liability; to protect Kaggle and others from fraudulent, abusive, predatory, or unlawful uses or activity; to investigate and defend ourselves against any third party claims or allegations; to protect the security or integrity of the Services; or to protect or vindicate the rights, property, or personal safety of Kaggle, our Members, or others."),e.createElement("h2",null,"Your Choices"),e.createElement("p",null,"You may, of course, decline to share certain personally identifiable information with Kaggle, in which case Kaggle may not be able to provide to you some of the features and functionality found on the Services. You may update, correct, or delete your profile information and preferences at any time by accessing your account settings page or editing your profile through the Services.  Please note that while your changes are reflected promptly in active Member databases, we may retain all information you submit for a variety of purposes, including backups and archiving, prevention of fraud and abuse, and analytics."),e.createElement("p",null,"To protect your privacy and security, we take reasonable steps to verify your identity before granting you account access or making corrections to your information.  YOU ARE RESPONSIBLE FOR MAINTAINING THE SECRECY OF YOUR UNIQUE PASSWORD AND ACCOUNT INFORMATION AT ALL TIMES.  "),e.createElement("p",null,"We may now or in the future make certain tools and features for configuring your privacy settings available to you through the Services, but any such features and settings we may provide do not guarantee the anonymity or confidentiality of any information, including personally identifiable information and Postings you provide or submit to the Services."),e.createElement("h2",null,"Third Party Websites:"),e.createElement("p",null,"The Services contains links to Web sites and services provided by third parties.  Any personally identifiable information you provide on third party sites or services is provided directly to that third party and is subject to that third partys policies, if any, governing privacy and security.  We are not responsible for the content or privacy and security practices and policies of third party sites or services to which links are displayed on the Services. We encourage you to learn about third parties privacy and security policies before providing them with personally identifiable information."),e.createElement("h2",null,"Our Commitment to Childrens Privacy:"),e.createElement("p",null,"Protecting the privacy of young children is especially important.  For that reason, Kaggle does not knowingly collect or maintain personally identifiable information from persons under 13 years-of-age, and no part of the Services is directed to persons under 18.  IF YOU ARE UNDER 18 YEARS OF AGE, THEN PLEASE DO NOT USE OR ACCESS THE SERVICES AT ANY TIME OR IN ANY MANNER.  If Kaggle learns that personally identifiable information of persons less than 13-years-of-age has been collected on the Services without verifiable parental consent, then Kaggle will take the appropriate steps to delete this information.  If you are a parent or guardian and discover that your child under the age of 13 has obtained a User Account on the Services, then you may alert Kaggle at ",e.createElement("a",{href:"/contact"},"Kaggle Support (kaggle.com/contact)")," and request that Kaggle delete that childs personally identifiable information from its systems."),e.createElement("h2",null,"Our Commitment to Data Security:"),e.createElement("p",null,"Kaggle uses a variety of physical, managerial, and technical safeguards designed to improve the security of our systems and your personally identifiable information.  We cannot, however, ensure or warrant the security of any information you transmit to Kaggle, nor can we guarantee that such information may not be accessed, disclosed, altered, or destroyed by breach of any of our physical, technical, or managerial safeguards.  You transfer your information to Kaggle at your own risk. "),e.createElement("p",null,"If Kaggle learns of a security systems breach, then we will attempt to notify you electronically so that you can take appropriate protective steps.  Depending on where you live, you may have a legal right to receive notice of a security breach in writing.  If youd like to receive such a notice please notify us at ",e.createElement("a",{href:"/contact"},"Kaggle Support (kaggle.com/contact)"),"."),e.createElement("h2",null,"International Visitors:"),e.createElement("p",null,"The Services is intended for Members located in Australia and the United States.  Your information may be stored and processed in any country in which Kaggle and its affiliates maintain facilities, including Australia, the United States and other locations.  In this regard, or for purposes of sharing or disclosing data in accordance with this Privacy Policy, Kaggle reserves the right to transfer, store, and process your information outside of your country.  Your acceptance of the Terms includes your consent to any such transfer, storage, and processing of your information outside of your country."),e.createElement("h2",null,"In the Event of Merger or Sale:"),e.createElement("p",null,"In the event that all or a portion of Kaggle or its assets are acquired by or merged with a third party entity, we reserve the right, in any of these circumstances, to transfer or assign the information that we have collected from Members in connection with such merger, acquisition, sale, or other change of control."),e.createElement("h2",null,"Changes and Updates to this Privacy Policy: "),e.createElement("p",null,"Please revisit this page periodically to stay aware of any changes to this Privacy Policy, which may be revised at Kaggles sole discretion, as provided in the Terms.  Note that our amended Privacy Policy will take become effective on a going forward basis as set forth in the Terms, except that (i) unless you agree otherwise, we will use your personally identifiable information in the manner described in the Privacy Policy in effect when we received that information and (ii) if you do not agree with any changes to the Privacy Policy, you must terminate your Membership and cease use of the Services.  Your continued use of the Services after revised Privacy Policy has become effective indicates that you have read, understood and agreed to the current version of the Privacy Policy."),e.createElement("h2",null,"Kaggle Contact Information:"),e.createElement("p",null,"Please contact Kaggle with any questions or comments about this Privacy Policy, your personally identifiable information, our use and disclosure practices, or your consent choices through ",e.createElement("a",{href:"/contact"},"Kaggle Support (kaggle.com/contact)"),"."),e.createElement("p",null,"Contact Emails:"),e.createElement("ul",null,e.createElement("li",null,e.createElement("b",null,"Privacy:")," privacy@kaggle.com"),e.createElement("li",null,e.createElement("b",null,"Security:")," security@kaggle.com"),e.createElement("li",null,e.createElement("b",null,"Abuse:")," abuse@kaggle.com")))}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(2105),r=n(4),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",null,e.createElement(r.Banner,{title:"Meet our Team",bannerImageClassName:"title-banner--team"}),e.createElement("div",{className:"about-team"},e.createElement("div",{className:"about-team-members"},i.TeamMembers.concat({},{},{}).map(function(t){return e.createElement(s,a.__assign({key:t.name},t))}))))},n}(e.Component);t.AboutTeam=o;var s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement("div",{className:"about-team-member"},e.createElement("div",{className:"about-team-member__image-section"},this.props.image&&e.createElement("img",{className:"about-team-member__image",src:"/static/images/about/team/"+this.props.image}),e.createElement("div",{className:"about-team-member__socials"},this.props.social&&Object.keys(this.props.social).map(function(n){return e.createElement(l,{key:n,socialKey:n,username:t.props.social[n]})}))),e.createElement("a",{target:"_blank",href:"/"+this.props.username,className:"about-team-member__name"},this.props.name),e.createElement("h3",{className:"about-team-member__role"},this.props.role),e.createElement("div",{className:"about-team-member__bio"},this.props.bio))},n}(e.Component),l=function(t){var n=t.socialKey,a=t.username,i=n,r="#";switch(n){case"github":i="github-alt",r="//github.com/"+a;break;case"stackOverflow":i="stack-overflow",r="//stackoverflow.com/users/"+a;break;case"twitter":r="//twitter.com/"+a}return e.createElement("a",{target:"_blank",className:"about-team-member__social",href:r},e.createElement("i",{className:"fa fa-"+i}))}}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.TeamMembers=[{name:"Anthony Goldbloom",image:"anthony.jpg",username:"antgoldbloom",role:"Co-founder and CEO",bio:e.createElement("p",null,"Forbes has twice named Anthony one of the ",e.createElement("a",{href:"http://www.forbes.com/pictures/lmf45kde/anthony-goldbloom-founder-and-ceo-kaggle-28/",target:"_blank"},"30 under 30 in technology"),", the MIT Technology Review has named him as one of the ",e.createElement("a",{href:"http://www.technologyreview.com/lists/innovators-under-35/2013/entrepreneur/anthony-goldbloom/",target:"_blank"},"35 Innovators Under 35")," and the University of Melbourne has given Anthony an Alumni of Distinction Award."),social:{twitter:"antgoldbloom"}},{image:"ben.jpg",name:"Ben Hamner",role:"Co-founder and CTO",username:"benhamner",bio:e.createElement("div",null,e.createElement("p",null,"Ben leads Kaggle's product and engineering teams. Ben is the principal architect of many of Kaggle's most advanced machine learning projects, including developing machine learning for oil exploration and GE's flight arrival prediction and optimization modeling."),e.createElement("p",null,"Top 10 Kaggler")),social:{twitter:"benhamner",github:"benhamner"}},{image:"jeff.jpg",name:"Jeff Moser",username:"jeffmoser",role:"Chief Architect",bio:e.createElement("p",null,"Good software is a game of inches where polishing is very important. My main strategy is to invest a lot of blood, sweat, and tears into a product and then multiply its value by the number of its happy users."),social:{twitter:"jeffmoser",github:"moserware"}},{name:"William Cukierski",image:"will.jpg",username:"wcukierski",role:"Head of Competitions and Data Scientist",bio:e.createElement("div",null,e.createElement("p",null,"Will Cukierski has a bachelors degree in physics from Cornell University and a Ph.D. in biomedical engineering from Rutgers, where he studied applications of machine learning to cancer research. He has published on graph theory, dimensionality reduction, clustering, and image analysis."),e.createElement("p",null,"Top 10 Kaggler")),social:{github:"wcuk"}},{name:"Jerad Rose",image:"jerad.jpg",role:"Developer",username:"jeradrose",bio:e.createElement("p",null,"Jerad is a full-stack software engineer with a focus on building highly interactive web applications. Before jumping on board the Kaggle train, he was an architect for Humana. He has a drive for building online communities, founding & running his own web community since 2002."),social:{twitter:"jeradrose",github:"jeradrose"}},{name:"Jamie Hall",image:"jamie.jpg",role:"Data Scientist",username:"datacanary",bio:e.createElement("p",null,"Jamie has a PhD in econometrics, and holds master's degrees in philosophy and economics. Prior to joining Kaggle, he developed quantitative forecasting models for the Reserve Bank of Australia."),social:{twitter:"jamie_hall",github:"nerdcha"}},{name:"Wendy Kan",image:"wendy.jpg",role:"Data Scientist",username:"wendykan",bio:e.createElement("p",null,"Before joining Kaggle, Wendy worked as a researcher and software engineer at GE Research and Genentech, developing predictive models/analytical tools for pharmaceutical research. She holds bachelor's and master's degrees in Electrical Engineering from National Tsing Hua University, and PhD in Biomedical Engineering from University of Texas at Austin."),social:{twitter:"wendykan",github:"wendykan"}},{name:"Anna Montoya",image:"anna.jpg",role:"Head of Marketing",username:"annavictoria",bio:e.createElement("p",null,"Anna has worked in marketing and services for a variety of analytics-related companies, including Adobe Omniture, NICE Systems, and Medallia. In her free time, she enjoys flying trapeze and reading blogs on sabermetrics. She holds degrees from the University of Chicago and Northwestern University.")},{name:"Meghan O'Connell",image:"meghan.jpg",role:"Business Development Manager",username:"moconnell",bio:e.createElement("p",null,"Meghan graduated from Santa Clara University with a double bachelor's degree in Economics and Marketing. Prior to joining Kaggle, Meghan worked as the Manager of Professional Services for a boutique outsourcing firm, where she was responsible for scaling project management operations.")},{name:"Myles O'Neill",image:"myles.jpg",role:"Designer",username:"mylesoneill",bio:e.createElement("p",null,"Myles is passionate about solving complex problems using elegant designs. He holds a bachelor's degree in computer science and genetics from the Australian National University. Myles likes to create things in his spare time. He recently Kickstarted and published his own board game."),social:{twitter:"myles_oneill",github:"myles_oneill"}},{name:"Rowan McNaught",image:"rowan.jpg",role:"Designer",username:"sskiing",bio:e.createElement("p",null,"Rowan is a designer and visual artist. He holds a BFA from the University of Melbourne.")},{name:"Rand Seay",image:"rand.jpg",role:"Developer",username:"randseay",bio:e.createElement("p",null,"Rand is a husband, father, designer, and front-end engineer who strives to create work that matters and loves to collaborate with passionate and forward-thinking people. In addition to building and maintaining a front-end framework, he cofounded a company that focuses on design, development, and IT consulting."),social:{twitter:"randseay",github:"randseay"}},{name:"Megan Risdal",image:"megan.png",role:"Community Advocate",username:"mrisdal",bio:e.createElement("p",null,"Megan has master's degrees in linguistics from the University of California, Los Angeles and North Carolina State University. Her curiosities lie at the intersection of data, science, language, and learning."),social:{twitter:"MeganRisdal",github:"mrisdal"}},{name:"Julia Elliott",image:"julia.jpg",role:"Customer Success Manager",username:"juliaelliott",bio:e.createElement("p",null,"Julia Elliott holds a degree in electrical engineering from the University of Pennsylvania and a MBA from the University of North Carolina at Chapel Hill. She spent the early part of her career in technology consulting and project management, and then building operations and customer success functions for early-to-mid-stage technology startups, with a focus on Enterprise products.")},{name:"Aurelio Agundez",image:"aurelio.jpg",role:"Developer",username:"aagundez",bio:e.createElement("p",null,"Aurelio is a full-stack software engineer with over a decade of experience helping organizations with application development, architecture, operations, and project management. He holds a bachelor's degree in Computer Engineering from the University of California, Irvine."),social:{twitter:"aagundez",github:"emzeq"}},{name:"Sam Harris",image:"sam.jpg",role:"Developer",username:"samharris",bio:e.createElement("p",null,"Sam graduated from Rose-Hulman Institute of Technology with a bachelor's degree in Computer Science. Before Kaggle, he worked on back end systems at Woot and Amazon. Besides programming, he enjoys cooking, hiking, and playing with his dogs.")},{name:"Sean Bergam",image:"sean.jpg",role:"Developer",username:"skbergam",bio:e.createElement("p",null,"Sean is a full-stack software engineer with 18-years of experience in app development, architecture, and systems integration. When not writing code, he likes hanging out with his wife, or playing with his autistic 9-yr-old son & extremely precocious 6-yr-old daughter.")},{name:"Cole Chamberlain",image:"cole.jpg",role:"Developer",username:"noderaider",bio:e.createElement("p",null,"Cole is an active maintainer of numerous open source projects. He is an expert in isomorphic Node.js / React and has over 10 years of experience in .NET development. He holds a bachelor's degree in electrical engineering from University of California, Irvine."),social:{stackOverflow:769871,twitter:"noderaider",github:"cchamberlain"}},{name:"Maggie Demkin",image:"maggie.jpg",role:"Customer Success",username:"maggiemd",bio:e.createElement("p",null,"Maggie works with Kaggle hosts to launch competitions on the platform. She brings customer lifecycle management and operations experience from different industries to manage successful competitions.  She has an MBA from the University of Chicago in Finance and Strategic Management as well as a Bachelors from the University of California, Berkeley.")},{name:"Mark McDonald",image:"mark.jpg",role:"Marketing",username:"markmcdonald",bio:e.createElement("p",null,"Before joining Kaggle, Mark worked as a content marketer for several products at Google. Outside of work, you'll likely find him watching Chopped re-runs with his wife and two goofy dogs.")},{name:"Seb Boving",image:"seb.jpg",role:"Developer",username:"sebbovg",bio:e.createElement("p",null,"Before joining Kaggle, Seb worked as a software and site reliability engineer at Google for 12 years. Based on his interest in data representation and synthesis, he has explored data-driven approaches to support operations and testing. In his free time, he collaborates on research projects and hangs out with his wife and his three high-energy kids."),social:{github:"sebbov"}},{name:"Timo Bozsolik",image:"timo.jpg",role:"Developer",username:"timoboz",bio:e.createElement("p",null,"Timo has a master's degree from Darmstadt University of Technology and a postgraduate diploma from Monash University in Melbourne, both in computer science. Prior to joining Kaggle, he used machine learning to catch money launderers, predict customer behavior, create poker bots and predict equity prices. When not coding, he can be found outdoors - either hiking, swimming, or running."),social:{github:"timoboz"}},{name:"Addison Howard",image:"addison.jpg",role:"Business Development Manager",username:"addisonhoward",bio:e.createElement("p",null,"Addison has three bachelors degrees in Mathematics, Economics and Accounting from Furman University, and a Masters Degree in Accounting from Wake Forest. He spent the early part of his career working as a management consultant with a Big Data analytics start up, specializing in enterprise journeys and client relationship management.")},{name:"Jim Plotts",image:"jim.jpg",role:"Developer",username:"jplotts",bio:e.createElement("p",null,"Jim is a software engineer with more than a decade of experience building reliable, scalable web applications.  Prior to joining Kaggle, he worked at Google and Microsoft.  He has a bachelor's degree in computer science and is currently pursuing his master's degree in human computer interaction.")}]}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.componentDidMount=function(){performance&&performance.mark&&performance.mark("ApiContainer.componentDidMount")},n.prototype.render=function(){return e.createElement("div",null,e.createElement("h1",null,"Api Container"))},n}(e.Component);t.ApiContainer=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){function i(t){var n=function(e){return e.id===t};return c.stream.slice(function(t){return t.filter(n)[0]||e.StreamFlag.Ignore})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(2108),s=n(455),l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){return e.filter(function(e){return null!==e}).forEach(function(e){return e()})}},c=e.Admin.getSubmissions,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderFuture=function(){return a.Children.map(t.props.children,function(e,n){switch(e.type){case o.AdminSubmissions:return a.cloneElement(e,t.state);default:return e}})},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;this.dispose=l(c.stream(function(t){return e.setState({submissions:t})}),c.poll(1e3,function(){return{}}))},t.prototype.componentWillUnmount=function(){this.dispose()},t.prototype.render=function(){return a.createElement(o.AdminSubmissions,r.__assign({},this.state))},t}(a.Component);t.AdminSubmissionsContainer=u;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderFuture=function(){var e=t.state.submission,n=a.Children.only(t.props.children);return e?a.cloneElement(n,e):null},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.submissionId,a=t.poll,r=i(n);this.dispose=l(r(function(t){return e.setState({submission:t})}),a?c.poll(a,function(){return{}}):null)},t.prototype.componentWillUnmount=function(){this.dispose()},t.prototype.render=function(){var e=this.state.submission;return e?this.props.children?this.renderFuture():a.createElement(s.CompetitionScoringBannerContainer,r.__assign({},e,{forListing:!1})):null},t}(a.Component);t.AdminSubmissionContainer=p}).call(t,n(23),n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(455),r=n(9),o=n(2109),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(r.ContentBox,{containerClassName:"admin-submissions",title:"Recent / Pending Submissions ("+(this.props.submissions&&this.props.submissions.length||0)+" in last 5 minutes, "+(this.props.submissions&&this.props.submissions.filter(function(e){return"pending"==e.submissionStatus}).length||0)+" pending)"},e.createElement(o.CSSTransitionGroup,{transitionName:"admin-submissions__scoring-banner-transition",transitionEnterTimeout:500,transitionLeaveTimeout:500},this.props.submissions&&this.props.submissions.map(function(t){return e.createElement("div",{className:"admin-submissions__scoring-banner",key:t.id},e.createElement(i.CompetitionScoringBannerContainer,a.__assign({},t,{forListing:!0})))})))},n}(e.Component);t.AdminSubmissions=s}).call(t,n(0))},,,,,,,,,,,function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(2120),o=n(27),s=function(t){function n(e){var n=t.call(this,e)||this;return n.firstMinute=function(){return o(n.state.outerStartTime)},n.lastMinute=function(){return o(n.state.outerEndTime)},n.firstHour=function(){return o(n.state.cpuUtilizationMetricsByHour[0].startTime)},n.lastHour=function(){return o(n.state.cpuUtilizationMetricsByHour[n.state.cpuUtilizationMetricsByHour.length-1].startTime)},n.initializeWindows=function(){var e=n.state.endTime?o(n.state.endTime):n.lastMinute(),t=n.state.startTime?o(n.state.startTime):n.lastMinute().subtract(1,"hour"),a=(o(t).add(12,"hours")>n.lastHour()?n.lastHour():o(t).add(12,"hours")).toDate(),i=(o(a).add(-12,"hours")<n.firstHour()?n.firstHour():o(a).add(-12,"hours")).toDate();n.setState({startTime:t.toDate(),endTime:e.toDate(),initialOuterStartTime:i,initialOuterEndTime:a},function(){n.updateOuterTimes(i,a),n.fetchData()})},n.refresh=function(){n.setState({isLoadingCpuUtilization:!0,isLoadingCpuTime:!0}),a.Admin.databaseCpuTime({}).then(function(e){n.setState({isLoadingCpuTime:!1,databaseLoadMetrics:e})}),a.Admin.databaseCpuUtilization({}).then(function(e){n.setState({isLoadingCpuUtilization:!1,cpuUtilizationMetricsByMinute:e.metricsByMinute,cpuUtilizationMetricsByHour:e.metricsByHour},function(){n.initializeWindows()})})},n.fetchData=function(){n.setState({isLoadingQwos:!0,selectedQueryNumber:null,selectedQueryHandle:null,selectedQueryText:null,selectedQueryLink:null,selectedQueryMetrics:null,selectedQueryMetricsGrouped:null});var e={startTime:n.state.startTime.toJSON(),endTime:n.state.endTime.toJSON()};a.Admin.databaseQueryWallOfShame(e).then(function(e){n.loadQueryDetails(1,e[0].batchQueryHandle),n.setState({topHistogram:e,isLoadingQwos:!1})})},n.loadQueryDetails=function(e,t){n.setState({isLoadingSelectedQueryDetails:!0,selectedQueryNumber:e,selectedQueryHandle:t,selectedQueryText:null,selectedQueryLink:null,selectedQueryMetrics:null,selectedQueryMetricsGrouped:null});var i={batchQueryHandle:t};a.Admin.databaseQueryDetails(i).then(function(a){n.setState({isLoadingSelectedQueryDetails:!1,selectedQueryNumber:e,selectedQueryHandle:t,selectedQueryText:a.batchText||a.queryText,selectedQueryLink:a.sourceLink,selectedQueryMetrics:a.metrics,selectedQueryMetricsGrouped:a.metricsGrouped})})},n.setOuterTimes=function(e,t){var a=new Date(n.state.cpuUtilizationMetricsByHour[n.state.cpuUtilizationMetricsByHour.length-1].startTime),i=t.getTime()===a.getTime(),r=new Date(n.state.cpuUtilizationMetricsByMinute[n.state.cpuUtilizationMetricsByMinute.length-1].startTime),o=e,s=i?r:t;n.setState({outerStartTime:o,outerEndTime:s})},n.updateOuterTimes=function(e,t){n.outerWindowTimeout&&window.clearTimeout(n.outerWindowTimeout),n.outerWindowTimeout=window.setTimeout(function(){n.setOuterTimes(e,t)},1e3)},n.updateInnerTimes=function(e,t){n.innerWindowTimeout&&window.clearTimeout(n.innerWindowTimeout),n.innerWindowTimeout=window.setTimeout(function(){window.history.replaceState({},"","db?startTime="+e.toJSON()+"&endTime="+t.toJSON()),n.setState({startTime:e,endTime:t},function(){n.fetchData()})},1e3)},n.setFixedWindow=function(e){var t,a;o(n.state.startTime).add(e)>n.lastMinute()&&o(n.state.endTime).subtract(e)<n.firstMinute()?(a=n.lastMinute(),t=n.firstMinute()):o(n.state.startTime).add(e)>n.lastMinute()||o(n.state.endTime).isSame(n.lastMinute())?(a=n.lastMinute(),t=o(a).subtract(e)):o(n.state.endTime).subtract(e)<n.firstMinute()?(t=n.firstMinute(),a=o(t).add(e)):(t=o(n.state.startTime),a=o(n.state.startTime).add(e)),n.setState({startTime:t.toDate(),endTime:a.toDate()},n.fetchData)},n.navigateWindow=function(e){var t=o.duration(o(n.state.endTime).diff(o(n.state.startTime))),a=o(n.state.startTime).add(o.duration(t.asMilliseconds()*e)),i=o(n.state.endTime).add(o.duration(t.asMilliseconds()*e));a<n.firstMinute()?(a=n.firstMinute(),i=a.clone().add(t)):i>n.lastMinute()&&(i=n.lastMinute(),a=i.clone().subtract(t)),n.state.startTime.getTime()==a.toDate().getTime()&&n.state.endTime.getTime()==i.toDate().getTime()||n.setState({startTime:a.toDate(),endTime:i.toDate()},n.fetchData)},n.state=i.__assign({},e),n}return i.__extends(n,t),n.prototype.componentDidMount=function(){this.refresh()},n.prototype.render=function(){return e.createElement(r.AdminDatabase,i.__assign({},this.state,{handleRefresh:this.refresh,loadQueryDetails:this.loadQueryDetails,updateOuterTimes:this.updateOuterTimes,updateInnerTimes:this.updateInnerTimes,setFixedWindow:this.setFixedWindow,navigateWindow:this.navigateWindow}))},n}(e.Component);t.AdminDatabaseContainer=s}).call(t,n(0),n(23))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(9),r=n(724),o=n(27),s=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.warningCpuPerMinuteSlo=4e3,e.alertCpuPerMinuteSlo=8e3,e.mapMetricsToChartData=function(e){return e.map(function(e,t){return{x:new Date(e.startTime),y:e.totalCpuTimeMilliseconds}})},e}return a.__extends(n,t),n.prototype.handleQueryBarClick=function(e){this.props.loadQueryDetails(e.datum.x,e.datum.batchQueryHandle)},n.prototype.handleQueryPointClick=function(e){this.props.loadQueryDetails(e.data[e.index].x,e.data[e.index].batchQueryHandle)},n.prototype.handleOuterDomainChange=function(e){this.props.updateOuterTimes(e.x[0],e.x[1])},n.prototype.handleInnerDomainChange=function(e){this.props.updateInnerTimes(e.x[0],e.x[1])},n.prototype.handleInnerWindowChange=function(e){this.props.setFixedWindow(e)},n.prototype.toTwoDigitDecimal=function(e){return Math.round(100*e)/100},n.prototype.getTooltipForHistorgramMetric=function(e,t,n,a){var i=e.totalCpuTimeMilliseconds/n.asMinutes(),r=e.executionCount/n.asMinutes();return"Query "+(t+1)+"\n% of load: "+this.toTwoDigitDecimal(e.totalCpuTimeMilliseconds/a*100).toLocaleString()+"%\nCPU ms/minute: "+Math.round(i)+"\nExecutions/minute: "+this.toTwoDigitDecimal(r).toLocaleString()+"\nCPU ms/execution: "+e.avgCpuTimeMilliseconds.toLocaleString()},n.prototype.render=function(){var t=this,n=this.props.isLoadingCpuTime||this.props.isLoadingSelectedQueryDetails||this.props.isLoadingQwos,a=this.props.selectedQueryMetrics&&this.props.selectedQueryMetrics.filter(function(e){return new Date(e.startTime)>=t.props.startTime&&new Date(e.startTime)<t.props.endTime}),s=this.props.selectedQueryMetrics&&this.props.selectedQueryMetrics.filter(function(e){return new Date(e.startTime)>=t.props.outerStartTime&&new Date(e.startTime)<t.props.outerEndTime}),l=[{label:"15m",duration:o.duration(15,"minutes")},{label:"30m",duration:o.duration(30,"minutes")},{label:"1h",duration:o.duration(1,"hour")},{label:"2h",duration:o.duration(2,"hours")},{label:"6h",duration:o.duration(6,"hours")},{label:"12h",duration:o.duration(12,"hours")},{label:"1d",duration:o.duration(1,"day")}],c=o.duration(o(this.props.endTime).diff(o(this.props.startTime))),u=this.props.databaseLoadMetrics&&this.props.databaseLoadMetrics.concat().filter(function(e){return new Date(e.startTime)>=t.props.startTime&&new Date(e.startTime)<=t.props.endTime}),p=this.props.databaseLoadMetrics&&this.props.databaseLoadMetrics.concat().filter(function(e){return new Date(e.startTime)>=t.props.outerStartTime&&new Date(e.startTime)<=t.props.outerEndTime}),d=this.props.databaseLoadMetrics&&this.props.selectedQueryMetrics&&this.props.databaseLoadMetrics.concat().filter(function(e){return new Date(e.startTime)>=new Date(t.props.selectedQueryMetrics[0].startTime)&&new Date(e.startTime)<=new Date(t.props.selectedQueryMetrics[t.props.selectedQueryMetrics.length-1].startTime)}),m=u&&5e4*Math.ceil(Math.max(3e5,u.concat().sort(function(e,t){return t.totalCpuTimeMilliseconds-e.totalCpuTimeMilliseconds})[0].totalCpuTimeMilliseconds)/5e4),h=u&&u.reduce(function(e,t){return e+t.totalCpuTimeMilliseconds},0),g=p&&p.reduce(function(e,t){return e+t.totalCpuTimeMilliseconds},0),f=d&&d.reduce(function(e,t){return e+t.totalCpuTimeMilliseconds},0),v=this.props.cpuUtilizationMetricsByMinute&&this.props.cpuUtilizationMetricsByMinute.filter(function(e){return new Date(e.startTime)>t.props.outerStartTime&&new Date(e.startTime)<t.props.outerEndTime}),_=this.props.cpuUtilizationMetricsByMinute&&this.props.cpuUtilizationMetricsByMinute.filter(function(e){return new Date(e.startTime)>t.props.startTime&&new Date(e.startTime)<t.props.endTime}),b=this.props.topHistogram&&this.props.topHistogram.slice(0,25);return e.createElement("div",{className:"database"},e.createElement("div",{className:"database__refresh database__refresh--"+(n?"loading":"clickable"),onClick:n?null:this.props.handleRefresh},e.createElement("span",{className:"fa fa-refresh"})," get latest CPU utilization"),e.createElement(i.ContentBox,{title:"Database % CPU utilization",titleBarRightSide:this.props.isLoadingCpuUtilization&&e.createElement("div",null,e.createElement("span",{className:"fa fa-spin fa-refresh"})," loading")},this.props.cpuUtilizationMetricsByHour&&this.props.initialOuterStartTime&&e.createElement("div",null,e.createElement("div",{className:"database__date-range"},e.createElement("div",null,new Date(this.props.cpuUtilizationMetricsByHour[0].startTime).toLocaleString()),e.createElement("div",null,"past 30 days (averaged hourly)"),e.createElement("div",null,new Date(this.props.cpuUtilizationMetricsByHour[this.props.cpuUtilizationMetricsByHour.length-1].startTime).toLocaleString())),e.createElement(r.VictoryChart,{domain:{y:[0,100]},scale:{x:"time",y:"linear"},width:1e3,height:125,padding:{left:75,right:25,top:10,bottom:35},containerComponent:e.createElement(r.VictoryBrushContainer,{dimension:"x",selectedDomain:{x:[this.props.initialOuterStartTime.getTime(),this.props.initialOuterEndTime.getTime()]},onDomainChange:function(e){return t.handleOuterDomainChange(e)}})},e.createElement(r.VictoryAxis,{style:{ticks:{stroke:"gray"},tickLabels:{fill:"gray",fontSize:12},grid:{stroke:"gray"}}}),e.createElement(r.VictoryAxis,{dependentAxis:!0,style:{ticks:{stroke:"gray"},tickLabels:{fill:"gray",fontSize:12},grid:{stroke:"gray"}},tickValues:[25,50,75,100]}),e.createElement(r.VictoryArea,{style:{data:{fill:"#808080"}},data:!this.props.isLoadingCpuUtilization&&this.props.cpuUtilizationMetricsByHour.map(function(e,t){return{x:new Date(e.startTime).getTime(),y:Math.floor(e.avgCpuPercent),startTime:e.startTime}}),interpolation:"linear"}))),v&&this.props.outerStartTime&&e.createElement("div",null,e.createElement("div",{className:"database__window-navigation-row"},e.createElement("div",{className:"database__window-navigation-arrows"},e.createElement("span",{className:"database__window-navigation-link database__window-navigation-link--clickable fa fa-chevron-left",onClick:function(){return t.props.navigateWindow(-1)}})),e.createElement("div",{className:"database__window-navigation-windows"},l.map(function(n){var a=n.duration.asMilliseconds()==c.asMilliseconds();return e.createElement("div",{className:"database__window-navigation-link "+(a?"database__window-navigation-link--selected":"database__window-navigation-link--clickable"),onClick:a?null:function(){return t.handleInnerWindowChange(n.duration)},key:"window-duration-"+n.label},n.label)})),e.createElement("div",{className:"database__window-navigation-arrows"},e.createElement("span",{className:"database__window-navigation-link database__window-navigation-link--clickable fa fa-chevron-right",onClick:function(){return t.props.navigateWindow(1)}}))),e.createElement("div",{className:"database__date-range"},e.createElement("div",null,this.props.outerStartTime.toLocaleString()),e.createElement("div",null,"zoomed in range from above"),e.createElement("div",null,this.props.outerEndTime.toLocaleString())),e.createElement(r.VictoryChart,{domain:{y:[0,100],x:[this.props.outerStartTime.getTime(),this.props.outerEndTime.getTime()]},scale:{x:"time",y:"linear"},width:1e3,height:150,padding:{left:75,right:25,top:10,bottom:35},containerComponent:e.createElement(r.VictoryBrushContainer,{dimension:"x",selectedDomain:{x:[this.props.startTime.getTime(),this.props.endTime.getTime()]},onDomainChange:function(e){return t.handleInnerDomainChange(e)}})},e.createElement(r.VictoryAxis,{style:{ticks:{stroke:"gray"},tickLabels:{fill:"gray",fontSize:12},grid:{stroke:"gray"}},tickCount:12}),e.createElement(r.VictoryAxis,{dependentAxis:!0,style:{ticks:{stroke:"gray"},tickLabels:{fill:"gray",fontSize:12},grid:{stroke:"gray"}},tickValues:[25,50,75,100]}),e.createElement(r.VictoryArea,{style:{data:{fill:"#808080"}},data:!this.props.isLoadingCpuUtilization&&v.map(function(e,t){return{x:new Date(e.startTime).getTime(),y:Math.floor(e.avgCpuPercent),startTime:e.startTime}}),interpolation:"linear"})))),e.createElement(i.ContentBox,{title:"Database load metrics"},this.props.cpuUtilizationMetricsByHour&&_&&v&&this.props.cpuUtilizationMetricsByHour.length&&_.length&&v.length&&e.createElement("div",{className:"database__load-metrics"},e.createElement("div",{className:"database__load-metrics-header"},e.createElement("div",{className:"database__load-metrics-descriptor"}),e.createElement("div",{className:"database__load-metrics-value"},"In window"),e.createElement("div",{className:"database__load-metrics-value"},"In outer range"),e.createElement("div",{className:"database__load-metrics-value"},"Total")),e.createElement("div",{className:"database__load-metrics-row"},e.createElement("div",{className:"database__load-metrics-descriptor"},"Min"),e.createElement("div",{className:"database__load-metrics-value"},this.toTwoDigitDecimal(_.concat().sort(function(e,t){return e.avgCpuPercent-t.avgCpuPercent})[0].avgCpuPercent),"%"),e.createElement("div",{className:"database__load-metrics-value"},this.toTwoDigitDecimal(v.concat().sort(function(e,t){return e.avgCpuPercent-t.avgCpuPercent})[0].avgCpuPercent),"%"),e.createElement("div",{className:"database__load-metrics-value"},this.toTwoDigitDecimal(this.props.cpuUtilizationMetricsByMinute.concat().sort(function(e,t){return e.avgCpuPercent-t.avgCpuPercent})[0].avgCpuPercent),"%")),e.createElement("div",{className:"database__load-metrics-row"},e.createElement("div",{className:"database__load-metrics-descriptor"},"Average"),e.createElement("div",{className:"database__load-metrics-value"},this.toTwoDigitDecimal(_.reduce(function(e,t){return e+t.avgCpuPercent},0)/_.length),"%"),e.createElement("div",{className:"database__load-metrics-value"},this.toTwoDigitDecimal(v.reduce(function(e,t){return e+t.avgCpuPercent},0)/v.length),"%"),e.createElement("div",{className:"database__load-metrics-value"},this.toTwoDigitDecimal(this.props.cpuUtilizationMetricsByMinute.reduce(function(e,t){return e+t.avgCpuPercent},0)/this.props.cpuUtilizationMetricsByMinute.length),"%")),e.createElement("div",{className:"database__load-metrics-row"},e.createElement("div",{className:"database__load-metrics-descriptor"},"Max"),e.createElement("div",{className:"database__load-metrics-value"},this.toTwoDigitDecimal(_.concat().sort(function(e,t){return t.avgCpuPercent-e.avgCpuPercent})[0].avgCpuPercent),"%"),e.createElement("div",{className:"database__load-metrics-value"},this.toTwoDigitDecimal(v.concat().sort(function(e,t){return t.avgCpuPercent-e.avgCpuPercent})[0].avgCpuPercent),"%"),e.createElement("div",{className:"database__load-metrics-value"},this.toTwoDigitDecimal(this.props.cpuUtilizationMetricsByMinute.concat().sort(function(e,t){return t.avgCpuPercent-e.avgCpuPercent})[0].avgCpuPercent),"%")))),e.createElement(i.ContentBox,{title:"QWoS - Top queries by avg CPU / minute (in selected window)",titleBarRightSide:this.props.isLoadingQwos&&e.createElement("div",null,e.createElement("span",{className:"fa fa-spin fa-refresh"}),"  loading")},this.props.topHistogram&&e.createElement("div",{className:"database__histogram-container",onMouseOut:function(){t.containerRef.portalRef.forceUpdate()}},e.createElement(r.VictoryChart,{width:1e3,height:250,padding:{left:75,right:25,top:25,bottom:35},domain:{x:[0,26]},containerComponent:e.createElement(r.VictoryContainer,{ref:function(e){t.containerRef=e}})},e.createElement(r.VictoryArea,{style:{data:{fill:"#ff7f7f"}},domain:{y:[0,this.props.topHistogram[0].avgCpuTimeMilliseconds],x:[0,26]},data:[{x:0,y:15e4},{x:26,y:15e4}]}),e.createElement(r.VictoryArea,{style:{data:{fill:"#ffbfbf"}},domain:{y:[0,this.props.topHistogram[0].avgCpuTimeMilliseconds],x:[0,26]},data:[{x:0,y:this.alertCpuPerMinuteSlo},{x:26,y:this.alertCpuPerMinuteSlo}]}),e.createElement(r.VictoryArea,{style:{data:{fill:"#ffffff"}},domain:{y:[0,this.props.topHistogram[0].avgCpuTimeMilliseconds],x:[0,26]},data:[{x:0,y:this.warningCpuPerMinuteSlo},{x:26,y:this.warningCpuPerMinuteSlo}]}),e.createElement(r.VictoryAxis,{style:{ticks:{stroke:"gray"},tickLabels:{fill:"gray",fontSize:12}},tickValues:Array(25).fill(0).map(function(e,t){return t+1})}),e.createElement(r.VictoryAxis,{dependentAxis:!0,style:{ticks:{stroke:"gray"},tickLabels:{fill:"gray",fontSize:12},grid:{stroke:"gray"}}}),e.createElement(r.VictoryGroup,null,e.createElement(r.VictoryBar,{labelComponent:e.createElement(r.VictoryTooltip,null),data:this.props.isLoadingQwos?[{x:-1,y:0}]:b.map(function(e,n){return{x:n+1,y:e.totalCpuTimeMilliseconds/c.asMinutes(),label:t.getTooltipForHistorgramMetric(e,n,c,h),batchQueryHandle:e.batchQueryHandle}}),events:[{target:"data",eventHandlers:{onClick:function(e,n){return t.handleQueryBarClick(n)}}}],style:{data:{fill:function(e){return e.x==t.props.selectedQueryNumber?"#20BEFF":"#808080"}}}}),!this.props.isLoadingQwos&&e.createElement(r.VictoryScatter,{labelComponent:e.createElement(r.VictoryTooltip,null),data:!this.props.isLoadingQwos&&b.map(function(e,n){return{x:n+1,y:e.executionCount/b.concat().sort(function(e,t){return t.executionCount-e.executionCount})[0].executionCount*(t.props.topHistogram[0].totalCpuTimeMilliseconds/c.asMinutes()),label:t.getTooltipForHistorgramMetric(e,n,c,h),batchQueryHandle:e.batchQueryHandle}}),symbol:"circle",events:[{target:"data",eventHandlers:{onClick:function(e,n){return t.handleQueryPointClick(n)}}}],style:{data:{fill:"black"}}}),!this.props.isLoadingQwos&&e.createElement(r.VictoryScatter,{labelComponent:e.createElement(r.VictoryTooltip,null),data:!this.props.isLoadingQwos&&b.map(function(e,n){return{x:n+1,y:e.avgCpuTimeMilliseconds/b.concat().sort(function(e,t){return t.avgCpuTimeMilliseconds-e.avgCpuTimeMilliseconds})[0].avgCpuTimeMilliseconds*(t.props.topHistogram[0].totalCpuTimeMilliseconds/c.asMinutes()),label:t.getTooltipForHistorgramMetric(e,n,c,h),batchQueryHandle:e.batchQueryHandle}}),symbol:"star",events:[{target:"data",eventHandlers:{onClick:function(e,n){return t.handleQueryPointClick(n)}}}],style:{data:{fill:"bf0000"}}}))),e.createElement("div",{className:"database__histogram-legend"},e.createElement("div",{className:"database__histogram-legend-cpu"}," Average CPU relative to other queries"),e.createElement("div",{className:"database__histogram-legend-execution"}," Execution count relative to other queries")),u&&e.createElement("div",null,e.createElement("div",{className:"database__date-range"},e.createElement("div",null,new Date(this.props.startTime).toLocaleString()),e.createElement("div",null,"CPU ms / minute - all queries vs. selected query"),e.createElement("div",null,new Date(this.props.endTime).toLocaleString())),e.createElement(r.VictoryChart,{containerComponent:e.createElement(r.VictoryVoronoiContainer,{dimension:"x",labels:function(e){return(null!=e.index?"Query "+(e.index+1):"Total")+": "+e.y.toLocaleString()+" ms, "+e.executionCount.toLocaleString()+" runs, "+e.avgCpuTimeMilliseconds.toLocaleString()+" avg ms ("+(e.y/u.filter(function(t){return t.startTime===e.startTime})[0].totalCpuTimeMilliseconds*100).toFixed(1)+"%)"},labelComponent:e.createElement(r.VictoryTooltip,null)}),domain:{y:[0,m]},scale:{x:"time",y:"linear"},width:1e3,height:250,padding:{left:75,right:25,top:10,bottom:35}},e.createElement(r.VictoryAxis,{style:{ticks:{stroke:"gray"},tickLabels:{fill:"gray",fontSize:12},grid:{stroke:"gray"}}}),e.createElement(r.VictoryAxis,{dependentAxis:!0,style:{ticks:{stroke:"gray"},tickLabels:{fill:"gray",fontSize:12},grid:{stroke:"gray"}},tickCount:7}),e.createElement(r.VictoryGroup,null,e.createElement(r.VictoryArea,{style:{data:{fill:"#808080"}},data:!this.props.isLoadingCpuTime&&u.map(function(e){return{x:new Date(e.startTime).getTime(),y:e.totalCpuTimeMilliseconds,startTime:e.startTime,executionCount:e.executionCount,avgCpuTimeMilliseconds:e.avgCpuTimeMilliseconds}})}),this.props.selectedQueryMetrics&&e.createElement(r.VictoryArea,{style:{data:{fill:"#20BEFF"}},data:!this.props.isLoadingCpuTime&&this.props.selectedQueryMetrics.filter(function(e){return new Date(e.startTime)>=t.props.startTime&&new Date(e.startTime)<=t.props.endTime}).map(function(e){return{x:new Date(e.startTime).getTime(),y:e.totalCpuTimeMilliseconds,startTime:e.startTime,executionCount:e.executionCount,avgCpuTimeMilliseconds:e.avgCpuTimeMilliseconds}})})))))),e.createElement(i.ContentBox,{title:"Selected query details",titleBarRightSide:this.props.isLoadingSelectedQueryDetails&&e.createElement("div",null,e.createElement("span",{className:"fa fa-spin fa-refresh"}),"  loading")},this.props.selectedQueryMetrics&&e.createElement("div",null,e.createElement("div",{className:"database__query-details"},e.createElement("div",{className:"database__query-details-handle"},this.props.selectedQueryHandle),e.createElement("div",{className:"database__query-details-header"},e.createElement("div",{className:"database__query-details-descriptor"}),e.createElement("div",{className:"database__query-details-value"},"In window"),e.createElement("div",{className:"database__query-details-value"},"In outer range"),e.createElement("div",{className:"database__query-details-value"},"Total")),e.createElement("div",{className:"database__query-details-row"},e.createElement("div",{className:"database__query-details-descriptor"},"Start time"),e.createElement("div",{className:"database__query-details-value"},this.props.startTime.toLocaleString()),e.createElement("div",{className:"database__query-details-value"},this.props.outerStartTime.toLocaleString()),e.createElement("div",{className:"database__query-details-value"},new Date(this.props.selectedQueryMetrics[0].startTime).toLocaleString())),e.createElement("div",{className:"database__query-details-row"},e.createElement("div",{className:"database__query-details-descriptor"},"End time"),e.createElement("div",{className:"database__query-details-value"},this.props.endTime.toLocaleString()),e.createElement("div",{className:"database__query-details-value"},this.props.outerEndTime.toLocaleString()),e.createElement("div",{className:"database__query-details-value"},new Date(this.props.selectedQueryMetrics[this.props.selectedQueryMetrics.length-1].startTime).toLocaleString())),e.createElement("div",{className:"database__query-details-row"},e.createElement("div",{className:"database__query-details-descriptor"},"Timespan"),e.createElement("div",{className:"database__query-details-value"},o.duration(o(this.props.endTime).diff(o(this.props.startTime))).humanize()),e.createElement("div",{className:"database__query-details-value"},o.duration(o(this.props.outerEndTime).diff(o(this.props.outerStartTime))).humanize()),e.createElement("div",{className:"database__query-details-value"},o.duration(o(this.props.selectedQueryMetrics[this.props.selectedQueryMetrics.length-1].startTime).diff(o(this.props.selectedQueryMetrics[0].startTime))).humanize())),e.createElement("div",{className:"database__query-details-row"},e.createElement("div",{className:"database__query-details-descriptor"},"% of load"),e.createElement("div",{className:"database__query-details-value"},""+this.toTwoDigitDecimal(a.reduce(function(e,t){return e+t.totalCpuTimeMilliseconds},0)/h*100),"%"),e.createElement("div",{className:"database__query-details-value"},""+this.toTwoDigitDecimal(s.reduce(function(e,t){return e+t.totalCpuTimeMilliseconds},0)/g*100),"%"),e.createElement("div",{className:"database__query-details-value"},""+this.toTwoDigitDecimal(this.props.selectedQueryMetrics.reduce(function(e,t){return e+t.totalCpuTimeMilliseconds},0)/f*100),"%")),e.createElement("div",{className:"database__query-details-row"},e.createElement("div",{className:"database__query-details-descriptor"},"CPU ms / minute"),e.createElement("div",{className:"database__query-details-value"},""+Math.round(a.reduce(function(e,t){return e+t.totalCpuTimeMilliseconds},0)/o.duration(o(this.props.endTime).diff(o(this.props.startTime))).asMinutes()).toLocaleString()),e.createElement("div",{className:"database__query-details-value"},""+Math.round(s.reduce(function(e,t){return e+t.totalCpuTimeMilliseconds},0)/o.duration(o(this.props.outerEndTime).diff(o(this.props.outerStartTime))).asMinutes()).toLocaleString()),e.createElement("div",{className:"database__query-details-value"},""+Math.round(this.props.selectedQueryMetrics.reduce(function(e,t){return e+t.totalCpuTimeMilliseconds},0)/o.duration(o(this.props.selectedQueryMetrics[this.props.selectedQueryMetrics.length-1].startTime).diff(o(this.props.selectedQueryMetrics[0].startTime))).asMinutes()).toLocaleString())),e.createElement("div",{className:"database__query-details-row"},e.createElement("div",{className:"database__query-details-descriptor"},"Executions / minute"),e.createElement("div",{className:"database__query-details-value"},""+(a.reduce(function(e,t){return e+t.executionCount},0)/o.duration(o(this.props.endTime).diff(o(this.props.startTime))).asMinutes()).toLocaleString()),e.createElement("div",{className:"database__query-details-value"},""+(s.reduce(function(e,t){return e+t.executionCount},0)/o.duration(o(this.props.outerEndTime).diff(o(this.props.outerStartTime))).asMinutes()).toLocaleString()),e.createElement("div",{className:"database__query-details-value"},""+(this.props.selectedQueryMetrics.reduce(function(e,t){return e+t.executionCount},0)/o.duration(o(this.props.selectedQueryMetrics[this.props.selectedQueryMetrics.length-1].startTime).diff(o(this.props.selectedQueryMetrics[0].startTime))).asMinutes()).toLocaleString())),e.createElement("div",{className:"database__query-details-row"},e.createElement("div",{className:"database__query-details-descriptor"},"Total CPU (minutes)"),e.createElement("div",{className:"database__query-details-value"},""+(a.reduce(function(e,t){return e+t.totalCpuTimeMilliseconds},0)/6e4).toLocaleString()),e.createElement("div",{className:"database__query-details-value"},""+(s.reduce(function(e,t){return e+t.totalCpuTimeMilliseconds},0)/6e4).toLocaleString()),e.createElement("div",{className:"database__query-details-value"},""+(this.props.selectedQueryMetrics.reduce(function(e,t){return e+t.totalCpuTimeMilliseconds},0)/6e4).toLocaleString())),e.createElement("div",{className:"database__query-details-row"},e.createElement("div",{className:"database__query-details-descriptor"},"Total Executions"),e.createElement("div",{className:"database__query-details-value"},""+a.reduce(function(e,t){return e+t.executionCount},0).toLocaleString()),e.createElement("div",{className:"database__query-details-value"},""+s.reduce(function(e,t){return e+t.executionCount},0).toLocaleString()),e.createElement("div",{className:"database__query-details-value"},""+this.props.selectedQueryMetrics.reduce(function(e,t){return e+t.executionCount},0).toLocaleString())),e.createElement("div",{className:"database__query-details-row"},e.createElement("div",{className:"database__query-details-descriptor"},"CPU ms / execution"),e.createElement("div",{className:"database__query-details-value"},""+(a.reduce(function(e,t){return e+t.totalCpuTimeMilliseconds},0)/a.reduce(function(e,t){return e+t.executionCount},0)).toLocaleString()),e.createElement("div",{className:"database__query-details-value"},""+(s.reduce(function(e,t){return e+t.totalCpuTimeMilliseconds},0)/s.reduce(function(e,t){return e+t.executionCount},0)).toLocaleString()),e.createElement("div",{className:"database__query-details-value"},""+(this.props.selectedQueryMetrics.reduce(function(e,t){return e+t.totalCpuTimeMilliseconds},0)/this.props.selectedQueryMetrics.reduce(function(e,t){return e+t.executionCount},0)).toLocaleString()))),e.createElement("div",{className:"database__date-range"},e.createElement("div",null,new Date(this.props.selectedQueryMetrics[0].startTime).toLocaleString()),e.createElement("div",null,"CPU ms / minute over life of query"),e.createElement("div",null,new Date(this.props.selectedQueryMetrics[this.props.selectedQueryMetrics.length-1].startTime).toLocaleString())),e.createElement(r.VictoryChart,{scale:{x:"time",y:"linear"},style:{data:{strokeWidth:3,fillOpacity:.4}},width:1e3,height:250,padding:{left:75,right:25,top:10,bottom:35}},e.createElement(r.VictoryAxis,{style:{ticks:{stroke:"gray"},tickLabels:{fill:"gray",fontSize:12},grid:{stroke:"gray"}}}),e.createElement(r.VictoryAxis,{dependentAxis:!0,style:{ticks:{stroke:"gray"},tickLabels:{fill:"gray",fontSize:12},grid:{stroke:"gray"}}}),e.createElement(r.VictoryArea,{style:{data:{fill:"#20BEFF"}},data:!this.props.isLoadingSelectedQueryDetails&&this.props.selectedQueryMetricsGrouped.map(function(e){return{x:new Date(e.startTime).getTime(),y:e.totalCpuTimeMilliseconds,startTime:e.startTime,executionCount:e.executionCount,avgCpuTimeMilliseconds:e.avgCpuTimeMilliseconds}})})),e.createElement("div",{className:"database__query-details"},this.props.selectedQueryLink&&e.createElement("div",{className:"database__query-details-link-container"},e.createElement("a",{className:"database__query-details-link",href:this.props.selectedQueryLink,target:"_blank"},this.props.selectedQueryLink)),e.createElement("pre",null,this.props.selectedQueryText)))))},n}(e.Component);t.AdminDatabase=s}).call(t,n(0))}],[853]);